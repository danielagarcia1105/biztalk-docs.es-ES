---
title: Optimizar los grupos de archivos de base de datos | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 8d7fa4c9-e504-4f43-a308-517a4a574c26
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9333a88817e96b52ffe186f0a6a598b225ef5202
ms.sourcegitcommit: 36350889f318e1f7e0ac9506dc8df794d475bda6
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/20/2018
ms.locfileid: "26010701"
---
# <a name="optimizing-filegroups-for-the-databases"></a><span data-ttu-id="04e1a-102">Optimizar los grupos de archivos para las bases de datos</span><span class="sxs-lookup"><span data-stu-id="04e1a-102">Optimizing Filegroups for the Databases</span></span>
<span data-ttu-id="04e1a-103">Archivo de entrada/salida contención (E/S) suele ser un factor limitador o cuello de botella en un entorno de BizTalk Server de producción.</span><span class="sxs-lookup"><span data-stu-id="04e1a-103">File input/output (I/O) contention is frequently a limiting factor, or bottleneck, in a production BizTalk Server environment.</span></span> <span data-ttu-id="04e1a-104">BizTalk Server es una aplicación de uso intensivo de la parte de la base de datos y a su vez, la base de datos de SQL Server que utiliza BizTalk Server es intensivo de E/S de archivo muy.</span><span class="sxs-lookup"><span data-stu-id="04e1a-104">BizTalk Server is a very database intensive application and in turn, the SQL Server database used by BizTalk Server is very file I/O intensive.</span></span> <span data-ttu-id="04e1a-105">En este tema se describe cómo realizar un uso óptimo de los archivos y la característica de grupos de archivos de SQL Server para minimizar la aparición de contención de E/S de archivo y mejorar el rendimiento general de una solución de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-105">This topic describes how to make optimal use of the files and filegroups feature of SQL Server to minimize the occurrence of file I/O contention and improve the overall performance of a BizTalk Server solution.</span></span>  
  
## <a name="overview"></a><span data-ttu-id="04e1a-106">Información general</span><span class="sxs-lookup"><span data-stu-id="04e1a-106">Overview</span></span>  
 <span data-ttu-id="04e1a-107">Cada solución de BizTalk Server finalmente experimentarán contención de E/S de archivo tal y como se aumenta el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="04e1a-107">Every BizTalk Server solution will eventually encounter file I/O contention as throughput is increased.</span></span> <span data-ttu-id="04e1a-108">El subsistema de E/S o el motor de almacenamiento, es un componente clave de cualquier base de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="04e1a-108">The I/O subsystem, or storage engine, is a key component of any relational database.</span></span> <span data-ttu-id="04e1a-109">Una implementación correcta de base de datos suele requerir un diseño cuidadoso en las primeras etapas de un proyecto.</span><span class="sxs-lookup"><span data-stu-id="04e1a-109">A successful database implementation typically requires careful planning at the early stages of a project.</span></span> <span data-ttu-id="04e1a-110">Este planeamiento o diseño debería tener en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="04e1a-110">This planning should include consideration of the following issues:</span></span>  
  
-   <span data-ttu-id="04e1a-111">El tipo de disco que se va a utilizar, por ejemplo, los dispositivos RAID (matriz redundante de discos independientes).</span><span class="sxs-lookup"><span data-stu-id="04e1a-111">What type of disk hardware to use, such as RAID (redundant array of independent disks) devices.</span></span> 
  
-   <span data-ttu-id="04e1a-112">Cómo distribuir los datos en los discos que utilizan archivos y grupos de archivos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-112">How to apportion data on the disks using files and filegroups.</span></span> <span data-ttu-id="04e1a-113">Para obtener más información acerca del uso de archivos y grupos de archivos en SQL Server, vea [archivos de base de datos y grupos de archivos](https://docs.microsoft.com/sql/relational-databases/databases/database-files-and-filegroups).</span><span class="sxs-lookup"><span data-stu-id="04e1a-113">For more information about using files and filegroups in SQL Server, see [Database Files and Filegroups](https://docs.microsoft.com/sql/relational-databases/databases/database-files-and-filegroups).</span></span>
  
-   <span data-ttu-id="04e1a-114">Implementar el diseño de índices óptimo para mejorar el rendimiento al obtener acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-114">Implementing the optimal index design for improving performance when accessing data.</span></span> <span data-ttu-id="04e1a-115">Para obtener más información sobre el diseño de índices, vea [diseñar índices](https://docs.microsoft.com/sql/relational-databases/sql-server-index-design-guide).</span><span class="sxs-lookup"><span data-stu-id="04e1a-115">For more information about designing indexes, see [Designing Indexes](https://docs.microsoft.com/sql/relational-databases/sql-server-index-design-guide).</span></span>
  
-   <span data-ttu-id="04e1a-116">Cómo establecer parámetros de configuración de SQL Server para obtener un rendimiento óptimo.</span><span class="sxs-lookup"><span data-stu-id="04e1a-116">How to set SQL Server configuration parameters for optimal performance.</span></span> <span data-ttu-id="04e1a-117">Para obtener más información acerca de cómo establecer los parámetros de configuración óptima para SQL Server, vea [opciones de configuración de servidor](https://docs.microsoft.com/sql/database-engine/configure-windows/server-configuration-options-sql-server).</span><span class="sxs-lookup"><span data-stu-id="04e1a-117">For more information about setting optimal configuration parameters for SQL Server, see [Server Configuration Options](https://docs.microsoft.com/sql/database-engine/configure-windows/server-configuration-options-sql-server).</span></span>
  
 <span data-ttu-id="04e1a-118">Uno de los objetivos principales de diseño de BizTalk Server es asegurarse de que un mensaje es **nunca** perdido.</span><span class="sxs-lookup"><span data-stu-id="04e1a-118">One of the primary design goals of BizTalk Server is to ensure that a message is **never** lost.</span></span> <span data-ttu-id="04e1a-119">Con el fin de reducir la posibilidad de pérdida de mensajes, los mensajes se escriben con frecuencia en la base de datos de cuadro de mensajes cuando se procesa el mensaje.</span><span class="sxs-lookup"><span data-stu-id="04e1a-119">In order to mitigate the possibility of message loss, messages are frequently written to the MessageBox database as the message is processed.</span></span> <span data-ttu-id="04e1a-120">Cuando se procesan los mensajes por una orquestación, el mensaje se escribe en la base de datos de cuadro de mensajes en cada punto de persistencia en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="04e1a-120">When messages are processed by an orchestration, the message is written to the MessageBox database at every persistence point in the orchestration.</span></span> <span data-ttu-id="04e1a-121">Estos puntos de persistencia hacer que el cuadro de mensajes escribir el mensaje y el estado relacionado en el disco físico.</span><span class="sxs-lookup"><span data-stu-id="04e1a-121">These persistence points cause the MessageBox to write the message and related state to physical disk.</span></span> <span data-ttu-id="04e1a-122">En un mayor rendimiento, esta persistencia puede dar lugar a la contención de disco considerable y podría convertirse en un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="04e1a-122">At higher throughputs, this persistence can result in considerable disk contention and can potentially become a bottleneck.</span></span>  
  
 <span data-ttu-id="04e1a-123">Lo óptimo el uso de los archivos y resolver los cuellos de botella de E/S de archivos de forma efectiva y mejorar el rendimiento general en soluciones de BizTalk Server haya demostrado característica de grupos de archivos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-123">Making optimal use of the files and filegroups feature in SQL Server has been shown to effectively address File IO bottlenecks and improve overall performance in BizTalk Server solutions.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="04e1a-124">Esta optimización solo debe realizarse por un administrador experimentado de base de datos de SQL Server y solo después todas las bases de datos de BizTalk Server se han realizado copias correctamente una.</span><span class="sxs-lookup"><span data-stu-id="04e1a-124">This optimization should only be done by an experienced SQL Server database administrator and only after all BizTalk Server databases have been properly backed up.</span></span> <span data-ttu-id="04e1a-125">Esta optimización debe realizarse en todos los equipos de SQL Server en el entorno de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-125">This optimization should be performed on all SQL Server computers in the BizTalk Server environment.</span></span>  
  
 <span data-ttu-id="04e1a-126">Archivos y grupos de archivos de SQL Server pueden usarse para mejorar el rendimiento de la base de datos porque esta funcionalidad permite una base de datos se crea en varios discos, varios controladores de disco o RAID de sistemas (matriz redundante de discos independientes).</span><span class="sxs-lookup"><span data-stu-id="04e1a-126">SQL Server files and filegroups can be used to improve database performance because this functionality allows a database to be created across multiple disks, multiple disk controllers, or RAID (redundant array of independent disks) systems.</span></span> <span data-ttu-id="04e1a-127">Por ejemplo, si su equipo tiene cuatro discos, puede crear una base de datos que contenga tres archivos de datos y un archivo de registro, y mantener un archivo en cada disco.</span><span class="sxs-lookup"><span data-stu-id="04e1a-127">For example, if your computer has four disks, you can create a database that is made up of three data files and one log file, with one file on each disk.</span></span> <span data-ttu-id="04e1a-128">Tal y como se tiene acceso a datos, cuatro cabezales de lectura/escritura al mismo tiempo pueden tener acceso a los datos en paralelo.</span><span class="sxs-lookup"><span data-stu-id="04e1a-128">As data is accessed, four read/write heads can concurrently access the data in parallel.</span></span> <span data-ttu-id="04e1a-129">Esto acelera significativamente las operaciones de base de datos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-129">This speeds up database operations significantly.</span></span> <span data-ttu-id="04e1a-130">Para obtener más información acerca de cómo implementar soluciones de hardware para discos de SQL Server, vea [base de datos de rendimiento](http://go.microsoft.com/fwlink/?LinkID=71419) (http://go.microsoft.com/fwlink/?LinkID=71419) en los libros en pantalla de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-130">For more information about implementing hardware solutions for SQL Server disks, see [Database Performance](http://go.microsoft.com/fwlink/?LinkID=71419) (http://go.microsoft.com/fwlink/?LinkID=71419) in the SQL Server Books Online.</span></span>  
  
 <span data-ttu-id="04e1a-131">Además, los archivos y grupos de archivos Habilitar selección de ubicación de datos, porque se pueden crear tablas en grupos de archivos específicos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-131">Additionally, files and filegroups enable data placement, because tables can be created in specific filegroups.</span></span> <span data-ttu-id="04e1a-132">Esto mejora el rendimiento, dado que todas las E/S de archivo para una tabla específica pueden dirigirse a un disco concreto.</span><span class="sxs-lookup"><span data-stu-id="04e1a-132">This improves performance, because all file I/O for a given table can be directed at a specific disk.</span></span> <span data-ttu-id="04e1a-133">Por ejemplo, una tabla de usa muy elevado puede colocarse en un archivo en un grupo de archivos ubicado en un disco, y las otras tablas menos utilizadas de la base de datos se pueden ubicar en distintos archivos de otro grupo de archivos, ubicado en un segundo disco.</span><span class="sxs-lookup"><span data-stu-id="04e1a-133">For example, a heavily used table can be placed on a file in a filegroup, located on one disk, and the other less heavily accessed tables in the database can be located on different files in another filegroup, located on a second disk.</span></span>  
  
 <span data-ttu-id="04e1a-134">Los cuellos de botella de E/S de archivos se tratan detalladamente considerable en [cuellos de botella en el nivel de base de datos](../technical-guides/bottlenecks-in-the-database-tier.md).</span><span class="sxs-lookup"><span data-stu-id="04e1a-134">File I/O bottlenecks are discussed in considerable detail in [Bottlenecks in the Database Tier](../technical-guides/bottlenecks-in-the-database-tier.md).</span></span> <span data-ttu-id="04e1a-135">El indicador más comunes que la E/S de archivo (E/S de disco) es un cuello de botella es el valor del contador de "Longitud de cola de físico: promedio de disco disco".</span><span class="sxs-lookup"><span data-stu-id="04e1a-135">The most common indicator that file I/O (disk I/O) is a bottleneck is the value of the “Physical Disk:Average Disk Queue Length” counter.</span></span> <span data-ttu-id="04e1a-136">Cuando el valor del contador de "Longitud de cola de físico: promedio de disco disco" es mayor que 3 para cualquier disco determinado en cualquiera de los equipos que ejecutan SQL Server, E/S de archivos es probable que un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="04e1a-136">When the value of the “Physical Disk:Average Disk Queue Length” counter is greater than about 3 for any given disk on any of the computers running SQL Server, then file I/O is likely a bottleneck.</span></span>  
  
 <span data-ttu-id="04e1a-137">Si la aplicación de optimización de archivos o no resuelve un problema de cuello de botella de E/S de archivos, puede ser necesario aumentar el rendimiento del subsistema del disco mediante la adición de física adicional o unidades de SAN.</span><span class="sxs-lookup"><span data-stu-id="04e1a-137">If applying file or filegroup optimization doesn't resolve a file I/O bottleneck problem, it may be necessary to increase the throughput of the disk subsystem by adding additional physical or SAN drives.</span></span>  
  
 <span data-ttu-id="04e1a-138">Este tema describe cómo aplicar manualmente las optimizaciones de file y filegroup, pero estas optimizaciones también pueden incluirse en scripts.</span><span class="sxs-lookup"><span data-stu-id="04e1a-138">This topic describes how to manually apply file and filegroup optimizations, but these optimizations can also be scripted.</span></span> <span data-ttu-id="04e1a-139">Una secuencia de comandos SQL de ejemplo se proporciona en [Script SQL de grupos de archivos de base de datos de cuadro de mensajes de BizTalk Server](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md).</span><span class="sxs-lookup"><span data-stu-id="04e1a-139">A sample SQL script is provided in [BizTalk Server MessageBox Database Filegroups SQL Script](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="04e1a-140">Es importante tener en cuenta que este script deba modificarse para alojar el archivo, el grupo de archivos y la configuración del disco utilizado por las bases de datos de SQL Server para cualquier solución de BizTalk Server determinado.</span><span class="sxs-lookup"><span data-stu-id="04e1a-140">It is important to note that this script would need to be modified to accommodate the file, filegroup, and disk configuration used by the SQL Server databases for any given BizTalk Server solution.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="04e1a-141">En este tema también describe cómo crear varios archivos y grupos de archivos de la base de datos de BizTalk MessageBox.</span><span class="sxs-lookup"><span data-stu-id="04e1a-141">This topic also describes how to create multiple files and filegroups for the BizTalk MessageBox database.</span></span> <span data-ttu-id="04e1a-142">Para obtener una lista exhaustiva de recomendada y grupos de archivos para todas las bases de datos de BizTalk Server, consulte el "Apéndice B" de la [optimización de base de datos de BizTalk Server](http://go.microsoft.com/fwlink/?LinkID=101578) notas del producto (http://go.microsoft.com/fwlink/?LinkID=101578).</span><span class="sxs-lookup"><span data-stu-id="04e1a-142">For an exhaustive list of recommended files and filegroups for all of the BizTalk Server databases, see “Appendix B” of the [BizTalk Server Database Optimization](http://go.microsoft.com/fwlink/?LinkID=101578) white paper (http://go.microsoft.com/fwlink/?LinkID=101578).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="04e1a-143">Aunque la [optimización de base de datos de BizTalk Server](http://go.microsoft.com/fwlink/?LinkID=101578) notas del producto (http://go.microsoft.com/fwlink/?LinkID=101578) se ha redactado teniendo [!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)] en mente, se aplican los mismos principios a BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-143">Even though the [BizTalk Server Database Optimization](http://go.microsoft.com/fwlink/?LinkID=101578) white paper (http://go.microsoft.com/fwlink/?LinkID=101578) was written with [!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)] in mind, the same principles apply to BizTalk Server.</span></span>  
  
## <a name="databases-created-with-a-default-biztalk-server-configuration"></a><span data-ttu-id="04e1a-144">Bases de datos creadas con un valor predeterminado de configuración de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="04e1a-144">Databases created with a default BizTalk Server configuration</span></span>  
 <span data-ttu-id="04e1a-145">Dependiendo de qué características están habilitadas al configurar BizTalk Server, hasta 13 diferentes bases de datos se puede crear en SQL Server y todas las bases de datos se crean en el grupo de archivos predeterminado.</span><span class="sxs-lookup"><span data-stu-id="04e1a-145">Depending on which features are enabled when configuring BizTalk Server, up to 13 different databases may be created in SQL Server and all of these databases are created in the default filegroup.</span></span> <span data-ttu-id="04e1a-146">El grupo de archivos predeterminado para SQL Server es el grupo de archivos principal, a menos que se cambie el grupo de archivos predeterminado mediante el comando ALTER DATABASE.</span><span class="sxs-lookup"><span data-stu-id="04e1a-146">The default filegroup for SQL Server is the PRIMARY filegroup unless the default filegroup is changed by using the ALTER DATABASE command.</span></span> <span data-ttu-id="04e1a-147">En la tabla siguiente se enumera las bases de datos que se crean en SQL Server si todas las características están habilitadas al configurar BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-147">The following table lists the databases that are created in SQL Server if all features are enabled when configuring BizTalk Server.</span></span>  
  
### <a name="biztalk-server-databases"></a><span data-ttu-id="04e1a-148">Bases de datos de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="04e1a-148">BizTalk Server Databases</span></span>  
  
||||  
|-|-|-|  
|<span data-ttu-id="04e1a-149">**Base de datos**</span><span class="sxs-lookup"><span data-stu-id="04e1a-149">**Database**</span></span>|<span data-ttu-id="04e1a-150">**Nombre de base de datos predeterminada**</span><span class="sxs-lookup"><span data-stu-id="04e1a-150">**Default Database Name**</span></span>|<span data-ttu-id="04e1a-151">**Description**</span><span class="sxs-lookup"><span data-stu-id="04e1a-151">**Description**</span></span>|  
|<span data-ttu-id="04e1a-152">Base de datos de configuración</span><span class="sxs-lookup"><span data-stu-id="04e1a-152">Configuration database</span></span>|<span data-ttu-id="04e1a-153">BizTalkMgmtDb</span><span class="sxs-lookup"><span data-stu-id="04e1a-153">BizTalkMgmtDb</span></span>|<span data-ttu-id="04e1a-154">Almacenar la central de metainformación para todas las instancias del servidor BizTalk Server en el grupo de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-154">The central meta-information store for all instances of BizTalk Server in the BizTalk Server group.</span></span>|  
|<span data-ttu-id="04e1a-155">Base de datos de BizTalk MessageBox</span><span class="sxs-lookup"><span data-stu-id="04e1a-155">BizTalk MessageBox database</span></span>|<span data-ttu-id="04e1a-156">BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="04e1a-156">BizTalkMsgBoxDb</span></span>|<span data-ttu-id="04e1a-157">Almacena los predicados de suscripción.</span><span class="sxs-lookup"><span data-stu-id="04e1a-157">Stores subscriptions predicates.</span></span> <span data-ttu-id="04e1a-158">Es una plataforma de host y mantiene las colas y tablas de estado para cada host de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-158">It is a host platform, and keeps queues and state tables for each BizTalk Server host.</span></span> <span data-ttu-id="04e1a-159">La base de datos de cuadro de mensajes también almacena los mensajes y sus propiedades.</span><span class="sxs-lookup"><span data-stu-id="04e1a-159">The MessageBox database also stores the messages and message properties.</span></span>|  
|<span data-ttu-id="04e1a-160">Base de datos de seguimiento de BizTalk</span><span class="sxs-lookup"><span data-stu-id="04e1a-160">BizTalk Tracking database</span></span>|<span data-ttu-id="04e1a-161">BizTalkDTADb</span><span class="sxs-lookup"><span data-stu-id="04e1a-161">BizTalkDTADb</span></span>|<span data-ttu-id="04e1a-162">Almacena económicos y mantenimiento de datos de seguimiento por el motor de seguimiento de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-162">Stores business and health monitoring data tracked by the BizTalk Server tracking engine.</span></span>|  
|<span data-ttu-id="04e1a-163">Base de datos de análisis de BAM</span><span class="sxs-lookup"><span data-stu-id="04e1a-163">BAM Analysis database</span></span>|<span data-ttu-id="04e1a-164">BAMAnalysis</span><span class="sxs-lookup"><span data-stu-id="04e1a-164">BAMAnalysis</span></span>|<span data-ttu-id="04e1a-165">Base de datos de SQL Server Analysis Services que mantiene los datos históricos de las actividades económicas.</span><span class="sxs-lookup"><span data-stu-id="04e1a-165">SQL Server Analysis Services database that keeps the aggregated historical data for Business Activities.</span></span>|  
|<span data-ttu-id="04e1a-166">Base de datos de esquema de estrella de SAE</span><span class="sxs-lookup"><span data-stu-id="04e1a-166">BAM Star Schema database</span></span>|<span data-ttu-id="04e1a-167">BAMStarSchema</span><span class="sxs-lookup"><span data-stu-id="04e1a-167">BAMStarSchema</span></span>|<span data-ttu-id="04e1a-168">Transforma los datos recopilados de supervisión de la actividad de negocio para el procesamiento OLAP.</span><span class="sxs-lookup"><span data-stu-id="04e1a-168">Transforms the data collected from Business Activity Monitoring for OLAP Processing.</span></span> <span data-ttu-id="04e1a-169">Esta base de datos es necesario cuando se utiliza la base de datos de análisis de BAM.</span><span class="sxs-lookup"><span data-stu-id="04e1a-169">This database is required when using the BAM Analysis database.</span></span>|  
|<span data-ttu-id="04e1a-170">Base de datos de importación principal de BAM</span><span class="sxs-lookup"><span data-stu-id="04e1a-170">BAM Primary Import database</span></span>|<span data-ttu-id="04e1a-171">BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="04e1a-171">BAMPrimaryImport</span></span>|<span data-ttu-id="04e1a-172">Almacena los eventos de actividades económicas y, a continuación, las consultas para el progreso y los datos después de instancias de actividad.</span><span class="sxs-lookup"><span data-stu-id="04e1a-172">Stores the events from Business Activities and then queries for the progress and data after activity instances.</span></span> <span data-ttu-id="04e1a-173">Esta base de datos también realiza agregaciones en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="04e1a-173">This database also performs real-time aggregations.</span></span>|  
|<span data-ttu-id="04e1a-174">Base de datos de archivo SAE</span><span class="sxs-lookup"><span data-stu-id="04e1a-174">BAM Archive database</span></span>|<span data-ttu-id="04e1a-175">BAMArchive</span><span class="sxs-lookup"><span data-stu-id="04e1a-175">BAMArchive</span></span>|<span data-ttu-id="04e1a-176">Almacena los predicados de suscripción.</span><span class="sxs-lookup"><span data-stu-id="04e1a-176">Stores subscription predicates.</span></span> <span data-ttu-id="04e1a-177">La base de datos de archivo de BAM minimiza la acumulación de datos de la actividad económica en la base de datos de importación principal de BAM.</span><span class="sxs-lookup"><span data-stu-id="04e1a-177">The BAM Archive database minimizes the accumulation of Business Activity data in the BAM Primary Import database.</span></span>|  
|<span data-ttu-id="04e1a-178">base de datos de SSO</span><span class="sxs-lookup"><span data-stu-id="04e1a-178">SSO database</span></span>|<span data-ttu-id="04e1a-179">SSODB</span><span class="sxs-lookup"><span data-stu-id="04e1a-179">SSODB</span></span>|<span data-ttu-id="04e1a-180">Almacena la configuración de forma segura información para las ubicaciones de recepción.</span><span class="sxs-lookup"><span data-stu-id="04e1a-180">Securely stores the configuration information for receive locations.</span></span> <span data-ttu-id="04e1a-181">Almacena la información para SSO afiliadas aplicaciones, así como las credenciales de usuario cifradas a todas las aplicaciones afiliadas.</span><span class="sxs-lookup"><span data-stu-id="04e1a-181">Stores information for SSO affiliate applications, as well as the encrypted user credentials to all the affiliate applications.</span></span>|  
|<span data-ttu-id="04e1a-182">Base de datos del motor de reglas</span><span class="sxs-lookup"><span data-stu-id="04e1a-182">Rule Engine database</span></span>|<span data-ttu-id="04e1a-183">BizTalkRuleEngineDb</span><span class="sxs-lookup"><span data-stu-id="04e1a-183">BizTalkRuleEngineDb</span></span>|<span data-ttu-id="04e1a-184">Repositorio de:</span><span class="sxs-lookup"><span data-stu-id="04e1a-184">Repository for:</span></span><br /><br /> <span data-ttu-id="04e1a-185">-Directivas, que son conjuntos de reglas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="04e1a-185">-   Policies, which are sets of related rules.</span></span><br /><span data-ttu-id="04e1a-186">-Vocabularios, que son colecciones de nombres descriptivos y específico de dominio para referencias de datos de reglas.</span><span class="sxs-lookup"><span data-stu-id="04e1a-186">-   Vocabularies, which are collections of user-friendly, domain-specific names for data references in rules.</span></span>|  
|<span data-ttu-id="04e1a-187">Base de datos EDI base de BizTalk</span><span class="sxs-lookup"><span data-stu-id="04e1a-187">BizTalk Base EDI database</span></span>|<span data-ttu-id="04e1a-188">BizTalkEDIDb</span><span class="sxs-lookup"><span data-stu-id="04e1a-188">BizTalkEDIDb</span></span>|<span data-ttu-id="04e1a-189">Almacena datos de procesamiento y seguimiento de documentos EDI.</span><span class="sxs-lookup"><span data-stu-id="04e1a-189">Stores EDI document tracking and processing data.</span></span>|  
|<span data-ttu-id="04e1a-190">Base de datos de administración de Servicios de flujo de trabajo de usuarios</span><span class="sxs-lookup"><span data-stu-id="04e1a-190">Human Workflow Services Administration database</span></span>|<span data-ttu-id="04e1a-191">BizTalkHwsDb</span><span class="sxs-lookup"><span data-stu-id="04e1a-191">BizTalkHwsDb</span></span>|<span data-ttu-id="04e1a-192">Almacena información administrativa necesaria para los servicios de flujo de trabajo de usuarios de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="04e1a-192">Stores administrative information required by the BizTalk Human Workflow Services.</span></span>|  
|<span data-ttu-id="04e1a-193">base de datos de administración de socios comerciales</span><span class="sxs-lookup"><span data-stu-id="04e1a-193">Trading Partner Management database</span></span>|<span data-ttu-id="04e1a-194">TPM</span><span class="sxs-lookup"><span data-stu-id="04e1a-194">TPM</span></span>|<span data-ttu-id="04e1a-195">Almacenes de datos de socios comerciales de servicios de actividad de negocio (BAS).</span><span class="sxs-lookup"><span data-stu-id="04e1a-195">Stores trading partner data for Business Activity Services (BAS).</span></span>|  
|<span data-ttu-id="04e1a-196">Base de datos de administración de servidor de análisis de seguimiento</span><span class="sxs-lookup"><span data-stu-id="04e1a-196">Tracking Analysis Server Administration database</span></span>|<span data-ttu-id="04e1a-197">BizTalkAnalysisDb</span><span class="sxs-lookup"><span data-stu-id="04e1a-197">BizTalkAnalysisDb</span></span>|<span data-ttu-id="04e1a-198">Almacena los cubos OLAP de supervisión de estado y de negocios.</span><span class="sxs-lookup"><span data-stu-id="04e1a-198">Stores both business and health monitoring OLAP cubes.</span></span>|  
  
## <a name="separation-of-data-files-and-log-files"></a><span data-ttu-id="04e1a-199">Separación de los archivos de datos y archivos de registro</span><span class="sxs-lookup"><span data-stu-id="04e1a-199">Separation of data files and log files</span></span>  
 <span data-ttu-id="04e1a-200">Como se indicó anteriormente, un valor predeterminado de configuración de BizTalk Server coloca la base de datos de cuadro de mensajes en un único archivo en el grupo de archivos predeterminado.</span><span class="sxs-lookup"><span data-stu-id="04e1a-200">As noted earlier, a default BizTalk Server configuration places the MessageBox Database into a single file in the default filegroup.</span></span> <span data-ttu-id="04e1a-201">De manera predeterminada, los registros de transacciones y de datos para la base de datos de cuadro de mensajes se colocan en la misma unidad y ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="04e1a-201">By default, the data and transaction logs for the MessageBox database are placed on the same drive and path.</span></span> <span data-ttu-id="04e1a-202">Esto se hace para dar cabida a sistemas con un único disco.</span><span class="sxs-lookup"><span data-stu-id="04e1a-202">This is done to accommodate systems with a single disk.</span></span> <span data-ttu-id="04e1a-203">La configuración de una único archivo o grupo de archivos/disco es **no óptimo** en un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="04e1a-203">A single file/filegroup/disk configuration is **not optimal** in a production environment.</span></span> <span data-ttu-id="04e1a-204">Para obtener un rendimiento óptimo, se deben colocar los archivos de datos y archivos de registro en discos independientes.</span><span class="sxs-lookup"><span data-stu-id="04e1a-204">For optimal performance, the data files and log files should be placed on separate disks.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="04e1a-205">Los archivos de registro nunca forman parte de un grupo de archivos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-205">Log files are never part of a filegroup.</span></span> <span data-ttu-id="04e1a-206">El espacio del registro se administra de forma independiente del espacio de datos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-206">Log space is managed separately from data space.</span></span>  
  
## <a name="the-8020-rule-of-distributing-biztalk-server-databases"></a><span data-ttu-id="04e1a-207">La regla 80/20 de distribuir las bases de datos de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="04e1a-207">The 80/20 rule of distributing BizTalk Server databases</span></span>  
 <span data-ttu-id="04e1a-208">El origen principal de contención en la mayoría de soluciones de BizTalk Server, ya sea debido a la contención de E/S de disco o contención de base de datos, es la base de datos de cuadro de mensajes de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-208">The main source of contention in most BizTalk Server solutions, either because of disk I/O contention or database contention, is the BizTalk Server MessageBox database.</span></span> <span data-ttu-id="04e1a-209">Esto es cierto en escenarios único y múltiple de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="04e1a-209">This is true in both single and multi-MessageBox scenarios.</span></span> <span data-ttu-id="04e1a-210">Es razonable suponer que siempre que el 80% del valor de la distribución de las bases de datos de BizTalk se derivan de optimizar los archivos de datos de cuadro de mensajes y el archivo de registro.</span><span class="sxs-lookup"><span data-stu-id="04e1a-210">It is reasonable to assume that as much as 80% of the value of distributing BizTalk databases will be derived from optimizing the MessageBox data files and log file.</span></span> <span data-ttu-id="04e1a-211">El escenario de ejemplo que se detallan a continuación, se centra en optimizar los archivos de datos para una base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="04e1a-211">The sample scenario detailed below is focused on optimizing the data files for a MessageBox database.</span></span> <span data-ttu-id="04e1a-212">A continuación, pueden seguir estos pasos para otras bases de datos según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="04e1a-212">These steps can then be followed for other databases as needed.</span></span> <span data-ttu-id="04e1a-213">Por ejemplo, si la solución requiere seguimiento extensa, también se puede optimizar la base de datos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="04e1a-213">For example, if the solution requires extensive tracking, the Tracking database can also be optimized.</span></span>  
  
## <a name="manually-adding-files-to-the-messagebox-database-step-by-step"></a><span data-ttu-id="04e1a-214">Agregar manualmente archivos de la base de datos de cuadro de mensajes, paso a paso</span><span class="sxs-lookup"><span data-stu-id="04e1a-214">Manually adding files to the MessageBox database, step-by-step</span></span>  
 <span data-ttu-id="04e1a-215">Esta sección del tema describen los pasos que pueden seguirse para agregar manualmente archivos de la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="04e1a-215">This section of the topic describes the steps that can be followed to manually add files to the MessageBox database.</span></span> <span data-ttu-id="04e1a-216">En este ejemplo se agregan tres grupos de archivos y, a continuación, se agrega un archivo para cada grupo de archivos para distribuir los archivos para el cuadro de mensajes en varios discos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-216">In this example three filegroups are added and then a file is added to each filegroup to distribute the files for the MessageBox across multiple disks.</span></span>
  
### <a name="manually-adding-files-to-the-messagebox-database-on-sql-server"></a><span data-ttu-id="04e1a-217">Agregar manualmente archivos de la base de datos de cuadro de mensajes en SQL Server</span><span class="sxs-lookup"><span data-stu-id="04e1a-217">Manually adding files to the MessageBox database on SQL Server</span></span>
   
1.  <span data-ttu-id="04e1a-218">Abra **SQL Server Management Studio** para mostrar la **conectar al servidor** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="04e1a-218">Open **SQL Server Management Studio** to display the **Connect to Server** dialog box.</span></span>  
  
     <span data-ttu-id="04e1a-219">![Pantalla de inicio de sesión de SQL Server](../technical-guides/media/sqlserver2008r2-loginscreen.gif "SQLServer2008R2-Loginscreen")</span><span class="sxs-lookup"><span data-stu-id="04e1a-219">![SQL Server Login screen](../technical-guides/media/sqlserver2008r2-loginscreen.gif "SQLServer2008R2-Loginscreen")</span></span>  
  
2.  <span data-ttu-id="04e1a-220">En el **nombre del servidor** cuadro de edición de la **conectar al servidor** diálogo cuadro, escriba el nombre de la instancia de SQL Server que aloja las bases de datos de cuadro de mensajes de BizTalk Server y haga clic en **conectar** para mostrar de SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="04e1a-220">In the **Server name** edit box of the **Connect to Server** dialog box, enter the name of the SQL Server instance that houses the BizTalk Server MessageBox databases and click **Connect** to display SQL Server Management Studio.</span></span> <span data-ttu-id="04e1a-221">En el **Explorador de objetos** panel de SQL Server Management Studio, expanda **bases de datos** para ver las bases de datos para esta instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-221">In the **Object Explorer** pane of SQL Server Management Studio, expand **Databases** to view the databases for this instance of SQL Server.</span></span>  
  
     <span data-ttu-id="04e1a-222">![SQL Server 2005 Management Studio, Explorador de objetos](../technical-guides/media/81f13912-fedc-48c3-9669-c18863e637b1.gif "81f13912-fedc-48c3-9669-c18863e637b1")</span><span class="sxs-lookup"><span data-stu-id="04e1a-222">![SQL Server 2005 Management Studio, Object Explorer](../technical-guides/media/81f13912-fedc-48c3-9669-c18863e637b1.gif "81f13912-fedc-48c3-9669-c18863e637b1")</span></span>  
  
3.  <span data-ttu-id="04e1a-223">Haga clic en la base de datos que se va a agregar los archivos y, a continuación, haga clic en **propiedades** para mostrar la **propiedades de la base de datos** cuadro de diálogo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-223">Right-click the database to which to add the files, and then click **Properties** to display the **Database Properties** dialog box for the database.</span></span>  
  
     <span data-ttu-id="04e1a-224">![Cuadro de diálogo de propiedades de la base de datos de SQL Server 2005](../technical-guides/media/82ae7c11-5b3a-4312-876c-70876abdd65c.gif "82ae7c11-5b3a-4312-876c-70876abdd65c")</span><span class="sxs-lookup"><span data-stu-id="04e1a-224">![SQL Server 2005 Database Properties dialog box](../technical-guides/media/82ae7c11-5b3a-4312-876c-70876abdd65c.gif "82ae7c11-5b3a-4312-876c-70876abdd65c")</span></span>  
  
4.  <span data-ttu-id="04e1a-225">En el **propiedades de la base de datos** cuadro de diálogo, seleccione la **grupos de archivos** página.</span><span class="sxs-lookup"><span data-stu-id="04e1a-225">In the **Database Properties** dialog box, select the **Filegroups** page.</span></span> <span data-ttu-id="04e1a-226">Para crear grupos de archivos adicionales para las bases de datos de BizTalkMsgBoxDb, haga clic en **agregar** .</span><span class="sxs-lookup"><span data-stu-id="04e1a-226">To create additional filegroups for the BizTalkMsgBoxDb databases, click **Add** .</span></span> <span data-ttu-id="04e1a-227">En el ejemplo siguiente, se agregan tres grupos de archivos adicionales.</span><span class="sxs-lookup"><span data-stu-id="04e1a-227">In the following example, three additional filegroups are added.</span></span>  
  
     <span data-ttu-id="04e1a-228">![SQL Server 2005, agregar grupos de archivos a una base de datos](../technical-guides/media/6be47c0e-06c3-45d9-bce2-a42453da7d19.gif "6be47c0e-06c3-45d9-bce2-a42453da7d19")</span><span class="sxs-lookup"><span data-stu-id="04e1a-228">![SQL Server 2005, adding filegroups to a database](../technical-guides/media/6be47c0e-06c3-45d9-bce2-a42453da7d19.gif "6be47c0e-06c3-45d9-bce2-a42453da7d19")</span></span>  
  
5.  <span data-ttu-id="04e1a-229">En el cuadro de diálogo **Propiedades de la base de datos** , seleccione la página **Archivos** .</span><span class="sxs-lookup"><span data-stu-id="04e1a-229">In the **Database Properties** dialog box, select the **Files** page.</span></span>  
  
     <span data-ttu-id="04e1a-230">Para crear archivos adicionales para agregar a los grupos de archivos, haga clic en **agregar** y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="04e1a-230">To create additional files to add to the filegroups, click **Add** , and then click **OK**.</span></span> <span data-ttu-id="04e1a-231">La base de datos de cuadro de mensajes ahora se distribuye en varios discos, lo que le proporcionará una importante ventaja de rendimiento respecto a una configuración de uno de los discos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-231">The MessageBox database is now distributed across multiple disks, which will provide a significant performance advantage over a single disk configuration.</span></span>  
  
     <span data-ttu-id="04e1a-232">En el ejemplo siguiente, se crea un archivo para cada uno de los grupos de archivos creada con anterioridad y se coloca cada archivo en un disco independiente.</span><span class="sxs-lookup"><span data-stu-id="04e1a-232">In the following example, a file is created for each of the filegroups that were created earlier and each file is placed on a separate disk.</span></span>  
  
     <span data-ttu-id="04e1a-233">![SQL Server 2005, agregar archivos a un grupo de archivos](../technical-guides/media/d5d5c5df-d483-4f01-8128-f98228de51b9.gif "d5d5c5df-d483-4f01-8128-f98228de51b9")</span><span class="sxs-lookup"><span data-stu-id="04e1a-233">![SQL Server 2005, adding files to a filegroup](../technical-guides/media/d5d5c5df-d483-4f01-8128-f98228de51b9.gif "d5d5c5df-d483-4f01-8128-f98228de51b9")</span></span>  
  
## <a name="sample-sql-script-for-adding-filegroups-and-files-to-the-biztalk-messagebox-database"></a><span data-ttu-id="04e1a-234">Script SQL de ejemplo para agregar grupos de archivos y archivos de la base de datos de BizTalk MessageBox</span><span class="sxs-lookup"><span data-stu-id="04e1a-234">Sample SQL script for adding filegroups and files to the BizTalk MessageBox database</span></span>  
 <span data-ttu-id="04e1a-235">Esta guía incluye una secuencia de comandos SQL para agregar grupos de archivos y archivos de la base de datos de cuadro de mensajes de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-235">This guide includes an SQL script for adding filegroups and files to the BizTalk Server MessageBox database.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="04e1a-236">Dado que SQL Server se escribe en los archivos de registro secuencialmente, no hay ninguna ventaja de rendimiento realizada mediante la creación de varios archivos de registro para una base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="04e1a-236">Because SQL Server writes to its log files sequentially, there is no performance advantage realized by creating multiple log files for a SQL Server database.</span></span>  
  
 <span data-ttu-id="04e1a-237">Para ejecutar este script, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="04e1a-237">To run this script, follow these steps:</span></span>  
  
1.  <span data-ttu-id="04e1a-238">Abra **SQL Server Management Studio** para mostrar la **conectar al servidor** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="04e1a-238">Open **SQL Server Management Studio** to display the **Connect to Server** dialog box.</span></span>  
  
2.  <span data-ttu-id="04e1a-239">En el **nombre del servidor** cuadro de edición de la **conectar al servidor** diálogo cuadro, escriba el nombre de la instancia de SQL Server que aloja las bases de datos de cuadro de mensajes de BizTalk Server y haga clic en **conectar** para mostrar el cuadro de diálogo de SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="04e1a-239">In the **Server name** edit box of the **Connect to Server** dialog box, enter the name of the SQL Server instance that houses the BizTalk Server MessageBox databases and click **Connect** to display the SQL Server Management Studio dialog box.</span></span>  
  
3.  <span data-ttu-id="04e1a-240">En SQL Server Management Studio, haga clic en el **archivo** menú, elija **New**y, a continuación, haga clic en **consulta con conexión actual** para iniciar el Editor de consultas de SQL.</span><span class="sxs-lookup"><span data-stu-id="04e1a-240">In SQL Server Management Studio, click the **File** menu, point to **New**, and then click **Query with Current Connection** to start the SQL Query Editor.</span></span>  
  
4.  <span data-ttu-id="04e1a-241">Copie el script de ejemplo de [Script SQL de grupos de archivos de base de datos de cuadro de mensajes de BizTalk Server](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md) en el Editor de consultas.</span><span class="sxs-lookup"><span data-stu-id="04e1a-241">Copy the sample script from [BizTalk Server MessageBox Database Filegroups SQL Script](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md) into the Query Editor.</span></span>  
  
5.  <span data-ttu-id="04e1a-242">Edite los parámetros en el script para que coincida con el entorno de BizTalk Server y ejecute el script.</span><span class="sxs-lookup"><span data-stu-id="04e1a-242">Edit the parameters in the script to match your BizTalk Server environment, and execute the script.</span></span>  
  
 <span data-ttu-id="04e1a-243">La ventaja de secuencias de comandos es que las secuencias de comandos pueden realizar varias tareas rápidamente, se pueden reproducir con precisión y reducirán la posibilidad de que se produzcan errores humanos.</span><span class="sxs-lookup"><span data-stu-id="04e1a-243">The advantage to scripting is that scripts can perform multiple tasks quickly, can be reproduced precisely, and reduce the possibility of human error.</span></span> <span data-ttu-id="04e1a-244">La desventaja de secuencias de comandos es que la ejecución de una secuencia de comandos incorrecta puede provocar problemas graves que podrían requerir las bases de datos de BizTalk Server para volver a configurarse desde el principio.</span><span class="sxs-lookup"><span data-stu-id="04e1a-244">The disadvantage of scripting is that the execution of an incorrectly written script can potentially cause serious problems that could require the BizTalk Server databases to be re-configured from scratch.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="04e1a-245">Es de máxima importancia que secuencias de comandos SQL como la secuencia de comandos de ejemplo en esta guía se ha probado exhaustivamente antes de que se está ejecutando en un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="04e1a-245">It is of utmost importance that SQL scripts such as the sample script in this guide are thoroughly tested before being executed in a production environment.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="04e1a-246">Vea también</span><span class="sxs-lookup"><span data-stu-id="04e1a-246">See Also</span></span>  
 [<span data-ttu-id="04e1a-247">Optimización del rendimiento de la base de datos</span><span class="sxs-lookup"><span data-stu-id="04e1a-247">Optimizing Database Performance</span></span>](../technical-guides/optimizing-database-performance.md)