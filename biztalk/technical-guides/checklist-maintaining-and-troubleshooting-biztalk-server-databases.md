---
title: "Lista de comprobación: Mantenimiento y solución de problemas de las bases de datos de servidor BizTalk Server | Documentos de Microsoft"
ms.custom: 
ms.date: 06/29/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 58931faf-fc84-46fe-8359-506da94c3756
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3e5ef7cdc4fb136a9fc80b04a04cdbe4f1e064e3
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="checklist-maintaining-and-troubleshooting-biztalk-server-databases"></a><span data-ttu-id="0b770-102">Lista de comprobación: Mantenimiento y solución de problemas de las bases de datos de servidor BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="0b770-102">Checklist: Maintaining and Troubleshooting BizTalk Server Databases</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="0b770-103">bases de datos y su estado de mantenimiento son muy importantes para una correcta [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] entorno de mensajería de base de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-103"> databases and their health are very important for a successful [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] database messaging environment.</span></span> <span data-ttu-id="0b770-104">En este tema se enumera los pasos que se deben seguir al realizar mantenimiento o solución de problemas de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-104">This topic lists the steps that you must follow when maintaining or troubleshooting the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
-   [<span data-ttu-id="0b770-105">Mantener bases de datos de servidor BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="0b770-105">Maintaining BizTalk Server Databases</span></span>](../technical-guides/checklist-maintaining-and-troubleshooting-biztalk-server-databases.md#BKMK_MaintainDB)  
  
-   [<span data-ttu-id="0b770-106">Solución de problemas de las bases de datos de servidor BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="0b770-106">Troubleshooting BizTalk Server Databases</span></span>](../technical-guides/checklist-maintaining-and-troubleshooting-biztalk-server-databases.md#BKMK_Troubleshoot)  
  
<a name="BKMK_MaintainDB"></a>   
## <a name="maintaining-biztalk-server-databases"></a><span data-ttu-id="0b770-107">Mantener bases de datos de servidor BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="0b770-107">Maintaining BizTalk Server Databases</span></span>  
  
|<span data-ttu-id="0b770-108">Pasos</span><span class="sxs-lookup"><span data-stu-id="0b770-108">Steps</span></span>|<span data-ttu-id="0b770-109">Referencia</span><span class="sxs-lookup"><span data-stu-id="0b770-109">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="0b770-110">Deshabilitar la **actualizar estadísticas automáticamente** y **crear estadísticas automáticamente** opciones (aplicable únicamente a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos de cuadro de mensajes).</span><span class="sxs-lookup"><span data-stu-id="0b770-110">Disable the **Auto Update Statistics** and **Auto Create Statistics** Options (applicable only to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases).</span></span>|<span data-ttu-id="0b770-111">**Nota:** esta configuración se realiza de forma predeterminada como parte de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] configuración.</span><span class="sxs-lookup"><span data-stu-id="0b770-111">**Note:**  These settings are done by default as part of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] configuration.</span></span> <span data-ttu-id="0b770-112">No debe realizar cambios en esta configuración.</span><span class="sxs-lookup"><span data-stu-id="0b770-112">You should not make changes to these settings.</span></span> <br /><br /> <span data-ttu-id="0b770-113">Debe deshabilitar la **crear estadísticas automáticamente** y **actualizar estadísticas automáticamente** opciones.</span><span class="sxs-lookup"><span data-stu-id="0b770-113">You must disable the **Auto Create Statistics** and the **Auto Update Statistics** options.</span></span> <span data-ttu-id="0b770-114">Para determinar si se deshabilita esta configuración, ejecute los siguientes procedimientos almacenados en SQL Server:</span><span class="sxs-lookup"><span data-stu-id="0b770-114">To determine if these settings are disabled, execute the following stored procedures in SQL Server:</span></span><br /><br /> <span data-ttu-id="0b770-115">exec sp_dboption 'BizTalkMsgBoxDB', 'crear estadísticas automáticamente' exec sp_dboption 'BizTalkMsgBoxDB', 'Actualizar estadísticas automáticamente'</span><span class="sxs-lookup"><span data-stu-id="0b770-115">exec sp_dboption 'BizTalkMsgBoxDB', 'auto create statistics'                 exec sp_dboption 'BizTalkMsgBoxDB', 'auto update statistics'</span></span><br /><br /> <span data-ttu-id="0b770-116">El valor devuelto para **CurrentSetting** debe establecerse en OFF.</span><span class="sxs-lookup"><span data-stu-id="0b770-116">The value returned for **CurrentSetting** should be OFF.</span></span> <span data-ttu-id="0b770-117">Si este valor se devuelve para **CurrentSetting** es ON, cámbielo a OFF mediante la ejecución de los siguientes procedimientos almacenados en SQL Server:</span><span class="sxs-lookup"><span data-stu-id="0b770-117">If this value returned for **CurrentSetting** is ON, change it to OFF by executing the following stored procedures in SQL Server:</span></span><br /><br /> <span data-ttu-id="0b770-118">exec sp_dboption 'BizTalkMsgBoxDB', 'crear estadísticas automáticamente', 'off' exec sp_dboption 'BizTalkMsgBoxDB', 'Actualizar estadísticas automáticamente', 'off'</span><span class="sxs-lookup"><span data-stu-id="0b770-118">exec sp_dboption 'BizTalkMsgBoxDB', 'auto create statistics', 'off'                 exec sp_dboption 'BizTalkMsgBoxDB', 'auto update statistics', 'off'</span></span><br /><br /> <span data-ttu-id="0b770-119">Para obtener más información acerca de estas opciones, vea los siguientes artículos de Microsoft Knowledge Base:</span><span class="sxs-lookup"><span data-stu-id="0b770-119">For more information about these settings see the following Microsoft Knowledge Base articles:</span></span><br /><br /> <span data-ttu-id="0b770-120">-   **917845**:["Experimentas bloqueo, deadlock condiciones u otros problemas SQL Server al intentar conectarse a la base de datos BizTalkMsgBoxDb de BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span><span class="sxs-lookup"><span data-stu-id="0b770-120">-   **917845**—["You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span></span><br /><span data-ttu-id="0b770-121">-   **912262**:["la opción de estadísticas de actualización automática, la creación automática de opción de estadísticas y la configuración de paralelismo están desactivados en la instancia de base de datos SQL Server que hospeda la base de datos BizTalkMsgBoxDB de BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153430) (http://go.microsoft.com/fwlink/?LinkId=153430).</span><span class="sxs-lookup"><span data-stu-id="0b770-121">-   **912262**—["The auto update statistics option, the auto create statistics option, and the Parallelism setting are turned off in the SQL Server database instance that hosts the BizTalk Server BizTalkMsgBoxDB database"](http://go.microsoft.com/fwlink/?LinkId=153430) (http://go.microsoft.com/fwlink/?LinkId=153430).</span></span>|  
|<span data-ttu-id="0b770-122">Establecer the Max Degree de propiedad de paralelismo</span><span class="sxs-lookup"><span data-stu-id="0b770-122">Set the Max Degree of Parallelism property</span></span>|<span data-ttu-id="0b770-123">**Nota:** esta configuración se realiza de forma predeterminada como parte de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] configuración.</span><span class="sxs-lookup"><span data-stu-id="0b770-123">**Note:**  These settings are done by default as part of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] configuration.</span></span> <span data-ttu-id="0b770-124">No debe realizar cambios en esta configuración.</span><span class="sxs-lookup"><span data-stu-id="0b770-124">You should not make changes to these settings.</span></span> <br /><br /> <span data-ttu-id="0b770-125">Establecer the Max Degree of Parallelism **run_value** y **config_value** propiedades en un valor de uno (1) en el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] las instancias que hospedan la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="0b770-125">Set the Max Degree of Parallelism **run_value** and **config_value** properties to a value of one (1) on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instances that host the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messagebox databases.</span></span> <span data-ttu-id="0b770-126">Para comprobar la Max Degree of configuración paralelismo, ejecute el siguiente procedimiento para el maestro de almacenado en la base de datos [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="0b770-126">To check the Max Degree of Parallelism setting, execute the following stored procedure against the Master database in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]:</span></span><br /><br /> <span data-ttu-id="0b770-127">exec sp_configure 'max degree of parallelism'</span><span class="sxs-lookup"><span data-stu-id="0b770-127">exec sp_configure 'max degree of parallelism'</span></span><br /><br /> <span data-ttu-id="0b770-128">Si el **run_value** y **config_value** son no se establece en un valor de uno (1), ejecute el siguiente procedimiento almacenado en SQL Server:</span><span class="sxs-lookup"><span data-stu-id="0b770-128">If the **run_value** and **config_value** are not set to a value of one (1), execute the following stored procedure in SQL Server:</span></span><br /><br /> <span data-ttu-id="0b770-129">exec sp_configure 'max degree of parallelism', '1' reconfigure con invalidación</span><span class="sxs-lookup"><span data-stu-id="0b770-129">exec sp_configure 'max degree of parallelism', '1'                 reconfigure with override</span></span><br /><br /> <span data-ttu-id="0b770-130">Para obtener más información acerca de cómo afecta la Max Degree of paralelismo [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], vea los siguientes artículos de Microsoft Knowledge Base:</span><span class="sxs-lookup"><span data-stu-id="0b770-130">For more information about how the Max Degree of Parallelism setting affects [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], see the following Microsoft Knowledge Base articles:</span></span><br /><br /> <span data-ttu-id="0b770-131">-   **899000**:["El valor de configuración de paralelismo para la instancia de SQL Server al configurar BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153432) (http://go.microsoft.com/fwlink/?LinkId=153432).</span><span class="sxs-lookup"><span data-stu-id="0b770-131">-   **899000**—["The Parallelism setting for the instance of SQL Server when you configure BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153432) (http://go.microsoft.com/fwlink/?LinkId=153432).</span></span><br /><span data-ttu-id="0b770-132">-   **917845**:["Experimentas bloqueo, deadlock condiciones u otros problemas SQL Server al intentar conectarse a la base de datos BizTalkMsgBoxDb de BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span><span class="sxs-lookup"><span data-stu-id="0b770-132">-   **917845**—["You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span></span>|  
|<span data-ttu-id="0b770-133">Determinar cuándo se puede recompilar [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] índices</span><span class="sxs-lookup"><span data-stu-id="0b770-133">Determine when you can rebuild [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] indexes</span></span>|<span data-ttu-id="0b770-134">La mayoría de los índices de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] se agrupan en clústeres las bases de datos (Id. de índice: 1).</span><span class="sxs-lookup"><span data-stu-id="0b770-134">Most of the indexes in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases are clustered (index ID: 1).</span></span> <span data-ttu-id="0b770-135">El comando DBCC SHOWCONTIG se puede usar para mostrar información de fragmentación de tablas en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-135">The DBCC SHOWCONTIG command can be used to display fragmentation information for tables in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="0b770-136">Estos índices están basados en GUID por lo que es normal que se produzca la fragmentación.</span><span class="sxs-lookup"><span data-stu-id="0b770-136">These indexes are GUID-based so it is normal for fragmentation to occur.</span></span> <span data-ttu-id="0b770-137">Si el valor de densidad de recorrido de DBCC SHOWCONTIG es inferior a 30%, se pueden volver a generar los índices durante el tiempo de inactividad.</span><span class="sxs-lookup"><span data-stu-id="0b770-137">If the Scan Density value of DBCC SHOWCONTIG is less than 30%, the indexes can be rebuilt during downtime.</span></span> <span data-ttu-id="0b770-138">Muchas tablas en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos contienen columnas que usan las definiciones de tipo de datos donde la indización en línea no se puede realizar.</span><span class="sxs-lookup"><span data-stu-id="0b770-138">Many tables in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases contain columns that use DataType definitions where online indexing cannot be done.</span></span> <span data-ttu-id="0b770-139">Por lo tanto, los índices de tablas en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos nunca deben generarse mientras BizTalk está procesando datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-139">Therefore, the indexes for tables in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases should never be rebuilt while BizTalk is processing data.</span></span> <span data-ttu-id="0b770-140">Para obtener más información acerca de cómo volver a generar los índices de BizTalk, vea el artículo de Microsoft Knowledge Base siguiente:</span><span class="sxs-lookup"><span data-stu-id="0b770-140">For more information on how to rebuild the BizTalk indexes, see the following Microsoft Knowledge Base article:</span></span><br /><br /> <span data-ttu-id="0b770-141">-   **917845**:["Experimentas bloqueo, deadlock condiciones u otros problemas SQL Server al intentar conectarse a la base de datos BizTalkMsgBoxDb de BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span><span class="sxs-lookup"><span data-stu-id="0b770-141">-   **917845**—["You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span></span><br /><br /> <span data-ttu-id="0b770-142">Para obtener más información acerca de los tipos de cargas de trabajo y fragmentación de índice, vea las notas del producto [prácticas recomendadas del desfragmentación de índices de Microsoft SQL Server 2000](http://go.microsoft.com/fwlink/?LinkId=101580) (http://go.microsoft.com/fwlink/?LinkId=101580).</span><span class="sxs-lookup"><span data-stu-id="0b770-142">For more information about index fragmentation and workload types, see the white paper [Microsoft SQL Server 2000 Index Defragmentation Best Practices](http://go.microsoft.com/fwlink/?LinkId=101580) (http://go.microsoft.com/fwlink/?LinkId=101580).</span></span> <span data-ttu-id="0b770-143">**Nota:** también puede usar la función sys.dm_db_index_physical_stats para buscar información de fragmentación en [!INCLUDE[btsSQLServer2005](../includes/btssqlserver2005-md.md)] y [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0b770-143">**Note:**  You can also use the sys.dm_db_index_physical_stats function to look for fragmentation information in [!INCLUDE[btsSQLServer2005](../includes/btssqlserver2005-md.md)] and [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)].</span></span> <span data-ttu-id="0b770-144">Para obtener más información, consulte [sys.dm_db_index_physical_stats (Transact-SQL)](http://go.microsoft.com/fwlink/?LinkId=158493) (http://go.microsoft.com/fwlink/?LinkId=158493).</span><span class="sxs-lookup"><span data-stu-id="0b770-144">For more information, see [sys.dm_db_index_physical_stats (Transact-SQL)](http://go.microsoft.com/fwlink/?LinkId=158493) (http://go.microsoft.com/fwlink/?LinkId=158493).</span></span>|  
|<span data-ttu-id="0b770-145">Supervisar la base de datos para bloqueos, bloques o interbloqueos</span><span class="sxs-lookup"><span data-stu-id="0b770-145">Monitor the database for locks, blocks, or deadlocks</span></span>|<span data-ttu-id="0b770-146">Es un comportamiento normal de bloqueos y bloques para que tenga lugar la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] bases de datos utilizadas por [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0b770-146">It is an expected behavior for locks and blocks to occur on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] databases used by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="0b770-147">Sin embargo, no se espera que estos bloqueos ni bloques continúen durante un largo período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="0b770-147">However, it is not expected to have these locks or blocks to continue for an extended period of time.</span></span> <span data-ttu-id="0b770-148">Extendidos bloqueos y los interbloqueos en el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] bases de datos usan [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] es un indicador de un posible problema.</span><span class="sxs-lookup"><span data-stu-id="0b770-148">Extended blocking and deadlocking on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] databases used by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] are indicators of a potential problem.</span></span> <span data-ttu-id="0b770-149">Para el conocido actual hace de interbloqueos y bloqueo en la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] bases de datos utilizadas por [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], revise el artículo de Microsoft Knowledge Base siguiente:</span><span class="sxs-lookup"><span data-stu-id="0b770-149">For the current known causes of deadlocking and blocking on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] databases used by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], review the following Microsoft Knowledge Base article:</span></span><br /><br /> <span data-ttu-id="0b770-150">-   **917845**:["Experimentas bloqueo, deadlock condiciones u otros problemas SQL Server al intentar conectarse a la base de datos BizTalkMsgBoxDb de BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span><span class="sxs-lookup"><span data-stu-id="0b770-150">-   **917845**—["You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span></span>|  
|<span data-ttu-id="0b770-151">Supervisar el tamaño de las bases de datos y tablas</span><span class="sxs-lookup"><span data-stu-id="0b770-151">Monitor the size of databases and tables</span></span>|<span data-ttu-id="0b770-152">El tamaño de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de cuadro de mensajes debe ser por lo general no más de aproximadamente 5 GB.</span><span class="sxs-lookup"><span data-stu-id="0b770-152">The size of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messagebox database should typically be no more than approximately 5GB.</span></span>  <span data-ttu-id="0b770-153">La base de datos BizTalkMsgBoxDb no se deben mantener los datos y debe considerarse un búfer hasta que los datos se procesa o se mueven a la base de datos de BizTalkDTADb.</span><span class="sxs-lookup"><span data-stu-id="0b770-153">The BizTalkMsgBoxDb database should not be holding any data, and should be considered a buffer until the data is processed or moved to the BizTalkDTADb database.</span></span> <span data-ttu-id="0b770-154">Un entorno con un back-end eficaz de SQL Server y varias orquestaciones de larga ejecución puede tener una base de datos de BizTalkMsgBoxDb superior a 5GB.</span><span class="sxs-lookup"><span data-stu-id="0b770-154">An environment with a powerful SQL Server backend and numerous long running orchestrations may have a BizTalkMsgBoxDb database larger than 5GB.</span></span> <span data-ttu-id="0b770-155">Un entorno de gran volumen con ningún orquestaciones de larga ejecución debe tener un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de cuadro de mensajes mucho menor que 5 GB.</span><span class="sxs-lookup"><span data-stu-id="0b770-155">A high volume environment with no long-running orchestrations should have a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messagebox database much smaller than 5GB.</span></span> <span data-ttu-id="0b770-156">El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de seguimiento puede variar en gran medida de tamaño, pero si disminuye drásticamente el rendimiento de las consultas, a continuación, la base de datos de seguimiento es probablemente demasiado grande.</span><span class="sxs-lookup"><span data-stu-id="0b770-156">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tracking database can vary greatly in size but if query performance decreases dramatically, then the tracking database is probably too large.</span></span> <span data-ttu-id="0b770-157">Como regla general, un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] mayor que 15-20 GB es demasiado grande y puede afectar negativamente al rendimiento de la base de datos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="0b770-157">As a rule of thumb, a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tracking database larger than 15-20 GB is considered too large and may adversely impact performance.</span></span> <span data-ttu-id="0b770-158">Los siguientes problemas pueden distribuirse a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos que son demasiado grandes:</span><span class="sxs-lookup"><span data-stu-id="0b770-158">The following issues may be attributable to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases that are too large:</span></span><br /><br /> <span data-ttu-id="0b770-159">-El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de cuadro de mensajes continúa aumentando mientras que el tamaño de datos (no solo en el archivo de registro) sigue siendo grande.</span><span class="sxs-lookup"><span data-stu-id="0b770-159">-   The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messagebox database continues to grow while the data size (not just the log file) remains large.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="0b770-160">tarda más tiempo de lo normal para procesar incluso un escenario de flujo de mensaje simple.</span><span class="sxs-lookup"><span data-stu-id="0b770-160"> takes a longer time than normal to process even a simple message flow scenario.</span></span><br /><span data-ttu-id="0b770-161">-Las consultas de concentrador de grupo llevar más tiempo de lo normal y pueden incluso tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="0b770-161">-   Group Hub queries take a longer time than normal and may even timeout.</span></span><br /><span data-ttu-id="0b770-162">-El archivo de registro de base de datos nunca se trunca.</span><span class="sxs-lookup"><span data-stu-id="0b770-162">-   The database log file never gets truncated.</span></span><br /><span data-ttu-id="0b770-163">-Los trabajos del agente de SQL de BizTalk se ejecutan más lentamente de lo normal.</span><span class="sxs-lookup"><span data-stu-id="0b770-163">-   The BizTalk SQL Agent jobs run slower than normal.</span></span><br /><span data-ttu-id="0b770-164">-Algunas tablas son bastante grandes o tienen demasiadas filas en comparación a su estado normal.</span><span class="sxs-lookup"><span data-stu-id="0b770-164">-   Some tables are considerably large or have too many rows compared to normal.</span></span><br /><br /> <span data-ttu-id="0b770-165">El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos pueden llegar a ser grandes por varios motivos incluidos:</span><span class="sxs-lookup"><span data-stu-id="0b770-165">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases can become large for several reasons including:</span></span><br /><br /> <span data-ttu-id="0b770-166">-BizTalk trabajos del Agente SQL no se está ejecutando</span><span class="sxs-lookup"><span data-stu-id="0b770-166">-   BizTalk SQL Agent Jobs not running</span></span><br /><span data-ttu-id="0b770-167">-Mensaje suspendido excesivo o instancias de servicio</span><span class="sxs-lookup"><span data-stu-id="0b770-167">-   Excessive suspended message or service instances</span></span><br /><span data-ttu-id="0b770-168">: Errores de disco</span><span class="sxs-lookup"><span data-stu-id="0b770-168">-   Disk failures</span></span><br /><span data-ttu-id="0b770-169">-Altos niveles de seguimiento</span><span class="sxs-lookup"><span data-stu-id="0b770-169">-   High levels of tracking</span></span><br /><span data-ttu-id="0b770-170">-   [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]limitación</span><span class="sxs-lookup"><span data-stu-id="0b770-170">-   [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] throttling</span></span><br /><span data-ttu-id="0b770-171">-Deficiente [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] rendimiento</span><span class="sxs-lookup"><span data-stu-id="0b770-171">-   Poor [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] performance</span></span><br /><span data-ttu-id="0b770-172">: Problemas de latencia de red</span><span class="sxs-lookup"><span data-stu-id="0b770-172">-   Network latency issues</span></span><br /><br /> <span data-ttu-id="0b770-173">De forma similar, puede tener demasiadas filas en una tabla.</span><span class="sxs-lookup"><span data-stu-id="0b770-173">Similarly, you can have too many rows in a table.</span></span> <span data-ttu-id="0b770-174">No hay ningún número de conjunto de filas que es demasiado elevado.</span><span class="sxs-lookup"><span data-stu-id="0b770-174">There is no set number of rows that are too many.</span></span> <span data-ttu-id="0b770-175">Además, este número de filas varía según el tipo de datos se almacena en la tabla.</span><span class="sxs-lookup"><span data-stu-id="0b770-175">Additionally, this number of rows varies by what kind of data is stored in the table.</span></span> <span data-ttu-id="0b770-176">Por ejemplo, un *dta_DebugTrace* tabla que tiene más de 1 millón de filas probablemente tiene demasiadas filas.</span><span class="sxs-lookup"><span data-stu-id="0b770-176">For example, a *dta_DebugTrace* table that has more than 1 million rows probably has too many rows.</span></span> <span data-ttu-id="0b770-177">A *HostNameQ_Suspended* tabla que tiene más de 200.000 filas probablemente tiene demasiadas filas.</span><span class="sxs-lookup"><span data-stu-id="0b770-177">A *HostNameQ_Suspended* table that has more than 200,000 rows probably has too many rows.</span></span><br /><br /> <span data-ttu-id="0b770-178">Asegúrese de que conoce las expectativas del entorno para determinar si se está produciendo un problema de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-178">Make sure that you know what is expected in your environment to determine whether a data issue is occurring.</span></span>|  
|<span data-ttu-id="0b770-179">Habilitar el seguimiento en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host</span><span class="sxs-lookup"><span data-stu-id="0b770-179">Enable tracking on [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host</span></span>|<span data-ttu-id="0b770-180">De forma predeterminada, el seguimiento está habilitado en el host predeterminado.</span><span class="sxs-lookup"><span data-stu-id="0b770-180">By default, tracking is enabled on the default host.</span></span> <span data-ttu-id="0b770-181">BizTalk requiere la **Permitir seguimiento de Host** se activa la opción en un solo HOST.</span><span class="sxs-lookup"><span data-stu-id="0b770-181">BizTalk requires the **Allow Host Tracking** option be checked on a single HOST.</span></span> <span data-ttu-id="0b770-182">Cuando el seguimiento está habilitado, el servicio de descodificación de datos de seguimiento (TDDS) mueve el seguimiento de datos de evento desde el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de cuadro de mensajes para el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="0b770-182">When tracking is enabled, the Tracking Data Decode Service (TDDS) moves the tracking event data from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messagebox database to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tracking database.</span></span> <span data-ttu-id="0b770-183">Si no hay ningún [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] hosts estén configurados con la opción de **Permitir seguimiento de Host** , o si el host de seguimiento se detiene, TDDS no se ejecutará y las tablas de TrackingData_x_x en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de cuadro de mensajes crecerá desactivada .</span><span class="sxs-lookup"><span data-stu-id="0b770-183">If no [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] hosts are configured with the option to **Allow Host Tracking** or if the tracking host is stopped, then TDDS will not run and the TrackingData_x_x tables in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messagebox database will grow unchecked.</span></span> <span data-ttu-id="0b770-184">Por lo tanto, una dedicado [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host debe estar configurado con la opción **Permitir seguimiento de Host**.</span><span class="sxs-lookup"><span data-stu-id="0b770-184">Therefore, a dedicated [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host should be configured with the option to **Allow Host Tracking**.</span></span> <span data-ttu-id="0b770-185">Para obtener más información acerca de cómo configurar un host de seguimiento dedicado vea [configurar un Host de seguimiento dedicado](~/technical-guides/configuring-a-dedicated-tracking-host.md).</span><span class="sxs-lookup"><span data-stu-id="0b770-185">For more information about configuring a dedicated tracking host see [Configuring a Dedicated Tracking Host](~/technical-guides/configuring-a-dedicated-tracking-host.md).</span></span> <span data-ttu-id="0b770-186">**Nota:** para permitir que TDDS mantener los nuevos eventos de seguimiento en escenarios de gran volumen, puede crear varias instancias de host de seguimiento único, pero no más de un host debe estar configurado para el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="0b770-186">**Note:**  To allow TDDS to maintain new tracking events in high volume scenarios, you can create multiple instances of a single tracking host but no more than one host should be configured for tracking.</span></span>|  
|<span data-ttu-id="0b770-187">Use los trabajos del Agente SQL Server de BizTalk correctos</span><span class="sxs-lookup"><span data-stu-id="0b770-187">Use the correct BizTalk SQL Server Agent jobs</span></span>|<span data-ttu-id="0b770-188">Ejecución de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] son cruciales para la administración de trabajos del Agente SQL el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos y para mantener un rendimiento óptimo.</span><span class="sxs-lookup"><span data-stu-id="0b770-188">Execution of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL Agent jobs are crucial for managing the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases and for maintaining optimal performance.</span></span><br /><br /> <span data-ttu-id="0b770-189">-El **copia de seguridad [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]**  trabajo del Agente SQL Server es el único método admitido para realizar una copia de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-189">-   The  **Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]** SQL Server Agent job is the only supported method to back up the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="0b770-190">Este trabajo requiere configurar todas [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos para utilizar un modelo de recuperación completa.</span><span class="sxs-lookup"><span data-stu-id="0b770-190">This job requires you to set up all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases to use a Full Recovery Model.</span></span> <span data-ttu-id="0b770-191">Debe configurar este trabajo para un correcto [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] entorno.</span><span class="sxs-lookup"><span data-stu-id="0b770-191">You should configure this job for a healthy [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="0b770-192">Puede usar los métodos de SQL Server para realizar una copia de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solo si se detiene el servicio SQL Server y si todas las bases de datos [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] procesos se detienen.</span><span class="sxs-lookup"><span data-stu-id="0b770-192">You can use the SQL Server methods to back up the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases only if the SQL Server service is stopped and if all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] processes are stopped.</span></span> <span data-ttu-id="0b770-193">**Nota:** para obtener más información acerca de cómo utilizar el modelo de recuperación completa de SQL Server al configurar la copia de seguridad del Agente SQL [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] de trabajo, consulte [trasvase de registros](http://go.microsoft.com/fwlink/?LinkId=153450) (http://go.Microsoft.com/fwlink/?) LinkId = 153450) o [copia de seguridad en el modelo de recuperación completa](http://go.microsoft.com/fwlink/?LinkId=156509) (http://go.Microsoft.com/fwlink/?) LinkId = 156509).</span><span class="sxs-lookup"><span data-stu-id="0b770-193">**Note:**      For more information about using the SQL Server full recovery model when configuring the SQL Agent Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] job, see [Log Shipping](http://go.microsoft.com/fwlink/?LinkId=153450) (http://go.microsoft.com/fwlink/?LinkId=153450) or [Backup Under the Full Recovery Model](http://go.microsoft.com/fwlink/?LinkId=156509) (http://go.microsoft.com/fwlink/?LinkId=156509).</span></span><br /><span data-ttu-id="0b770-194">-El **MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb** trabajo del Agente SQL Server está diseñado para ejecutarse de forma indefinida.</span><span class="sxs-lookup"><span data-stu-id="0b770-194">-   The **MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb** SQL Server Agent job is designed to run indefinitely.</span></span> <span data-ttu-id="0b770-195">Como resultado el historial de trabajos del Agente SQL no puede indicar que se haya completado correctamente este trabajo del Agente SQL; Este comportamiento es así por diseño.</span><span class="sxs-lookup"><span data-stu-id="0b770-195">As a result the SQL Agent job history may not indicate that this SQL Agent job has successfully completed; this behavior is by design.</span></span> <span data-ttu-id="0b770-196">Si se produce un error, el trabajo reiniciará en 1 minuto y debe seguir ejecutándose sin alteraciones.</span><span class="sxs-lookup"><span data-stu-id="0b770-196">If there is a failure, the job will restart within 1 minute and continue running unabated.</span></span> <span data-ttu-id="0b770-197">Por lo tanto, normalmente se pueden omitir las notificaciones de error para este trabajo.</span><span class="sxs-lookup"><span data-stu-id="0b770-197">Therefore, failure notifications for this job can typically be ignored.</span></span> <span data-ttu-id="0b770-198">Si el historial de trabajos para el trabajo de agente SQL Server de MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb indica que este trabajo es un error y reiniciar constantemente investigación adicional en la causa del error o reinicio ciclo pueden requerir.</span><span class="sxs-lookup"><span data-stu-id="0b770-198">If the job history for the MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb SQL Server Agent job indicates that this job is constantly failing and restarting then further investigation into the cause of the failure/restart cycle may be required.</span></span><br /><span data-ttu-id="0b770-199">-El **MessageBox_Message_Cleanup_BizTalkMsgBoxDb** trabajo del Agente SQL Server es el trabajo único que no debe estar manualmente habilitado porque se inicia el trabajo MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb.</span><span class="sxs-lookup"><span data-stu-id="0b770-199">-   The **MessageBox_Message_Cleanup_BizTalkMsgBoxDb** SQL Server Agent job is the only job that should not be manually enabled because it is initiated by the MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb job.</span></span><br /><span data-ttu-id="0b770-200">-El **DTA Purge and Archive** trabajo del Agente SQL Server mantiene el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de seguimiento purgar y archivar los mensajes controlados.</span><span class="sxs-lookup"><span data-stu-id="0b770-200">-   The **DTA Purge and Archive** SQL Server Agent job maintains the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tracking database by purging and archiving tracked messages.</span></span> <span data-ttu-id="0b770-201">Este trabajo lee todas las filas de la tabla y compara la marca de tiempo de cada fila para determinar si se debe quitar el registro.</span><span class="sxs-lookup"><span data-stu-id="0b770-201">This job reads every row in the table and compares the timestamp of each row to determine if the record should be removed.</span></span> <span data-ttu-id="0b770-202">**Nota:** al solucionar problemas de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] trabajos del Agente SQL Server, compruebe que todos los trabajos del Agente SQL excepto el MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb se completan sin errores.</span><span class="sxs-lookup"><span data-stu-id="0b770-202">**Note:**  When troubleshooting the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL Server Agent jobs, verify that all SQL Agent jobs except the MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb are completing without errors.</span></span> <br /><br /> <span data-ttu-id="0b770-203">Para obtener más información sobre la [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] trabajos del Agente SQL utilizados en [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="0b770-203">For more information about the [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] SQL Agent Jobs used in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]:</span></span><br /><br /> <span data-ttu-id="0b770-204">: Vea [estructura y los trabajos de la base de datos](http://go.microsoft.com/fwlink/?LinkId=153451) (http://go.microsoft.com/fwlink/?LinkId=153451).</span><span class="sxs-lookup"><span data-stu-id="0b770-204">-   See [Database Structure and Jobs](http://go.microsoft.com/fwlink/?LinkId=153451) (http://go.microsoft.com/fwlink/?LinkId=153451).</span></span><br /><span data-ttu-id="0b770-205">: Vea [trabajos descripción del Agente SQL Server en BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=153452) (http://go.microsoft.com/fwlink/?LinkId=153452).</span><span class="sxs-lookup"><span data-stu-id="0b770-205">-   See [Description of the SQL Server Agent jobs in BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=153452) (http://go.microsoft.com/fwlink/?LinkId=153452).</span></span>|  
|<span data-ttu-id="0b770-206">Supervisar y finalizar instancias suspendidas</span><span class="sxs-lookup"><span data-stu-id="0b770-206">Monitor and terminate suspended instances</span></span>|<span data-ttu-id="0b770-207">Instancias de servicio pueden ser suspendidas (reanudables) o suspendidas (no reanudables).</span><span class="sxs-lookup"><span data-stu-id="0b770-207">Service instances can be suspended (resumable) or suspended (not resumable).</span></span> <span data-ttu-id="0b770-208">Estas instancias de servicio pueden ser mensajería, orquestación o puerto.</span><span class="sxs-lookup"><span data-stu-id="0b770-208">These service instances may be Messaging, Orchestration, or Port.</span></span> [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]<span data-ttu-id="0b770-209">contempla la terminación y la eliminación de estas instancias mediante la página concentrador de grupo en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración o mediante el uso de la secuencia de comandos Terminate.vbs.</span><span class="sxs-lookup"><span data-stu-id="0b770-209"> accommodates termination and removal of these instances by using the Group Hub page in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console or through the use of the Terminate.vbs script.</span></span> <span data-ttu-id="0b770-210">Para obtener más información acerca de la secuencia de comandos Terminate.vbs, vea [quitar instancia del servicio suspendido](http://go.microsoft.com/fwlink/?LinkId=153453) (http://go.microsoft.com/fwlink/?LinkId=153453).</span><span class="sxs-lookup"><span data-stu-id="0b770-210">For more information about the Terminate.vbs script, see [Removing Suspended Service Instance](http://go.microsoft.com/fwlink/?LinkId=153453) (http://go.microsoft.com/fwlink/?LinkId=153453).</span></span> <span data-ttu-id="0b770-211">**Sugerencia:** también puede usar la herramienta de terminador para quitar las instancias suspendidas.</span><span class="sxs-lookup"><span data-stu-id="0b770-211">**Tip:**  You can also use the Terminator tool to remove suspended instances.</span></span> <span data-ttu-id="0b770-212">El [herramienta terminador](http://go.microsoft.com/fwlink/?LinkId=151931) está disponible en [http://go.microsoft.com/fwlink/?LinkId=151931](http://go.microsoft.com/fwlink/?LinkId=151931).</span><span class="sxs-lookup"><span data-stu-id="0b770-212">The [Terminator tool](http://go.microsoft.com/fwlink/?LinkId=151931) is available at [http://go.microsoft.com/fwlink/?LinkId=151931](http://go.microsoft.com/fwlink/?LinkId=151931).</span></span> <span data-ttu-id="0b770-213">Uso de esta herramienta no es compatible con Microsoft y Microsoft no otorga ninguna garantía sobre la idoneidad de este programa.</span><span class="sxs-lookup"><span data-stu-id="0b770-213">Use of this tool is not supported by Microsoft, and Microsoft makes no guarantees about the suitability of this programs.</span></span> <span data-ttu-id="0b770-214">La utilización de este programa queda bajo su propia responsabilidad.</span><span class="sxs-lookup"><span data-stu-id="0b770-214">Use of this program is entirely at your own risk.</span></span> <br /><br /> <span data-ttu-id="0b770-215">Los términos "huérfanas" y "zombies" se suelen usar indistintamente.</span><span class="sxs-lookup"><span data-stu-id="0b770-215">The terms "orphans” and "zombies" are often used interchangeably.</span></span> <span data-ttu-id="0b770-216">Un mensaje huérfano o zombie es un mensaje que no tiene una instancia de los servicios asociados, normalmente porque la instancia del servicio ha terminado antes de que se recibió el mensaje.</span><span class="sxs-lookup"><span data-stu-id="0b770-216">An orphaned or zombie message is a message that does not have an associated service instance, typically because the service instance has terminated before the message was received.</span></span> <span data-ttu-id="0b770-217">Un servicio huérfano o zombie es un servicio que no tiene ningún mensaje asociado.</span><span class="sxs-lookup"><span data-stu-id="0b770-217">An orphaned or zombie service is a service that does not have any associated messages.</span></span> <span data-ttu-id="0b770-218">Para obtener más información acerca de mensajes de zombie e instancias de servicio en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] vea [Zombies en BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=153454) (http://go.microsoft.com/fwlink/?LinkId=153454).</span><span class="sxs-lookup"><span data-stu-id="0b770-218">For more information about zombie messages and service instances in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] see [Zombies in BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=153454) (http://go.microsoft.com/fwlink/?LinkId=153454).</span></span>|  
|<span data-ttu-id="0b770-219">Supervisar los contadores de rendimiento de la **PhysicalDisk** objeto de rendimiento</span><span class="sxs-lookup"><span data-stu-id="0b770-219">Monitor the performance counters of the **PhysicalDisk** performance object</span></span>|[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="0b770-220">realiza un gran número de transacciones cortas, muy rápidas a SQL Server en un minuto.</span><span class="sxs-lookup"><span data-stu-id="0b770-220"> makes a large number of short, very quick transactions to SQL Server within one minute.</span></span> <span data-ttu-id="0b770-221">Si el servidor SQL Server no puede admitir esta actividad, puede experimentar [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] problemas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0b770-221">If the SQL Server cannot sustain this activity, you may experience [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] performance issues.</span></span> <span data-ttu-id="0b770-222">Monitor de la **AVG. Segundos de disco/lectura**, **AVG. Segundos/transferencia**, y **AVG. Segundos/escritura** contadores de monitor de rendimiento en el **PhysicalDisk** objeto de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0b770-222">Monitor the **Avg. Disk sec/Read**, **Avg. Disk sec/Transfer**, and **Avg. Disk sec/Write** performance monitor counters in the **PhysicalDisk** performance object.</span></span> <span data-ttu-id="0b770-223">El valor óptimo es inferior a 10 ms (milisegundos).</span><span class="sxs-lookup"><span data-stu-id="0b770-223">The optimal value is less than 10 ms (milliseconds).</span></span> <span data-ttu-id="0b770-224">Un valor de 20 ms o superior se considera un rendimiento bajo.</span><span class="sxs-lookup"><span data-stu-id="0b770-224">A value of 20 ms or larger is considered poor performance.</span></span><br /><br /> <span data-ttu-id="0b770-225">-Para obtener más información sobre el rendimiento de SQL Server 2005, consulte [solucionar problemas de rendimiento en SQL Server 2005](http://go.microsoft.com/fwlink/?LinkID=153585) (http://go.microsoft.com/fwlink/?LinkID=153585).</span><span class="sxs-lookup"><span data-stu-id="0b770-225">-   For more information about SQL Server 2005 performance, see [Troubleshooting Performance Problems in SQL Server 2005](http://go.microsoft.com/fwlink/?LinkID=153585) (http://go.microsoft.com/fwlink/?LinkID=153585).</span></span><br /><span data-ttu-id="0b770-226">-Para obtener más información sobre el rendimiento de SQL Server 2008, consulte [solucionar problemas de rendimiento en SQL Server 2008](http://go.microsoft.com/fwlink/?LinkID=153586) (http://go.microsoft.com/fwlink/?LinkID=153586).</span><span class="sxs-lookup"><span data-stu-id="0b770-226">-   For more information about SQL Server 2008 performance, see [Troubleshooting Performance Problems in SQL Server 2008](http://go.microsoft.com/fwlink/?LinkID=153586) (http://go.microsoft.com/fwlink/?LinkID=153586).</span></span><br /><span data-ttu-id="0b770-227">-Para obtener más información acerca de [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] base de datos de alta disponibilidad, vea [proporcionar una alta disponibilidad para bases de datos de BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=153587) (http://go.microsoft.com/fwlink/?LinkId=153587).</span><span class="sxs-lookup"><span data-stu-id="0b770-227">-   For more information about [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] database high availability, see [Providing High Availability for BizTalk Server Databases](http://go.microsoft.com/fwlink/?LinkId=153587) (http://go.microsoft.com/fwlink/?LinkId=153587).</span></span><br /><br /> <span data-ttu-id="0b770-228">También puede hacer referencia a los artículos de Microsoft Knowledge Base siguientes para obtener más información sobre el rendimiento de SQL Server:</span><span class="sxs-lookup"><span data-stu-id="0b770-228">You can also refer to the following Microsoft Knowledge Base articles for more information about SQL Server performance:</span></span><br /><br /> <span data-ttu-id="0b770-229">-   **298475** : ["Cómo solucionar problemas de rendimiento de SQL Server"](http://go.microsoft.com/fwlink/?LinkId=153588) (http://go.microsoft.com/fwlink/?LinkId=153588).</span><span class="sxs-lookup"><span data-stu-id="0b770-229">-   **298475** – ["How to troubleshoot SQL Server performance issues”](http://go.microsoft.com/fwlink/?LinkId=153588) (http://go.microsoft.com/fwlink/?LinkId=153588).</span></span><br /><span data-ttu-id="0b770-230">-   **271509** : ["Cómo supervisar los bloqueos en SQL Server 2005"](http://go.microsoft.com/fwlink/?LinkId=153589) (http://go.microsoft.com/fwlink/?LinkId=153589).</span><span class="sxs-lookup"><span data-stu-id="0b770-230">-   **271509** – ["How to monitor blocking in SQL Server 2005"](http://go.microsoft.com/fwlink/?LinkId=153589) (http://go.microsoft.com/fwlink/?LinkId=153589).</span></span>|  
|<span data-ttu-id="0b770-231">Siga las prácticas recomendadas para [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-231">Follow best practices for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>|<span data-ttu-id="0b770-232">Vea [prácticas recomendadas para el mantenimiento de bases de datos de BizTalk Server](~/technical-guides/best-practices-for-maintaining-biztalk-server-databases.md).</span><span class="sxs-lookup"><span data-stu-id="0b770-232">See [Best Practices for Maintaining BizTalk Server Databases](~/technical-guides/best-practices-for-maintaining-biztalk-server-databases.md).</span></span>|  
  
<a name="BKMK_Troubleshoot"></a>   
## <a name="troubleshooting-biztalk-server-databases"></a><span data-ttu-id="0b770-233">Solución de problemas de las bases de datos de servidor BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="0b770-233">Troubleshooting BizTalk Server Databases</span></span>  
 <span data-ttu-id="0b770-234">Realizar las siguientes tareas para solucionar los problemas con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-234">Perform the following tasks to troubleshoot any issues with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
|<span data-ttu-id="0b770-235">Pasos</span><span class="sxs-lookup"><span data-stu-id="0b770-235">Steps</span></span>|<span data-ttu-id="0b770-236">Referencia</span><span class="sxs-lookup"><span data-stu-id="0b770-236">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="0b770-237">Asegúrese de que todas las necesarias trabajos del Agente SQL Server de BizTalk están habilitados y en ejecución</span><span class="sxs-lookup"><span data-stu-id="0b770-237">Ensure all required BizTalk SQL Server Agent jobs are enabled and running</span></span>|<span data-ttu-id="0b770-238">Todos los BizTalk Agente SQL Server trabajos excepto la **MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb** trabajo debe estar habilitado y ejecutándose correctamente.</span><span class="sxs-lookup"><span data-stu-id="0b770-238">All the BizTalk SQL Server Agent jobs except the **MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb** job should be enabled and running successfully.</span></span> <span data-ttu-id="0b770-239">No deshabilite cualquier otro trabajo.</span><span class="sxs-lookup"><span data-stu-id="0b770-239">Do not disable any other job.</span></span><br /><br /> <span data-ttu-id="0b770-240">Si se produce un error, use la **Ver historial** opción en SQL Server para ver la información de error y, a continuación, solucionar el problema en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="0b770-240">If a failure occurs, use the **View History** option in SQL Server to view the error information, and then troubleshoot the failure accordingly.</span></span> <span data-ttu-id="0b770-241">Recuerde que el **_Message_ManageRefCountLog_BizTalkMsgBoxDb MessageBox** trabajo del Agente SQL Server se ejecutará infinitamente.</span><span class="sxs-lookup"><span data-stu-id="0b770-241">Remember that the **MessageBox _Message_ManageRefCountLog_BizTalkMsgBoxDb** SQL Server Agent job runs infinitely.</span></span> <span data-ttu-id="0b770-242">Por lo tanto, solo deben preocuparle si el historial de trabajos informa de que el trabajo constantemente se produce un error y se reinicia.</span><span class="sxs-lookup"><span data-stu-id="0b770-242">Therefore, you should only be concerned if the job history reports that the job constantly fails and restarts.</span></span>|  
|<span data-ttu-id="0b770-243">Utilice la herramienta MsgBoxViewer para analizar el BizTalk MessageBox y otras bases de datos</span><span class="sxs-lookup"><span data-stu-id="0b770-243">Use the MsgBoxViewer tool to analyze the BizTalk MessageBox and other databases</span></span>|<span data-ttu-id="0b770-244">**Importante:** no se admite el uso de esta herramienta por Microsoft y Microsoft no otorga ninguna garantía sobre la idoneidad de este programa.</span><span class="sxs-lookup"><span data-stu-id="0b770-244">**Important:**  Use of this tool is not supported by Microsoft, and Microsoft makes no guarantees about the suitability of this programs.</span></span> <span data-ttu-id="0b770-245">La utilización de este programa queda bajo su propia responsabilidad.</span><span class="sxs-lookup"><span data-stu-id="0b770-245">Use of this program is entirely at your own risk.</span></span> <br /><br /> <span data-ttu-id="0b770-246">Está disponible en la herramienta de MsgBoxViewer [http://go.microsoft.com/fwlink/?LinkId=151930](http://go.microsoft.com/fwlink/?LinkId=151930) (http://go.microsoft.com/fwlink/?LinkId=151930).</span><span class="sxs-lookup"><span data-stu-id="0b770-246">The MsgBoxViewer tool is available from [http://go.microsoft.com/fwlink/?LinkId=151930](http://go.microsoft.com/fwlink/?LinkId=151930) (http://go.microsoft.com/fwlink/?LinkId=151930).</span></span> <span data-ttu-id="0b770-247">La herramienta MsgBoxViewer es útil para solucionar problemas porque proporciona un informe HTML que contiene información detallada sobre el tamaño de la tabla y el recuento de filas.</span><span class="sxs-lookup"><span data-stu-id="0b770-247">The MsgBoxViewer tool is useful for troubleshooting because it provides an HTML report that has detailed information about table sizes and the row count.</span></span> <span data-ttu-id="0b770-248">El informe también puede ayudar a determinar si [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] está limitando.</span><span class="sxs-lookup"><span data-stu-id="0b770-248">The report can also help determine whether [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is throttling.</span></span> <span data-ttu-id="0b770-249">Además, la herramienta proporciona una instantánea de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos y la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] configuración.</span><span class="sxs-lookup"><span data-stu-id="0b770-249">Additionally, the tool provides a snapshot of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases and the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] configuration.</span></span><br /><br /> <span data-ttu-id="0b770-250">Cuando [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] está ejecutando más lentamente de lo habitual, ejecute la herramienta MsgBoxViewer, haga clic para seleccionar todas las consultas en el **consultas opcional** ficha y, a continuación, revise el informe HTML generado para cualquier problema.</span><span class="sxs-lookup"><span data-stu-id="0b770-250">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is running slower than usual, run the MsgBoxViewer tool, click to select all queries on the **Optional Queries** tab, and then review the generated HTML report for any problems.</span></span> <span data-ttu-id="0b770-251">El **informe resumen** sección enumeran las advertencias en amarillos y posibles problemas en rojo.</span><span class="sxs-lookup"><span data-stu-id="0b770-251">The **Summary Report** section lists warnings in yellow and potential problems in red.</span></span><br /><br /> <span data-ttu-id="0b770-252">Además, puede usar la herramienta MsgBoxViewer para determinar qué tablas son los más grandes y tienen la mayoría de los registros.</span><span class="sxs-lookup"><span data-stu-id="0b770-252">Additionally, you can use the MsgBoxViewer tool to determine which tables are the largest and have the most records.</span></span> <span data-ttu-id="0b770-253">Para obtener una lista de tablas que suelen alcanzar el larges y para obtener instrucciones sobre cómo administrar las tablas, consulte [crezca de grandes tablas de base de datos de BizTalk Server](~/technical-guides/large-growing-biztalk-server-database-tables.md).</span><span class="sxs-lookup"><span data-stu-id="0b770-253">For a list of tables that typically grow the larges and for instructions on how to manage those tables, see [Large-growing BizTalk Server Database Tables](~/technical-guides/large-growing-biztalk-server-database-tables.md).</span></span>|  
|<span data-ttu-id="0b770-254">Usar la herramienta de terminador para resolver los problemas, si existe, identificado por la herramienta MsgBoxViewer</span><span class="sxs-lookup"><span data-stu-id="0b770-254">Use the Terminator tool to resolve issues, if any, identified by the MsgBoxViewer tool</span></span>|<span data-ttu-id="0b770-255">**Importante:** no se admite el uso de esta herramienta por Microsoft y Microsoft no otorga ninguna garantía sobre la idoneidad de este programa.</span><span class="sxs-lookup"><span data-stu-id="0b770-255">**Important:**  Use of this tool is not supported by Microsoft, and Microsoft makes no guarantees about the suitability of this programs.</span></span> <span data-ttu-id="0b770-256">La utilización de este programa queda bajo su propia responsabilidad.</span><span class="sxs-lookup"><span data-stu-id="0b770-256">Use of this program is entirely at your own risk.</span></span> <br /><br /> <span data-ttu-id="0b770-257">Ejecutar la herramienta de terminador disponible en [terminador](http://go.microsoft.com/fwlink/?LinkId=151931) (http://go.microsoft.com/fwlink/?LinkId=151931).</span><span class="sxs-lookup"><span data-stu-id="0b770-257">Run the Terminator tool available at [Terminator](http://go.microsoft.com/fwlink/?LinkId=151931) (http://go.microsoft.com/fwlink/?LinkId=151931).</span></span> <span data-ttu-id="0b770-258">Esta herramienta permite a los usuarios a resolver fácilmente los problemas identificados por la herramienta de BizTalk MsgBoxViewer.</span><span class="sxs-lookup"><span data-stu-id="0b770-258">This tool enables users to easily resolve any issues identified by the BizTalk MsgBoxViewer tool.</span></span> <span data-ttu-id="0b770-259">Para obtener más información sobre cómo la herramienta de terminador se integra con la herramienta de BizTalk MsgBoxViewer, consulte [utilizando el terminador de BizTalk para resolver los problemas identificados por BizTalk MsgBoxViewer](http://go.microsoft.com/fwlink/?LinkId=151932) (http://go.microsoft.com/fwlink/?LinkId=151932).</span><span class="sxs-lookup"><span data-stu-id="0b770-259">For more information on how the Terminator tool integrates with the BizTalk MsgBoxViewer tool, see [Using BizTalk Terminator to resolve issues identified by BizTalk MsgBoxViewer](http://go.microsoft.com/fwlink/?LinkId=151932) (http://go.microsoft.com/fwlink/?LinkId=151932).</span></span>|  
|<span data-ttu-id="0b770-260">Investigar los escenarios de interbloqueo</span><span class="sxs-lookup"><span data-stu-id="0b770-260">Investigate deadlock scenarios</span></span>|<span data-ttu-id="0b770-261">En una situación de interbloqueo, habilitar el seguimiento de DBCC en SQL Server para que la información de interbloqueo se escribe en el registro SQLERROR.</span><span class="sxs-lookup"><span data-stu-id="0b770-261">In a deadlock scenario, enable DBCC tracing on the SQL Server so that the deadlock information is written to the SQLERROR log.</span></span><br /><br /> <span data-ttu-id="0b770-262">En SQL Server 2008 o SQL Server 2005, ejecute la instrucción siguiente para habilitar el seguimiento de DBCC para escenarios de interbloqueo:</span><span class="sxs-lookup"><span data-stu-id="0b770-262">In SQL Server 2008 or SQL Server 2005, execute the following statement to enable DBCC tracing for deadlock scenarios:</span></span><br /><br /> <span data-ttu-id="0b770-263">DBCC TRACEON (1222, -1)</span><span class="sxs-lookup"><span data-stu-id="0b770-263">DBCC TRACEON (1222,-1)</span></span><br /><br /> <span data-ttu-id="0b770-264">También puede usar la utilidad PSSDIAG para recopilar datos en el **Lock: Deadlock** eventos y la **Lock: Deadlock Chain** eventos.</span><span class="sxs-lookup"><span data-stu-id="0b770-264">You can also use the PSSDIAG utility to collect data on the **Lock:Deadlock** event and the **Lock:Deadlock Chain** event.</span></span> <span data-ttu-id="0b770-265">Para obtener más información acerca de la utilidad PSSDIAG, consulte [herramienta de recopilación de datos PSSDIAG](http://go.microsoft.com/fwlink/?LinkId=153627) (http://go.microsoft.com/fwlink/?LinkId=153627).</span><span class="sxs-lookup"><span data-stu-id="0b770-265">For more information about the PSSDIAG utility, see [PSSDIAG data collection utility](http://go.microsoft.com/fwlink/?LinkId=153627) (http://go.microsoft.com/fwlink/?LinkId=153627).</span></span><br /><br /> <span data-ttu-id="0b770-266">La base de datos BizTalkMsgBoxDB es una base de datos de procesamiento de transacciones en línea (OLTP) de gran volumen y altos niveles de transacciones.</span><span class="sxs-lookup"><span data-stu-id="0b770-266">The BizTalkMsgBoxDB database is a high-volume and high-transaction Online Transaction Processing (OLTP) database.</span></span> <span data-ttu-id="0b770-267">Con esas bases de datos, se espera que algunos interbloqueos y este interbloqueo se controla internamente el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] motor.</span><span class="sxs-lookup"><span data-stu-id="0b770-267">With such databases, some deadlocking is expected and this deadlocking is handled internally by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] engine.</span></span> <span data-ttu-id="0b770-268">Cuando se produce este comportamiento, errores no se muestran en los registros de errores.</span><span class="sxs-lookup"><span data-stu-id="0b770-268">When this behavior occurs, no errors are listed in the error logs.</span></span> <span data-ttu-id="0b770-269">Cuando se investiga un escenario de interbloqueo, el interbloqueo que está investigando en la salida debe poner en correlación con un error de interbloqueo en los registros de eventos.</span><span class="sxs-lookup"><span data-stu-id="0b770-269">When you investigate a deadlock scenario, the deadlock that you are investigating in the output must be correlated with a deadlock error in the event logs.</span></span>|  
|<span data-ttu-id="0b770-270">Buscar procesos bloqueados</span><span class="sxs-lookup"><span data-stu-id="0b770-270">Look for blocked processes</span></span>|<span data-ttu-id="0b770-271">Puede usar a Monitor de actividad en SQL Server para obtener el identificador de proceso de servidor (SPID) de un proceso de sistema de bloqueo.</span><span class="sxs-lookup"><span data-stu-id="0b770-271">You can use Activity Monitor in SQL Server to obtain the server process identifier (SPID) of a locking system process.</span></span> <span data-ttu-id="0b770-272">A continuación, puede ejecutar el analizador de SQL para determinar la instrucción SQL que se está ejecutando en el SPID de bloqueo.</span><span class="sxs-lookup"><span data-stu-id="0b770-272">You can then run the SQL Profiler to determine the SQL statement that is executing in the locking SPID.</span></span> <span data-ttu-id="0b770-273">Puede usar la utilidad PSSDIAG para solucionar problemas de bloqueo en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b770-273">You can use the PSSDIAG utility to troubleshoot locking and blocking issues in SQL Server.</span></span> <span data-ttu-id="0b770-274">La utilidad de captura todos los eventos de Transact-SQL que tienen un bloqueo script habilitado.</span><span class="sxs-lookup"><span data-stu-id="0b770-274">The utility captures all the Transact-SQL events that have the blocking script enabled.</span></span> <span data-ttu-id="0b770-275">Para obtener más información acerca de la utilidad PSSDIAG, consulte [herramienta de recopilación de datos PSSDIAG](http://go.microsoft.com/fwlink/?LinkId=153627) (http://go.microsoft.com/fwlink/?LinkId=153627).</span><span class="sxs-lookup"><span data-stu-id="0b770-275">For more information about the PSSDIAG utility, see [PSSDIAG data collection utility](http://go.microsoft.com/fwlink/?LinkId=153627) (http://go.microsoft.com/fwlink/?LinkId=153627).</span></span><br /><br /> <span data-ttu-id="0b770-276">En SQL Server 2005 y versiones posteriores, puede especificar el **bloqueado umbral de procesos** configuración para determinar qué SPID o SPID están bloqueando ya que el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="0b770-276">In SQL Server 2005 and later versions, you can specify the **blocked process threshold** setting to determine which SPID or SPIDs are blocking longer than the threshold that you specify.</span></span> <span data-ttu-id="0b770-277">Para obtener más información acerca de la opción de umbral de procesos bloqueados, consulte [bloquea la opción de umbral de proceso](http://go.microsoft.com/fwlink/?LinkId=153628) (http://go.microsoft.com/fwlink/?LinkId=153628).</span><span class="sxs-lookup"><span data-stu-id="0b770-277">For more information about the blocked process threshold option, see [blocked process threshold Option](http://go.microsoft.com/fwlink/?LinkId=153628) (http://go.microsoft.com/fwlink/?LinkId=153628).</span></span> <span data-ttu-id="0b770-278">**Nota:** cuando experimenta un problema de bloqueo o de bloqueo en SQL Server, se recomienda que póngase en contacto con los servicios de soporte técnico de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="0b770-278">**Note:**  When you experience a locking or blocking issue in SQL Server, we recommend that you contact Microsoft Customer Support Services.</span></span> <span data-ttu-id="0b770-279">Servicios de soporte técnico de Microsoft puede ayudarle a configurar las opciones de la utilidad PSSDiag correctas.</span><span class="sxs-lookup"><span data-stu-id="0b770-279">Microsoft Customer Support Services can help you configure the correct PSSDiag utility options.</span></span>|  
|<span data-ttu-id="0b770-280">Eliminar todos los datos no deseados</span><span class="sxs-lookup"><span data-stu-id="0b770-280">Delete all unwanted data</span></span>|<span data-ttu-id="0b770-281">Si las bases de datos han aumentado y es demasiado grande y los datos contenidos en las bases de datos no será necesarios ya, es el método preferido eliminar los datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-281">If the databases have grown to become too large and if the data contained in the databases will not be required any longer, the preferred method is to delete the data.</span></span> <span data-ttu-id="0b770-282">**Precaución:** no utilice este método en cualquier entorno donde los datos son cruciales para la empresa o si se necesitan los datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-282">**Caution:**  Do not use this method in any environment where the data is business critical or if the data is needed.</span></span> <br /><br /> <span data-ttu-id="0b770-283">**Para purgar la base de datos BizTalkMsgBox**</span><span class="sxs-lookup"><span data-stu-id="0b770-283">**To purge the BizTalkMsgBox database**</span></span><br /> <span data-ttu-id="0b770-284">1.  Descargue e instale la herramienta de terminador en [terminador de Biztalk](http://go.microsoft.com/fwlink/?LinkId=220869) (http://go.microsoft.com/fwlink/?LinkId=220869).</span><span class="sxs-lookup"><span data-stu-id="0b770-284">1.  Download and install the Terminator tool at [Biztalk Terminator](http://go.microsoft.com/fwlink/?LinkId=220869) (http://go.microsoft.com/fwlink/?LinkId=220869).</span></span><br /><span data-ttu-id="0b770-285">2.  Siga los pasos descritos en el tema [cómo purgar datos manualmente desde la base de datos de cuadro de mensajes en un entorno de prueba](http://go.microsoft.com/fwlink/?LinkID=158064) (http://go.microsoft.com/fwlink/?LinkID=158064) para crear el bts_CleanupMsgbox el procedimiento almacenado en la base de datos de BizTalk MessageBox.</span><span class="sxs-lookup"><span data-stu-id="0b770-285">2.  Follow the steps in the topic [How to Manually Purge Data from the MessageBox Database in a Test Environment](http://go.microsoft.com/fwlink/?LinkID=158064) (http://go.microsoft.com/fwlink/?LinkID=158064) to create the bts_CleanupMsgbox stored procedure in the BizTalk MessageBox database.</span></span><br /><span data-ttu-id="0b770-286">3.  Utilice la herramienta de terminador para ejecutar el procedimiento almacenado bts_CleanupMsgbox y purgar la base de datos de BizTalk MessageBox.</span><span class="sxs-lookup"><span data-stu-id="0b770-286">3.  Use the Terminator tool to execute the bts_CleanupMsgbox stored procedure and purge the BizTalk MessageBox database.</span></span> <span data-ttu-id="0b770-287">**Advertencia:** no ejecute el procedimiento almacenado bts_CleanupMsgbox en un servidor de producción que ejecuta BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="0b770-287">**Warning:**      Do not run the bts_CleanupMsgbox stored procedure on a production server that is running BizTalk Server.</span></span> <span data-ttu-id="0b770-288">solo debe ejecutar el procedimiento almacenado bts_CleanupMsgbox en un entorno de prueba.</span><span class="sxs-lookup"><span data-stu-id="0b770-288">You should only run the bts_CleanupMsgbox stored procedure in a test environment.</span></span> <span data-ttu-id="0b770-289">No se admite la ejecución del procedimiento almacenado bts_CleanupMsgbox en un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="0b770-289">Running the bts_CleanupMsgbox stored procedure in a production environment is not supported.</span></span><br /><span data-ttu-id="0b770-290">4.  Reinicie todos los hosts y [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] servicios.</span><span class="sxs-lookup"><span data-stu-id="0b770-290">4.  Restart all hosts and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services.</span></span><br /><br /> <span data-ttu-id="0b770-291">**Para purgar la base de datos de BizTalkDTADb**</span><span class="sxs-lookup"><span data-stu-id="0b770-291">**To purge the BizTalkDTADb database**</span></span><br /> <ul><li><span data-ttu-id="0b770-292">**Método 1**</span><span class="sxs-lookup"><span data-stu-id="0b770-292">**Method 1**</span></span><br /><br /> <ol><li><span data-ttu-id="0b770-293">Realizar copias de seguridad de todos los [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-293">Back up all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span></li><li><span data-ttu-id="0b770-294">Ejecute el **dtasp_PurgeAllCompletedTrackingData** procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="0b770-294">Execute the **dtasp_PurgeAllCompletedTrackingData** stored procedure.</span></span> <span data-ttu-id="0b770-295">Para obtener más información acerca del procedimiento almacenado, vea [cómo purgar datos manualmente desde la base de datos de seguimiento de BizTalk](http://go.microsoft.com/fwlink/?LinkId=153635) (http://go.microsoft.com/fwlink/?LinkId=153635).</span><span class="sxs-lookup"><span data-stu-id="0b770-295">For more information about the stored procedure, see [How to Manually Purge Data from the BizTalk Tracking Database](http://go.microsoft.com/fwlink/?LinkId=153635) (http://go.microsoft.com/fwlink/?LinkId=153635).</span></span></li></ol></li><li><span data-ttu-id="0b770-296">**Método 2**.</span><span class="sxs-lookup"><span data-stu-id="0b770-296">**Method 2**.</span></span> <span data-ttu-id="0b770-297">Utilice esta opción únicamente si la base de datos de BizTalkDTADb contiene muchas instancias incompletas que se deben quitar.</span><span class="sxs-lookup"><span data-stu-id="0b770-297">Use this option only if the BizTalkDTADb database contains many incomplete instances that must be removed.</span></span><br /><br /> <ol><li><span data-ttu-id="0b770-298">Realizar copias de seguridad de todos los [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="0b770-298">Back up all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span></li><li><span data-ttu-id="0b770-299">Detenga todos los hosts de BizTalk, servicios y adaptadores aislados personalizados.</span><span class="sxs-lookup"><span data-stu-id="0b770-299">Stop all BizTalk hosts, services, and custom isolated adapters.</span></span> <span data-ttu-id="0b770-300">Si usa el adaptador SOAP o HTTP, reinicie los servicios IIS.</span><span class="sxs-lookup"><span data-stu-id="0b770-300">If you use HTTP or the SOAP adapter, restart the IIS services.</span></span></li><li><span data-ttu-id="0b770-301">Ejecute el **dtasp_CleanHMData** procedimiento almacenado en la base de datos de BizTalkDTADb.</span><span class="sxs-lookup"><span data-stu-id="0b770-301">Execute the **dtasp_CleanHMData** stored procedure on the BizTalkDTADb database.</span></span></li><li><span data-ttu-id="0b770-302">Reinicie todos los hosts y [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] servicios.</span><span class="sxs-lookup"><span data-stu-id="0b770-302">Restart all hosts and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services.</span></span></li></ol></li></ul> <span data-ttu-id="0b770-303">**Nota:** si es necesario disponer los datos de seguimiento, realizar copias de seguridad la base de datos BizTalkDTADb, restaurar la base de datos a otro servidor SQL Server y, a continuación, purgar la base de datos de BizTalkDTADb original.</span><span class="sxs-lookup"><span data-stu-id="0b770-303">**Note:**  If you must have the tracking data, back up the BizTalkDTADb database, restore the database to another SQL Server, and then purge the original BizTalkDTADb database.</span></span>|  
  
 <span data-ttu-id="0b770-304">Si necesita ayuda para analizar los datos de MsgBoxViewer o la salida PSSDIAG, póngase en contacto con los servicios de soporte técnico de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="0b770-304">If you want help analyzing the MsgBoxViewer data or PSSDIAG output, contact Microsoft Customer Support Services.</span></span> <span data-ttu-id="0b770-305">Antes de ponerse en contacto con los servicios de soporte técnico al cliente, comprimir los datos de MsgBoxViewer, la salida PSSDIAG y los registros de eventos actualizados (archivos evt).</span><span class="sxs-lookup"><span data-stu-id="0b770-305">Before you contact Customer Support Services, compress the MsgBoxViewer data, the PSSDIAG output, and the updated event logs (.evt files).</span></span> <span data-ttu-id="0b770-306">Puede que tenga que enviar estos archivos a un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ingeniero de soporte técnico</span><span class="sxs-lookup"><span data-stu-id="0b770-306">You may have to send these files to a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] support engineer</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="0b770-307">En esta sección</span><span class="sxs-lookup"><span data-stu-id="0b770-307">In This Section</span></span>  
  
-   [<span data-ttu-id="0b770-308">Prácticas recomendadas para el mantenimiento de bases de datos de servidor BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="0b770-308">Best Practices for Maintaining BizTalk Server Databases</span></span>](~/technical-guides/best-practices-for-maintaining-biztalk-server-databases.md)  
  
-   [<span data-ttu-id="0b770-309">Tablas de base de datos de servidor BizTalk Server de gran crecimiento</span><span class="sxs-lookup"><span data-stu-id="0b770-309">Large-growing BizTalk Server Database Tables</span></span>](~/technical-guides/large-growing-biztalk-server-database-tables.md)  
  
-   [<span data-ttu-id="0b770-310">Herramientas y utilidades para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="0b770-310">Tools and Utilities for Troubleshooting</span></span>](../technical-guides/tools-and-utilities-for-troubleshooting.md)  
  
## <a name="see-also"></a><span data-ttu-id="0b770-311">Vea también</span><span class="sxs-lookup"><span data-stu-id="0b770-311">See Also</span></span>  
 [<span data-ttu-id="0b770-312">Configuración de SQL Server que no se debe cambiar</span><span class="sxs-lookup"><span data-stu-id="0b770-312">SQL Server Settings That Should Not Be Changed</span></span>](~/technical-guides/sql-server-settings-that-should-not-be-changed.md)