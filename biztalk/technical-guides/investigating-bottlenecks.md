---
title: Investigación de cuellos de botella | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2ab8e485-ffe5-4f71-9ce2-f72c0c939e5d
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e34d01bbfafd1a05f87fff5cda2b21764d43f42b
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22298844"
---
# <a name="investigating-bottlenecks"></a><span data-ttu-id="74510-102">Investigación de cuellos de botella</span><span class="sxs-lookup"><span data-stu-id="74510-102">Investigating Bottlenecks</span></span>
<span data-ttu-id="74510-103">Este tema describe un proceso recomendado para investigar los cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="74510-103">This topic describes a recommended process for investigating bottlenecks.</span></span>  
  
## <a name="what-is-the-source-of-the-problem"></a><span data-ttu-id="74510-104">¿Cuál es el origen del problema?</span><span class="sxs-lookup"><span data-stu-id="74510-104">What is the source of the problem?</span></span>  
 <span data-ttu-id="74510-105">Podría ser el origen del cuello de botella de hardware o software relacionado con.</span><span class="sxs-lookup"><span data-stu-id="74510-105">The source of the bottleneck could be hardware or software related.</span></span> <span data-ttu-id="74510-106">Cuando los recursos están infrautilizados, suele ser una indicación de un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="74510-106">When resources are underused, it is usually an indication of a bottleneck.</span></span> <span data-ttu-id="74510-107">Cuellos de botella pueden deberse a limitaciones de hardware, por las configuraciones de software poco eficaz o por ambos.</span><span class="sxs-lookup"><span data-stu-id="74510-107">Bottlenecks can be caused by hardware limitations, by inefficient software configurations, or by both.</span></span>  
  
 <span data-ttu-id="74510-108">La identificación de cuellos de botella es un proceso incremental, donde la solución de un cuello de botella puede llevar a descubrir otro.</span><span class="sxs-lookup"><span data-stu-id="74510-108">Identifying bottlenecks is an incremental process whereby alleviating one bottleneck can lead to the discovery of the next one.</span></span> <span data-ttu-id="74510-109">El objetivo de este tema consiste en encontrar el modo de identificar y solucionar estos cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="74510-109">The science of identifying and alleviating these bottlenecks is the objective of this topic.</span></span> <span data-ttu-id="74510-110">Es posible que un sistema obtenga valores máximos durante breves períodos de tiempo.</span><span class="sxs-lookup"><span data-stu-id="74510-110">It is possible for a system to perform at peaks for short periods of time.</span></span> <span data-ttu-id="74510-111">Sin embargo, para un rendimiento sostenible un sistema solo podrá procesar tan rápido como su componente de realización más lento.</span><span class="sxs-lookup"><span data-stu-id="74510-111">However, for sustainable throughput a system can only process as fast as its slowest performing component.</span></span>  
  
## <a name="using-an-iterative-approach-to-testing"></a><span data-ttu-id="74510-112">Si aplica un enfoque iterativo a las pruebas</span><span class="sxs-lookup"><span data-stu-id="74510-112">Using an iterative approach to testing</span></span>  
 <span data-ttu-id="74510-113">Pueden producirse cuellos de botella en los puntos de conexión (entrada/salida) del sistema o en el medio (orquestación/base de datos).</span><span class="sxs-lookup"><span data-stu-id="74510-113">Bottlenecks can occur at the endpoints (entry/exit) of the system or in the middle (orchestration/database).</span></span> <span data-ttu-id="74510-114">Después de que el cuello de botella se ha aislado, use un enfoque estructurado para identificar el origen.</span><span class="sxs-lookup"><span data-stu-id="74510-114">After the bottleneck has been isolated, use a structured approach to identify the source.</span></span> <span data-ttu-id="74510-115">Después de que el cuello de botella se ve facilitado, es importante medir el rendimiento para asegurarse de que un cuello de botella nuevo no se ha introducido en otro lugar en el sistema.</span><span class="sxs-lookup"><span data-stu-id="74510-115">After the bottleneck is eased, it is important to measure performance again to ensure that a new bottleneck has not been introduced elsewhere in the system.</span></span>  
  
 <span data-ttu-id="74510-116">El proceso de identificar y corregir cuellos de botella debería realizarse de forma iterativa.</span><span class="sxs-lookup"><span data-stu-id="74510-116">The process of identifying and fixing bottlenecks should be done in an iterative manner.</span></span> <span data-ttu-id="74510-117">Variar solo un parámetro a la vez, repetir exactamente los mismos pasos durante cada ejecución de pruebas y, a continuación, medir el rendimiento para comprobar el impacto de la modificación único.</span><span class="sxs-lookup"><span data-stu-id="74510-117">Vary only one parameter at a time, repeat exactly the same steps during each test run, and then measure performance to verify the impact of the single modification.</span></span> <span data-ttu-id="74510-118">Si se modifica más de un parámetro de una vez, podría ocultarse el efecto del cambio.</span><span class="sxs-lookup"><span data-stu-id="74510-118">Varying more than one parameter at a time could conceal the effect of the change.</span></span>  
  
 <span data-ttu-id="74510-119">Por ejemplo, cambiar el parámetro 1 podría mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="74510-119">For example, changing parameter 1 could improve performance.</span></span> <span data-ttu-id="74510-120">Sin embargo, el cambio de parámetro 2 junto con el parámetro 1 podría tener un efecto negativo y anular las ventajas de cambiar el parámetro 1.</span><span class="sxs-lookup"><span data-stu-id="74510-120">However, changing parameter 2 in conjunction with changing parameter 1 could have a detrimental effect and negate the benefits of changing parameter 1.</span></span> <span data-ttu-id="74510-121">Esto conduce a una red de cero efecto y da como resultado un falso negativo en el efecto de modificar el parámetro 1 y un falso positivo en el efecto de modificar el parámetro 2.</span><span class="sxs-lookup"><span data-stu-id="74510-121">This leads to a net zero effect and results in a false negative on the effect of varying parameter 1 and a false positive on the effect of varying parameter 2.</span></span>  
  
## <a name="testing-consistency"></a><span data-ttu-id="74510-122">Comprobar coherencia</span><span class="sxs-lookup"><span data-stu-id="74510-122">Testing consistency</span></span>  
 <span data-ttu-id="74510-123">Medir las características de rendimiento después de cambiar la configuración debe realizarse para validar el efecto del cambio.</span><span class="sxs-lookup"><span data-stu-id="74510-123">Measuring performance characteristics after changing settings should be done to validate the effect of the change.</span></span>  
  
-   <span data-ttu-id="74510-124">**Hardware -** usar hardware coherente ya que modifica el hardware puede producir un comportamiento incoherente y generar resultados engañosos.</span><span class="sxs-lookup"><span data-stu-id="74510-124">**Hardware -** Use consistent hardware because varying the hardware can cause inconsistent behavior and produce misleading results.</span></span> <span data-ttu-id="74510-125">Por ejemplo, no utilizaría un equipo portátil para probar el rendimiento de una solución de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="74510-125">For example, you would not use a laptop to test performance of a BizTalk solution.</span></span>  
  
-   <span data-ttu-id="74510-126">**Probar la duración de ejecución -** medir el rendimiento durante un período mínimo definido para asegurarse de que los resultados son sostenibles.</span><span class="sxs-lookup"><span data-stu-id="74510-126">**Test Run Duration -** Measure performance for a fixed minimum period to ensure that the results are sustainable.</span></span> <span data-ttu-id="74510-127">Ejecutar pruebas durante períodos más largos también garantiza que el sistema ha pasado a través de la preparación inicial período donde se rellenan todas las memorias caché, las tablas de base de datos han alcanzado los recuentos esperados y limitación debido a un tiempo suficiente para regular el rendimiento una vez predefinida se alcanzan los umbrales.</span><span class="sxs-lookup"><span data-stu-id="74510-127">Running tests for longer periods also ensures the system has gone through the initial warm/ramp up period where all caches are populated, database tables have reached expected counts, and throttling is given sufficient time to regulate throughput once predefined thresholds are hit.</span></span> <span data-ttu-id="74510-128">Este enfoque ayudará a descubrir el rendimiento óptimo sostenible.</span><span class="sxs-lookup"><span data-stu-id="74510-128">This approach will help discover optimal sustainable throughput.</span></span>  
  
-   <span data-ttu-id="74510-129">**Probar los parámetros –** no varían los parámetros de prueba de la ejecución de pruebas para la ejecución de pruebas.</span><span class="sxs-lookup"><span data-stu-id="74510-129">**Test Parameters –** Do not vary test parameters from test run to test run.</span></span> <span data-ttu-id="74510-130">Por ejemplo, si se modifica la complejidad de asignación o el tamaño del documento, se pueden producir resultados de latencia y rendimientos distintos.</span><span class="sxs-lookup"><span data-stu-id="74510-130">For example, varying map complexity and/or document sizes can produce different throughput and latency results.</span></span>  
  
-   <span data-ttu-id="74510-131">**Limpiar el estado -** una vez completada una prueba, asegúrese de que el estado del entorno de prueba está limpio antes de ejecutar la prueba siguiente.</span><span class="sxs-lookup"><span data-stu-id="74510-131">**Clean State -** After a test is complete, ensure that the state of the test environment is clean before running the next test.</span></span> <span data-ttu-id="74510-132">Por ejemplo, los datos históricos pueden acumular en la base de datos que afectan a rendimiento en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="74510-132">For example, historical data can build up in the database affecting run-time throughput.</span></span> <span data-ttu-id="74510-133">Reciclar las instancias de servicio ayuda a los recursos almacenados en caché como subprocesos, memoria y las conexiones de base de datos de la versión.</span><span class="sxs-lookup"><span data-stu-id="74510-133">Recycling the service instances helps to release cached resources like memory, database connections, and threads.</span></span> <span data-ttu-id="74510-134">En el entorno de prueba, puede que desee crear y ejecutar el procedimiento almacenado bts_CleanupMsgbox tal y como se describe en [cómo purgar datos manualmente desde la base de datos de cuadro de mensajes en un entorno de prueba](http://go.microsoft.com/fwlink/?LinkId=158064) (http://go.microsoft.com/fwlink/?LinkId=158064).</span><span class="sxs-lookup"><span data-stu-id="74510-134">In your test environment, you may want to create and execute the bts_CleanupMsgbox stored procedure as described in [How to Manually Purge Data from the MessageBox Database in a Test Environment](http://go.microsoft.com/fwlink/?LinkId=158064) (http://go.microsoft.com/fwlink/?LinkId=158064).</span></span> <span data-ttu-id="74510-135">Esta secuencia de comandos está diseñada para devolver el entorno de prueba de BizTalk Server a un nuevo estado en relación con el cuadro de mensaje entre ejecuciones.</span><span class="sxs-lookup"><span data-stu-id="74510-135">This script is intended to return your BizTalk Server test environment to a fresh state with regards to the Message Box between runs.</span></span> <span data-ttu-id="74510-136">La secuencia de comandos elimina todas las instancias en ejecución y toda la información acerca de esas instancias como estado, mensajes y las suscripciones, pero deja todas las suscripciones de activación de modo que no es necesario volver a dar de alta las orquestaciones o puertos de envío.</span><span class="sxs-lookup"><span data-stu-id="74510-136">The script deletes all running instances and all information about those instances including state, messages, and subscriptions, but leaves all activation subscriptions so you do not have to re-enlist your orchestrations or send ports.</span></span> <span data-ttu-id="74510-137">Tenga en cuenta que esta herramienta no se admite en sistemas de producción.</span><span class="sxs-lookup"><span data-stu-id="74510-137">Note that this tool is not supported on production systems.</span></span>  
  
-   <span data-ttu-id="74510-138">**Pruebas de rendimiento y optimización -** el objetivo de esta categoría de prueba es maximizar el rendimiento y la capacidad de la aplicación y busque el rendimiento sostenible máximo (MST) del sistema.</span><span class="sxs-lookup"><span data-stu-id="74510-138">**Performance Testing and Tuning -** The goal of this test category is to maximize performance and throughput of your application and find the Maximum Sustainable Throughput (MST) of your system.</span></span>  <span data-ttu-id="74510-139">Para obtener más información sobre cómo planear y medir el rendimiento máximo sostenible vea [planear el rendimiento sostenido de](http://go.microsoft.com/fwlink/?LinkId=158065) (http://go.microsoft.com/fwlink/?LinkId=158065) y [¿qué es rendimiento sostenible?](http://go.microsoft.com/fwlink/?LinkId=132304)</span><span class="sxs-lookup"><span data-stu-id="74510-139">For more information about planning and measuring Maximum Sustainable Performance see [Planning for Sustained Performance](http://go.microsoft.com/fwlink/?LinkId=158065) (http://go.microsoft.com/fwlink/?LinkId=158065) and [What Is Sustainable Performance?](http://go.microsoft.com/fwlink/?LinkId=132304)</span></span> <span data-ttu-id="74510-140">(http://go.microsoft.com/fwlink/?LinkId=132304).</span><span class="sxs-lookup"><span data-stu-id="74510-140">(http://go.microsoft.com/fwlink/?LinkId=132304).</span></span>  
  
     <span data-ttu-id="74510-141">El MST es la mayor carga de tráfico de mensajes que puede administrar un sistema indefinidamente en un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="74510-141">The MST is the highest load of message traffic that a system can handle indefinitely in a production environment.</span></span> <span data-ttu-id="74510-142">Todas las aplicaciones de BizTalk deben probarse para rendimiento y antes de pasar a producción.</span><span class="sxs-lookup"><span data-stu-id="74510-142">All BizTalk applications should be tested for performance and throughput before going into production.</span></span> <span data-ttu-id="74510-143">Como mínimo, debe ejecutar un conjunto representativo de los casos de prueba que representan los escenarios de uso más comunes.</span><span class="sxs-lookup"><span data-stu-id="74510-143">At a minimum, you should run a representative set of test cases that represent the most common usage scenarios.</span></span> <span data-ttu-id="74510-144">Se recomienda realizar pruebas en cargas esperadas y picos de carga en un entorno independiente que coincida con las características del entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="74510-144">We recommend that you test against expected loads and peak loads in a separate environment that matches characteristics of the production environment.</span></span> <span data-ttu-id="74510-145">Este entorno debe tener todos los servicios corporativos estándares instalado y en ejecución, como agentes de supervisión y el software antivirus.</span><span class="sxs-lookup"><span data-stu-id="74510-145">This environment should have all of the corporate standard services installed and running, such as monitoring agents, and antivirus software.</span></span>  
  
-   <span data-ttu-id="74510-146">También le recomendamos que pruebe nuevas aplicaciones de BizTalk en el mismo hardware en producción junto con las demás aplicaciones de BizTalk que se ejecutan.</span><span class="sxs-lookup"><span data-stu-id="74510-146">We also recommend that you test new BizTalk applications on the same hardware in production alongside the other BizTalk applications that are running.</span></span> <span data-ttu-id="74510-147">Estas otras aplicaciones de BizTalk colocan una carga adicional en BizTalk Server, SQL Server, E/S de red y E/S de disco.</span><span class="sxs-lookup"><span data-stu-id="74510-147">These other BizTalk applications put additional load on the BizTalk Server, SQL Server, network I/O, and disk I/O.</span></span> <span data-ttu-id="74510-148">Además, una aplicación de BizTalk podría producir otro limitar (cuando la profundidad de cola de impresión es demasiado grande, por ejemplo).</span><span class="sxs-lookup"><span data-stu-id="74510-148">In addition, one BizTalk application could cause another to throttle (when the spool depth gets too large, for example).</span></span> <span data-ttu-id="74510-149">Todas las aplicaciones de BizTalk deben ser rendimiento / esfuerzo probarse antes de pasar a producción.</span><span class="sxs-lookup"><span data-stu-id="74510-149">All BizTalk applications should be performance / stress tested before going into production.</span></span> <span data-ttu-id="74510-150">Además, debe determinar el tiempo que tarda el sistema para recuperarse de las cargas máximas.</span><span class="sxs-lookup"><span data-stu-id="74510-150">In addition, you should determine how long it takes the system to recover from peak loads.</span></span> <span data-ttu-id="74510-151">Si el sistema no debe recuperar completamente desde un pico de carga antes de que se produce la siguiente carga máxima, tienes un problema.</span><span class="sxs-lookup"><span data-stu-id="74510-151">If the system does not fully recover from a peak load before the next peak load occurs, then you've got a problem.</span></span> <span data-ttu-id="74510-152">El sistema obtendrá aún más y más subyacente y que nunca podrá recuperar completamente.</span><span class="sxs-lookup"><span data-stu-id="74510-152">The system will get further and further behind and will never be able to fully recover.</span></span>  
  
## <a name="expectations-throughput-vs-latency"></a><span data-ttu-id="74510-153">Expectativas: rendimiento frente a latencia</span><span class="sxs-lookup"><span data-stu-id="74510-153">Expectations: throughput vs. latency</span></span>  
 <span data-ttu-id="74510-154">Puede esperar una determinada cantidad de rendimiento o latencia del sistema implementado.</span><span class="sxs-lookup"><span data-stu-id="74510-154">You can expect a certain amount of throughput and/or latency from the deployed system.</span></span> <span data-ttu-id="74510-155">Intenta lograr un alto rendimiento y baja latencia simultáneamente coloca opuestas demandas en el sistema.</span><span class="sxs-lookup"><span data-stu-id="74510-155">Attempting to achieve high throughput and low latency simultaneously places opposing demands on the system.</span></span> <span data-ttu-id="74510-156">Puede esperar un rendimiento óptimo con una latencia razonable.</span><span class="sxs-lookup"><span data-stu-id="74510-156">You can expect optimal throughput with reasonable latency.</span></span> <span data-ttu-id="74510-157">Cuando mejora el rendimiento, resalte (por ejemplo, mayor consumo de CPU, mayor contención de disco de e/s, presión de memoria y mayor contención de bloqueo) en el sistema aumenta.</span><span class="sxs-lookup"><span data-stu-id="74510-157">As throughput improves, stress (such as, higher CPU consumption, higher disk-I/O contention, memory pressure, and greater lock contention) on the system increases.</span></span> <span data-ttu-id="74510-158">Esta situación puede tener un impacto negativo en la latencia.</span><span class="sxs-lookup"><span data-stu-id="74510-158">This situation can have a negative impact on latency.</span></span> <span data-ttu-id="74510-159">Para descubrir la capacidad óptima de un sistema, se recomienda que se identifican y minimizar los cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="74510-159">To discover optimal capacity of a system, we recommend that you identify and minimize any bottlenecks.</span></span>  
  
 <span data-ttu-id="74510-160">Instancias completadas que residen en la base de datos pueden producir cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="74510-160">Completed instances residing in the database can cause bottlenecks.</span></span> <span data-ttu-id="74510-161">Cuando se producen cuellos de botella, puede degradar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="74510-161">When bottlenecks occur, performance can degrade.</span></span> <span data-ttu-id="74510-162">Lo que proporciona al sistema tiempo suficiente para purgar puede ayudar a solucionar el problema.</span><span class="sxs-lookup"><span data-stu-id="74510-162">Giving the system sufficient time to drain can help fix the problem.</span></span> <span data-ttu-id="74510-163">Son importante descubrir la causa de la acumulación y ayudar a solucionar el problema.</span><span class="sxs-lookup"><span data-stu-id="74510-163">Discovering the cause of the backlog buildup and helping fix the issue is important.</span></span>  
  
 <span data-ttu-id="74510-164">Para descubrir la causa del trabajo pendiente, puede analizar datos históricos y supervisar los contadores de rendimiento (para detectar patrones de uso y diagnosticar el origen del trabajo pendiente).</span><span class="sxs-lookup"><span data-stu-id="74510-164">To discover the cause of the backlog, you can analyze historical data and monitor performance counters (to discover usage patterns, and diagnose the source of the backlog).</span></span> <span data-ttu-id="74510-165">Normalmente, trabajos pendientes pueden producirse cuando se procesan grandes volúmenes de datos en un modo por lotes noches.</span><span class="sxs-lookup"><span data-stu-id="74510-165">Commonly, backlogs can occur when large volumes of data are processed in a batched manner on a nightly basis.</span></span> <span data-ttu-id="74510-166">Puede que le resulte útil para detectar la capacidad del sistema y su capacidad para recuperarse de un trabajo pendiente.</span><span class="sxs-lookup"><span data-stu-id="74510-166">You may find it useful to discover the capacity of the system and its ability to recover from a backlog.</span></span> <span data-ttu-id="74510-167">Esta información puede ayudarle a estimar los requisitos de hardware para controlar casos de sobrecarga y la cantidad de espacio en el búfer para dar cabida a dentro de un sistema para atender los picos imprevistos en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="74510-167">This information can help you to estimate hardware requirements for handling overdrive scenarios and the amount of buffer room to accommodate within a system to handle unforeseen spikes in throughput.</span></span>  
  
 <span data-ttu-id="74510-168">Supervisión de los contadores de rendimiento puede ayudar a individuate posibles cuellos de botella que podrían surgir en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="74510-168">Monitoring performance counters can help individuate potential bottlenecks that could arise at runtime.</span></span> <span data-ttu-id="74510-169">Sin embargo, cuando se sospecha que la causa del cuello de botella de CPU o memoria puede ser uno de los componentes personalizados que componen la solución, se recomienda encarecidamente que utilice herramientas de generación de perfiles tales el generador de perfiles de Visual Studio o el generador de perfiles de rendimiento de las HORMIGAS durante una prueba de rendimiento para descubrir y individuate con exactitud la clase que genera el problema.</span><span class="sxs-lookup"><span data-stu-id="74510-169">However, when we suspect that the culprit of CPU or memory bottleneck may be one of the custom components that compose the solution, we strongly recommend that you use profiling tools such Visual Studio Profiler or ANTS Performance Profiler during a performance test to narrow and individuate with certainty the class that generates the problem.</span></span> <span data-ttu-id="74510-170">Obviamente, la generación de perfiles de una aplicación interfiere con el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="74510-170">Obviously, profiling an application interferes with performance.</span></span> <span data-ttu-id="74510-171">Por lo tanto, estas pruebas deben centrarse individuating esos componentes que provocan el consumo de memoria, el uso de CPU o la latencia y se deberían descartar cifras durante estas pruebas.</span><span class="sxs-lookup"><span data-stu-id="74510-171">Therefore, these tests should be focused on individuating those components that cause memory consumption, CPU utilization or latency and figures collected during these tests should be discarded.</span></span>  
  
 <span data-ttu-id="74510-172">Ajustar el sistema para el rendimiento óptimo sostenible requiere una profundidad de descripción de la aplicación implementada, los puntos fuertes y débiles del sistema y patrones de uso del escenario específico.</span><span class="sxs-lookup"><span data-stu-id="74510-172">Tuning the system for optimal sustainable throughput requires an in depth understanding of the deployed application, the strengths and weaknesses of the system, and usage patterns of the specific scenario.</span></span> <span data-ttu-id="74510-173">El único modo de descubrir cuellos de botella y prever un rendimiento sostenible y óptimo con seguridad consiste en realizar comprobaciones exhaustivas en una topología que se aproxime a la que se usará en la producción.</span><span class="sxs-lookup"><span data-stu-id="74510-173">The only way to discover bottlenecks and predict optimal sustainable throughput with certainty is through thorough testing on a topology that closely matches what will be used in production.</span></span> <span data-ttu-id="74510-174">Al ejecutar pruebas de carga y esfuerzo en un determinado caso de uso, aislar únicos artefactos (ubicaciones de recepción, puertos de envío, orquestaciones) en instancias de host independientes y la configuración de los contadores de derecho dentro de la herramienta monitor de rendimiento son fundamental para reducir el causa de un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="74510-174">When running load and stress tests against a certain use case, isolating single artifacts (receive locations, send ports, orchestrations) into separate host instances and setting the right counters inside the performance monitor tool is crucial to narrow down the cause of a bottleneck.</span></span>  
  
 <span data-ttu-id="74510-175">Otros temas de esta sección le guían a través del proceso de definir esa topología y ofrecen orientación sobre cómo reducir y evitar los cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="74510-175">Other topics in this section guide you through the process of defining that topology, and provide guidance on how to lessen and avoid bottlenecks.</span></span>  
  
## <a name="scaling"></a><span data-ttu-id="74510-176">Ampliación</span><span class="sxs-lookup"><span data-stu-id="74510-176">Scaling</span></span>  
 <span data-ttu-id="74510-177">Los cuellos de botella pueden producirse en distintas fases de una topología de implementada.</span><span class="sxs-lookup"><span data-stu-id="74510-177">Bottlenecks can occur at various stages of a deployed topology.</span></span> <span data-ttu-id="74510-178">Algunos cuellos de botella pueden tratarse por parte de escalamiento vertical o el escalado del entorno.</span><span class="sxs-lookup"><span data-stu-id="74510-178">Some bottlenecks can be addressed by either scaling up or scaling out the environment.</span></span> <span data-ttu-id="74510-179">El escalado es el proceso de actualizar el equipo existente.</span><span class="sxs-lookup"><span data-stu-id="74510-179">Scaling up is the process of upgrading the existing computer.</span></span> <span data-ttu-id="74510-180">Por ejemplo, puede actualizar un equipo de servidor BizTalk Server desde un equipo con cuatro procesadores a un equipo con ocho procesadores, así como para sustituir las CPU existentes y agregar más RAM.</span><span class="sxs-lookup"><span data-stu-id="74510-180">For example, you can upgrade a BizTalk Server computer from a four-processor computer to an eight-processor computer, as well as substituting the existing CPUs and adding more RAM.</span></span> <span data-ttu-id="74510-181">De esta manera, puede acelerar las tareas que consumen muchos recursos como documento de análisis y la asignación.</span><span class="sxs-lookup"><span data-stu-id="74510-181">In this way, you can accelerate resource-intensive tasks such as document parsing and mapping.</span></span> <span data-ttu-id="74510-182">La ampliación horizontal es el proceso de agregar servidores a la implementación.</span><span class="sxs-lookup"><span data-stu-id="74510-182">Scaling out is the process of adding servers to your deployment.</span></span> <span data-ttu-id="74510-183">La decisión de escalar vertical u horizontalmente depende del tipo de cuello de botella y la aplicación que se está configurando.</span><span class="sxs-lookup"><span data-stu-id="74510-183">The decision to scale up or out depends on the type of bottleneck and the application being configured.</span></span> <span data-ttu-id="74510-184">Una aplicación necesita que se crea desde el principio para ser capaces de sacar partido de ajuste de escala vertical u horizontalmente. Las instrucciones siguientes explican cómo cambiar las topologías de implementación de hardware en función de los cuellos de botella que se encontró.</span><span class="sxs-lookup"><span data-stu-id="74510-184">An application needs to be built from the ground up to be capable of taking advantage of scaling up or out. The following guidance explains how to change hardware deployment topologies based on bottlenecks encountered.</span></span>  
  
 <span data-ttu-id="74510-185">**El escalado** significa que la ejecución de una solución de BizTalk actualiza el hardware (por ejemplo, adición de CPU y memoria).</span><span class="sxs-lookup"><span data-stu-id="74510-185">**Scaling up** means running a BizTalk solution on upgraded hardware (for example, adding CPU’s and memory).</span></span> <span data-ttu-id="74510-186">Debe considerar cómo ampliar cuando (1) el escalado horizontal es demasiado caro o (2) el escalado no ayudará a solucionar un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="74510-186">You should look at scaling up when 1) scaling out is too expensive or 2) scaling out will not help solve a bottleneck.</span></span> <span data-ttu-id="74510-187">Por ejemplo, puede reducir significativamente el tiempo empleado transformar y procesar un mensaje grande si ejecuta la tarea en un equipo más rápido.</span><span class="sxs-lookup"><span data-stu-id="74510-187">For example, you can significantly reduce the time spent transforming and processing a large message if you run the task on a faster machine.</span></span>  
  
 <span data-ttu-id="74510-188">**La ampliación horizontal** consta de la plataforma de aplicaciones de agregar nodos de BizTalk al grupo de BizTalk Server y lo utiliza para ejecutar una o más partes de la solución.</span><span class="sxs-lookup"><span data-stu-id="74510-188">**Scaling out** the application platform consists of adding BizTalk nodes to the BizTalk Server Group and using them to run one or more parts of the solution.</span></span> <span data-ttu-id="74510-189">Debe mirar escalado horizontal cuando (1) necesita aislar el envío, recepción, procesamiento, hosts de seguimiento o (2) cuando la memoria, se sobrepasa los recursos de E/S o de E/S de red para un único servidor.</span><span class="sxs-lookup"><span data-stu-id="74510-189">You should look at scaling out when 1) you need to isolate send, receive, processing, tracking hosts or 2) when memory, I/O or Network I/O resources are maxed out for a single server.</span></span> <span data-ttu-id="74510-190">La carga se puede distribuir en varios servidores; Sin embargo, la adición de nuevos nodos en el grupo de BizTalk Server puede aumentar la contención de bloqueo en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="74510-190">The load can be spread across multiple servers; however, adding new nodes to the BizTalk Server Group can increase the lock contention on the MessageBox database.</span></span>  
  
 <span data-ttu-id="74510-191">¿Por lo que debe aumentar o escalar horizontalmente?</span><span class="sxs-lookup"><span data-stu-id="74510-191">So should you scale up or scale out?</span></span> <span data-ttu-id="74510-192">Cómo ampliar la plataforma puede reducir la latencia de una solución de BizTalk porque dificulta la tareas únicas (por ejemplo, asignación de mensajes) ejecutarse con mayor rapidez.</span><span class="sxs-lookup"><span data-stu-id="74510-192">Scaling up your platform can reduce the latency of a BizTalk solution because it makes single tasks (for example, message mapping) run faster.</span></span> <span data-ttu-id="74510-193">Escalado horizontal puede mejorar el rendimiento sostenible máximo del sistema y la escalabilidad de la solución de BizTalk porque permite distribuir la carga de trabajo en varios equipos.</span><span class="sxs-lookup"><span data-stu-id="74510-193">Scaling out can improve the maximum sustainable throughtput and the scalability of your BizTalk solution because it allows you to spread the workload across multiple machines.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="74510-194">Vea también</span><span class="sxs-lookup"><span data-stu-id="74510-194">See Also</span></span>  
 [<span data-ttu-id="74510-195">Buscar y eliminar los cuellos de botella</span><span class="sxs-lookup"><span data-stu-id="74510-195">Finding and Eliminating Bottlenecks</span></span>](../technical-guides/finding-and-eliminating-bottlenecks.md)