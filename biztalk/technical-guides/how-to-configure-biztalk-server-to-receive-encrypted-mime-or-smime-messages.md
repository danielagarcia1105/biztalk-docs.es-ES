---
title: Cómo configurar BizTalk Server para recibir MIME cifrado o mensajes SMIME | Microsoft Docs
ms.custom: ''
ms.date: 06/29/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d72002c8-6bd8-458f-8149-1c0c4cbbb682
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ffb471a5c40ed61be45f40e842cb755023aa26b5
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36968085"
---
# <a name="how-to-configure-biztalk-server-to-receive-encrypted-mime-or-smime-messages"></a><span data-ttu-id="8ff11-102">Cómo configurar BizTalk Server para recibir MIME cifrado o mensajes SMIME</span><span class="sxs-lookup"><span data-stu-id="8ff11-102">How to Configure BizTalk Server to Receive Encrypted MIME or SMIME Messages</span></span>
<span data-ttu-id="8ff11-103">En este tema se describe cómo configurar [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilizar certificados para recibir mensajes MIME/SMIME cifrados.</span><span class="sxs-lookup"><span data-stu-id="8ff11-103">This topic describes how to configure [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to use certificates to receive encrypted MIME/SMIME messages.</span></span> <span data-ttu-id="8ff11-104">El procedimiento siguiente también se aplica a la configuración de la recepción de mensajes cifrados a través del transporte AS2.</span><span class="sxs-lookup"><span data-stu-id="8ff11-104">The procedure below also applies to configuring the receiving of encrypted messages over AS2 transport.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="8ff11-105">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="8ff11-105">Prerequisites</span></span>  
 <span data-ttu-id="8ff11-106">Para llevar a cabo el procedimiento de este tema, debe ser iniciado sesión como miembro de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] grupo de administradores.</span><span class="sxs-lookup"><span data-stu-id="8ff11-106">To perform the procedure in this topic, you must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
### <a name="to-configure-biztalk-server-to-receive-encrypted-messages"></a><span data-ttu-id="8ff11-107">Para configurar BizTalk Server para recibir mensajes cifrados</span><span class="sxs-lookup"><span data-stu-id="8ff11-107">To configure BizTalk Server to receive encrypted messages</span></span>  
  
1. <span data-ttu-id="8ff11-108">Crear una canalización para recibir mensajes cifrados, como sigue:</span><span class="sxs-lookup"><span data-stu-id="8ff11-108">Create a pipeline to receive encrypted messages, as follows:</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="8ff11-109">Este paso no es necesario al configurar el transporte AS2 para recibir mensajes cifrados, dado que las canalizaciones AS2Receive y AS2EdiReceive que se incluyen en BizTalk Server servir esta función.</span><span class="sxs-lookup"><span data-stu-id="8ff11-109">This step is not necessary when configuring AS2 transport for receiving encrypted messages because the AS2Receive and AS2EdiReceive pipelines that are included in BizTalk Server serve this function.</span></span>  
   > 
   > [!NOTE]
   >  <span data-ttu-id="8ff11-110">El componente de canalización de descodificador de MIME/SMIME realiza tanto el descifrado como la validación de la firma digital (cuando se configura para que realice las dos funciones).</span><span class="sxs-lookup"><span data-stu-id="8ff11-110">The MIME/SMIME Decoder pipeline component performs both decryption and digital signature validation (when configured to perform both functions).</span></span> <span data-ttu-id="8ff11-111">Por tanto, si configura [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para recibir mensajes cifrados y firmados, puede usar la misma canalización de recepción.</span><span class="sxs-lookup"><span data-stu-id="8ff11-111">Therefore, if you are configuring [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to receive encrypted and signed messages, you can use the same receive pipeline.</span></span> <span data-ttu-id="8ff11-112">Es decir, no tiene que crear canalizaciones diferentes para el descifrado y para la validación de la firma digital.</span><span class="sxs-lookup"><span data-stu-id="8ff11-112">In other words, you do not have to create separate pipelines for decryption and digital signature validation.</span></span>  
  
   1. <span data-ttu-id="8ff11-113">Crear una canalización de recepción y, a continuación, arrastre el componente de canalización de descodificador de MIME/SMIME a la fase de descodificación de la canalización.</span><span class="sxs-lookup"><span data-stu-id="8ff11-113">Create a receive pipeline and then drag the MIME/SMIME Decoder pipeline component into the Decode stage of the pipeline.</span></span>  
  
   2. <span data-ttu-id="8ff11-114">En el **propiedades** ventana, configure las propiedades del componente de canalización de descodificador de MIME/SMIME.</span><span class="sxs-lookup"><span data-stu-id="8ff11-114">In the **Properties** window, configure the MIME/SMIME Decoder pipeline component properties.</span></span>  
  
      > [!NOTE]
      >  <span data-ttu-id="8ff11-115">Configurar las propiedades del componente de canalización de descodificador de MIME/SMIME incluye la configuración de la propiedad Comprobar lista de revocación en True si desea comprobar la lista de revocación de los certificados que utilizan los remitentes para firmar los mensajes que se envían a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8ff11-115">Configuring the MIME/SMIME Decoder pipeline component properties includes setting the Check Revocation List property to True if you want to check the certificate revocation list for the certificates that senders use for signing messages that are being sent to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="8ff11-116">Si deshabilita esta opción aumenta el rendimiento del componente.</span><span class="sxs-lookup"><span data-stu-id="8ff11-116">Disabling this option increases the performance of the component.</span></span> <span data-ttu-id="8ff11-117">La lista de revocación de certificado asociada con un certificado se descarga desde el sitio Web de servicios de certificado adecuado.</span><span class="sxs-lookup"><span data-stu-id="8ff11-117">The certificate revocation list associated with a certificate is downloaded from the appropriate certificate services Web site.</span></span> <span data-ttu-id="8ff11-118">Si el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] no se puede conectar al sitio Web remoto, el mensaje se produce un error en la canalización.</span><span class="sxs-lookup"><span data-stu-id="8ff11-118">If the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] cannot connect to the remote Web site, the message fails in the pipeline.</span></span>  
      > 
      > [!NOTE]
      >  <span data-ttu-id="8ff11-119">Puede configurar propiedades de canalización para una ubicación de recepción después de que se haya implementado la canalización en un grupo de BizTalk mediante la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8ff11-119">You can configure pipeline properties for a receive location after the pipeline has been deployed into a BizTalk group using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="8ff11-120">Puede configurar diferentes propiedades de canalización para cada ubicación de recepción del grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="8ff11-120">You can configure different pipeline properties for each receive location in the BizTalk group.</span></span>  
  
   3. <span data-ttu-id="8ff11-121">Genere e implemente la canalización de recepción.</span><span class="sxs-lookup"><span data-stu-id="8ff11-121">Build and deploy the receive pipeline.</span></span>  
  
2. <span data-ttu-id="8ff11-122">Configurar la ubicación de recepción para recibir mensajes cifrados, como sigue:</span><span class="sxs-lookup"><span data-stu-id="8ff11-122">Configure the receive location for receiving encrypted messages, as follows:</span></span>  
  
   1. <span data-ttu-id="8ff11-123">Agregue el ensamblado de BizTalk que creó que contiene la canalización de recepción a la aplicación de BizTalk, incluidas las ubicaciones de recepción para recibir mensajes cifrados.</span><span class="sxs-lookup"><span data-stu-id="8ff11-123">Add the BizTalk assembly that you created containing the receive pipeline to the BizTalk application including the receive locations to receive encrypted messages.</span></span>  
  
      > [!NOTE]
      >  <span data-ttu-id="8ff11-124">Este paso no es necesario al configurar el transporte AS2 para recibir mensajes cifrados, ya que las canalizaciones AS2Receive y AS2EdiReceive están incluidas en la aplicación EDI de BizTalk en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8ff11-124">This step is not necessary when configuring AS2 transport for receiving encrypted messages because the AS2Receive and AS2EdiReceive pipelines are included in the BizTalk EDI Application in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
   2. <span data-ttu-id="8ff11-125">Configurar las ubicaciones de recepción en la aplicación de BizTalk con la canalización de recepción que creó en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="8ff11-125">Configure the receive locations in the BizTalk application with the receive pipeline that you created in the previous step.</span></span>  
  
3. <span data-ttu-id="8ff11-126">Configurar el host se usa como el controlador de recepción para la ubicación de recepción con el certificado de descifrado, como sigue:</span><span class="sxs-lookup"><span data-stu-id="8ff11-126">Configure the host used as the receive handler for the receive location with the decryption certificate, as follows:</span></span>  
  
   1. <span data-ttu-id="8ff11-127">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, con el botón secundario BizTalk host, es decir, el controlador para recibir los mensajes cifrados y, a continuación, haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="8ff11-127">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click a BizTalk host that is the handler for receiving the encrypted messages, and then click **Properties**.</span></span>  
  
      > [!NOTE]
      >  <span data-ttu-id="8ff11-128">Este procedimiento no es aplicable para el transporte AS2 disponible con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8ff11-128">This procedure does not apply for AS2 transport available with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="8ff11-129">Se aplica para el descodificador de MIME de BizTalk, no el descodificador AS2.</span><span class="sxs-lookup"><span data-stu-id="8ff11-129">It applies for the BizTalk MIME Decoder, not the AS2 Decoder.</span></span> <span data-ttu-id="8ff11-130">El descodificador AS2 determinará el certificado en función de la información del certificado en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="8ff11-130">The AS2 Decoder will determine the certificate based on certificate information in the message.</span></span>  
  
   2. <span data-ttu-id="8ff11-131">En el **propiedades de Host** cuadro de diálogo, haga clic en **certificado**y, a continuación, haga clic en **examinar**.</span><span class="sxs-lookup"><span data-stu-id="8ff11-131">In the **Host Properties** dialog box, click **Certificate**, and then click **Browse**.</span></span>  
  
      > [!NOTE]
      >  <span data-ttu-id="8ff11-132">El procedimiento anterior le permite configurar su [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] entorno para que solo determinadas hosts pueden recibir y procesar mensajes concretos.</span><span class="sxs-lookup"><span data-stu-id="8ff11-132">The above procedure enables you to configure your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment so that only certain hosts can receive and process particular messages.</span></span> <span data-ttu-id="8ff11-133">Cuando se configura un host con la huella digital de un certificado que se usará para descodificar el mensaje y el descifrado, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] crea una propiedad de aplicación para ese host en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="8ff11-133">When you configure a host with the thumbprint of a certificate to use for message decoding and decryption, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] creates an application property for that host in the MessageBox database.</span></span> <span data-ttu-id="8ff11-134">Proteger los mensajes que se reciben y descifran con esta huella digital se enrutan únicamente a este y otros hosts que están configurados con esta huella digital.</span><span class="sxs-lookup"><span data-stu-id="8ff11-134">Secure messages that are received and decrypted using this thumbprint are then only routed to this and other hosts that are configured with this thumbprint.</span></span>  
  
   3. <span data-ttu-id="8ff11-135">En el **Seleccionar certificado** cuadro de diálogo, seleccione el certificado de descifrado que instaló y, a continuación, cierre todos los cuadros de diálogo.</span><span class="sxs-lookup"><span data-stu-id="8ff11-135">In the **Select Certificate** dialog box, select the decryption certificate that you installed, and then close all the dialog boxes.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8ff11-136">Vea también</span><span class="sxs-lookup"><span data-stu-id="8ff11-136">See Also</span></span>  
 [<span data-ttu-id="8ff11-137">Configurar certificados para MIME o mensajes SMIME</span><span class="sxs-lookup"><span data-stu-id="8ff11-137">Configuring Certificates for MIME or SMIME Messages</span></span>](../technical-guides/configuring-certificates-for-mime-or-smime-messages.md)