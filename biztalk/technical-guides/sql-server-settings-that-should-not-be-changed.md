---
title: "Configuración de SQL Server que no debe cambiarse | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 4b383bfb-c3d9-47d4-b294-f6be94302734
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d2fb6e2553c005d3ba8651c860ff844e8cc74106
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="sql-server-settings-that-should-not-be-changed"></a><span data-ttu-id="8fcd5-102">Configuración de SQL Server que no se debe cambiar</span><span class="sxs-lookup"><span data-stu-id="8fcd5-102">SQL Server Settings That Should Not Be Changed</span></span>
<span data-ttu-id="8fcd5-103">Al configurar [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] durante los procedimientos de preparación operativa para [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], no debe realizar cambios en las configuraciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-103">When setting up [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] during the operational readiness procedures for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], you should not make changes to the following settings.</span></span>  
  
## <a name="sql-server-max-degree-of-parallelism"></a><span data-ttu-id="8fcd5-104">Grado máximo de paralelismo de SQL Server</span><span class="sxs-lookup"><span data-stu-id="8fcd5-104">SQL Server Max Degree of Parallelism</span></span>  
 <span data-ttu-id="8fcd5-105">Max Degree de paralelismo (MDOP) se establece en "1" durante la configuración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) que hospedan la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-105">Max Degree of Parallelism (MDOP) is set to “1” during the configuration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] for the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) that host the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database(s).</span></span> <span data-ttu-id="8fcd5-106">Se trata de un [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] configuración de nivel de instancia.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-106">This is a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance-level setting.</span></span> <span data-ttu-id="8fcd5-107">Esta configuración no se debe cambiar el valor de "1".</span><span class="sxs-lookup"><span data-stu-id="8fcd5-107">This setting should not be changed from the value of “1”.</span></span> <span data-ttu-id="8fcd5-108">Cambiar esto a algo distinto de "1" puede tener un efecto negativo importante el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] los procedimientos almacenados y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-108">Changing this to anything other than “1” can have a significant negative impact on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures and performance.</span></span> <span data-ttu-id="8fcd5-109">Si se cambia el valor de paralelismo para una instancia de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] tendrá un efecto adverso en otras aplicaciones de base de datos que se están ejecutando en el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instancia, debe crear una instancia independiente de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] dedicados a hospedar el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-109">If changing the parallelism setting for an instance of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] will have an adverse effect on other database applications that are being executed on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance, you should create a separate instance of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] dedicated to hosting the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
 <span data-ttu-id="8fcd5-110">Las consultas en paralelo generalmente son más adecuadas para el procesamiento por lotes y las cargas de trabajo de compatibilidad de decisión.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-110">Parallel queries are generally best suited to batch processing and decision support workloads.</span></span> <span data-ttu-id="8fcd5-111">Normalmente no son deseables en un entorno de procesamiento de transacciones que tienen muchas consultas cortos y rápidas ejecutar en paralelo.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-111">They are typically not desirable in a transaction processing environment where you have many short, fast queries running in parallel.</span></span> <span data-ttu-id="8fcd5-112">Además, cambiar el MDOP establecer a veces, se produce el plan de consulta puede cambiar, lo que conduce a bajo rendimiento de consultas o incluso interbloqueos con el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consultas.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-112">In addition, changing the MDOP setting sometimes causes the query plan to be changed, which leads to poor query performance or even deadlocks with the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] queries.</span></span>  
  
 <span data-ttu-id="8fcd5-113">El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] los procedimientos almacenados proporcionan las combinaciones correctas y sugerencias de bloqueo siempre que sea posible con el fin de tratar de impedir que el optimizador de consultas realiza mucho trabajo y cambiar el plan.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-113">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures provide the correct joins and lock hints wherever possible in order to try to keep the query optimizer from doing much work and changing the plan.</span></span> <span data-ttu-id="8fcd5-114">Estos procedimientos almacenados proporcionan las ejecuciones de consulta coherente mediante la creación de las consultas de modo que el optimizador de consultas se saca la imagen tanto como sea posible.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-114">These stored procedures provide consistent query executions by constructing the queries such that the query optimizer is taken out of the picture as much as possible.</span></span>  
  
 <span data-ttu-id="8fcd5-115">Para obtener más información, vea el artículo de Microsoft Knowledge Base 899000, ["El valor de configuración de paralelismo para la instancia de SQL Server al configurar BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153432) (http://go.microsoft.com/fwlink/?LinkId=153432).</span><span class="sxs-lookup"><span data-stu-id="8fcd5-115">For more information, see Microsoft Knowledge Base article 899000, ["The Parallelism setting for the instance of SQL Server when you configure BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153432) (http://go.microsoft.com/fwlink/?LinkId=153432).</span></span>  
  
## <a name="sql-server-statistics-on-the-messagebox-database"></a><span data-ttu-id="8fcd5-116">Estadísticas de SQL Server en la base de datos de cuadro de mensajes</span><span class="sxs-lookup"><span data-stu-id="8fcd5-116">SQL Server Statistics on the MessageBox Database</span></span>  
 <span data-ttu-id="8fcd5-117">Las siguientes opciones están desactivadas de forma predeterminada en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de cuadro de mensajes cuando se crea:</span><span class="sxs-lookup"><span data-stu-id="8fcd5-117">The following options are turned off by default in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database when it is created:</span></span>  
  
-   <span data-ttu-id="8fcd5-118">Creación automática de estadísticas</span><span class="sxs-lookup"><span data-stu-id="8fcd5-118">Auto create statistics</span></span>  
  
-   <span data-ttu-id="8fcd5-119">Actualizar estadísticas automáticamente</span><span class="sxs-lookup"><span data-stu-id="8fcd5-119">Auto update statistics</span></span>  
  
 <span data-ttu-id="8fcd5-120">No habilite estas opciones en las bases de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-120">Do not enable these options on MessageBox databases.</span></span> <span data-ttu-id="8fcd5-121">Habilitar la "crear estadísticas automáticamente" y "actualizará las estadísticas automáticamente" opciones pueden provocar retrasos de ejecución de consulta no deseables, especialmente en un entorno de alta carga.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-121">Enabling the "auto create statistics" and "auto update statistics" options can cause undesirable query execution delays, especially in a high-load environment.</span></span>  
  
 <span data-ttu-id="8fcd5-122">Además, el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] los procedimientos almacenados tienen las combinaciones parciales y sugerencias de bloqueo especificadas en las consultas.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-122">In addition, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures have exact joins and lock hints specified on the queries.</span></span> <span data-ttu-id="8fcd5-123">Esto se hace para garantizar que el plan de consulta óptimo se utiliza la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consultas en [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8fcd5-123">This is done to ensure that the optimal query plan is used by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] queries in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="8fcd5-124">Se conocen las distribuciones y los resultados esperados para las consultas; se conoce el número aproximado de filas devueltas.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-124">The distributions and expected results for the queries are known; the approximate number of rows returned is known.</span></span> <span data-ttu-id="8fcd5-125">Por lo general no son necesarias las estadísticas.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-125">Statistics are generally not needed.</span></span>  
  
 <span data-ttu-id="8fcd5-126">Para obtener más información, vea los siguientes artículos de Microsoft Knowledge Base:</span><span class="sxs-lookup"><span data-stu-id="8fcd5-126">For more information, see the following Microsoft Knowledge Base articles:</span></span>  
  
-   <span data-ttu-id="8fcd5-127">**912262**:["la opción de estadísticas de actualización automática, la creación automática de opción de estadísticas y la configuración de paralelismo están desactivados en la instancia de base de datos SQL Server que hospeda la base de datos BizTalkMsgBoxDB de BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153430) (http://go.microsoft.com/fwlink/?LinkId=153430).</span><span class="sxs-lookup"><span data-stu-id="8fcd5-127">**912262**—["The auto update statistics option, the auto create statistics option, and the Parallelism setting are turned off in the SQL Server database instance that hosts the BizTalk Server BizTalkMsgBoxDB database"](http://go.microsoft.com/fwlink/?LinkId=153430) (http://go.microsoft.com/fwlink/?LinkId=153430).</span></span>  
  
-   <span data-ttu-id="8fcd5-128">**917845**:["Experimentas bloqueo, deadlock condiciones u otros problemas SQL Server al intentar conectarse a la base de datos BizTalkMsgBoxDb de BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span><span class="sxs-lookup"><span data-stu-id="8fcd5-128">**917845**—["You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span></span>  
  
## <a name="changes-to-the-messagebox-database"></a><span data-ttu-id="8fcd5-129">Cambios en la base de datos de cuadro de mensajes</span><span class="sxs-lookup"><span data-stu-id="8fcd5-129">Changes to the MessageBox Database</span></span>  
 <span data-ttu-id="8fcd5-130">La base de datos de cuadro de mensajes se debe tratar como código fuente de aplicación no de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-130">The MessageBox database should be treated like non-Microsoft application source code.</span></span> <span data-ttu-id="8fcd5-131">Es decir, debe no "ajustar" la base de datos de cuadro de mensajes a través de los cambios en tablas, índices, procedimientos almacenados y la mayoría configuración de base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-131">That is, you should not “tweak” the MessageBox database via changes to tables, indexes, stored procedures, and most SQL Server database settings.</span></span> <span data-ttu-id="8fcd5-132">Para obtener más información, en el blog del motor principal de BizTalk, consulte la entrada ["¿qué puede y no puede realizar con el servidor de base de datos de cuadro de mensajes"](http://go.microsoft.com/fwlink/?LinkId=101577) (http://go.microsoft.com/fwlink/?LinkId=101577).</span><span class="sxs-lookup"><span data-stu-id="8fcd5-132">For more information, in the BizTalk Core Engine's WebLog, see the entry ["What you can and can't do with the MessageBox Database server"](http://go.microsoft.com/fwlink/?LinkId=101577) (http://go.microsoft.com/fwlink/?LinkId=101577).</span></span>  
  
## <a name="default-settings-for-the-database-index-rebuilds-and-defragmentation"></a><span data-ttu-id="8fcd5-133">Los valores predeterminados para los vuelve a generar el índice de base de datos y la desfragmentación</span><span class="sxs-lookup"><span data-stu-id="8fcd5-133">Default Settings for the Database Index Rebuilds and Defragmentation</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="8fcd5-134">no se admite la desfragmentación de índices.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-134"> does not support defragmenting indexes.</span></span> <span data-ttu-id="8fcd5-135">"DBCC INDEXDEFRAG" y "ALTER INDEX...</span><span class="sxs-lookup"><span data-stu-id="8fcd5-135">“DBCC INDEXDEFRAG” and “ALTER INDEX …</span></span> <span data-ttu-id="8fcd5-136">REORGANIZAR..."</span><span class="sxs-lookup"><span data-stu-id="8fcd5-136">REORGANIZE …”</span></span> <span data-ttu-id="8fcd5-137">no se admiten puesto que utilizan la página de bloqueo, que puede causar bloqueos y los interbloqueos con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8fcd5-137">are not supported since they use page locking, which can cause blocking and deadlocks with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="8fcd5-138">índice de base de datos de soporte técnico de modo vuelve a generar ("DBCC DBREINDEX" y "ALTER INDEX...</span><span class="sxs-lookup"><span data-stu-id="8fcd5-138"> does support database index rebuilds (“DBCC DBREINDEX” and “ALTER INDEX …</span></span> <span data-ttu-id="8fcd5-139">REBUILD..."), pero solo deben realizarse durante las ventanas de mantenimiento cuando [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] no está procesando datos.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-139">REBUILD …”), but they should only be done during maintenance windows when [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is not processing data.</span></span> <span data-ttu-id="8fcd5-140">Regeneraciones de índice al [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] está procesando datos no se admiten.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-140">Index rebuilds while [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is processing data are not supported.</span></span>  
  
 <span data-ttu-id="8fcd5-141">Para obtener más información, vea el artículo de Microsoft Knowledge Base 917845 ["Experimentas bloqueo, deadlock condiciones u otros problemas SQL Server al intentar conectarse a la base de datos BizTalkMsgBoxDb de BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http:// ¿go.Microsoft.com/fwlink/? LinkId = 153429).</span><span class="sxs-lookup"><span data-stu-id="8fcd5-141">For more information, see Microsoft Knowledge Base article 917845 [" You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span></span>  
  
 <span data-ttu-id="8fcd5-142">Fragmentación del índice no es de un problema de rendimiento para [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] como se haría para un sistema DSS o un sistema OLTP que realiza exploraciones de índice.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-142">Index fragmentation is not as much of a performance issue for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] as it would be for a DSS system or an OLTP system that performs index scans.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="8fcd5-143">¿las consultas muy selectivas y las actualizaciones y [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] los procedimientos almacenados no deben suponer un tabla o recorridos de índice.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-143"> does very selective queries and updates and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures should not cause table or index scans.</span></span>  
  
 <span data-ttu-id="8fcd5-144">Para obtener más información acerca de los tipos de cargas de trabajo y fragmentación de índice, vea ["Microsoft SQL Server 2000 índice prácticas recomendadas de desfragmentación"](http://go.microsoft.com/fwlink/?LinkId=101580) (http://go.microsoft.com/fwlink/?LinkId=101580).</span><span class="sxs-lookup"><span data-stu-id="8fcd5-144">For more information about index fragmentation and workload types, see ["Microsoft SQL Server 2000 Index Defragmentation Best Practices"](http://go.microsoft.com/fwlink/?LinkId=101580) (http://go.microsoft.com/fwlink/?LinkId=101580).</span></span> <span data-ttu-id="8fcd5-145">Una oferta del artículo:</span><span class="sxs-lookup"><span data-stu-id="8fcd5-145">A quote from the article:</span></span>  
  
 <span data-ttu-id="8fcd5-146">"Tal y como se muestra en la figura 1, hay pocas diferencias entre el rendimiento de los procedimientos almacenados antes y después de la desfragmentación.</span><span class="sxs-lookup"><span data-stu-id="8fcd5-146">“As shown in Figure 1, there is little difference between the performance of the stored procedures before and after defragmenting.</span></span> <span data-ttu-id="8fcd5-147">Dado que las consultas subyacentes emitidas por estos procedimientos almacenados se actúa sobre partes muy selectivas de los datos, rendimiento de cargas de trabajo no afecta negativamente afectado por índices fragmentados."</span><span class="sxs-lookup"><span data-stu-id="8fcd5-147">Because the underlying queries issued by these stored procedures acted upon very selective portions of the data, workload performance was not adversely affected by fragmented indexes.”</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8fcd5-148">El contenido del artículo también se aplica a [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] y [!INCLUDE[btsSQLServer2005](../includes/btssqlserver2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8fcd5-148">The contents of the article also apply to [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] and [!INCLUDE[btsSQLServer2005](../includes/btssqlserver2005-md.md)].</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8fcd5-149">Vea también</span><span class="sxs-lookup"><span data-stu-id="8fcd5-149">See Also</span></span>  
 [<span data-ttu-id="8fcd5-150">Lista de comprobación: Configurar SQL Server</span><span class="sxs-lookup"><span data-stu-id="8fcd5-150">Checklist: Configuring SQL Server</span></span>](~/technical-guides/checklist-configuring-sql-server.md)