---
title: No se cambie la configuración de SQL Server | Microsoft Docs
description: Max Degree of Parallelism, de creación automática de estadísticas de actualización automática de estadísticas y volver a generar índices en BizTalk Server
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4b383bfb-c3d9-47d4-b294-f6be94302734
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 60479097dc9e56c2bc0c525d0de7d7a33afccaa5
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36978269"
---
# <a name="sql-server-settings-that-should-not-be-changed"></a><span data-ttu-id="2e866-103">Configuración de SQL Server que no se debe cambiar</span><span class="sxs-lookup"><span data-stu-id="2e866-103">SQL Server Settings That Should Not Be Changed</span></span>
<span data-ttu-id="2e866-104">Al configurar [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] durante los procedimientos de preparación operativa para [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], no debe realizar cambios a la siguiente configuración.</span><span class="sxs-lookup"><span data-stu-id="2e866-104">When setting up [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] during the operational readiness procedures for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], you should not make changes to the following settings.</span></span>  
  
## <a name="sql-server-max-degree-of-parallelism"></a><span data-ttu-id="2e866-105">Grado máximo de paralelismo de SQL Server</span><span class="sxs-lookup"><span data-stu-id="2e866-105">SQL Server Max Degree of Parallelism</span></span>  
 <span data-ttu-id="2e866-106">Max Degree de paralelismo (MDOP) se establece en "1" durante la configuración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instancias que hospedan el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="2e866-106">Max Degree of Parallelism (MDOP) is set to “1” during the configuration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] for the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) that host the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database(s).</span></span> <span data-ttu-id="2e866-107">Se trata de un [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] configuración de nivel de instancia.</span><span class="sxs-lookup"><span data-stu-id="2e866-107">This is a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance-level setting.</span></span> <span data-ttu-id="2e866-108">Esta configuración no debe cambiarse el valor de "1".</span><span class="sxs-lookup"><span data-stu-id="2e866-108">This setting should not be changed from the value of “1”.</span></span> <span data-ttu-id="2e866-109">Cambio a algo distinto de "1" puede tener un efecto negativo importante en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] procedimientos almacenados y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2e866-109">Changing this to anything other than “1” can have a significant negative impact on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures and performance.</span></span> <span data-ttu-id="2e866-110">Si se cambia la configuración de paralelismo para una instancia de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] tendrá un efecto adverso en otras aplicaciones de base de datos que se ejecutan en el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instancia, debe crear una instancia independiente de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] dedicados a hospedar el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos.</span><span class="sxs-lookup"><span data-stu-id="2e866-110">If changing the parallelism setting for an instance of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] will have an adverse effect on other database applications that are being executed on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance, you should create a separate instance of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] dedicated to hosting the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
 <span data-ttu-id="2e866-111">Las consultas en paralelo generalmente son más adecuadas para el procesamiento por lotes y las cargas de trabajo de decisión.</span><span class="sxs-lookup"><span data-stu-id="2e866-111">Parallel queries are generally best suited to batch processing and decision support workloads.</span></span> <span data-ttu-id="2e866-112">Normalmente no son deseables en un entorno de procesamiento de transacciones donde haya muchas consultas cortas y rápidas que se ejecutan en paralelo.</span><span class="sxs-lookup"><span data-stu-id="2e866-112">They are typically not desirable in a transaction processing environment where you have many short, fast queries running in parallel.</span></span> <span data-ttu-id="2e866-113">Además, cambiar la configuración a veces hace que el plan de consulta va a cambiar, de MDOP que conduce a bajo rendimiento de consultas o incluso interbloqueos con el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] las consultas.</span><span class="sxs-lookup"><span data-stu-id="2e866-113">In addition, changing the MDOP setting sometimes causes the query plan to be changed, which leads to poor query performance or even deadlocks with the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] queries.</span></span>  
  
 <span data-ttu-id="2e866-114">El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] procedimientos almacenados proporcionan las combinaciones correctas y las sugerencias de bloqueo siempre que sea posible para intentar evitar que el optimizador de consultas hace mucho trabajo y cambiar el plan.</span><span class="sxs-lookup"><span data-stu-id="2e866-114">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures provide the correct joins and lock hints wherever possible in order to try to keep the query optimizer from doing much work and changing the plan.</span></span> <span data-ttu-id="2e866-115">Estos procedimientos almacenados proporcionan las ejecuciones de consulta coherente mediante la creación de las consultas de modo que el optimizador de consultas se saca de la imagen tanto como sea posible.</span><span class="sxs-lookup"><span data-stu-id="2e866-115">These stored procedures provide consistent query executions by constructing the queries such that the query optimizer is taken out of the picture as much as possible.</span></span>  
  
 <span data-ttu-id="2e866-116">Para obtener más información, consulte [899000 KB: configuración de paralelismo para la instancia de SQL Server usado por BizTalk Server](https://support.microsoft.com/help/899000/the-parallelism-setting-for-the-instance-of-sql-server-when-you-config).</span><span class="sxs-lookup"><span data-stu-id="2e866-116">For more information, see [KB 899000: Parallelism setting for SQL Server instance used by BizTalk Server](https://support.microsoft.com/help/899000/the-parallelism-setting-for-the-instance-of-sql-server-when-you-config).</span></span>  
  
## <a name="sql-server-statistics-on-the-messagebox-database"></a><span data-ttu-id="2e866-117">Estadísticas de SQL Server en la base de datos de cuadro de mensajes</span><span class="sxs-lookup"><span data-stu-id="2e866-117">SQL Server Statistics on the MessageBox Database</span></span>  
 <span data-ttu-id="2e866-118">Las siguientes opciones están desactivadas de forma predeterminada en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de cuadro de mensajes cuando se crea:</span><span class="sxs-lookup"><span data-stu-id="2e866-118">The following options are turned off by default in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database when it is created:</span></span>  
  
- <span data-ttu-id="2e866-119">Crear estadísticas automáticamente</span><span class="sxs-lookup"><span data-stu-id="2e866-119">Auto create statistics</span></span>  
  
- <span data-ttu-id="2e866-120">Actualizar estadísticas automáticamente</span><span class="sxs-lookup"><span data-stu-id="2e866-120">Auto update statistics</span></span>  
  
  <span data-ttu-id="2e866-121">No habilite estas opciones en las bases de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="2e866-121">Do not enable these options on MessageBox databases.</span></span> <span data-ttu-id="2e866-122">Habilitación de la "crear estadísticas automáticamente" y "auto update statistics" opciones pueden provocar retrasos de ejecución de consulta no deseados, especialmente en un entorno high-load.</span><span class="sxs-lookup"><span data-stu-id="2e866-122">Enabling the "auto create statistics" and "auto update statistics" options can cause undesirable query execution delays, especially in a high-load environment.</span></span>  
  
  <span data-ttu-id="2e866-123">Además, el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] los procedimientos almacenados tienen las combinaciones exactas y sugerencias de bloqueo especificadas en las consultas.</span><span class="sxs-lookup"><span data-stu-id="2e866-123">In addition, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures have exact joins and lock hints specified on the queries.</span></span> <span data-ttu-id="2e866-124">Esto se hace para garantizar que el plan de consulta óptimo se usa por la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consultas en [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2e866-124">This is done to ensure that the optimal query plan is used by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] queries in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="2e866-125">Las distribuciones y los resultados esperados para las consultas se conocen; se conoce el número aproximado de filas devueltas.</span><span class="sxs-lookup"><span data-stu-id="2e866-125">The distributions and expected results for the queries are known; the approximate number of rows returned is known.</span></span> <span data-ttu-id="2e866-126">Por lo general no son necesarias las estadísticas.</span><span class="sxs-lookup"><span data-stu-id="2e866-126">Statistics are generally not needed.</span></span>  
  
  <span data-ttu-id="2e866-127">Para obtener más información, vea los siguientes artículos de Microsoft Knowledge Base:</span><span class="sxs-lookup"><span data-stu-id="2e866-127">For more information, see the following Microsoft Knowledge Base articles:</span></span>  
  
- <span data-ttu-id="2e866-128">**912262**:["las opciones Actualizar estadísticas, la creación automática de opción de estadísticas y la configuración de paralelismo se ha desactivado en la instancia de base de datos SQL Server que hospeda la base de datos BizTalkMsgBoxDB de BizTalk Server"](https://support.microsoft.com/help/912262/the-auto-update-statistics-option-the-auto-create-statistics-option-an) .</span><span class="sxs-lookup"><span data-stu-id="2e866-128">**912262**—["The auto update statistics option, the auto create statistics option, and the Parallelism setting are turned off in the SQL Server database instance that hosts the BizTalk Server BizTalkMsgBoxDB database"](https://support.microsoft.com/help/912262/the-auto-update-statistics-option-the-auto-create-statistics-option-an).</span></span>  
  
- <span data-ttu-id="2e866-129">**917845**:["experimenta el bloqueo, condiciones, u otros problemas SQL Server de interbloqueo al intentar conectarse a la base de datos BizTalkMsgBoxDb de BizTalk Server"](https://support.microsoft.com/help/917845/you-experience-blocking--deadlock-conditions--or-other-sql-server-issu).</span><span class="sxs-lookup"><span data-stu-id="2e866-129">**917845**—["You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](https://support.microsoft.com/help/917845/you-experience-blocking--deadlock-conditions--or-other-sql-server-issu).</span></span>  
  
## <a name="changes-to-the-messagebox-database"></a><span data-ttu-id="2e866-130">Cambios realizados en la base de datos de cuadro de mensajes</span><span class="sxs-lookup"><span data-stu-id="2e866-130">Changes to the MessageBox Database</span></span>  
 <span data-ttu-id="2e866-131">La base de datos de cuadro de mensajes se debe tratar como código fuente de aplicación que no sean de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="2e866-131">The MessageBox database should be treated like non-Microsoft application source code.</span></span> <span data-ttu-id="2e866-132">Es decir, se debe no introducir algunos "retoques" la base de datos de cuadro de mensajes a través de los cambios realizados en tablas, índices, procedimientos almacenados y la mayoría configuración de base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2e866-132">That is, you should not “tweak” the MessageBox database via changes to tables, indexes, stored procedures, and most SQL Server database settings.</span></span> <span data-ttu-id="2e866-133">Para obtener más información, en el blog del motor principal de BizTalk, consulte [qué puede y no se puede hacer con el servidor de base de datos de cuadro de mensajes](http://go.microsoft.com/fwlink/p/?LinkId=101577).</span><span class="sxs-lookup"><span data-stu-id="2e866-133">For more information, in the BizTalk Core Engine's WebLog, see [What you can and can't do with the MessageBox Database server](http://go.microsoft.com/fwlink/p/?LinkId=101577).</span></span>  
  
## <a name="default-settings-for-the-database-index-rebuilds-and-defragmentation"></a><span data-ttu-id="2e866-134">Los valores predeterminados para las recompilaciones de índice de base de datos y la desfragmentación</span><span class="sxs-lookup"><span data-stu-id="2e866-134">Default Settings for the Database Index Rebuilds and Defragmentation</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="2e866-135"> no admite la desfragmentación de índices.</span><span class="sxs-lookup"><span data-stu-id="2e866-135"> does not support defragmenting indexes.</span></span> <span data-ttu-id="2e866-136">"DBCC INDEXDEFRAG" y "ALTER INDEX...</span><span class="sxs-lookup"><span data-stu-id="2e866-136">“DBCC INDEXDEFRAG” and “ALTER INDEX …</span></span> <span data-ttu-id="2e866-137">REORGANIZAR..."</span><span class="sxs-lookup"><span data-stu-id="2e866-137">REORGANIZE …”</span></span> <span data-ttu-id="2e866-138">no se admiten ya que utilizan la página de bloqueo, que puede causar bloqueos e interbloqueos con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2e866-138">are not supported since they use page locking, which can cause blocking and deadlocks with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="2e866-139"> índice de base de datos de soporte técnico hace vuelve a generar ("DBCC DBREINDEX" y "ALTER INDEX...</span><span class="sxs-lookup"><span data-stu-id="2e866-139"> does support database index rebuilds (“DBCC DBREINDEX” and “ALTER INDEX …</span></span> <span data-ttu-id="2e866-140">REBUILD..."), pero solo deben realizarse durante ventanas de mantenimiento cuando [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] no está procesando datos.</span><span class="sxs-lookup"><span data-stu-id="2e866-140">REBUILD …”), but they should only be done during maintenance windows when [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is not processing data.</span></span> <span data-ttu-id="2e866-141">Recompilaciones de índices mientras [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] está procesando datos no se admiten.</span><span class="sxs-lookup"><span data-stu-id="2e866-141">Index rebuilds while [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is processing data are not supported.</span></span>  
  
 <span data-ttu-id="2e866-142">Para obtener más información, consulte [917845 KB: experiencia de bloqueo, condiciones, u otros problemas de SQL Server de interbloqueo al intentar conectarse a la base de datos BizTalkMsgBoxDb de BizTalk Server "](https://support.microsoft.com/help/917845/you-experience-blocking--deadlock-conditions--or-other-sql-server-issu).</span><span class="sxs-lookup"><span data-stu-id="2e866-142">For more information, see [KB 917845: You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](https://support.microsoft.com/help/917845/you-experience-blocking--deadlock-conditions--or-other-sql-server-issu).</span></span>  
  
 <span data-ttu-id="2e866-143">Fragmentación del índice no es parte de un problema de rendimiento para [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] como se haría para un sistema DSS o un sistema OLTP que realiza exploraciones de índice.</span><span class="sxs-lookup"><span data-stu-id="2e866-143">Index fragmentation is not as much of a performance issue for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] as it would be for a DSS system or an OLTP system that performs index scans.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="2e866-144"> realiza consultas muy selectivas y las actualizaciones y [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] procedimientos almacenados no deberían causar la tabla o índice examina.</span><span class="sxs-lookup"><span data-stu-id="2e866-144"> does very selective queries and updates and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures should not cause table or index scans.</span></span>  
  
 
## <a name="see-also"></a><span data-ttu-id="2e866-145">Vea también</span><span class="sxs-lookup"><span data-stu-id="2e866-145">See Also</span></span>  
 [<span data-ttu-id="2e866-146">Lista de comprobación: configuración de SQL Server</span><span class="sxs-lookup"><span data-stu-id="2e866-146">Checklist: Configuring SQL Server</span></span>](~/technical-guides/checklist-configuring-sql-server.md)
