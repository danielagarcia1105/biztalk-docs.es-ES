---
title: Generales de BizTalk Server Optimizations2 | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 41b452e9-d94c-4bcb-8ef6-e9cea28fc0ab
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: af09f938d93377a6463926fad3725c9f9dace294
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37022186"
---
# <a name="general-biztalk-server-optimizations"></a><span data-ttu-id="83494-102">Optimizaciones generales de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="83494-102">General BizTalk Server Optimizations</span></span>
<span data-ttu-id="83494-103">Se pueden usar las siguientes recomendaciones para aumentar [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] rendimiento.</span><span class="sxs-lookup"><span data-stu-id="83494-103">The following recommendations can be used to increase [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] performance.</span></span> <span data-ttu-id="83494-104">Las optimizaciones enumeradas en este tema se aplican después de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] se ha instalado y configurado.</span><span class="sxs-lookup"><span data-stu-id="83494-104">The optimizations listed in this topic are applied after [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has been installed and configured.</span></span>  
  
## <a name="create-multiple-biztalk-server-hosts-and-separate-host-instances-by-functionality"></a><span data-ttu-id="83494-105">Creación de varios hosts de BizTalk Server e instancias de host independientes por funcionalidad</span><span class="sxs-lookup"><span data-stu-id="83494-105">Create multiple BizTalk Server hosts and separate host instances by functionality</span></span>  
 <span data-ttu-id="83494-106">Para enviar, recibir, procesar y funcionalidad de seguimiento, se deben crear hosts independientes.</span><span class="sxs-lookup"><span data-stu-id="83494-106">Separate hosts should be created for sending, receiving, processing, and tracking functionality.</span></span> <span data-ttu-id="83494-107">Creación de varios hosts de BizTalk proporciona flexibilidad al configurar la carga de trabajo en el grupo de BizTalk y es el medio principal de distribuir el procesamiento en los servidores BizTalk Server en un grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="83494-107">Creating multiple BizTalk hosts provides flexibility when configuring the workload in your BizTalk group and is the primary means of distributing processing across the BizTalk Servers in a BizTalk group.</span></span> <span data-ttu-id="83494-108">Varios hosts también permiten detener un host sin que afecte a otros hosts.</span><span class="sxs-lookup"><span data-stu-id="83494-108">Multiple hosts also allow you to stop one host without affecting other hosts.</span></span> <span data-ttu-id="83494-109">Por ejemplo, desea dejar de enviar mensajes para permitirles cola la base de datos de cuadro de mensajes, mientras sigue permitiendo la recepción de mensajes que se produzca entrante.</span><span class="sxs-lookup"><span data-stu-id="83494-109">For example, you may want to stop sending messages to let them queue up in the Messagebox database, while still allowing the inbound receiving of messages to occur.</span></span> <span data-ttu-id="83494-110">Separación de instancias de host mediante la funcionalidad, también proporciona las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="83494-110">Separating host instances by functionality also provides the following benefits:</span></span>  
  
-   <span data-ttu-id="83494-111">Cada instancia de host tiene su propio conjunto de recursos, como memoria, identificadores y los subprocesos en el grupo de subprocesos. NET.</span><span class="sxs-lookup"><span data-stu-id="83494-111">Each host instance has its own set of resources such as memory, handles, and threads in the .NET thread pool.</span></span>  
  
-   <span data-ttu-id="83494-112">Varios hosts de BizTalk también reducen la contención en las tablas de cola de host de base de datos de cuadro de mensajes porque cada host se asigna a sus propias tablas de cola de trabajo en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="83494-112">Multiple BizTalk hosts will also reduce contention on the Messagebox database host queue tables because each host is assigned its own work queue tables in the Messagebox database.</span></span>  
  
-   <span data-ttu-id="83494-113">Se implementa la limitación en BizTalk Server en el nivel de host.</span><span class="sxs-lookup"><span data-stu-id="83494-113">Throttling is implemented in BizTalk Server at the host-level.</span></span> <span data-ttu-id="83494-114">Esto le permite establecer diferentes características de limitación para cada host.</span><span class="sxs-lookup"><span data-stu-id="83494-114">This allows you to set different throttling characteristics for each host.</span></span>  
  
-   <span data-ttu-id="83494-115">Se implementa la seguridad en el nivel de host; cada host se ejecuta bajo una identidad de Windows discreta.</span><span class="sxs-lookup"><span data-stu-id="83494-115">Security is implemented at the host-level; each host runs under a discrete Windows identity.</span></span> <span data-ttu-id="83494-116">Esto le permitiría, por ejemplo, para proporcionar acceso de Host_A a FileShare_B, al no permitir que cualquiera de los demás hosts para tener acceso a recurso compartido de archivos.</span><span class="sxs-lookup"><span data-stu-id="83494-116">This would allow you, for example, to give Host_A access to FileShare_B, while not allowing any of the other hosts to access the file share.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="83494-117">Aunque existen ventajas a la creación de instancias de host adicionales, también hay inconvenientes posibles si se han creado demasiadas instancias de host.</span><span class="sxs-lookup"><span data-stu-id="83494-117">While there are benefits to creating additional host instances, there are also potential drawbacks if too many host instances are created.</span></span> <span data-ttu-id="83494-118">Cada instancia de host es un servicio de Windows (BTSNTSvc.exe), que genera una carga adicional en la base de datos de cuadro de mensajes y consume recursos del equipo (como CPU, memoria, subprocesos).</span><span class="sxs-lookup"><span data-stu-id="83494-118">Each host instance is a Windows service (BTSNTSvc.exe), which generates additional load against the MessageBox database and consumes computer resources (such as CPU, memory, threads).</span></span>  
  
 <span data-ttu-id="83494-119">Para obtener más información acerca de cómo modificar las propiedades de Host de BizTalk Server, vea "Cómo para modificar propiedades de Host" en la Ayuda de BizTalk Server en [ http://go.microsoft.com/fwlink/?LinkId=101588 ](http://go.microsoft.com/fwlink/?LinkId=101588).</span><span class="sxs-lookup"><span data-stu-id="83494-119">For more information about modifying BizTalk Server Host properties, see "How to Modify Host Properties" in the BizTalk Server help at [http://go.microsoft.com/fwlink/?LinkId=101588](http://go.microsoft.com/fwlink/?LinkId=101588).</span></span>  
  
## <a name="configure-a-dedicated-tracking-host"></a><span data-ttu-id="83494-120">Configurar un host de seguimiento dedicado</span><span class="sxs-lookup"><span data-stu-id="83494-120">Configure a dedicated tracking host</span></span>  
 <span data-ttu-id="83494-121">BizTalk Server está optimizado para rendimiento, por lo que la orquestación principal y los motores de mensajes no realmente mover los mensajes directamente a las bases de datos de seguimiento de BizTalk o BAM, como esto sería desviar estos motores de su trabajo principal de la ejecución de procesos empresariales.</span><span class="sxs-lookup"><span data-stu-id="83494-121">BizTalk Server is optimized for throughput, so the main orchestration and messaging engines do not actually move messages directly to the BizTalk Tracking or BAM databases, as this would divert these engines from their primary job of executing business processes.</span></span> <span data-ttu-id="83494-122">En su lugar, BizTalk Server deja los mensajes en la base de datos de cuadro de mensajes y los marca como que requieren un cambio a la base de datos de seguimiento de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="83494-122">Instead, BizTalk Server leaves the messages in the MessageBox database and marks them as requiring a move to the BizTalk Tracking database.</span></span> <span data-ttu-id="83494-123">Un proceso en segundo plano (el host de seguimiento), a continuación, se mueve los mensajes a las bases de datos de seguimiento de BizTalk y BAM.</span><span class="sxs-lookup"><span data-stu-id="83494-123">A background process (the tracking host) then moves the messages to the BizTalk Tracking and BAM databases.</span></span> <span data-ttu-id="83494-124">Porque el seguimiento es una operación de uso intensivo de recursos, un host independiente debe crearse que se dedica a seguimiento, lo que minimiza el impacto que tiene seguimiento en los hosts dedicados al procesamiento de mensajes.</span><span class="sxs-lookup"><span data-stu-id="83494-124">Because tracking is a resource intensive operation, a separate host should be created that is dedicated to tracking, thereby minimizing the impact that tracking has on hosts dedicated to message processing.</span></span>  
  
 <span data-ttu-id="83494-125">Uso de un host de seguimiento dedicado también le permite detener otros hosts de BizTalk sin interferir con el seguimiento de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="83494-125">Using a dedicated tracking host also allows you to stop other BizTalk hosts without interfering with BizTalk Server tracking.</span></span> <span data-ttu-id="83494-126">El movimiento de datos fuera de la base de datos de cuadro de mensajes de seguimiento es fundamental para un sistema de BizTalk Server en buen estado.</span><span class="sxs-lookup"><span data-stu-id="83494-126">The movement of tracking data out of the Messagebox database is critical for a healthy BizTalk Server system.</span></span> <span data-ttu-id="83494-127">Si se detiene el Host de BizTalk responsable de mover datos de seguimiento en el grupo de BizTalk, no se ejecutará el servicio de descodificación de datos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="83494-127">If the BizTalk Host responsible for moving tracking data in the BizTalk group is stopped, the Tracking Data Decode service will not run.</span></span> <span data-ttu-id="83494-128">El impacto de esto es como sigue:</span><span class="sxs-lookup"><span data-stu-id="83494-128">The impact of this is as follows:</span></span>  
  
- <span data-ttu-id="83494-129">Datos de seguimiento de HAT no se moverá desde la base de datos de cuadro de mensajes a la base de datos de seguimiento de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="83494-129">HAT tracking data will not be moved from the Messagebox database to the BizTalk Tracking database.</span></span>  
  
- <span data-ttu-id="83494-130">Datos de seguimiento de BAM no se moverá desde la base de datos de cuadro de mensajes a la base de datos de importación principal de BAM.</span><span class="sxs-lookup"><span data-stu-id="83494-130">BAM tracking data will not be moved from the Messagebox database to the BAM Primary Import database.</span></span>  
  
- <span data-ttu-id="83494-131">Dado que no se mueven los datos, no se puede eliminar de la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="83494-131">Because data is not moved, it cannot be deleted from the Messagebox database.</span></span>  
  
- <span data-ttu-id="83494-132">Cuando se detiene el servicio de descodificación de datos de seguimiento, los interceptores de seguimiento aún desencadenará y escribir datos de seguimiento en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="83494-132">When the Tracking Data Decode service is stopped, tracking interceptors will still fire and write tracking data to the Messagebox database.</span></span> <span data-ttu-id="83494-133">Si no se mueven los datos, esto hará que la base de datos de cuadro de mensajes se infle, lo que afectará al rendimiento en el tiempo.</span><span class="sxs-lookup"><span data-stu-id="83494-133">If the data is not moved, this will cause the Messagebox database to become bloated, which will impact performance over time.</span></span> <span data-ttu-id="83494-134">Incluso si no se realiza el seguimiento de las propiedades personalizadas o no se configuran los perfiles BAM, de forma predeterminada algunos datos se realiza un seguimiento (como canalización de recepción / envío de eventos y eventos de orquestación).</span><span class="sxs-lookup"><span data-stu-id="83494-134">Even if custom properties are not tracked or BAM profiles are not set up, by default some data is tracked (such as pipeline receive / send events and orchestration events).</span></span> <span data-ttu-id="83494-135">Si no desea ejecutar el servicio de descodificación de datos de seguimiento, desactive la opción de todo el seguimiento para que no los interceptores de guardan los datos en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="83494-135">If you do not want to run the Tracking Data Decode service, turn off all tracking so that no interceptors save data to the database.</span></span> <span data-ttu-id="83494-136">Para deshabilitar el seguimiento global, consulte "Cómo para desactivar el seguimiento Global" en el servidor BizTalk Server ayuda a [ http://go.microsoft.com/fwlink/?LinkId=101589 ](http://go.microsoft.com/fwlink/?LinkId=101589).</span><span class="sxs-lookup"><span data-stu-id="83494-136">To disable global tracking, see "How to Turn Off Global Tracking" in the BizTalk Server help at [http://go.microsoft.com/fwlink/?LinkId=101589](http://go.microsoft.com/fwlink/?LinkId=101589).</span></span> <span data-ttu-id="83494-137">Usar la consola de administración de BizTalk Server para deshabilitar de forma selectiva los eventos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="83494-137">Use the BizTalk Server Administration console to selectively disable tracking events.</span></span>  
  
  <span data-ttu-id="83494-138">El host de seguimiento debe ejecutarse en al menos dos equipos que ejecuten BizTalk Server (para la redundancia en caso que se produce un error).</span><span class="sxs-lookup"><span data-stu-id="83494-138">The tracking host should be run on at least two computers running BizTalk Server (for redundancy in case one fails).</span></span> <span data-ttu-id="83494-139">Para obtener un rendimiento óptimo, debe tener al menos un seguimiento de la instancia de host por base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="83494-139">For optimal performance, you should have at least one tracking host instance per Messagebox database.</span></span> <span data-ttu-id="83494-140">El número real de las instancias de host de seguimiento debe (N + 1), donde N = número de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="83494-140">The actual number of tracking host instances should be (N + 1), where N = the number of Messagebox databases.</span></span> <span data-ttu-id="83494-141">El "+ 1" es para conseguir redundancia, en caso de que se produce un error en uno de los equipos que hospedan el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="83494-141">The "+ 1" is for redundancy, in case one of the computers hosting tracking fails.</span></span>  
  
  <span data-ttu-id="83494-142">Seguimiento de un instancia de host mueve datos de seguimiento para bases de datos de cuadro de mensajes específicas, pero nunca habrá movimiento de datos para una base de datos de cuadro de mensajes específico de la instancia de host de más de un seguimiento.</span><span class="sxs-lookup"><span data-stu-id="83494-142">A tracking host instance moves tracking data for specific Messagebox databases, but there will never be more than one tracking host instance moving data for a specific Messagebox database.</span></span> <span data-ttu-id="83494-143">Por ejemplo, si tiene tres bases de datos de cuadro de mensajes y solo dos instancias de host de seguimiento, a continuación, una de las instancias de host debe mover los datos de dos de las bases de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="83494-143">For example, if you have three Messagebox databases, and only two tracking host instances, then one of the host instances needs to move data for two of the Messagebox databases.</span></span> <span data-ttu-id="83494-144">Agrega una tercera instancia de host de seguimiento distribuye el seguimiento de host de trabajo a otro equipo que ejecuta BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="83494-144">Adding a third tracking host instance distributes the tracking host work to another computer running BizTalk Server.</span></span> <span data-ttu-id="83494-145">En este escenario, agregando una cuarta instancia de host de seguimiento no sería distribuir cualquier host de seguimiento más trabajo, pero proporcionaría adicional seguimiento de la instancia de host para la tolerancia a errores.</span><span class="sxs-lookup"><span data-stu-id="83494-145">In this scenario, adding a fourth tracking host instance would not distribute any more tracking host work, but would provide an extra tracking host instance for fault tolerance.</span></span>  
  
  <span data-ttu-id="83494-146">Para obtener más información sobre el servicio de Bus de eventos BAM, vea los temas siguientes en la Ayuda de BizTalk Server:</span><span class="sxs-lookup"><span data-stu-id="83494-146">For more information about the BAM Event Bus service, see the following topics in the BizTalk Server help:</span></span>  
  
- <span data-ttu-id="83494-147">"Administrar el servicio de Bus de eventos BAM" en [ http://go.microsoft.com/fwlink/?LinkId=101590 ](http://go.microsoft.com/fwlink/?LinkId=101590).</span><span class="sxs-lookup"><span data-stu-id="83494-147">"Managing the BAM Event Bus Service" at [http://go.microsoft.com/fwlink/?LinkId=101590](http://go.microsoft.com/fwlink/?LinkId=101590).</span></span>  
  
- <span data-ttu-id="83494-148">"Creación de instancias de servicio de Bus de eventos BAM" en [ http://go.microsoft.com/fwlink/?LinkId=101591 ](http://go.microsoft.com/fwlink/?LinkId=101591).</span><span class="sxs-lookup"><span data-stu-id="83494-148">"Creating Instances of the BAM Event Bus Service" at [http://go.microsoft.com/fwlink/?LinkId=101591](http://go.microsoft.com/fwlink/?LinkId=101591).</span></span>  
  
## <a name="manage-aspnet-thread-usage-or-concurrently-executing-requests-for-web-applications-that-host-orchestrations-published-as-a-web-or-wcf-service"></a><span data-ttu-id="83494-149">Administrar el uso de subprocesos ASP.NET o que se ejecutan concurrentemente solicitudes de aplicaciones Web que las orquestaciones de host se publican como un servicio WCF o Web</span><span class="sxs-lookup"><span data-stu-id="83494-149">Manage ASP.NET thread usage or concurrently executing requests for Web applications that host orchestrations published as a Web or WCF Service</span></span>  
 <span data-ttu-id="83494-150">El número de trabajo y subprocesos de E/S (IIS 6.0 e IIS 7.0 en modo clásico) o el número de solicitudes (modo integrado de IIS 7.0) para una aplicación Web ASP.NET que hospeda una orquestación que se ejecutan concurrentemente publicado como un servicio Web debe modificarse en el condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="83494-150">The number of worker and I/O threads (IIS 6.0 and IIS 7.0 in classic mode) or the number of concurrently executing requests (IIS 7.0 integrated mode) for an ASP.NET Web application that hosts an orchestration published as a Web service should be modified under the following conditions:</span></span>  
  
-   <span data-ttu-id="83494-151">Uso de CPU no es un cuello de botella en el servidor de hospedaje Web.</span><span class="sxs-lookup"><span data-stu-id="83494-151">CPU utilization is not a bottleneck on the hosting Web server.</span></span>  
  
-   <span data-ttu-id="83494-152">El valor de la **v2.0.50727\Request aplicaciones ASP.NET de tiempo de espera** o **aplicaciones ASP.NET v2.0.50727\Request tiempo de ejecución** los contadores de rendimiento es extraordinariamente alto.</span><span class="sxs-lookup"><span data-stu-id="83494-152">The value of the **ASP.NET Apps v2.0.50727\Request Wait Time** or **ASP.NET Apps v2.0.50727\Request Execution Time** performance counters is unusually high.</span></span>  
  
-   <span data-ttu-id="83494-153">Un error similar al siguiente generado en el registro de aplicación del equipo que hospeda la aplicación Web:</span><span class="sxs-lookup"><span data-stu-id="83494-153">An error similar to the following generated in the Application log of the computer that hosts the Web application:</span></span>  
  
    ```  
    Event Type: Warning  
    Event Source: W3SVC Event Category: None  
    Event ID: 1013  
    Date: 6/4/2009  
    Time: 1:03:47 PM  
    User: N/A  
    Computer: <ComputerName>  
    Description: A process serving application pool 'DefaultAppPool' exceeded time limits during shut down. The process id was '<xxxx>'  
    ```  
  
### <a name="manage-aspnet-thread-usage-for-web-applications-that-host-orchestrations-on-iis-60-and-on-iis-70-running-in-classic-mode"></a><span data-ttu-id="83494-154">Administrar el uso de subprocesos ASP.NET para aplicaciones Web que hospedan las orquestaciones en IIS 6.0 y en IIS 7.0 que se ejecuta en modo clásico</span><span class="sxs-lookup"><span data-stu-id="83494-154">Manage ASP.NET thread usage for Web applications that host orchestrations on IIS 6.0 and on IIS 7.0 running in Classic mode</span></span>  
 <span data-ttu-id="83494-155">Cuando el **autoConfig** se establece el valor en el archivo machine.config de un servidor de IIS 6.0 o IIS 7.0 que se ejecuta en modo clásico en **true**, ASP.NET 2.0 administra el número de subprocesos de trabajo y de subprocesos de E/S que están asignado a los procesos de trabajo IIS asociados:</span><span class="sxs-lookup"><span data-stu-id="83494-155">When the **autoConfig** value in the machine.config file of an IIS 6.0 server or IIS 7.0 server running in Classic mode is set to **true**, ASP.NET 2.0 manages the number of worker threads and I/O threads that are allocated to any associated IIS worker processes:</span></span>  
  
```  
<processModel autoConfig="true" />  
```  
  
 <span data-ttu-id="83494-156">Para modificar manualmente el número de subprocesos de E/S para una aplicación Web de ASP.NET 2.0 y de trabajo, abra el archivo machine.config asociado y, a continuación, escriba nuevos valores para el **maxWorkerThreads** y **maxIoThreads**parámetros:</span><span class="sxs-lookup"><span data-stu-id="83494-156">To manually modify the number of worker and I/O threads for an ASP.NET 2.0 Web application, open the associated machine.config file, and then enter new values for the **maxWorkerThreads** and **maxIoThreads** parameters:</span></span>  
  
```  
<!-- <processModel autoConfig="true" /> -->  
    <processModel maxWorkerThreads="200" maxIoThreads="200" />  
```  
  
> [!NOTE]  
>  <span data-ttu-id="83494-157">Estos valores son únicamente; como guía Asegúrese de que probar los cambios realizados en estos parámetros.</span><span class="sxs-lookup"><span data-stu-id="83494-157">These values are for guidance only; ensure you test changes to these parameters.</span></span>  
  
 <span data-ttu-id="83494-158">Para obtener más información acerca de cómo ajustar parámetros en el archivo machine.config para una aplicación Web de ASP.NET 2.0, consulte el artículo de Microsoft Knowledge Base [821268 "contención, mal rendimiento e interbloqueos cuando hace solicitudes de servicio Web de ASP.NET aplicaciones"](http://go.microsoft.com/fwlink/?LinkID=66483) (http://go.microsoft.com/fwlink/?LinkID=66483).</span><span class="sxs-lookup"><span data-stu-id="83494-158">For more information about tuning parameters in the machine.config file for an ASP.NET 2.0 Web application, see Microsoft Knowledge Base article  [821268 “Contention, poor performance, and deadlocks when you make Web service requests from ASP.NET applications”](http://go.microsoft.com/fwlink/?LinkID=66483) (http://go.microsoft.com/fwlink/?LinkID=66483).</span></span>  
  
### <a name="manage-the-number-of-concurrently-executing-requests-for-web-applications-that-host-orchestrations-on-iis-70-running-in-integrated-mode"></a><span data-ttu-id="83494-159">Administrar el número de solicitudes para las aplicaciones Web que hospedan las orquestaciones en ejecución en el modo integrado de IIS 7.0 que se ejecutan concurrentemente</span><span class="sxs-lookup"><span data-stu-id="83494-159">Manage the number of concurrently executing requests for Web applications that host orchestrations on IIS 7.0 running in Integrated mode</span></span>  
 <span data-ttu-id="83494-160">Cuando ASP.NET 2.0 se hospeda en IIS 7.0 en modo integrado, el uso de subprocesos se controla de forma diferente que en IIS 6.0 o IIS 7.0 en modo clásico.</span><span class="sxs-lookup"><span data-stu-id="83494-160">When ASP.NET 2.0 is hosted on IIS 7.0 in integrated mode, the use of threads is handled differently than on IIS 6.0 or on IIS 7.0 in classic mode.</span></span> <span data-ttu-id="83494-161">Cuando ASP.NET 2.0 se hospeda en IIS 7.0 en modo integrado, ASP.NET 2.0 restringe el número de la que se ejecutan concurrentemente **solicitudes** en vez del número de **subprocesos** las solicitudes que se ejecutan concurrentemente.</span><span class="sxs-lookup"><span data-stu-id="83494-161">When ASP.NET 2.0 is hosted on IIS 7.0 in integrated mode, ASP.NET 2.0 restricts the number of concurrently executing **requests** rather than the number of **threads** concurrently executing requests.</span></span> <span data-ttu-id="83494-162">Escenarios sincrónicos indirectamente Esto limitará el número de subprocesos, pero para escenarios asincrónicos en el número de solicitudes y subprocesos probablemente serán muy diferente.</span><span class="sxs-lookup"><span data-stu-id="83494-162">For synchronous scenarios this will indirectly limit the number of threads but for asynchronous scenarios the number of requests and threads will likely be very different.</span></span> <span data-ttu-id="83494-163">Cuando se ejecuta ASP.NET 2.0 en IIS 7.0 en modo integrado, el **maxWorkerThreads** y **maxIoThreads** parámetros en el archivo machine.config no se usan para controlar el número de subprocesos en ejecución.</span><span class="sxs-lookup"><span data-stu-id="83494-163">When running ASP.NET 2.0 on IIS 7.0 in integrated mode, the **maxWorkerThreads** and **maxIoThreads** parameters in the machine.config file are not used to govern the number of running threads.</span></span> <span data-ttu-id="83494-164">En su lugar, se puede cambiar el número de solicitudes que se ejecutan concurrentemente desde el valor predeterminado de 12 por CPU modificando el valor especificado para **maxConcurrentThreadsPerCPU**.</span><span class="sxs-lookup"><span data-stu-id="83494-164">Instead, the number of concurrently executing requests can be changed from the default value of 12 per CPU by modifying the value specified for **maxConcurrentThreadsPerCPU**.</span></span> <span data-ttu-id="83494-165">El **maxConcurrentThreadsPerCPU** valor se puede especificar en el reqistry o en la sección de configuración de un archivo aspnet.config.</span><span class="sxs-lookup"><span data-stu-id="83494-165">The **maxConcurrentThreadsPerCPU** value can be specified either in the reqistry or in the config section of an aspnet.config file.</span></span> <span data-ttu-id="83494-166">Siga estos pasos para cambiar el valor predeterminado de **maxConcurrentThreadsPerCPU** para controlar el número de solicitudes que se ejecutan concurrentemente:</span><span class="sxs-lookup"><span data-stu-id="83494-166">Follow these steps to change the default value for **maxConcurrentThreadsPerCPU** to govern the number of concurrently executing requests:</span></span>  
  
 <span data-ttu-id="83494-167">**Para establecer el valor de maxConcurrentThreadsPerCPU en el registro**</span><span class="sxs-lookup"><span data-stu-id="83494-167">**To set the maxConcurrentThreadsPerCPU value in the registry**</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="83494-168">El uso incorrecto del Editor del Registro podría ocasionar problemas que hicieran necesaria una reinstalación del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="83494-168">Incorrect use of Registry Editor may cause problems requiring you to reinstall your operating system.</span></span> <span data-ttu-id="83494-169">Utilice el Editor del Registro bajo su propia responsabilidad.</span><span class="sxs-lookup"><span data-stu-id="83494-169">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="83494-170">Para obtener más información acerca de cómo realizar copias de seguridad, restaurar y modificar el registro, consulte el artículo de Microsoft Knowledge Base "Descripción del registro de Microsoft Windows" en [ http://go.microsoft.com/fwlink/?LinkId=62729 ](http://go.microsoft.com/fwlink/?LinkId=62729).</span><span class="sxs-lookup"><span data-stu-id="83494-170">For more information about how to back up, restore, and modify the registry, see the Microsoft Knowledge Base article "Description of the Microsoft Windows registry" at [http://go.microsoft.com/fwlink/?LinkId=62729](http://go.microsoft.com/fwlink/?LinkId=62729).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="83494-171">Esta configuración es global y no se puede cambiar para grupos de aplicaciones individuales o aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="83494-171">This setting is global and cannot be changed for individual application pools or applications.</span></span>  
  
1. <span data-ttu-id="83494-172">Haga clic en **iniciar**, haga clic en **ejecutar**, tipo **regedit.exe**y, a continuación, haga clic en **Aceptar** para iniciar el Editor del registro.</span><span class="sxs-lookup"><span data-stu-id="83494-172">Click **Start**, click **Run**, type **regedit.exe**, and then click **OK** to start Registry Editor.</span></span>  
  
2. <span data-ttu-id="83494-173">Vaya a **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0**</span><span class="sxs-lookup"><span data-stu-id="83494-173">Navigate to **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0**</span></span>  
  
3. <span data-ttu-id="83494-174">Cree la clave siguiendo estos pasos:</span><span class="sxs-lookup"><span data-stu-id="83494-174">Create the key by following these steps:</span></span>  
  
   1.  <span data-ttu-id="83494-175">En el **editar** menú, haga clic en **New**y, a continuación, haga clic en **clave**.</span><span class="sxs-lookup"><span data-stu-id="83494-175">On the **Edit** menu, click **New**, and then click **Key**.</span></span>  
  
   2.  <span data-ttu-id="83494-176">Tipo **maxConcurrentThreadsPerCPU**y, a continuación, presione **ENTRAR**.</span><span class="sxs-lookup"><span data-stu-id="83494-176">Type **maxConcurrentThreadsPerCPU**, and then press **ENTER**.</span></span>  
  
   3.  <span data-ttu-id="83494-177">En el **maxConcurrentThreadsPerCPU** clave, cree una entrada DWORD con el nuevo valor para maxConcurrentThreadsPerCPU.</span><span class="sxs-lookup"><span data-stu-id="83494-177">Under the **maxConcurrentThreadsPerCPU** key, create a DWORD entry with the new value for maxConcurrentThreadsPerCPU.</span></span>  
  
   4.  <span data-ttu-id="83494-178">Cierre el Editor del registro.</span><span class="sxs-lookup"><span data-stu-id="83494-178">Close Registry Editor.</span></span>  
  
   <span data-ttu-id="83494-179">**Para establecer el valor de maxConcurrentThreadsPerCPU para un grupo de aplicaciones en la sección de configuración de un archivo aspnet.config**</span><span class="sxs-lookup"><span data-stu-id="83494-179">**To set the maxConcurrentThreadsPerCPU value for an application pool in the config section of an aspnet.config file**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="83494-180">Debe instalarse Microsoft .NET Framework 3.5 Service Pack 1 para dar cabida a establecer los valores siguientes a través del archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="83494-180">Microsoft .NET Framework 3.5 Service Pack 1 must be installed to accommodate setting the values below via configuration file.</span></span> <span data-ttu-id="83494-181">Puede descargar Microsoft .NET Framework 3.5 Service Pack 1 de [ http://go.microsoft.com/fwlink/?LinkID=136345 ](http://go.microsoft.com/fwlink/?LinkID=136345).</span><span class="sxs-lookup"><span data-stu-id="83494-181">You can download Microsoft .NET Framework 3.5 Service Pack 1 from [http://go.microsoft.com/fwlink/?LinkID=136345](http://go.microsoft.com/fwlink/?LinkID=136345).</span></span>  
  
-   <span data-ttu-id="83494-182">Abra el archivo aspnet.config para el grupo de aplicaciones y, a continuación, escriba nuevos valores para el **maxConcurrentRequestsPerCPU** y **requestQueueLimit** parámetros:</span><span class="sxs-lookup"><span data-stu-id="83494-182">Open the aspnet.config file for the application pool, and then enter new values for the **maxConcurrentRequestsPerCPU** and **requestQueueLimit** parameters:</span></span>  
  
```  
<system.web>  
    <applicationPool maxConcurrentRequestsPerCPU="12" requestQueueLimit="5000"/>  
</system.web>  
```  
  
> [!NOTE]  
>  <span data-ttu-id="83494-183">Este valor invalida el valor especificado para **maxConcurrentThreadsPerCPU** en el registro.</span><span class="sxs-lookup"><span data-stu-id="83494-183">This value overrides the value specified for **maxConcurrentThreadsPerCPU** in the registry.</span></span> <span data-ttu-id="83494-184">El valor requestQueueLimit es igual a processModel/requestQueueLimit, salvo que la configuración en el archivo aspnet.config invalidará la configuración en el archivo machine.config.</span><span class="sxs-lookup"><span data-stu-id="83494-184">The requestQueueLimit setting is the same as processModel/requestQueueLimit, except that the setting in the aspnet.config file will override the setting in the machine.config file.</span></span>  
  
## <a name="define-clr-hosting-thread-values-for-biztalk-host-instances"></a><span data-ttu-id="83494-185">Definir valores de subprocesos para las instancias de host de BizTalk de hospedaje de CLR</span><span class="sxs-lookup"><span data-stu-id="83494-185">Define CLR hosting thread values for BizTalk host instances</span></span>  
 <span data-ttu-id="83494-186">Dado que un subproceso de Windows es la unidad más básica ejecutable disponible para un proceso de Windows, es importante asignar suficientes subprocesos al grupo de subprocesos .NET asociado a una instancia de host de BizTalk de para impedir la falta de subprocesos.</span><span class="sxs-lookup"><span data-stu-id="83494-186">Because a Windows thread is the most basic executable unit available to a Windows process, it is important to allocate enough threads to the .NET thread pool associated with an instance of a BizTalk host to prevent thread starvation.</span></span> <span data-ttu-id="83494-187">Cuando se produzca el colapso de los subprocesos, no hay suficientes subprocesos disponibles para realizar el trabajo solicitado que afecta negativamente al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="83494-187">When thread starvation occurs, there are not enough threads available to perform the requested work that negatively impacts performance.</span></span> <span data-ttu-id="83494-188">Asimismo, se debe tener cuidado para evitar la asignación de más subprocesos en el grupo de subprocesos .NET asociado a un host que ya no es necesario.</span><span class="sxs-lookup"><span data-stu-id="83494-188">At the same time, care should be taken to prevent allocating more threads to the.NET thread pool associated with a host than is necessary.</span></span> <span data-ttu-id="83494-189">La asignación de demasiados subprocesos al grupo de subprocesos .NET asociado a un host puede aumentar el cambio de contexto.</span><span class="sxs-lookup"><span data-stu-id="83494-189">The allocation of too many threads to the .NET thread pool associated with a host may increase context switching.</span></span> <span data-ttu-id="83494-190">Cambio de contexto se produce cuando cambia el kernel de Windows de ejecutar un subproceso a otro subproceso, ya que conlleva un costo de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="83494-190">Context switching occurs when the Windows kernel switches from running one thread to a different thread, which incurs a performance cost.</span></span> <span data-ttu-id="83494-191">Asignación excesiva de subprocesos puede provocar el cambio de contexto excesivo que afectará negativamente al rendimiento general.</span><span class="sxs-lookup"><span data-stu-id="83494-191">Excessive thread allocation can cause excessive context switching, which will negatively impact overall performance.</span></span>  
  
 <span data-ttu-id="83494-192">Modificar el número de subprocesos de Windows disponibles en el grupo de subprocesos .NET asociado a una instancia de un host de BizTalk mediante la creación de los valores de CLR Hosting apropiados en el registro de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="83494-192">Modify the number of Windows threads available in the .NET thread pool associated with an instance of a BizTalk host by creating the appropriate CLR Hosting values in the registry of the BizTalk Server.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="83494-193">El uso incorrecto del Editor del Registro podría ocasionar problemas que hicieran necesaria una reinstalación del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="83494-193">Incorrect use of Registry Editor may cause problems requiring you to reinstall your operating system.</span></span> <span data-ttu-id="83494-194">Utilice el Editor del Registro bajo su propia responsabilidad.</span><span class="sxs-lookup"><span data-stu-id="83494-194">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="83494-195">Para obtener más información acerca de cómo realizar copias de seguridad, restaurar y modificar el registro, consulte el artículo de Microsoft Knowledge Base "Descripción del registro de Microsoft Windows" en [ http://go.microsoft.com/fwlink/?LinkId=62729 ](http://go.microsoft.com/fwlink/?LinkId=62729).</span><span class="sxs-lookup"><span data-stu-id="83494-195">For more information about how to back up, restore, and modify the registry, see the Microsoft Knowledge Base article "Description of the Microsoft Windows registry" at [http://go.microsoft.com/fwlink/?LinkId=62729](http://go.microsoft.com/fwlink/?LinkId=62729).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="83494-196">**Subprocesos de trabajo** se usan para controlar los elementos de trabajo en cola y **subprocesos de E/S** son subprocesos dedicados de devolución de llamada asociados con un puerto de terminación de E/S para controlar una solicitud de E/S asincrónica completada.</span><span class="sxs-lookup"><span data-stu-id="83494-196">**Worker threads** are used to handle queued work items and **I/O threads** are dedicated callback threads associated with an I/O completion port to handle a completed asynchronous I/O request.</span></span>  
  
 <span data-ttu-id="83494-197">**Para modificar el número de subprocesos disponibles en el grupo de subprocesos .NET asociado a cada instancia de un host de BizTalk, siga estos pasos:**</span><span class="sxs-lookup"><span data-stu-id="83494-197">**To modify the number of threads available in the .NET thread pool associated with each instance of a BizTalk host, follow these steps:**</span></span>  
  
1. <span data-ttu-id="83494-198">Detenga la instancia de host de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="83494-198">Stop the BizTalk host instance.</span></span>  
  
2. <span data-ttu-id="83494-199">Haga clic en **iniciar**, haga clic en **ejecutar**, tipo **regedit.exe**y, a continuación, haga clic en **Aceptar** para iniciar el Editor del registro.</span><span class="sxs-lookup"><span data-stu-id="83494-199">Click **Start**, click **Run**, type **regedit.exe**, and then click **OK** to start Registry Editor.</span></span>  
   <span data-ttu-id="83494-200">Vaya a **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\BTSSvc$**<em>hostname</em>] donde *hostname* es el nombre del host asociado con el host instancia de.</span><span class="sxs-lookup"><span data-stu-id="83494-200">Navigate to **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\BTSSvc$**<em>hostname</em>] where *hostname* is the name of the host associated with the host instance.</span></span>  
  
   > [!NOTE]  
   >  <span data-ttu-id="83494-201">Si ha actualizado la instalación de BizTalk Server 2006 de BizTalk Server 2004, esta clave del registro puede representarse como **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\BTSSvc *** guid*] donde *guid*  es un GUID único para cada instancia de un host de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="83494-201">If you have upgraded your BizTalk Server 2006 installation from BizTalk Server 2004, this registry key may be represented as **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\BTSSvc***guid*] where *guid* is a GUID unique to each instance of a BizTalk Server host.</span></span>  
  
3. <span data-ttu-id="83494-202">Busque el **alojamiento CLR** clave.</span><span class="sxs-lookup"><span data-stu-id="83494-202">Locate the **CLR Hosting** key.</span></span> <span data-ttu-id="83494-203">Si esta clave no existe, a continuación, cree la clave siguiendo estos pasos:</span><span class="sxs-lookup"><span data-stu-id="83494-203">If this key does not exist, then create the key by following these steps:</span></span>  
  
   1.  <span data-ttu-id="83494-204">En el **editar** menú, haga clic en **New**y, a continuación, haga clic en **clave**.</span><span class="sxs-lookup"><span data-stu-id="83494-204">On the **Edit** menu, click **New**, and then click **Key**.</span></span>  
  
   2.  <span data-ttu-id="83494-205">Tipo **alojamiento CLR**y, a continuación, presione **ENTRAR**.</span><span class="sxs-lookup"><span data-stu-id="83494-205">Type **CLR Hosting**, and then press **ENTER**.</span></span>  
  
4. <span data-ttu-id="83494-206">En el **alojamiento CLR** clave, cree las siguientes entradas DWORD con los valores indicados.</span><span class="sxs-lookup"><span data-stu-id="83494-206">Under the **CLR Hosting** key, create the following DWORD entries with the indicated values.</span></span>  
  
   |<span data-ttu-id="83494-207">Entrada DWORD</span><span class="sxs-lookup"><span data-stu-id="83494-207">DWORD entry</span></span>|<span data-ttu-id="83494-208">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="83494-208">Default value</span></span>|<span data-ttu-id="83494-209">Valor recomendado</span><span class="sxs-lookup"><span data-stu-id="83494-209">Recommended value</span></span>|  
   |-----------------|-------------------|-----------------------|  
   |<span data-ttu-id="83494-210">MaxIOThreads</span><span class="sxs-lookup"><span data-stu-id="83494-210">MaxIOThreads</span></span>|<span data-ttu-id="83494-211">20</span><span class="sxs-lookup"><span data-stu-id="83494-211">20</span></span>|<span data-ttu-id="83494-212">100</span><span class="sxs-lookup"><span data-stu-id="83494-212">100</span></span>|  
   |<span data-ttu-id="83494-213">MaxWorkerThreads</span><span class="sxs-lookup"><span data-stu-id="83494-213">MaxWorkerThreads</span></span>|<span data-ttu-id="83494-214">25</span><span class="sxs-lookup"><span data-stu-id="83494-214">25</span></span>|<span data-ttu-id="83494-215">100 **importante:** al aumentar este valor por encima de 100 puede tener un efecto adverso en el rendimiento del equipo de SQL Server que hospeda la base de datos de cuadro de mensajes de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="83494-215">100 **Important:**  Increasing this value beyond 100 can have an adverse effect on the performance of the SQL Server computer hosting the BizTalk Server MessageBox database.</span></span> <span data-ttu-id="83494-216">Cuando se produce este problema, el servidor SQL Server puede encontrar una condición de interbloqueo.</span><span class="sxs-lookup"><span data-stu-id="83494-216">When this problem occurs, SQL Server may encounter a deadlock condition.</span></span> <span data-ttu-id="83494-217">Se recomienda que este parámetro no se aumenta más allá de un valor de 100.</span><span class="sxs-lookup"><span data-stu-id="83494-217">It is recommended this parameter is not increased beyond a value of 100.</span></span>|  
   |<span data-ttu-id="83494-218">MinIOThreads</span><span class="sxs-lookup"><span data-stu-id="83494-218">MinIOThreads</span></span>|<span data-ttu-id="83494-219">1</span><span class="sxs-lookup"><span data-stu-id="83494-219">1</span></span>|<span data-ttu-id="83494-220">25</span><span class="sxs-lookup"><span data-stu-id="83494-220">25</span></span>|  
   |<span data-ttu-id="83494-221">MinWorkerThreads</span><span class="sxs-lookup"><span data-stu-id="83494-221">MinWorkerThreads</span></span>|<span data-ttu-id="83494-222">1</span><span class="sxs-lookup"><span data-stu-id="83494-222">1</span></span>|<span data-ttu-id="83494-223">25</span><span class="sxs-lookup"><span data-stu-id="83494-223">25</span></span>|  
  
   > [!NOTE]  
   >  <span data-ttu-id="83494-224">Estos recomienda valores serán suficientes para la mayoría de los escenarios, pero es posible que tenga que aumentar dependiendo de cuántos controladores de adaptador u orquestaciones que se ejecutan en cada instancia de host.</span><span class="sxs-lookup"><span data-stu-id="83494-224">These recommended values will be sufficient for most scenarios but may need to be increased depending on how many adapter handlers or orchestrations are running in each host instance.</span></span>  
  
   > [!NOTE]  
   >  <span data-ttu-id="83494-225">Estos valores se multiplican implícitamente por el número de procesadores del servidor.</span><span class="sxs-lookup"><span data-stu-id="83494-225">These values are implicitly multiplied by the number of processors on the server.</span></span> <span data-ttu-id="83494-226">Por ejemplo, si define la entrada MaxWorkerThreads en un valor de 100 se definiría un valor de 400 en un servidor de 4 CPU.</span><span class="sxs-lookup"><span data-stu-id="83494-226">For example, setting the MaxWorkerThreads entry to a value of 100 would effectively set a value of 400 on a 4 CPU server.</span></span>  
  
5. <span data-ttu-id="83494-227">Cierre el Editor del registro.</span><span class="sxs-lookup"><span data-stu-id="83494-227">Close Registry Editor.</span></span>  
  
6. <span data-ttu-id="83494-228">Reinicie la instancia de host de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="83494-228">Restart the BizTalk host instance.</span></span>  
  
## <a name="disable-tracking-for-orchestrations-send-ports-receive-ports-and-pipelines-when-tracking-is-not-required"></a><span data-ttu-id="83494-229">Deshabilitar el seguimiento para orquestaciones, puertos de envío, puertos y canalizaciones de recepción cuando no se requiere seguimiento</span><span class="sxs-lookup"><span data-stu-id="83494-229">Disable tracking for orchestrations, send ports, receive ports, and pipelines when tracking is not required</span></span>  
 <span data-ttu-id="83494-230">Seguimiento implica rendimiento sobrecarga en BizTalk Server ya tienen datos se escriben en la base de datos de cuadro de mensajes y, a continuación, mueve asincrónicamente a la base de datos de seguimiento de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="83494-230">Tracking incurs performance overhead within BizTalk Server as data has to be written to the MessageBox database and then asynchronously moved to the BizTalk Tracking database.</span></span> <span data-ttu-id="83494-231">Si el seguimiento no es un requisito empresarial, a continuación, deshabilitar el seguimiento para reducir la sobrecarga y aumentar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="83494-231">If tracking is not a business requirement, then disable tracking to reduce overhead and increase performance.</span></span> <span data-ttu-id="83494-232">Para obtener más información acerca de cómo configurar el seguimiento, vea "Configuración de seguimiento utilizando la consola de administración" en el servidor BizTalk Server la Ayuda en [ http://go.microsoft.com/fwlink/?LinkID=106742 ](http://go.microsoft.com/fwlink/?LinkID=106742).</span><span class="sxs-lookup"><span data-stu-id="83494-232">For more information about configuring tracking, see “Configuring Tracking Using the BizTalk Server Administration Console” in the BizTalk Server help at [http://go.microsoft.com/fwlink/?LinkID=106742](http://go.microsoft.com/fwlink/?LinkID=106742).</span></span>  
  
## <a name="decrease-the-purging-period-for-the-dta-purge-and-archive-job-from-7-days-to-2-days-in-high-throughput-scenarios"></a><span data-ttu-id="83494-233">Reducir el período de purgado para el trabajo DTA Purge and Archive de 7 días en 2 días en escenarios de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="83494-233">Decrease the purging period for the DTA Purge and Archive job from 7 days to 2 days in high throughput scenarios</span></span>  
 <span data-ttu-id="83494-234">De forma predeterminada, el intervalo de purgado de datos de seguimiento en el servidor BizTalk Server se establece en 7 días.</span><span class="sxs-lookup"><span data-stu-id="83494-234">By default, the purging interval for tracking data in BizTalk Server is set to 7 days.</span></span> <span data-ttu-id="83494-235">En un escenario de alto rendimiento, esto puede producir en una compilación excesivo copia de datos en la base de datos de seguimiento, que finalmente afectará al rendimiento del cuadro de mensajes y negativamente a su vez al rendimiento de procesamiento de mensajes de impacto.</span><span class="sxs-lookup"><span data-stu-id="83494-235">In a high throughput scenario, this can result in an excessive build up of data in the Tracking database, which will eventually impact the performance of the MessageBox and in turn negatively impact message processing throughput.</span></span>  
  
 <span data-ttu-id="83494-236">En escenarios de alto rendimiento, reducir el hardware y software de purga de intervalo del valor predeterminado de 7 días en 2 días.</span><span class="sxs-lookup"><span data-stu-id="83494-236">In high throughput scenarios, reduce the hard and soft purging interval from the default of 7 days to 2 days.</span></span> <span data-ttu-id="83494-237">Para obtener más información acerca de cómo configurar el intervalo de purgado, vea "Cómo configurar la DTA purgar y archivar trabajo" en el servidor BizTalk Server la Ayuda en [ http://go.microsoft.com/fwlink/?LinkID=104908 ](http://go.microsoft.com/fwlink/?LinkID=104908).</span><span class="sxs-lookup"><span data-stu-id="83494-237">For more information about configuring the purging interval, see “How to Configure the DTA Purge and Archive Job” in the BizTalk Server help at [http://go.microsoft.com/fwlink/?LinkID=104908](http://go.microsoft.com/fwlink/?LinkID=104908).</span></span>  
  
## <a name="install-the-latest-service-packs"></a><span data-ttu-id="83494-238">Instalar los service packs más recientes</span><span class="sxs-lookup"><span data-stu-id="83494-238">Install the latest service packs</span></span>  
 <span data-ttu-id="83494-239">Deben instalarse el service Pack más recientes de BizTalk Server y .NET Framework, ya que estos contienen correcciones que pueden corregir los problemas de rendimiento que pueden producirse.</span><span class="sxs-lookup"><span data-stu-id="83494-239">The latest service packs for both BizTalk Server and the .NET Framework should be installed, as these contain fixes that can correct performance issues you may encounter.</span></span>  
  
## <a name="do-not-cluster-biztalk-hosts-unless-absolutely-necessary"></a><span data-ttu-id="83494-240">No clúster de hosts de BizTalk a menos que sea absolutamente necesario</span><span class="sxs-lookup"><span data-stu-id="83494-240">Do not cluster BizTalk hosts unless absolutely necessary</span></span>  
 <span data-ttu-id="83494-241">Mientras [!INCLUDE[btsBizTalkServer2006](../includes/btsbiztalkserver2006-md.md)] y versiones posteriores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] le permiten configurar un host de BizTalk como recurso de clúster, solo puede hacerlo si tiene que proporcionar una alta disponibilidad a un recurso que no se puede hospedar en varios BizTalk equipos.</span><span class="sxs-lookup"><span data-stu-id="83494-241">While [!INCLUDE[btsBizTalkServer2006](../includes/btsbiztalkserver2006-md.md)] and subsequent versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] allow you to configure a BizTalk host as a cluster resource, you should only consider doing this if you need to provide high availability to a resource that cannot be hosted across multiple BizTalk computers.</span></span> <span data-ttu-id="83494-242">Como ejemplo, los puertos que usa el adaptador de FTP únicamente debe residir en una instancia de host, como el protocolo FTP no proporciona el bloqueo de archivos, sin embargo, esto introduce un único punto de error que se beneficiaría de agrupación en clústeres.</span><span class="sxs-lookup"><span data-stu-id="83494-242">As an example, ports using the FTP adapter should only reside on one host instance, as the FTP protocol does not provide file locking, however, this introduces a single point of failure which would benefit from clustering.</span></span> <span data-ttu-id="83494-243">Hosts que contienen los adaptadores, como archivos, SQL, HTTP o procesar solo los hosts, pueden ser internamente carga equilibrada entre equipos y no se benefician de agrupación en clústeres.</span><span class="sxs-lookup"><span data-stu-id="83494-243">Hosts that contain adapters, such as file, SQL, HTTP or processing only hosts, can be internally load balanced across machines and do not benefit from clustering.</span></span>  
  
## <a name="performance-optimizations-in-the-biztalk-server-documentation"></a><span data-ttu-id="83494-244">Optimizaciones de rendimiento en la documentación de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="83494-244">Performance optimizations in the BizTalk Server documentation</span></span>  
 <span data-ttu-id="83494-245">Se aplican las siguientes recomendaciones de la documentación de BizTalk Server según corresponda:</span><span class="sxs-lookup"><span data-stu-id="83494-245">Apply the following recommendations from the BizTalk Server documentation as appropriate:</span></span>  
  
-   <span data-ttu-id="83494-246">"Solucionar problemas de latencia del cuadro de mensajes" en [http://go.microsoft.com/fwlink/?LinkId=114747](http://go.microsoft.com/fwlink/?LinkId=114747)</span><span class="sxs-lookup"><span data-stu-id="83494-246">“Troubleshooting MessageBox Latency Issues” at [http://go.microsoft.com/fwlink/?LinkId=114747](http://go.microsoft.com/fwlink/?LinkId=114747)</span></span>  
  
-   <span data-ttu-id="83494-247">"Identificar cuellos de botella de rendimiento" en [http://go.microsoft.com/fwlink/?LinkID=104418](http://go.microsoft.com/fwlink/?LinkID=104418)</span><span class="sxs-lookup"><span data-stu-id="83494-247">“Identifying Performance Bottlenecks” at [http://go.microsoft.com/fwlink/?LinkID=104418](http://go.microsoft.com/fwlink/?LinkID=104418)</span></span>  
  
-   <span data-ttu-id="83494-248">"Evitar excepciones DBNETLIB" en [http://go.microsoft.com/fwlink/?LinkID=108787](http://go.microsoft.com/fwlink/?LinkID=108787)</span><span class="sxs-lookup"><span data-stu-id="83494-248">“Avoiding DBNETLIB Exceptions” at [http://go.microsoft.com/fwlink/?LinkID=108787](http://go.microsoft.com/fwlink/?LinkID=108787)</span></span>  
  
-   <span data-ttu-id="83494-249">"Evitar el agotamiento de puertos TCP/IP" en [http://go.microsoft.com/fwlink/?LinkID=101610](http://go.microsoft.com/fwlink/?LinkID=101610)</span><span class="sxs-lookup"><span data-stu-id="83494-249">“Avoiding TCP/IP Port Exhaustion” at [http://go.microsoft.com/fwlink/?LinkID=101610](http://go.microsoft.com/fwlink/?LinkID=101610)</span></span>  
  
-   <span data-ttu-id="83494-250">"Establecer el tamaño del grupo de subprocesos de EPM" en [http://go.microsoft.com/fwlink/?LinkId=114748](http://go.microsoft.com/fwlink/?LinkId=114748)</span><span class="sxs-lookup"><span data-stu-id="83494-250">“Setting the EPM Threadpool Size” at [http://go.microsoft.com/fwlink/?LinkId=114748](http://go.microsoft.com/fwlink/?LinkId=114748)</span></span>