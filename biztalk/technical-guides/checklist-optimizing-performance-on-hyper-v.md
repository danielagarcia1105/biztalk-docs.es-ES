---
title: 'Lista de comprobación: Optimización del rendimiento en Hyper-V | Microsoft Docs'
ms.custom: ''
ms.date: 06/29/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 942a61eb-0fdd-4c8b-b0ad-d32951f0f631
caps.latest.revision: 23
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bbd9ec3f47c12107c4ebfc32f109a5248b97a75f
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36975565"
---
# <a name="checklist-optimizing-performance-on-hyper-v"></a><span data-ttu-id="9ac61-102">Lista de comprobación: Optimización del rendimiento en Hyper-V</span><span class="sxs-lookup"><span data-stu-id="9ac61-102">Checklist: Optimizing Performance on Hyper-V</span></span>
<span data-ttu-id="9ac61-103">Las siguientes consideraciones se aplican cuando se ejecuta BizTalk Server o el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instancias que tengan las bases de datos de BizTalk Server en máquinas virtuales de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9ac61-103">The following considerations apply when running BizTalk Server and/or the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) that have the BizTalk Server databases on Hyper-V virtual machines.</span></span>  

## <a name="allocate-110125-of-cpu-and-disk-resources-to-the-hyper-v-virtual-machines"></a><span data-ttu-id="9ac61-104">Asignar 110: 125% de CPU y recursos de disco para las máquinas virtuales de Hyper-V</span><span class="sxs-lookup"><span data-stu-id="9ac61-104">Allocate 110%–125% of CPU and Disk Resources to the Hyper-V Virtual Machines</span></span>  
 <span data-ttu-id="9ac61-105">Planea asignar 110 al 125% de los recursos de CPU y 105 al 110% de los recursos de disco que requiere una solución de hardware físico a las máquinas virtuales de Hyper-V usa para la solución.</span><span class="sxs-lookup"><span data-stu-id="9ac61-105">Plan to allocate 110% to 125% of the CPU resources and 105% - 110% of the disk resources required by a physical hardware solution to the Hyper-V virtual machines used for the solution.</span></span> <span data-ttu-id="9ac61-106">Al configurar la máquina virtual de Hyper-V con recursos adicionales, se asegurará de que puede proporcionar rendimiento a la par de hardware físico y que se satisfaga cualquier sobrecarga necesaria mediante la tecnología de virtualización Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9ac61-106">By configuring the Hyper-V virtual machine with additional resources, you will ensure that it can provide performance on par with physical hardware while accommodating any overhead required by Hyper-V virtualization technology.</span></span>  


|                                                                                      <span data-ttu-id="9ac61-107">Paso</span><span class="sxs-lookup"><span data-stu-id="9ac61-107">Step</span></span>                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="9ac61-108">Referencia</span><span class="sxs-lookup"><span data-stu-id="9ac61-108">Reference</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                      <span data-ttu-id="9ac61-109">Definir el ámbito de los requisitos de hardware para el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solución.</span><span class="sxs-lookup"><span data-stu-id="9ac61-109">Scope the hardware requirements for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution.</span></span>                       | <span data-ttu-id="9ac61-110">-Siga las instrucciones en la sección "Planeación el entorno de BizTalk Server" de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Guía de operaciones en [ http://go.microsoft.com/fwlink/?LinkId=122399 ](http://go.microsoft.com/fwlink/?LinkId=122399) para definir el ámbito de los requisitos de hardware para la solución.</span><span class="sxs-lookup"><span data-stu-id="9ac61-110">-   Follow the guidance in the “Planning the Environment for BizTalk Server” section of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operations Guide at [http://go.microsoft.com/fwlink/?LinkId=122399](http://go.microsoft.com/fwlink/?LinkId=122399) to scope the hardware requirements for the solution.</span></span><br /><span data-ttu-id="9ac61-111">-Al ámbito de la edición y el número de servidores de BizTalk que requerirá la solución revisan planear las consideraciones que se documenta en "Planear el nivel de servidor de BizTalk" en el servidor BizTalk Server [ http://go.microsoft.com/fwlink/?LinkId=122401 ](http://go.microsoft.com/fwlink/?LinkId=122401).</span><span class="sxs-lookup"><span data-stu-id="9ac61-111">-   To scope the edition and number of BizTalk Servers that will be required by the solution review BizTalk Server planning considerations documented in “Planning the BizTalk Server Tier” at [http://go.microsoft.com/fwlink/?LinkId=122401](http://go.microsoft.com/fwlink/?LinkId=122401).</span></span><br /><span data-ttu-id="9ac61-112">-A definir el ámbito de la versión y el número de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] equipos que requerirá la solución, revise documentadas en "Planear el nivel de base de datos" de consideraciones de planeación de la base de datos en [ http://go.microsoft.com/fwlink/?LinkId=122402 ](http://go.microsoft.com/fwlink/?LinkId=122402) y el rendimiento" Sección de sobrecarga de ejecución de SQL Server en Hyper-V"de las notas del producto"Ejecutando SQL Server 2008 in a Hyper-V entorno Best Practices and Performance Considerations"disponible en [ http://go.microsoft.com/fwlink/?LinkId=144622 ](http://go.microsoft.com/fwlink/?LinkId=144622).</span><span class="sxs-lookup"><span data-stu-id="9ac61-112">-   To scope the version and number of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that will be required by the solution, review database planning considerations documented in “Planning the Database Tier” at [http://go.microsoft.com/fwlink/?LinkId=122402](http://go.microsoft.com/fwlink/?LinkId=122402) and the “Performance Overhead of Running SQL Server in Hyper-V” section of the “Running SQL Server 2008 in a Hyper-V Environment Best Practices and Performance Considerations” whitepaper available at [http://go.microsoft.com/fwlink/?LinkId=144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span></span><br /><span data-ttu-id="9ac61-113">-Para completar la planeación para el desarrollo, entornos de pruebas, ensayo y producción revisión "Planear el desarrollo, pruebas, ensayo y entornos de producción" [ http://go.microsoft.com/fwlink/?LinkId=122403 ](http://go.microsoft.com/fwlink/?LinkId=122403).</span><span class="sxs-lookup"><span data-stu-id="9ac61-113">-   To complete planning for development, testing, staging, and production environments review “Planning the Development, Testing, Staging, and Production Environments” at [http://go.microsoft.com/fwlink/?LinkId=122403](http://go.microsoft.com/fwlink/?LinkId=122403).</span></span> |
| <span data-ttu-id="9ac61-114">Después de definir el ámbito de los requisitos de hardware de la solución de BizTalk Server, planee la configuración de las máquinas de Hyper-V con **110: 125%** de los recursos de CPU y disco si es posible.</span><span class="sxs-lookup"><span data-stu-id="9ac61-114">After scoping the hardware requirements of your BizTalk Server solution, plan to configure the Hyper-V machines with **110% – 125%** of the CPU and disk resources if possible.</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="9ac61-115">Por ejemplo, si los requisitos de hardware para un equipo físico de BizTalk Server utilizados por la solución se determina que 2GB de RAM, una CPU de doble núcleo con discos físicos, una a 2GHZ y 2 x 500 GB, idealmente, la máquina virtual de Hyper-V usada la solución sería configurada con procesadores de 2 o más virtuales que se ejecutan > = a 2,2 GHZ y con mayor rapidez los discos físicos (normalmente, agregar ejes o mediante discos más rápidos).</span><span class="sxs-lookup"><span data-stu-id="9ac61-115">For example, if the hardware requirements for a physical BizTalk Server computer used by the solution is determined to be 2GB RAM, a dual core CPU running at 2GHZ, and 2x 500 GB physical disks, then ideally, the Hyper-V virtual machine used by the solution would be configured with 2 or more virtual processors running >= 2.2 GHZ, and faster physical disks (typically by adding spindles or using faster disks).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## <a name="optimize-hyper-v-performance"></a><span data-ttu-id="9ac61-116">Optimizar el rendimiento de Hyper-V</span><span class="sxs-lookup"><span data-stu-id="9ac61-116">Optimize Hyper-V Performance</span></span>  
 <span data-ttu-id="9ac61-117">Use las siguientes directrices generales para configurar Hyper-V para un rendimiento óptimo.</span><span class="sxs-lookup"><span data-stu-id="9ac61-117">Use the following general guidelines to configure Hyper-V for optimal performance.</span></span>  

|<span data-ttu-id="9ac61-118">Paso</span><span class="sxs-lookup"><span data-stu-id="9ac61-118">Step</span></span>|<span data-ttu-id="9ac61-119">Referencia</span><span class="sxs-lookup"><span data-stu-id="9ac61-119">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="9ac61-120">Aplicar la recomendación para los servidores de virtualización de optimización del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="9ac61-120">Apply recommended guidance for performance tuning virtualization servers.</span></span> <span data-ttu-id="9ac61-121">**Nota:** para los escenarios de prueba describen en [probar el rendimiento de BizTalk Server Virtualization](~/technical-guides/testing-biztalk-server-virtualization-performance.md), se describen las opciones de configuración que se aplicaron en los "detalles de infraestructura física" y " Las secciones de detalles de la virtualización"de la [información general del escenario de prueba](~/technical-guides/test-scenario-overview.md) tema.</span><span class="sxs-lookup"><span data-stu-id="9ac61-121">**Note:**  For the test scenarios described in [Testing BizTalk Server Virtualization Performance](~/technical-guides/testing-biztalk-server-virtualization-performance.md), the configuration options that were applied are described in the “Physical Infrastructure Specifics” and the “Virtualization Specifics” sections of the [Test Scenario Overview](~/technical-guides/test-scenario-overview.md) topic.</span></span>|<span data-ttu-id="9ac61-122">Sección "Ajuste de rendimiento de los servidores de virtualización" del documento "Performance Tuning directrices para Windows Server 2008 R2" disponible en [ http://go.microsoft.com/fwlink/?LinkID=202087 ](http://go.microsoft.com/fwlink/?LinkID=202087).</span><span class="sxs-lookup"><span data-stu-id="9ac61-122">“Performance Tuning for Virtualization Servers” section of the “Performance Tuning Guidelines for Windows Server 2008 R2” document available at [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span></span>|  
|<span data-ttu-id="9ac61-123">Cierre las ventanas de conexión a máquina Virtual que no se usan.</span><span class="sxs-lookup"><span data-stu-id="9ac61-123">Close any Virtual Machine Connection windows that aren’t being used.</span></span>|<span data-ttu-id="9ac61-124">Las ventanas de conexión a máquina Virtual que se muestra al hacer doble clic en un nombre de máquina virtual en el Administrador de Hyper-V consumen recursos que podrían utilizarse en caso contrario.</span><span class="sxs-lookup"><span data-stu-id="9ac61-124">The Virtual Machine Connection window(s) displayed when double-clicking a virtual machine name in the Hyper-V manager consume resources that could be otherwise utilized.</span></span>|  
|<span data-ttu-id="9ac61-125">Cerrar o minimizar el Administrador de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9ac61-125">Close or minimize the Hyper-V manager.</span></span>|<span data-ttu-id="9ac61-126">El Administrador de Hyper-V consume recursos por sondeo continuamente en cada máquina virtual en ejecución para el uso de CPU y el tiempo de actividad.</span><span class="sxs-lookup"><span data-stu-id="9ac61-126">The Hyper-V manager consumes resources by continually polling each running virtual machine for CPU utilization and uptime.</span></span> <span data-ttu-id="9ac61-127">Cerrar o minimizar el Administrador de Hyper-V liberará estos recursos.</span><span class="sxs-lookup"><span data-stu-id="9ac61-127">Closing or minimizing the Hyper-V manager will free up these resources.</span></span>|  

## <a name="optimize-performance-of-disk-memory-network-and-processor-in-a-hyper-v-environment"></a><span data-ttu-id="9ac61-128">Optimizar el rendimiento de disco, memoria, red y procesador en un entorno de Hyper-V</span><span class="sxs-lookup"><span data-stu-id="9ac61-128">Optimize Performance of Disk, Memory, Network, and Processor in a Hyper-V Environment</span></span>  
 <span data-ttu-id="9ac61-129">Utilice las siguientes directrices para optimizar el rendimiento del procesador en un entorno virtual de Hyper-V, memoria, red y disco.</span><span class="sxs-lookup"><span data-stu-id="9ac61-129">Use the following guidelines to optimize performance of disk, memory, network, and processor in a Hyper-V virtual environment.</span></span>  

### <a name="optimize-processor-performance"></a><span data-ttu-id="9ac61-130">Optimizar el rendimiento del procesador</span><span class="sxs-lookup"><span data-stu-id="9ac61-130">Optimize Processor Performance</span></span>  
 <span data-ttu-id="9ac61-131">Siga estas directrices para optimizar el rendimiento de procesador de los sistemas operativos de invitado que se ejecuta en un entorno virtual de Hyper-V:</span><span class="sxs-lookup"><span data-stu-id="9ac61-131">Follow these guidelines to optimize processor performance of guest operating systems running in a Hyper-V virtual environment:</span></span>  

- <span data-ttu-id="9ac61-132">**Configurar una asignación 1 a 1 de procesadores virtuales y los procesadores lógicos disponibles para un mejor rendimiento -** cuando se ejecuta una aplicación intensiva de CPU, la mejor configuración es una proporción de 1 a 1 de procesadores virtuales en los sistemas operativos de invitado a los procesadores lógicos disponibles para el sistema operativo host.</span><span class="sxs-lookup"><span data-stu-id="9ac61-132">**Configure a 1-to-1 allocation of virtual processors to available logical processors for best performance -** When running a CPU intensive application, the best configuration is a 1-to-1 ratio of virtual processors in the guest operating system(s) to the logical processors available to the host operating system.</span></span> <span data-ttu-id="9ac61-133">Cualquier otra configuración, como 2:1 o 1:2 es menos eficaz.</span><span class="sxs-lookup"><span data-stu-id="9ac61-133">Any other configuration such as 2:1 or 1:2 is less efficient.</span></span> <span data-ttu-id="9ac61-134">El siguiente gráfico ilustra una asignación 1 a 1 de núcleos de procesador virtual en los sistemas operativos de invitado y los procesadores lógicos disponibles para el sistema operativo host:</span><span class="sxs-lookup"><span data-stu-id="9ac61-134">The following graphic illustrates a 1-to-1 allocation of virtual processor cores in the guest operating system(s) to logical processors available to the host operating system:</span></span>  

   <span data-ttu-id="9ac61-135">![Uno a uno físico en proporción de procesador Virtual](../technical-guides/media/90f98f0d-a223-404c-b419-81369dc92970.gif "uno a uno físico en proporción de procesador Virtual")</span><span class="sxs-lookup"><span data-stu-id="9ac61-135">![One to One Physical to Virtual Processor Ratio](../technical-guides/media/90f98f0d-a223-404c-b419-81369dc92970.gif "One to One Physical to Virtual Processor Ratio")</span></span>  
  <span data-ttu-id="9ac61-136">Relación de procesador virtual a lógico</span><span class="sxs-lookup"><span data-stu-id="9ac61-136">Virtual to logical processor ratio</span></span>  

- <span data-ttu-id="9ac61-137">**Tenga en cuenta el límite de procesador virtual para sistemas operativos invitados diferentes y planear en consecuencia -** el número de núcleos de procesador que están disponibles para el sistema operativo invitado en una máquina virtual de Hyper-V puede afectar el general rendimiento de la aplicación hospedada.</span><span class="sxs-lookup"><span data-stu-id="9ac61-137">**Be aware of the virtual processor limit for different guest operating systems and plan accordingly -** The number of processor cores that are available to the guest operating system running in a Hyper-V virtual machine can impact the overall performance of the hosted application.</span></span> <span data-ttu-id="9ac61-138">Por lo tanto, se deben realizar consideraciones sobre qué invitado del sistema operativo se instalará en la máquina virtual de Hyper-V para hospedar el servidor BizTalk Server o [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instancias que hospedan las bases de datos de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ac61-138">Therefore, consideration should be made as to which guest operating system will be installed on the Hyper-V virtual machine to host the BizTalk Server and/or [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) that host the BizTalk Server databases.</span></span> <span data-ttu-id="9ac61-139">Hyper-V admite al siguiente número de procesadores virtuales para el sistema operativo invitado especificado:</span><span class="sxs-lookup"><span data-stu-id="9ac61-139">Hyper-V accommodates the following number of virtual processors for the specified guest operating system:</span></span>  

|                                                                      <span data-ttu-id="9ac61-140">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="9ac61-140">Operating system</span></span>                                                                       | <span data-ttu-id="9ac61-141">Límite de procesador virtual</span><span class="sxs-lookup"><span data-stu-id="9ac61-141">Virtual processor limit</span></span> |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
| [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]<span data-ttu-id="9ac61-142">.</span><span class="sxs-lookup"><span data-stu-id="9ac61-142">.</span></span> <span data-ttu-id="9ac61-143">Todas las ediciones de [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] son sólo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="9ac61-143">All editions of [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] are 64-bit only.</span></span> |            <span data-ttu-id="9ac61-144">4</span><span class="sxs-lookup"><span data-stu-id="9ac61-144">4</span></span>            |
|                                               [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]<span data-ttu-id="9ac61-145"> 64 bits</span><span class="sxs-lookup"><span data-stu-id="9ac61-145"> 64-bit</span></span>                                               |            <span data-ttu-id="9ac61-146">4</span><span class="sxs-lookup"><span data-stu-id="9ac61-146">4</span></span>            |
|                                               [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]<span data-ttu-id="9ac61-147"> 32 bits</span><span class="sxs-lookup"><span data-stu-id="9ac61-147"> 32-bit</span></span>                                               |            <span data-ttu-id="9ac61-148">4</span><span class="sxs-lookup"><span data-stu-id="9ac61-148">4</span></span>            |
|                                                                      <span data-ttu-id="9ac61-149">Windows 7 de 64 bits</span><span class="sxs-lookup"><span data-stu-id="9ac61-149">Windows 7 64-bit</span></span>                                                                       |            <span data-ttu-id="9ac61-150">4</span><span class="sxs-lookup"><span data-stu-id="9ac61-150">4</span></span>            |
|                                                                      <span data-ttu-id="9ac61-151">Windows 7 de 32 bits</span><span class="sxs-lookup"><span data-stu-id="9ac61-151">Windows 7 32-bit</span></span>                                                                       |            <span data-ttu-id="9ac61-152">4</span><span class="sxs-lookup"><span data-stu-id="9ac61-152">4</span></span>            |
|                                                                    <span data-ttu-id="9ac61-153">Windows Vista de 64 bits</span><span class="sxs-lookup"><span data-stu-id="9ac61-153">Windows Vista 64-bit</span></span>                                                                     |            <span data-ttu-id="9ac61-154">2</span><span class="sxs-lookup"><span data-stu-id="9ac61-154">2</span></span>            |
|                                                                    <span data-ttu-id="9ac61-155">Windows Vista 32 bits</span><span class="sxs-lookup"><span data-stu-id="9ac61-155">Windows Vista  32-bit</span></span>                                                                    |            <span data-ttu-id="9ac61-156">2</span><span class="sxs-lookup"><span data-stu-id="9ac61-156">2</span></span>            |

> [!NOTE]
>  <span data-ttu-id="9ac61-157">Para obtener más información acerca de los sistemas operativos invitados compatibles en Hyper-V, consulte [ http://go.microsoft.com/fwlink/?LinkID=118347 ](http://go.microsoft.com/fwlink/?LinkID=118347).</span><span class="sxs-lookup"><span data-stu-id="9ac61-157">For more information about the guest operating systems that are supported on Hyper-V, see [http://go.microsoft.com/fwlink/?LinkID=118347](http://go.microsoft.com/fwlink/?LinkID=118347).</span></span>  

### <a name="optimize-disk-performance"></a><span data-ttu-id="9ac61-158">Optimizar el rendimiento de disco</span><span class="sxs-lookup"><span data-stu-id="9ac61-158">Optimize Disk Performance</span></span>  
 <span data-ttu-id="9ac61-159">Siga estas directrices para optimizar el rendimiento de disco de los sistemas operativos de invitado que se ejecuta en un entorno virtual de Hyper-V:</span><span class="sxs-lookup"><span data-stu-id="9ac61-159">Follow these guidelines to optimize disk performance of guest operating systems running in a Hyper-V virtual environment:</span></span>  

|<span data-ttu-id="9ac61-160">Paso</span><span class="sxs-lookup"><span data-stu-id="9ac61-160">Step</span></span>|<span data-ttu-id="9ac61-161">Referencia</span><span class="sxs-lookup"><span data-stu-id="9ac61-161">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="9ac61-162">Configurar discos virtuales para su uso con las máquinas virtuales de Hyper-V mediante la opción de disco duro virtual (VHD) de tamaño fijo.</span><span class="sxs-lookup"><span data-stu-id="9ac61-162">Configure virtual disks for use with the Hyper-V virtual machines using the fixed-size virtual hard disk (VHD) option.</span></span> <span data-ttu-id="9ac61-163">VHD de tamaño fijo ofrece un rendimiento de discos físicos junto con la flexibilidad de características como la agrupación en clústeres de soporte técnico y compatibilidad con instantáneas de disco.</span><span class="sxs-lookup"><span data-stu-id="9ac61-163">Fixed-size VHD offers performance approaching that of physical disks together with the flexibility of features such as clustering support and snapshot disk support.</span></span>|<span data-ttu-id="9ac61-164">Almacenamiento en disco en un entorno de Hyper-V es accesible a través de una controladora IDE virtual o en una controladora SCSI virtual.</span><span class="sxs-lookup"><span data-stu-id="9ac61-164">Disk storage in a Hyper-V environment is accessible through a virtual IDE controller or a virtual SCSI controller.</span></span> <span data-ttu-id="9ac61-165">A diferencia de las versiones anteriores de la tecnología de virtualización de Microsoft, no hay ninguna diferencia de rendimiento entre el uso de una controladora IDE virtual o en una controladora SCSI virtual al tener acceso a discos duros virtuales.</span><span class="sxs-lookup"><span data-stu-id="9ac61-165">Unlike previous versions of Microsoft virtualization technology, there is no performance difference between using a virtual IDE controller or a virtual SCSI controller when accessing virtual hard disks.</span></span> <span data-ttu-id="9ac61-166">Las siguientes opciones de almacenamiento de disco están disponibles para su uso en un entorno de Hyper-V:</span><span class="sxs-lookup"><span data-stu-id="9ac61-166">The following disk storage options are available for use in a Hyper-V environment:</span></span><br /><br /> <span data-ttu-id="9ac61-167">-   **Tamaño de discos - fijos** un disco de duro virtual (VHD) de tamaño fijo es uno para los datos que se preasignan en un disco físico en función del tamaño de disco máximo definido en el momento de creación de bloques.</span><span class="sxs-lookup"><span data-stu-id="9ac61-167">-   **Fixed size disks -** A fixed-size virtual hard disk (VHD) is one for which data blocks are pre-allocated on a physical disk based on the maximum disk size defined at the time of creation.</span></span> <span data-ttu-id="9ac61-168">Por ejemplo, si crea un disco duro virtual de 100 GB de tamaño fijo, Hyper-V asignará todos los 100 GB de almacenamiento en bloque datos además de la sobrecarga necesaria para los encabezados de disco duro virtual y los pies de página cuando crea el nuevo disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="9ac61-168">For example, if you create a 100 GB fixed-size VHD, Hyper-V will allocate all 100 GB of data block storage in addition to the overhead required for the VHD headers and footers when it creates the new VHD.</span></span><br /><span data-ttu-id="9ac61-169">-   **-Los discos de expansión dinámica** un VHD de expansión dinámica es uno que no contiene el disco duro virtual inicial bloques de datos.</span><span class="sxs-lookup"><span data-stu-id="9ac61-169">-   **Dynamically expanding disks -** A dynamically expanding VHD is one for which the initial virtual hard disk contains no data blocks.</span></span> <span data-ttu-id="9ac61-170">En su lugar espacio se asigna dinámicamente cuando se escriben datos en el disco duro virtual, hasta el tamaño máximo especificado cuando se creó el disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="9ac61-170">Instead space is dynamically allocated as data is written to the VHD, up to the maximum size specified when the VHD was created.</span></span> <span data-ttu-id="9ac61-171">Por ejemplo, un disco de expansión dinámica de 100 GB inicialmente contiene solo los encabezados del disco duro virtual y requiere menos de 2 MB de espacio de almacenamiento físico.</span><span class="sxs-lookup"><span data-stu-id="9ac61-171">For example, a 100-GB dynamically expanding disk initially contains only VHD headers and requires less than 2 MB of physical storage space.</span></span> <span data-ttu-id="9ac61-172">Cuando se escriben nuevos datos por la máquina virtual al VHD de expansión dinámica, se asignan los bloques de datos física adicional en incrementos de 2 MB para el archivo VHD, hasta un máximo de 100 GB.</span><span class="sxs-lookup"><span data-stu-id="9ac61-172">As new data is written by the virtual machine to the dynamically expanding VHD, additional physical data blocks are allocated in 2-MB increments to the VHD file, up to a maximum of 100 GB.</span></span><br /><span data-ttu-id="9ac61-173">-   **-Los discos de diferenciación** un disco de diferenciación es un tipo especial de archivo VHD que está asociado con una "matriz" VHD de expansión dinámica.</span><span class="sxs-lookup"><span data-stu-id="9ac61-173">-   **Differencing Disks -** A differencing disk is a special type of dynamically expanding VHD file that is associated with a “parent” VHD.</span></span> <span data-ttu-id="9ac61-174">En esta topología de almacenamiento de elementos primarios y secundarios, el disco primario permanece sin cambios y operaciones de escritura realizadas en un solo disco de diferenciación "child".</span><span class="sxs-lookup"><span data-stu-id="9ac61-174">In this parent/child storage topology, the parent disk remains unchanged and any write operations made to the “child” differencing disk only.</span></span> <span data-ttu-id="9ac61-175">Las operaciones de lectura en primer lugar se comprueban en el disco de diferenciación para ver si el contenido actualizado se escribe en el disco de diferenciación Si el contenido no está en el disco de diferenciación, el contenido se lee desde el VHD primario.</span><span class="sxs-lookup"><span data-stu-id="9ac61-175">Any read operations are first checked against the differencing disk to see whether updated content was written to the differencing disk; if the content isn’t in the differencing disk, then the content is read from the parent VHD.</span></span> <span data-ttu-id="9ac61-176">Los discos de diferenciación son útiles en escenarios donde es necesario mantener una configuración de línea de base determinada y desea probar fácilmente y, a continuación, revertir cambios a la línea base.</span><span class="sxs-lookup"><span data-stu-id="9ac61-176">Differencing disks are useful for scenarios where you need to maintain a particular baseline configuration and would like to easily test and then rollback changes to the baseline.</span></span> <span data-ttu-id="9ac61-177">Aunque es útil para probar la flexibilidad de la topología de almacenamiento de elementos primarios y secundarios proporcionada a través de los discos de diferenciación, esto no es la configuración óptima para el rendimiento porque no hay sobrecarga asociada con el mantenimiento de la topología de elementos primarios y secundarios se requiere cuando se usa discos de diferenciación.</span><span class="sxs-lookup"><span data-stu-id="9ac61-177">While the flexibility of the parent/child storage topology provided through differencing disks is useful for testing, this is not the optimal configuration for performance because there is overhead associated with maintaining the parent/child topology required when using differencing disks.</span></span><br /><span data-ttu-id="9ac61-178">-   **Discos de acceso directo:** la característica de disco de acceso directo permite que el sistema operativo invitado omitir el sistema de archivos de Host de Hyper-V y tener acceso al disco directamente.</span><span class="sxs-lookup"><span data-stu-id="9ac61-178">-   **Passthrough disks –** The passthrough disk feature allows the guest operating system to bypass the Hyper-V Host file system and access the disk directly.</span></span> <span data-ttu-id="9ac61-179">Los discos que están disponibles para los sistemas operativos invitados a través del acceso directo deben establecerse en "sin conexión" en el host de Hyper-V para asegurarse de que el host y el sistema operativo invitado no intentan tener acceso al disco al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="9ac61-179">Disks that are made available to guest operating systems via passthrough must be set to “offline” in the Hyper-V host to ensure that both the host and guest operating system do not attempt to access the disk simultaneously.</span></span> <span data-ttu-id="9ac61-180">El disco de acceso directo ofrecen una ventaja de rendimiento marginales sobre otro disco las opciones de almacenamiento, pero no es compatible con cierta funcionalidad de los discos virtuales, como las instantáneas de máquina Virtual y la compatibilidad con clúster.</span><span class="sxs-lookup"><span data-stu-id="9ac61-180">The passthrough disk does offer a marginal performance advantage over other disk storage options but does not support certain functionality of virtual disks, such as Virtual machine snapshots and clustering support.</span></span> <span data-ttu-id="9ac61-181">Por lo tanto, no se recomienda el uso de la característica de disco de paso a través en un entorno de BizTalk o SQL Server porque las ventajas de rendimiento marginal son más que compensado por la funcionalidad que falta.</span><span class="sxs-lookup"><span data-stu-id="9ac61-181">Therefore use of the passthrough disk feature is not recommended in a BizTalk or SQL Server environment because the marginal performance benefits are more than offset by the missing functionality.</span></span><br /><br /> <span data-ttu-id="9ac61-182">Para obtener más información sobre el rendimiento relativo de las opciones de almacenamiento de disco proporcionado con Hyper-V, consulte la entrada de blog "Análisis de almacenamiento de Hyper-V", en [ http://go.microsoft.com/fwlink/?LinkID=132848 ](http://go.microsoft.com/fwlink/?LinkID=132848).</span><span class="sxs-lookup"><span data-stu-id="9ac61-182">For more information about the relative performance of disk storage choices provided with Hyper-V, see the blog entry “Hyper-V Storage Analysis”, at [http://go.microsoft.com/fwlink/?LinkID=132848](http://go.microsoft.com/fwlink/?LinkID=132848).</span></span>|  
|<span data-ttu-id="9ac61-183">Configurar los discos para volúmenes de datos mediante la controladora SCSI</span><span class="sxs-lookup"><span data-stu-id="9ac61-183">Configure disks for data volumes using the SCSI controller</span></span>|<span data-ttu-id="9ac61-184">Esto se recomienda porque solo se puede instalar el controlador SCSI si están instalados los servicios de integración de Hyper-V, mientras que la controladora IDE emulada está disponible sin necesidad de instalar servicios de integración de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9ac61-184">This is recommended because the SCSI controller can only be installed if Hyper-V integration services are installed whereas the emulated IDE controller is available without installing Hyper-V integration services.</span></span> <span data-ttu-id="9ac61-185">E/S de disco que se realiza mediante el controlador de filtro IDE proporcionado con integration services es significativamente mayor que el rendimiento de E/S proporcionado con la controladora IDE emulada del disco.</span><span class="sxs-lookup"><span data-stu-id="9ac61-185">Disk I/O performed using the IDE filter driver provided with integration services is significantly better than disk I/O performance provided with the emulated IDE controller.</span></span> <span data-ttu-id="9ac61-186">Por lo tanto, para asegurarse de disco óptimo rendimiento de E/S para archivos de datos en un entorno virtualizado de Hyper-V, instalar integration services en el sistema operativo host e invitado y configurar los discos para volúmenes de datos con la controladora SCSI sintética.</span><span class="sxs-lookup"><span data-stu-id="9ac61-186">Therefore, to ensure optimal disk I/O performance for the data files in a Hyper-V virtualized environment, install integration services on both the host and guest operating system and configure disks for data volumes with the synthetic SCSI controller.</span></span> <span data-ttu-id="9ac61-187">Para cargas de trabajo de E/S de almacenamiento de alto rendimiento que abarcan varias unidades de datos, cada disco duro virtual debe asociarse a una controladora SCSI sintética independiente para mejorar el rendimiento general.</span><span class="sxs-lookup"><span data-stu-id="9ac61-187">For highly intensive storage I/O workloads that span multiple data drives, each VHD should be attached to a separate synthetic SCSI controller for better overall performance.</span></span> <span data-ttu-id="9ac61-188">Además, cada disco duro virtual debe almacenarse en discos físicos separados.</span><span class="sxs-lookup"><span data-stu-id="9ac61-188">In addition, each VHD should be stored on separate physical disks.</span></span> <span data-ttu-id="9ac61-189">**Importante:** no adjuntar un disco del sistema a una controladora SCSI.</span><span class="sxs-lookup"><span data-stu-id="9ac61-189">**Important:**  Do not attach a system disk to a SCSI controller.</span></span> <span data-ttu-id="9ac61-190">Un disco duro virtual que contenga un sistema operativo debe asociarse a una controladora IDE.</span><span class="sxs-lookup"><span data-stu-id="9ac61-190">A virtual hard disk that contains an operating system must be attached to an IDE controller.</span></span>|  

### <a name="optimize-memory-performance"></a><span data-ttu-id="9ac61-191">Optimizar el rendimiento de memoria</span><span class="sxs-lookup"><span data-stu-id="9ac61-191">Optimize Memory Performance</span></span>  
 <span data-ttu-id="9ac61-192">Siga estas directrices para optimizar el rendimiento de memoria de los sistemas operativos de invitado que se ejecuta en un entorno virtual de Hyper-V:</span><span class="sxs-lookup"><span data-stu-id="9ac61-192">Follow these guidelines to optimize memory performance of guest operating systems running in a Hyper-V virtual environment:</span></span>  

|<span data-ttu-id="9ac61-193">Paso</span><span class="sxs-lookup"><span data-stu-id="9ac61-193">Step</span></span>|<span data-ttu-id="9ac61-194">Referencia</span><span class="sxs-lookup"><span data-stu-id="9ac61-194">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="9ac61-195">Asegúrese de que hay suficiente memoria instalada en el equipo físico que hospeda las máquinas virtuales de Hyper-V</span><span class="sxs-lookup"><span data-stu-id="9ac61-195">Ensure there is sufficient memory installed on the physical computer that hosts the Hyper-V virtual machines</span></span>|<span data-ttu-id="9ac61-196">-Memoria física disponible suele ser el factor de rendimiento más importante para que se ejecuta en una máquina virtual de Hyper-V de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ac61-196">-   Available physical memory is often the most significant performance factor for BizTalk Server running on a Hyper-V virtual machine.</span></span> <span data-ttu-id="9ac61-197">Esto es porque cada máquina virtual debe residir en la memoria no paginada, o memoria que no se puede paginar en el disco.</span><span class="sxs-lookup"><span data-stu-id="9ac61-197">This is because each virtual machine must reside in non-paged-pool memory, or memory that cannot be paged to the disk.</span></span> <span data-ttu-id="9ac61-198">Dado que la memoria no paginada no se puede paginar en el disco, el equipo físico que hospeda las máquinas virtuales debe haber memoria física disponible igual a la suma de la memoria asignado para cada máquina virtual además de las siguientes:</span><span class="sxs-lookup"><span data-stu-id="9ac61-198">Because non-paged-pool memory cannot be paged to disk, the physical computer that hosts the virtual machines should have available physical memory equal to the sum of the memory allocated for each virtual machine plus the following:</span></span><br />     <span data-ttu-id="9ac61-199">32 MB para el primer GB de RAM asignada a cada máquina virtual más otro 8 MB por cada GB adicional de RAM asignada a cada máquina virtual más 512 MB para el host más de 300 MB para el hipervisor sistema operativo que se ejecutan en la partición raíz</span><span class="sxs-lookup"><span data-stu-id="9ac61-199">300 MB for the Hypervisor                         plus 32 MB for the first GB of RAM allocated to each virtual machine                         plus another 8 MB for every additional GB of RAM allocated to each virtual machine                         plus 512 MB for the host operating system running on the root partition</span></span><br />     <span data-ttu-id="9ac61-200">Por ejemplo, si una máquina virtual de Hyper-V se asigna a 2 GB de memoria en el Administrador de Hyper-V, la memoria física real que se utiliza cuando se ejecuta esa máquina virtual de Hyper-V sería aproximadamente 2388MB (300MB para el hipervisor + 2 GB asignados para la máquina virtual + 32 MB + 8 MB = 2388 MB).</span><span class="sxs-lookup"><span data-stu-id="9ac61-200">For example, if a Hyper-V virtual machine is allocated 2 GB of memory in the Hyper-V Manager, the actual physical memory used when running that Hyper-V virtual machine would be approximately 2388MB (300MB for the hypervisor +2GB allocated for the virtual machine + 32MB + 8MB = 2388MB).</span></span> <span data-ttu-id="9ac61-201">Dado que solo el hipervisor debe cargarse una vez, la inicialización de las máquinas virtuales siguientes no incurre en la sobrecarga de 300 MB asociada al cargar el hipervisor.</span><span class="sxs-lookup"><span data-stu-id="9ac61-201">Because the hypervisor only needs to be loaded once, initialization of subsequent virtual machines does not incur the 300 MB overhead associated with loading the hypervisor.</span></span> <span data-ttu-id="9ac61-202">Por lo tanto, si dos máquinas virtuales de Hyper-V son cada asignado 2 GB de memoria en el Administrador de Hyper-V, la memoria física real que se usa al ejecutar estas máquinas virtuales de Hyper-V sería aproximadamente 4476MB + 4 GB de 300MB para el hipervisor (asignado para el virtual máquinas + 64 MB + 16 MB = 4476 MB).</span><span class="sxs-lookup"><span data-stu-id="9ac61-202">Therefore, if two Hyper-V virtual machines are each allocated 2 GB of memory in the Hyper-V Manager, the actual physical memory used when running these Hyper-V virtual machines would be approximately 4476MB (300MB for the hypervisor +4GB allocated for the virtual machines + 64 MB + 16MB = 4476MB).</span></span> <span data-ttu-id="9ac61-203">**Nota:** como regla general, piensa asignar al menos 512 MB de memoria para la partición raíz proporcionar servicios como virtualización de E/S, compatibilidad con instantáneas de archivos y administración de particiones secundarias.</span><span class="sxs-lookup"><span data-stu-id="9ac61-203">**Note:**      As a general rule of thumb, plan to allocate at least 512 MB memory for the root partition to provide services such as I/O virtualization, snapshot files support, and child partition management.</span></span><br /><span data-ttu-id="9ac61-204">-   **Usar un sistema operativo de invitado de 64 bits cuando sea posible** : considere el uso de un sistema operativo de 64 bits para cada sistema operativo invitado.</span><span class="sxs-lookup"><span data-stu-id="9ac61-204">-   **Use a 64-bit guest operating system when possible** – Consider using a 64-bit operating system for each guest operating system.</span></span> <span data-ttu-id="9ac61-205">Esto debe hacerse porque de forma predeterminada, los sistemas operativos de Windows de 32 bits solo puede tratar de hasta 2GB de espacio de direcciones virtual por proceso.</span><span class="sxs-lookup"><span data-stu-id="9ac61-205">This should be done because by default, 32-bit Windows operating systems can only address up to 2GB of virtual address space per process.</span></span> <span data-ttu-id="9ac61-206">Instalación de un sistema operativo de 64 bits permite que las aplicaciones aprovechar al máximo la memoria instalada en el equipo físico que hospeda las máquinas virtuales de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9ac61-206">Installation of a 64-bit operating system allows applications to take full advantage of the memory installed on the physical computer that hosts the Hyper-V virtual machines.</span></span>|  

### <a name="optimize-network-performance"></a><span data-ttu-id="9ac61-207">Optimizar el rendimiento de red</span><span class="sxs-lookup"><span data-stu-id="9ac61-207">Optimize Network Performance</span></span>  
 <span data-ttu-id="9ac61-208">Hyper-V es compatible con los adaptadores de red sintéticos y emulados en máquinas virtuales, pero los dispositivos sintéticos ofrecen un rendimiento significativamente mejor y menor sobrecarga de CPU.</span><span class="sxs-lookup"><span data-stu-id="9ac61-208">Hyper-V supports synthetic and emulated network adapters in virtual machines, but the synthetic devices offer significantly better performance and reduced CPU overhead.</span></span> <span data-ttu-id="9ac61-209">Cada uno de estos adaptadores está conectado a un conmutador de red virtual, se puede conectar a un adaptador de red físico, si es necesaria la conectividad de red externa.</span><span class="sxs-lookup"><span data-stu-id="9ac61-209">Each of these adapters is connected to a virtual network switch, which can be connected to a physical network adapter if external network connectivity is needed.</span></span> <span data-ttu-id="9ac61-210">Siga las recomendaciones de esta sección para optimizar el rendimiento de red de sistemas operativos que se ejecutan en un entorno virtual de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9ac61-210">Follow the recommendations in this section to optimize network performance of guest operating systems running in a Hyper-V virtual environment.</span></span>  

> [!NOTE]
>  <span data-ttu-id="9ac61-211">Estas recomendaciones van desde la sección "Performance Tuning los servidores de virtualización" de las notas del producto "Performance Tuning directrices para Windows Server 2008 R2" disponible para su descarga en [ http://go.microsoft.com/fwlink/?LinkID=202087 ](http://go.microsoft.com/fwlink/?LinkID=202087).</span><span class="sxs-lookup"><span data-stu-id="9ac61-211">These recommendations are from the “Performance Tuning for Virtualization Servers” section of the “Performance Tuning Guidelines for Windows Server 2008 R2” whitepaper available for download at [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span></span> <span data-ttu-id="9ac61-212">Para saber cómo optimizar el adaptador de red en la partición raíz, incluida la moderación de interrupciones, consulte la sección "Ajuste para redes subsistema de rendimiento" de esta guía.</span><span class="sxs-lookup"><span data-stu-id="9ac61-212">For how to tune the network adapter in the root partition, including interrupt moderation, refer to the “Performance Tuning for Networking Subsystem” section of this guide.</span></span> <span data-ttu-id="9ac61-213">Los ajustes TCP en esa sección se deben aplicar si es necesario, para las particiones secundarias.</span><span class="sxs-lookup"><span data-stu-id="9ac61-213">The TCP tunings in that section should be applied, if required, to the child partitions.</span></span>  

|                                                                            <span data-ttu-id="9ac61-214">Paso</span><span class="sxs-lookup"><span data-stu-id="9ac61-214">Step</span></span>                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                 <span data-ttu-id="9ac61-215">Referencia</span><span class="sxs-lookup"><span data-stu-id="9ac61-215">Reference</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                   <span data-ttu-id="9ac61-216">Configurar máquinas virtuales de Hyper-V que se ejecutan en el mismo equipo host de Hyper-V para usar una red de privada Virtual</span><span class="sxs-lookup"><span data-stu-id="9ac61-216">Configure Hyper-V Virtual Machines that are Running on the same Hyper-V host computer to use a Private Virtual Network</span></span>                   |                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="9ac61-217">Siga las recomendaciones en la sección "Configurar Hyper-V Virtual Machines que se ejecutan en el mismo Hyper-V host de equipo para usar una red Virtual de Private" de [optimizaciones de red](~/technical-guides/network-optimizations.md).</span><span class="sxs-lookup"><span data-stu-id="9ac61-217">Follow recommendations in the “Configure Hyper-V Virtual Machines that are Running on the same Hyper-V host computer to use a Private Virtual Network” section of [Network Optimizations](~/technical-guides/network-optimizations.md).</span></span>                                                                                                                                                                                                                                                                                                                                  |
|                                                <span data-ttu-id="9ac61-218">Deshabilitar la descarga de TCP para las tarjetas de red de máquina Virtual</span><span class="sxs-lookup"><span data-stu-id="9ac61-218">Disable TCP Offloading for the Virtual Machine Network Cards</span></span>                                                |                                                                                                                                                                                                                                                                                                                                                               <span data-ttu-id="9ac61-219">Siga las recomendaciones en la sección "Deshabilitar TCP descarga para la máquina Virtual tarjetas de red" de [optimizaciones de red](~/technical-guides/network-optimizations.md).</span><span class="sxs-lookup"><span data-stu-id="9ac61-219">Follow recommendations in the “Disable TCP Offloading for the Virtual Machine Network Cards” section of [Network Optimizations](~/technical-guides/network-optimizations.md).</span></span>                                                                                                                                                                                                                                                                                                                                                               |
|                                      <span data-ttu-id="9ac61-220">Configurar los sistemas operativos de invitado para usar el adaptador de red sintéticos de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9ac61-220">Configure guest operating systems to use the Hyper-V synthetic network adapter.</span></span>                                       |                                                                                                                                                   <span data-ttu-id="9ac61-221">Las características de Hyper-V para un adaptador de red sintéticos que está diseñado específicamente para que las máquinas virtuales lograr significativamente reducida CPU sobrecarga en E/S de red cuando se compara con el adaptador de red emulado que se asemeje a hardware existente.</span><span class="sxs-lookup"><span data-stu-id="9ac61-221">Hyper-V features a synthetic network adapter that is designed specifically for VMs to achieve significantly reduced CPU overhead on network I/O when it is compared to the emulated network adapter that mimics existing hardware.</span></span> <span data-ttu-id="9ac61-222">El adaptador de red sintético se comunica entre las particiones raíz y secundarios a través de VMBus mediante el uso de memoria compartida para la transferencia de datos más eficaz.</span><span class="sxs-lookup"><span data-stu-id="9ac61-222">The synthetic network adapter communicates between the child and root partitions over the VMBus by using shared memory for more efficient data transfer.</span></span> <br /><span data-ttu-id="9ac61-223">El adaptador de red emulado deberá quitarla mediante el cuadro de diálogo de configuración de máquina virtual y reemplazado por un adaptador de red sintético.</span><span class="sxs-lookup"><span data-stu-id="9ac61-223">The emulated network adapter should be removed through the VM settings dialog box and replaced with a synthetic network adapter.</span></span> <span data-ttu-id="9ac61-224">El invitado requiere que los servicios de integración de la máquina virtual esté instalado.</span><span class="sxs-lookup"><span data-stu-id="9ac61-224">The guest requires that the VM integration services be installed.</span></span>                                                                                                                                                    |
|                          <span data-ttu-id="9ac61-225">Si está disponible, habilite las capacidades de descarga para el controlador del adaptador de red físico en la partición raíz.</span><span class="sxs-lookup"><span data-stu-id="9ac61-225">If available, enable offload capabilities for the physical network adapter driver in the root partition.</span></span>                          | <span data-ttu-id="9ac61-226">Como capacidades en el adaptador de red físico de descarga con el escenario nativo, reducir el uso de CPU de las operaciones de E/s de red en escenarios de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9ac61-226">As with the native scenario, offload capabilities in the physical network adapter reduce the CPU usage of network I/Os in VM scenarios.</span></span> <span data-ttu-id="9ac61-227">Hyper-V actualmente usa LSOv1 y suma de comprobación TCPv4 descarga.</span><span class="sxs-lookup"><span data-stu-id="9ac61-227">Hyper-V currently uses LSOv1 and TCPv4 checksum offload.</span></span> <span data-ttu-id="9ac61-228">Las funcionalidades de descarga deben habilitarse en el controlador para el adaptador de red físico en la partición raíz.</span><span class="sxs-lookup"><span data-stu-id="9ac61-228">The offload capabilities must be enabled in the driver for the physical network adapter in the root partition.</span></span> <span data-ttu-id="9ac61-229">Para obtener más información en las capacidades de descarga de los adaptadores de red, consulte la sección "Elección de un adaptador de red" de la sección "Performance Tuning los servidores de virtualización" de las notas del producto "Performance Tuning directrices para Windows Server 2008 R2" disponible para descargar en [ http://go.microsoft.com/fwlink/?LinkID=202087 ](http://go.microsoft.com/fwlink/?LinkID=202087).</span><span class="sxs-lookup"><span data-stu-id="9ac61-229">For details on offload capabilities in network adapters, refer to the “Choosing a Network Adapter” section of the “Performance Tuning for Virtualization Servers” section of the “Performance Tuning Guidelines for Windows Server 2008 R2” whitepaper available for download at [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span></span><br /><span data-ttu-id="9ac61-230">Controladores para determinados disable LSOv1 de adaptadores de red, pero permiten LSOv2 de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="9ac61-230">Drivers for certain network adapters disable LSOv1 but enable LSOv2 by default.</span></span> <span data-ttu-id="9ac61-231">Los administradores del sistema deben habilitar explícitamente LSOv1 mediante el controlador **propiedades** cuadro de diálogo Administrador de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="9ac61-231">System administrators must explicitly enable LSOv1 by using the driver **Properties** dialog box in Device Manager.</span></span> |
|                                        <span data-ttu-id="9ac61-232">Configurar topología del conmutador de red para hacer uso de varios adaptadores de red.</span><span class="sxs-lookup"><span data-stu-id="9ac61-232">Configure network switch topology to make use of multiple network adapters.</span></span>                                         |                                                                                                                                                                                                                                             <span data-ttu-id="9ac61-233">Hyper-V permite crear varios conmutadores de red virtual, cada uno de los cuales puede asociarse a un adaptador de red físico si es necesario.</span><span class="sxs-lookup"><span data-stu-id="9ac61-233">Hyper-V supports creating multiple virtual network switches, each of which can be attached to a physical network adapter if needed.</span></span> <span data-ttu-id="9ac61-234">Cada adaptador de red en una máquina virtual puede estar conectado a un conmutador de red virtual.</span><span class="sxs-lookup"><span data-stu-id="9ac61-234">Each network adapter in a VM can be connected to a virtual network switch.</span></span> <span data-ttu-id="9ac61-235">Si el servidor físico tiene varios adaptadores de red, las máquinas virtuales con cargas de red intensivo pueden beneficiarse de estar conectados a diferentes conmutadores virtuales para mejorar el uso de los adaptadores de red físico.</span><span class="sxs-lookup"><span data-stu-id="9ac61-235">If the physical server has multiple network adapters, VMs with network-intensive loads can benefit from being connected to different virtual switches to better use the physical network adapters.</span></span>                                                                                                                                                                                                                                             |
| <span data-ttu-id="9ac61-236">Si se instalan varias tarjetas de red físico en el equipo host de Hyper-V, interrupciones de dispositivo de enlace para cada tarjeta de red a un procesador lógico.</span><span class="sxs-lookup"><span data-stu-id="9ac61-236">If multiple physical network cards are installed on the Hyper-V host computer, bind device interrupts for each network card to a single logical processor.</span></span> |                                                                                                                                                                                            <span data-ttu-id="9ac61-237">En ciertas cargas de trabajo, enlazar las interrupciones de dispositivo para un adaptador de red a un procesador lógico puede mejorar el rendimiento de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9ac61-237">Under certain workloads, binding the device interrupts for a single network adapter to a single logical processor can improve performance for Hyper-V.</span></span> <span data-ttu-id="9ac61-238">Se recomienda este ajuste avanzada solo para solucionar problemas específicos en completamente usando el ancho de banda de red.</span><span class="sxs-lookup"><span data-stu-id="9ac61-238">We recommend this advanced tuning only to address specific problems in fully using network bandwidth.</span></span> <span data-ttu-id="9ac61-239">Los administradores del sistema pueden usar la herramienta IntPolicy para enlazar las interrupciones del dispositivo con procesadores específicos.</span><span class="sxs-lookup"><span data-stu-id="9ac61-239">System administrators can use the IntPolicy tool to bind device interrupts to specific processors.</span></span> <span data-ttu-id="9ac61-240">Para obtener más información acerca de la herramienta IntPolicy, consulte [ http://go.microsoft.com/fwlink/?LinkID=129773 ](http://go.microsoft.com/fwlink/?LinkID=129773).</span><span class="sxs-lookup"><span data-stu-id="9ac61-240">For more information about the IntPolicy tool, see [http://go.microsoft.com/fwlink/?LinkID=129773](http://go.microsoft.com/fwlink/?LinkID=129773).</span></span>                                                                                                                                                                                             |
|                                        <span data-ttu-id="9ac61-241">Si es posible, habilite VLAN para el adaptador de red sintéticos de Hyper-V de etiquetado.</span><span class="sxs-lookup"><span data-stu-id="9ac61-241">If possible, enable VLAN tagging for the Hyper-V synthetic network adapter.</span></span>                                         |                                                                                                                                                                                                                                                 <span data-ttu-id="9ac61-242">El adaptador de red sintético de Hyper-V admite el etiquetado de VLAN.</span><span class="sxs-lookup"><span data-stu-id="9ac61-242">The Hyper-V synthetic network adapter supports VLAN tagging.</span></span> <span data-ttu-id="9ac61-243">Proporciona un rendimiento significativamente mejor red si el adaptador de red físico admite NDIS_ENCAPSULATION_IEEE_802_3_P_AND_Q_IN_OOB la descarga de la encapsulación de envío grande y suma de comprobación.</span><span class="sxs-lookup"><span data-stu-id="9ac61-243">It provides significantly better network performance if the physical network adapter supports NDIS_ENCAPSULATION_IEEE_802_3_P_AND_Q_IN_OOB encapsulation for both large send and checksum offload.</span></span> <span data-ttu-id="9ac61-244">Sin esta compatibilidad, Hyper-V no puede usar la descarga de hardware para los paquetes que requieren el etiquetado de VLAN y se puede reducir el rendimiento de la red.</span><span class="sxs-lookup"><span data-stu-id="9ac61-244">Without this support, Hyper-V cannot use hardware offload for packets that require VLAN tagging and network performance can be decreased.</span></span>                                                                                                                                                                                                                                                 |
|                           <span data-ttu-id="9ac61-245">Instalar a adaptador de red de alta velocidad en el equipo host de Hyper-V y configurar para un rendimiento máximo.</span><span class="sxs-lookup"><span data-stu-id="9ac61-245">Install high speed network adapter on the Hyper-V host computer and configure for maximum performance.</span></span>                           |                                                                                                                                                                                                                                                                                   <span data-ttu-id="9ac61-246">Considere la posibilidad de instalar adaptadores de red de 1 GB en el equipo host de Hyper-V y configurar los adaptadores de red con una velocidad fija en lugar de usar "negociación automática": es muy importante que la velocidad de la red, dúplex y parámetros de flujo de control se establecen para que coincida en la configuración en el conmutador al que está conectados.</span><span class="sxs-lookup"><span data-stu-id="9ac61-246">Consider installing 1-GB network adapters on the Hyper-V host computer and configure the network adapters with a fixed speed as opposed to using “auto negotiate” - It is very important that the network speed, duplex, and flow control parameters are set to correspond to the settings on the switch to which they are connected.</span></span>                                                                                                                                                                                                                                                                                   |
|                                                 <span data-ttu-id="9ac61-247">Siga las prácticas recomendadas para optimizar el rendimiento de red.</span><span class="sxs-lookup"><span data-stu-id="9ac61-247">Follow best practices for optimizing network performance.</span></span>                                                  |                                                                                                                                                                <span data-ttu-id="9ac61-248">El tema [optimizaciones de red](~/technical-guides/network-optimizations.md) ofrece instrucciones generales para optimizar el rendimiento de red.</span><span class="sxs-lookup"><span data-stu-id="9ac61-248">The topic [Network Optimizations](~/technical-guides/network-optimizations.md) offers general guidance for optimizing network performance.</span></span> <span data-ttu-id="9ac61-249">Aunque en este tema no ofrece recomendaciones específicas para optimizar el rendimiento de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en un entorno virtualizado de Hyper-V, las técnicas son aplicables a cualquier [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solución, tanto si está ejecutando en hardware físico o en un Hyper-V entorno virtualizado.</span><span class="sxs-lookup"><span data-stu-id="9ac61-249">While this topic does not offer specific recommendations for optimizing performance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Hyper-V virtualized environment, the techniques are applicable to any [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, whether running on physical hardware or on a Hyper-V virtualized environment.</span></span>                                                                                                                                                                 |

## <a name="optimize-sql-server-performance"></a><span data-ttu-id="9ac61-250">Optimizar el rendimiento de SQL Server</span><span class="sxs-lookup"><span data-stu-id="9ac61-250">Optimize SQL Server Performance</span></span>  
 <span data-ttu-id="9ac61-251">Siga las recomendaciones en el tema [optimizaciones de SQL Server](~/technical-guides/sql-server-optimizations.md) para optimizar el rendimiento de SQL Server para la solución de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ac61-251">Follow the recommendations in the topic [SQL Server Optimizations](~/technical-guides/sql-server-optimizations.md) to optimize SQL Server performance for the BizTalk Server solution.</span></span> <span data-ttu-id="9ac61-252">Aunque en este tema no ofrece recomendaciones específicas para optimizar el rendimiento de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en un entorno virtualizado de Hyper-V, las técnicas son aplicables a cualquier [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solución, tanto si está ejecutando en hardware físico o en un Hyper-V entorno virtualizado.</span><span class="sxs-lookup"><span data-stu-id="9ac61-252">While this topic does not offer specific recommendations for optimizing performance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Hyper-V virtualized environment, the techniques are applicable to any [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, whether running on physical hardware or on a Hyper-V virtualized environment.</span></span>  

## <a name="optimize-biztalk-server-solution"></a><span data-ttu-id="9ac61-253">Optimizar la solución de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="9ac61-253">Optimize BizTalk Server Solution</span></span>  
 <span data-ttu-id="9ac61-254">Siga las recomendaciones en el tema [optimizaciones de BizTalk Server](~/technical-guides/biztalk-server-optimizations.md) para optimizar el rendimiento de la solución de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ac61-254">Follow the recommendations in the topic [BizTalk Server Optimizations](~/technical-guides/biztalk-server-optimizations.md) to optimize performance of the BizTalk Server solution.</span></span> <span data-ttu-id="9ac61-255">Aunque en este tema no ofrece recomendaciones específicas para optimizar el rendimiento de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en un entorno virtualizado de Hyper-V, las técnicas son aplicables a cualquier [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solución, tanto si está ejecutando en hardware físico o en un Hyper-V entorno virtualizado.</span><span class="sxs-lookup"><span data-stu-id="9ac61-255">While this topic does not offer specific recommendations for optimizing performance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Hyper-V virtualized environment, the techniques are applicable to any [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, whether running on physical hardware or on a Hyper-V virtualized environment.</span></span>