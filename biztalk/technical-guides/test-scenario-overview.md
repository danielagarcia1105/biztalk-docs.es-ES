---
title: Información general del escenario de prueba | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: cde553ad-2540-40d9-a74b-928fee873c31
caps.latest.revision: 32
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1c30bf4102da74869e596af32f8c9361fc796ce7
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36997693"
---
# <a name="test-scenario-overview"></a><span data-ttu-id="2c7a9-102">Información general del escenario de prueba</span><span class="sxs-lookup"><span data-stu-id="2c7a9-102">Test Scenario Overview</span></span>
<span data-ttu-id="2c7a9-103">Este tema proporciona información general de la aplicación de prueba. una descripción de la metodología empleada de prueba y las listas de los indicadores clave de rendimiento (KPI) que se capturaron durante las pruebas de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-103">This topic provides an overview of the test application; a description of the testing methodology used, and lists the key performance indicators (KPIs) captured during load testing.</span></span>  

## <a name="test-application"></a><span data-ttu-id="2c7a9-104">Aplicación de prueba</span><span class="sxs-lookup"><span data-stu-id="2c7a9-104">Test Application</span></span>  
 <span data-ttu-id="2c7a9-105">Una aplicación sincrónica de solicitud-respuesta se utiliza para comparar el rendimiento de BizTalk Server que se ejecutan en Hyper-V a BizTalk Server que se ejecuta en hardware físico.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-105">A synchronous request-response application was used to compare performance of BizTalk Server running on Hyper-V to BizTalk Server running on physical hardware.</span></span> <span data-ttu-id="2c7a9-106">Esta aplicación se usó para ilustrar el rendimiento de un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solución que ha sido optimizado para una latencia baja.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-106">This application was used to illustrate performance of a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution that has been tuned for low latency.</span></span> <span data-ttu-id="2c7a9-107">Mensajería de baja latencia es fundamental para determinados escenarios, como la banca en línea, donde un cliente envía una solicitud y espera recibir un mensaje de respuesta en un intervalo muy corto (por ejemplo, < 3 segundos).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-107">Low latency messaging is critical for certain scenarios such as online banking where a client sends a request and expects a response message within a very short interval (for example < 3 seconds).</span></span>  

 <span data-ttu-id="2c7a9-108">La ilustración siguiente muestra la arquitectura de alto nivel utilizada.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-108">The figure below illustrates the high-level architecture used.</span></span> <span data-ttu-id="2c7a9-109">Visual Studio Team System (VSTS) 2008 Test Load Agent invoca una clase de prueba personalizado que utiliza el transporte WCF para generar cargas en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2c7a9-109">Visual Studio Team System (VSTS) 2008 Test Load Agent invoked a custom test class, which used the WCF transport to generate load against [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="2c7a9-110">El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] aplicación en este escenario se expone a través de un WCF-BasicHttp ubicación de recepción de solicitud-respuesta.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-110">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] application in this scenario was exposed via a WCF-BasicHttp request-response receive location.</span></span> <span data-ttu-id="2c7a9-111">VSTS 2008 Test Load Agent se usó como el cliente de prueba debido a la gran flexibilidad que proporciona, incluida la capacidad para configurar el número de mensajes enviados en total, número de subprocesos simultáneos y el intervalo de espera entre las solicitudes se envía.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-111">VSTS 2008 Test Load Agent was used as the test client because of the great flexibility that it provides, including the capability to configure the number of messages sent in total, number of simultaneous threads, and the sleep interval between requests sent.</span></span>  

 <span data-ttu-id="2c7a9-112">Varios equipos de VSTS 2008 Test Load Agent se pueden ejecutar de forma conjunta para simular los patrones de carga del mundo real.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-112">Several VSTS 2008 Test Load Agent computers can be run in tandem to simulate real world load patterns.</span></span> <span data-ttu-id="2c7a9-113">Para estas pruebas, los equipos de VSTS 2008 Test Load Agent residía en un único equipo de VSTS 2008 Test Load Agent Controller que también se estaba ejecutando BizUnit 3.0.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-113">For these tests, the VSTS 2008 Test Load Agent computers were driven by a single VSTS 2008 Test Load Agent Controller computer that was also running BizUnit 3.0.</span></span> <span data-ttu-id="2c7a9-114">Como resultado, se ha enviado una carga para los entornos físicos y virtuales [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] equipos.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-114">As a result, a consistent load was sent to both the physical and virtual [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers.</span></span> <span data-ttu-id="2c7a9-115">Para obtener más información sobre cómo usar VSTS 2008 Test Edition para generar una carga simulada para las pruebas, vea [ http://go.microsoft.com/fwlink/?LinkID=132311 ](http://go.microsoft.com/fwlink/?LinkID=132311).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-115">For more information about using VSTS 2008 Test Edition to generate simulated load for testing, see [http://go.microsoft.com/fwlink/?LinkID=132311](http://go.microsoft.com/fwlink/?LinkID=132311).</span></span>  

 <span data-ttu-id="2c7a9-116">![Arquitectura de la aplicación](../technical-guides/media/testapplicationarchitecture.gif "TestApplicationArchitecture")</span><span class="sxs-lookup"><span data-stu-id="2c7a9-116">![Application Architecture](../technical-guides/media/testapplicationarchitecture.gif "TestApplicationArchitecture")</span></span>  
<span data-ttu-id="2c7a9-117">Arquitectura de la aplicación de prueba</span><span class="sxs-lookup"><span data-stu-id="2c7a9-117">Test Application Architecture</span></span>  

1. <span data-ttu-id="2c7a9-118">Un WCF-BasicHttp o la ubicación de recepción de solicitud-respuesta de WCF-Custom recibe un nuevo CalculatorRequest desde un equipo de Test Load Agent.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-118">A WCF-BasicHttp or WCF-Custom Request-Response Receive Location receives a new CalculatorRequest from a Test Load Agent computer.</span></span>  

2. <span data-ttu-id="2c7a9-119">El componente de desensamblador XML promociona el elemento de método dentro del documento xml de CalculatorRequest.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-119">The XML disassembler component promotes the Method element inside the CalculatorRequest xml document.</span></span> <span data-ttu-id="2c7a9-120">El agente de mensajes envía el mensaje entrante a la base de datos de cuadro de mensajes (BizTalkMsgBoxDb).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-120">The Message Agent submits the incoming message to the MessageBox database (BizTalkMsgBoxDb).</span></span>  

3. <span data-ttu-id="2c7a9-121">La solicitud de entrada inicia una nueva instancia de la LogicalPortsOrchestration.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-121">The inbound request starts a new instance of the LogicalPortsOrchestration.</span></span> <span data-ttu-id="2c7a9-122">Esta orquestación usa un puerto de enlace directo para recibir los mensajes de CalculatorRequest con la propiedad promocionada del método = "LogicalPortsOrchestration".</span><span class="sxs-lookup"><span data-stu-id="2c7a9-122">This orchestration uses a direct bound port to receive the CalculatorRequest messages with the Method promoted property = “LogicalPortsOrchestration”.</span></span>  

4. <span data-ttu-id="2c7a9-123">El LogicalPortsOrchestration usa un bucle para recuperar las operaciones y para cada elemento invoca el servicio de bajada calculadora WCF web utilizando un puerto de petición-respuesta lógicos.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-123">The LogicalPortsOrchestration uses a loop to retrieve operations and for each item it invokes the downstream Calculator WCF web service using a Logical Solicit-Response Port.</span></span> <span data-ttu-id="2c7a9-124">El mensaje de solicitud para el servicio web WCF de la calculadora es creado mediante un componente de aplicación auxiliar y publicar en el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-124">The request message for the Calculator WCF web service is created using a helper component and published to the MessageBox.</span></span>  

5. <span data-ttu-id="2c7a9-125">El mensaje de solicitud consume un puerto de envío WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-125">The request message is consumed by a WCF-BasicHttp Send Port.</span></span>  

6. <span data-ttu-id="2c7a9-126">El puerto de envío WCF-BasicHttp invoca uno de los métodos (agregar, restar, multiplicar, dividir) expuestas por el servicio web WCF de calculadora.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-126">The WCF-BasicHttp Send Port invokes one of the methods (Add, Subtract, Multiply, Divide) exposed by the Calculator WCF web service.</span></span>  

7. <span data-ttu-id="2c7a9-127">El servicio web WCF de calculadora devuelve un mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-127">The Calculator WCF web service returns a response message.</span></span>  

8. <span data-ttu-id="2c7a9-128">El mensaje de respuesta se publica en el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-128">The response message is published to the MessageBox.</span></span>  

9. <span data-ttu-id="2c7a9-129">El mensaje de respuesta se devuelve al llamador LogicalPortsOrchestration.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-129">The response message is returned to the caller LogicalPortsOrchestration.</span></span> <span data-ttu-id="2c7a9-130">La orquestación repite este patrón para cada operación dentro del documento xml de CalculatorRequest entrante.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-130">The orchestration repeats this pattern for each operation within the inbound CalculatorRequest xml document.</span></span>  

10. <span data-ttu-id="2c7a9-131">El LogicalPortsOrchestration publica el mensaje de CalculatorResponse en el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-131">The LogicalPortsOrchestration publishes the CalculatorResponse message to the MessageBox.</span></span>  

11. <span data-ttu-id="2c7a9-132">El mensaje de respuesta se recupera la ubicación de recepción de solicitud-respuesta WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-132">The response message is retrieved by the Request-Response WCF-BasicHttp Receive Location.</span></span>  

12. <span data-ttu-id="2c7a9-133">El mensaje de respuesta se devuelve al equipo del agente de prueba de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-133">The response message is returned to the Load Test Agent computer.</span></span>  

    <span data-ttu-id="2c7a9-134">A continuación se muestra una captura de pantalla de la orquestación usada durante la prueba de carga:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-134">A screenshot of the orchestration used during the load test is shown below:</span></span>  

> [!NOTE]  
>  <span data-ttu-id="2c7a9-135">A efectos de ilustración, la orquestación que se muestra a continuación es una versión simplificada de la orquestación que se usó durante las pruebas de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-135">For purposes of illustration, the orchestration depicted below is a simplified version of the orchestration that was actually used during load testing.</span></span> <span data-ttu-id="2c7a9-136">La orquestación usada durante las pruebas de carga incluye varios ámbitos, lógica de control de errores y tipos de puertos adicionales.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-136">The orchestration used during load testing included multiple scopes, error handling logic, and additional port types.</span></span>  

 <span data-ttu-id="2c7a9-137">![Probar la orquestación de aplicación](../technical-guides/media/logicalportsorchestration.gif "LogicalPortsOrchestration")</span><span class="sxs-lookup"><span data-stu-id="2c7a9-137">![Test Application Orchestration](../technical-guides/media/logicalportsorchestration.gif "LogicalPortsOrchestration")</span></span>  
<span data-ttu-id="2c7a9-138">Orquestación de aplicación de prueba</span><span class="sxs-lookup"><span data-stu-id="2c7a9-138">Test Application Orchestration</span></span>  

## <a name="testing-methodology"></a><span data-ttu-id="2c7a9-139">Metodología de pruebas</span><span class="sxs-lookup"><span data-stu-id="2c7a9-139">Testing Methodology</span></span>  
 <span data-ttu-id="2c7a9-140">Las pruebas de rendimiento implican muchas tareas, que si se realizó de forma manual son más monótonas, repetitivas, y es propensa a errores.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-140">Performance testing involves many tasks, which if performed manually are repetitive, monotonous, and error prone.</span></span> <span data-ttu-id="2c7a9-141">Con el fin de mejorar la eficacia de la prueba y proporcionan coherencia entre ejecuciones de pruebas, [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System (VSTS) Test Edition con BizUnit 3.0 se usó para automatizar las tareas necesarias durante el proceso de pruebas.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-141">In order to improve test efficiency and provide consistency between test runs, [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System (VSTS) Test Edition with BizUnit 3.0 was used to automate the tasks required during the testing process.</span></span> <span data-ttu-id="2c7a9-142">Se usaron los mismos tipos de mensaje en cada ejecución de pruebas para mejorar la coherencia y equipos de VSTS 2008 Test Load Agent se usaron como el cliente de prueba para generar la carga de mensaje con el sistema.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-142">VSTS 2008 Test Load Agent computers were used as the test client to generate the message load against the system and the same message types were used on each test run to improve consistency.</span></span> <span data-ttu-id="2c7a9-143">Este proceso proporciona un conjunto coherente de datos para cada serie de pruebas.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-143">Following this process provides a consistent set of data for every test run.</span></span> <span data-ttu-id="2c7a9-144">Para obtener más información acerca de BizUnit 3.0, consulte [ http://go.microsoft.com/fwlink/?LinkID=85168 ](http://go.microsoft.com/fwlink/?LinkID=85168).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-144">For more information about BizUnit 3.0, see [http://go.microsoft.com/fwlink/?LinkID=85168](http://go.microsoft.com/fwlink/?LinkID=85168).</span></span> <span data-ttu-id="2c7a9-145">Para obtener más información acerca de [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System Test Edition, consulte [ http://go.microsoft.com/fwlink/?LinkID=141387 ](http://go.microsoft.com/fwlink/?LinkID=141387).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-145">For more information about [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System Test Edition, see [http://go.microsoft.com/fwlink/?LinkID=141387](http://go.microsoft.com/fwlink/?LinkID=141387).</span></span>  

 <span data-ttu-id="2c7a9-146">Se automatizan los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-146">The following steps were automated:</span></span>  

- <span data-ttu-id="2c7a9-147">Dejar de hosts de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-147">Stop BizTalk hosts.</span></span>  

- <span data-ttu-id="2c7a9-148">Limpiar los directorios de la prueba.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-148">Clean up test directories.</span></span>  

- <span data-ttu-id="2c7a9-149">Reinicie IIS.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-149">Restart IIS.</span></span>  

- <span data-ttu-id="2c7a9-150">Limpiar el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-150">Clean up the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messagebox database.</span></span>  

- <span data-ttu-id="2c7a9-151">Reinicie [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2c7a9-151">Restart [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span>  

- <span data-ttu-id="2c7a9-152">Borrar registros de eventos.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-152">Clear event logs.</span></span>  

- <span data-ttu-id="2c7a9-153">Cree una carpeta de resultados de pruebas para cada ejecución almacenar las métricas de rendimiento asociados y los archivos de registro.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-153">Create a test results folder for each run to store associated performance metrics and log files.</span></span>  

- <span data-ttu-id="2c7a9-154">Iniciar Hosts de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-154">Start BizTalk Hosts.</span></span>  

- <span data-ttu-id="2c7a9-155">Cargar contadores del Monitor de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-155">Load Performance Monitor counters.</span></span>  

- <span data-ttu-id="2c7a9-156">Preparación del entorno de BizTalk con una carga pequeña.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-156">Warm up BizTalk environment with a small load.</span></span>  

- <span data-ttu-id="2c7a9-157">Enviar a través del representante de ejecución.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-157">Send through representative run.</span></span>  

- <span data-ttu-id="2c7a9-158">Escribir los registros de rendimiento en una carpeta de resultados.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-158">Write performance logs to a results folder.</span></span>  

- <span data-ttu-id="2c7a9-159">Recopilar registros de aplicación y escribir en un archivo .csv en la carpeta de resultados.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-159">Collect application logs and write to a .csv file in the results folder.</span></span>  

- <span data-ttu-id="2c7a9-160">Ejecutar la herramienta de análisis de rendimiento de los registros (PAL), las herramientas de analizador de registro y volver a registrar en los registros de rendimiento recopilados para generar estadísticas, gráficos e informes.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-160">Run the Performance Analysis of Logs (PAL) tool, Relog and Log Parser tools against the collected performance logs to produce statistics, charts and reports.</span></span> <span data-ttu-id="2c7a9-161">Para obtener más información acerca de la PAL, volver a registrar y analizador de registros, vea [apéndice D: herramientas para medir el rendimiento](../technical-guides/appendix-d-tools-for-measuring-performance.md).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-161">For more information about PAL, Relog, and Log Parser, see [Appendix D: Tools for Measuring Performance](../technical-guides/appendix-d-tools-for-measuring-performance.md).</span></span>  

> [!NOTE]  
>  <span data-ttu-id="2c7a9-162">Todo el seguimiento se deshabilitó y se ha deshabilitado el trabajo del Agente SQL Server de BizTalk Server durante las pruebas.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-162">All tracking was disabled and the BizTalk Server SQL Server Agent job was disabled during testing.</span></span>  

 <span data-ttu-id="2c7a9-163">Para asegurarse de que fueron capaces de proporcionar una comparación del rendimiento de los resultados de este laboratorio [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en un entorno de Hyper-V y físicos, registros y métricas de rendimiento recopilados en una ubicación centralizada para cada serie de pruebas.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-163">To ensure that the results of this lab were able to provide a comparison of the performance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a physical and Hyper-V environment, performance metrics and logs were collected in a centralized location for each test run.</span></span>  

 <span data-ttu-id="2c7a9-164">El cliente de prueba se usó para crear un directorio de resultados únicos para cada serie de pruebas.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-164">The test client was used to create a unique results directory for each test run.</span></span> <span data-ttu-id="2c7a9-165">Este directorio contiene todos los registros de rendimiento, registros de eventos y los datos necesarios para la prueba asociados.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-165">This directory contained all the performance logs, event logs and associated data required for the test.</span></span> <span data-ttu-id="2c7a9-166">Este enfoque proporciona la información necesaria cuando se ejecuta un análisis retrospectivo de prueba anterior era necesaria.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-166">This approach provided information needed when retrospective analysis of prior test runs was required.</span></span> <span data-ttu-id="2c7a9-167">Al final de cada prueba, los datos sin procesar se compilan en un conjunto de resultados coherentes y los indicadores clave de rendimiento (KPI).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-167">At the end of each test, the raw data was compiled into a set of consistent results and key performance indicators (KPIs).</span></span> <span data-ttu-id="2c7a9-168">Recopilando resultados coherentes establecido para los equipos físicos y virtualizados proporcionados los puntos de comparación necesita entre la varias series de pruebas y entornos diferentes.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-168">Collecting consistent results set for physical and virtualized machines provided the points of comparison needed between the different test runs and different environments.</span></span> <span data-ttu-id="2c7a9-169">Los datos recopilan incluyen:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-169">The data collected included:</span></span>  

- <span data-ttu-id="2c7a9-170">**Entorno de** registrar qué entorno se que se ejecutó la prueba frente a BizTalk Server en el hardware físico o BizTalk Server en Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-170">**Environment –** To record which environment the test was being run against, either BizTalk Server on physical hardware or BizTalk Server on Hyper-V.</span></span>  

- <span data-ttu-id="2c7a9-171">**Probar el número de ejecución:** para identificar de forma única cada serie de pruebas</span><span class="sxs-lookup"><span data-stu-id="2c7a9-171">**Test Run Number –** To uniquely identify each test run</span></span>  

- <span data-ttu-id="2c7a9-172">**Caso de prueba:** para registrar la arquitectura de la solución de BizTalk Server usa durante las pruebas.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-172">**Test Case –** To record the architecture of the BizTalk Server solution used during testing.</span></span> <span data-ttu-id="2c7a9-173">(Por ejemplo envía la orquestación con puertos lógicos de frente a la orquestación mediante en línea)</span><span class="sxs-lookup"><span data-stu-id="2c7a9-173">(For example Orchestration with Logical Ports versus Orchestration using inline Sends)</span></span>  

- <span data-ttu-id="2c7a9-174">**Fecha:** para registrar la fecha y la hora de la prueba se ejecutó</span><span class="sxs-lookup"><span data-stu-id="2c7a9-174">**Date –** To record the date and time the test was run</span></span>  

- <span data-ttu-id="2c7a9-175">**Tiempo iniciado:** notificado por el primer agente de prueba de carga VSTS iniciado por</span><span class="sxs-lookup"><span data-stu-id="2c7a9-175">**Time Started –** As reported by the first VSTS load test agent initiated</span></span>  

- <span data-ttu-id="2c7a9-176">**Tiempo detenido:** notificado por el último agente de prueba de carga VSTS para completar</span><span class="sxs-lookup"><span data-stu-id="2c7a9-176">**Time Stopped –** As reported by the last VSTS load test agent to complete</span></span>  

- <span data-ttu-id="2c7a9-177">**Duración de la prueba en minutos:** para registrar la duración de la prueba.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-177">**Test Duration in Minutes –** To record the duration of the test.</span></span>  

- <span data-ttu-id="2c7a9-178">**Los mensajes enviados en Total:** para registrar el número total de mensajes enviados desde los equipos de agente de carga en los equipos de BizTalk Server durante la prueba.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-178">**Messages Sent in Total –** To record the total number of messages sent from the Load Agent computers to the BizTalk Server computers during the test.</span></span>  

- <span data-ttu-id="2c7a9-179">**Los mensajes enviados por segundo:** para registrar los mensajes enviados por segundo de los equipos de agente de carga en los equipos de BizTalk Server durante la prueba.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-179">**Messages Sent per Second –** To record the messages sent per second from the Load Agent computers to the BizTalk Server computers during the test.</span></span>  

- <span data-ttu-id="2c7a9-180">**Promedio de latencia de cliente:** para registrar la cantidad media de tiempo entre cuando los clientes de Test Load Agent iniciaron una solicitud y reciben una respuesta de los equipos de BizTalk Server durante la prueba de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-180">**Average Client Latency –** To record the average amount of time between when Test Load Agent clients initiated a request to and received a response from the BizTalk Server computers during the load test.</span></span>  

- <span data-ttu-id="2c7a9-181">**Promedio de duración de la solicitud y respuesta (ms):** notificado por el **BizTalk: latencia de Latency\Request respuesta (s) de mensajería** contador del Monitor de rendimiento para BizTalkServerIsolatedHost</span><span class="sxs-lookup"><span data-stu-id="2c7a9-181">**Request-Response Duration Average (ms) –** As reported by the **BizTalk:Messaging Latency\Request-Response Latency (sec)** Performance Monitor counter for the BizTalkServerIsolatedHost</span></span>  

  > [!NOTE]  
  >  <span data-ttu-id="2c7a9-182">Se usó donde varios hosts de BizTalk virtualizados estaban ejecutando un promedio de estos contadores según los cálculos de los registros.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-182">Where multiple virtualized BizTalk hosts were running an average of these counters as calculated from the logs was used.</span></span>  

- <span data-ttu-id="2c7a9-183">**Orquestaciones completadas por segundo:** notificado por el **\Orchestrations orquestaciones XLANG/s (BizTalkServerApplication) completadas/s** contador del Monitor de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-183">**Orchestrations Completed per Second –** As reported by the **XLANG/s Orchestrations(BizTalkServerApplication)\Orchestrations completed/sec** Performance Monitor counter.</span></span> <span data-ttu-id="2c7a9-184">Este contador proporciona una buena medida del rendimiento de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solución.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-184">This counter provides a good measure of the throughput of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution.</span></span>  

- <span data-ttu-id="2c7a9-185">**% de los mensajes procesados < 3 segundos:** para registrar el número total de mensajes procesados en 3 segundos durante la prueba.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-185">**% of Messages Processed < 3 seconds –** To record the total number of messages processed within 3 seconds during the test.</span></span>  

  <span data-ttu-id="2c7a9-186">Prueba de carga de VSTS 2008 se usó para generar una carga coherente a lo largo de todas las pruebas.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-186">VSTS 2008 Load Test was used to generate a consistent load throughout all the tests.</span></span> <span data-ttu-id="2c7a9-187">Parámetros de ejecución de la siguiente prueba y modelo de carga se han modificado durante las pruebas para ajustar el perfil de carga de cada prueba:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-187">The following test run settings and load pattern were modified during testing to adjust the load profile of each test:</span></span>  

- <span data-ttu-id="2c7a9-188">**Parámetros de ejecución de pruebas**</span><span class="sxs-lookup"><span data-stu-id="2c7a9-188">**Test Run Settings**</span></span>  

   <span data-ttu-id="2c7a9-189">Se modificación la configuración de ejecución de pruebas siguientes dependiendo de la prueba que se va a realizar:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-189">The following test run setting was modified depending on the test being performed:</span></span>  

  - <span data-ttu-id="2c7a9-190">**Duración: ejecución** especifica cuánto tiempo se ejecute la prueba.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-190">**Run Duration –** Specifies how long the test is run.</span></span>  

    <span data-ttu-id="2c7a9-191">![Configuración de ejecución de pruebas](../technical-guides/media/wcfloadtestrunsettings.gif "WCFLoadTestRunSettings")</span><span class="sxs-lookup"><span data-stu-id="2c7a9-191">![Test Run Settings](../technical-guides/media/wcfloadtestrunsettings.gif "WCFLoadTestRunSettings")</span></span>  
    <span data-ttu-id="2c7a9-192">Configuración de la ejecución de prueba</span><span class="sxs-lookup"><span data-stu-id="2c7a9-192">Test Run Settings</span></span>  

- <span data-ttu-id="2c7a9-193">**Configuración del patrón de prueba**</span><span class="sxs-lookup"><span data-stu-id="2c7a9-193">**Test Pattern Settings**</span></span>  

   <span data-ttu-id="2c7a9-194">Se modificó la configuración de modelo de prueba siguientes dependiendo de la prueba que se va a realizar:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-194">The following test pattern settings were modified depending on the test being performed:</span></span>  

  1. <span data-ttu-id="2c7a9-195">**Patrón:** especifica cómo se ajusta la carga de usuarios simulada durante una prueba de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-195">**Pattern –** Specifies how the simulated user load is adjusted during a load test.</span></span> <span data-ttu-id="2c7a9-196">Patrones de carga son **constante**, **paso**, o **objetivo** basado.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-196">Load patterns are either **Constant**, **Step**, or **Goal** based.</span></span> <span data-ttu-id="2c7a9-197">Realiza todas las pruebas de carga era constante o paso.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-197">All load testing performed was either Constant or Step.</span></span>  

     > [!NOTE]
     >  <span data-ttu-id="2c7a9-198">Todas las pruebas realizan para fines de esta guía utilizan ya sea un **constante** modelo de carga o una **paso** modelo de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-198">All testing performed for purposes of this guide used either a **Constant** load pattern or a **Step** load pattern.</span></span> <span data-ttu-id="2c7a9-199">Patrones de carga constante y carga paso proporcionan la funcionalidad siguiente:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-199">Constant load patterns and Step load patterns provide the following functionality:</span></span>  
     > 
     > - <span data-ttu-id="2c7a9-200">**Modelo de carga constante –** el modelo de carga es el mismo para la duración de la prueba, el número de usuarios simulados comienza en un nivel predefinido y no cambia.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-200">**Constant load pattern –** The load pattern is the same for the duration of the test, the number of simulated users starts at a predefined level and does not change.</span></span>  
     >   -   <span data-ttu-id="2c7a9-201">**Modelo de carga de pasos –** aumenta el patrón de carga durante la ejecución de pruebas; el número de usuarios simulados comienza en un nivel predefinido y se incrementa en una cantidad predefinida en intervalos predefinidos para la duración de la prueba.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-201">**Step load pattern –** The load pattern is increased during the test run; the number of simulated users starts at a predefined level and is incremented by a predefined amount at predefined intervals for the duration of the test.</span></span>  

  2. <span data-ttu-id="2c7a9-202">**Recuento de usuarios constante (cargar el patrón de constante):** número de usuarios virtuales que se va a generar carga en la dirección de punto de conexión especificada en el archivo app.config del proyecto de prueba de carga de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-202">**Constant User Count (Constant Load Pattern) –** Number of virtual users that are generating load against the endpoint address specified in the app.config file of the Visual Studio Load Test project.</span></span> <span data-ttu-id="2c7a9-203">Este valor se especifica en la configuración de modelo de carga que se usa para la prueba de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-203">This value is specified in the Load Pattern settings used for the load test.</span></span>  

  3. <span data-ttu-id="2c7a9-204">**Recuento inicial de usuarios (patrón de carga de paso):** número de usuarios virtuales que se va a generar carga en la dirección de punto de conexión especificado al principio de una prueba de modelo de carga por pasos.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-204">**Initial User Count (Step Load Pattern) –** Number of virtual users that are generating load against the specified endpoint address at the beginning of a Step Load Pattern test.</span></span> <span data-ttu-id="2c7a9-205">Este valor se especifica en la configuración de modelo de carga que se usa para la prueba de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-205">This value is specified in the Load Pattern settings used for the load test.</span></span>  

  4. <span data-ttu-id="2c7a9-206">**Recuento máximo de usuarios (patrón de carga de paso):** número de usuarios virtuales que se va a generar carga en la dirección de punto de conexión especificado al final de una prueba de modelo de carga por pasos.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-206">**Maximum User Count (Step Load Pattern) –** Number of virtual users that are generating load against the specified endpoint address at the end of a Step Load Pattern test.</span></span> <span data-ttu-id="2c7a9-207">Este valor se especifica en la configuración de modelo de carga que se usa para la prueba de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-207">This value is specified in the Load Pattern settings used for the load test.</span></span>  

  5. <span data-ttu-id="2c7a9-208">**Duración del paso (paso modelo de carga):** número de segundos que los usuarios virtuales generan carga frente a la dirección de punto de conexión especificado para un paso de prueba de carga.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-208">**Step Duration (Step Load Pattern) –** Number of seconds that virtual users are generating load against the specified endpoint address for a load test step.</span></span>  

  6. <span data-ttu-id="2c7a9-209">**Recuento de usuarios (patrón de carga de paso):** número de usuarios virtuales que se agregan en cada paso cuando se usa un modelo de carga de pasos.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-209">**Step User Count (Step Load Pattern) –** Number of virtual users to increase at each step when using a step load pattern.</span></span>  

     <span data-ttu-id="2c7a9-210">![Configuración del patrón de prueba](../technical-guides/media/wcfloadtestpatternsettings.gif "WCFLoadTestPatternSettings")</span><span class="sxs-lookup"><span data-stu-id="2c7a9-210">![Test Pattern Settings](../technical-guides/media/wcfloadtestpatternsettings.gif "WCFLoadTestPatternSettings")</span></span>  
     <span data-ttu-id="2c7a9-211">Configuración de patrones de prueba</span><span class="sxs-lookup"><span data-stu-id="2c7a9-211">Test Pattern Settings</span></span>  

  <span data-ttu-id="2c7a9-212">Para obtener más información sobre cómo trabajar con pruebas de carga en [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)], vea el tema **trabajar con las pruebas de carga** en el [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] documentación de Team System en [ http://go.microsoft.com/fwlink/?LinkId=141486 ](http://go.microsoft.com/fwlink/?LinkId=141486).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-212">For more information about working with load tests in [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)], see the topic **Working with Load Tests** in the [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System documentation at [http://go.microsoft.com/fwlink/?LinkId=141486](http://go.microsoft.com/fwlink/?LinkId=141486).</span></span>  

## <a name="key-performance-indicators-measured-during-testing"></a><span data-ttu-id="2c7a9-213">Indicadores clave de rendimiento medidos durante las pruebas</span><span class="sxs-lookup"><span data-stu-id="2c7a9-213">Key Performance Indicators Measured During Testing</span></span>  
 <span data-ttu-id="2c7a9-214">Los siguientes contadores del Monitor de rendimiento se capturaron como indicadores clave de rendimiento (KPI) para todas las ejecuciones de pruebas:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-214">The following Performance Monitor counters were captured as key performance indicators (KPI) for all test runs:</span></span>  

> [!NOTE]  
>  <span data-ttu-id="2c7a9-215">Para obtener más información acerca de la evaluación de rendimiento con contadores del monitor de rendimiento, consulte [lista de comprobación: medir el rendimiento en Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-215">For more information about evaluating performance with Performance monitor counters, see [Checklist: Measuring Performance on Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span></span>  

 <span data-ttu-id="2c7a9-216">**KPI de BizTalk Server**</span><span class="sxs-lookup"><span data-stu-id="2c7a9-216">**BizTalk Server KPI**</span></span>  

- <span data-ttu-id="2c7a9-217">**Documentos procesados por segundo:** , medido por la **BizTalk: mensajería/documentos procesados/seg.** contador.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-217">**Documents processed per second –** As measured by the **BizTalk:Messaging/Documents processed/Sec** counter.</span></span>  

- <span data-ttu-id="2c7a9-218">**Latencia:** medida tal como lo devuelve el controlador de pruebas de carga de VSTS 2008.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-218">**Latency –** As measured as returned by the VSTS 2008 Load Test Controller.</span></span>  

  <span data-ttu-id="2c7a9-219">**KPI de SQL Server**</span><span class="sxs-lookup"><span data-stu-id="2c7a9-219">**SQL Server KPI**</span></span>  

- <span data-ttu-id="2c7a9-220">**Utilización del procesador de SQL Server –** , medido por la **SQL\Processor(Total)\\% Processor Time** contador.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-220">**SQL Server processor utilization –** As measured by the **SQL\Processor(Total)\\%Processor Time** counter.</span></span> <span data-ttu-id="2c7a9-221">Este contador mide el uso de CPU de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] está procesando en el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] equipo.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-221">This counter measures CPU utilization of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] processing on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computer.</span></span>  

- <span data-ttu-id="2c7a9-222">**Transact rendimiento del procesamiento de comandos SQL:** , medido por la **\SQL Server:SQL Statistics\Batch solicitudes/seg.** contador.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-222">**Transact SQL command processing performance –** As measured by the **\SQL Server:SQL Statistics\Batch Requests/sec** counter.</span></span> <span data-ttu-id="2c7a9-223">Este contador mide el número de lotes de comandos de Transact-SQL recibidas por segundo.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-223">This counter measures the number of Transact-SQL command batches received per second.</span></span> <span data-ttu-id="2c7a9-224">Este contador se utiliza para medir el rendimiento en el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] equipo.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-224">This counter is used to measure throughput on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computer.</span></span>  

  <span data-ttu-id="2c7a9-225">**Redes de KPI**</span><span class="sxs-lookup"><span data-stu-id="2c7a9-225">**Networking KPI**</span></span>  

- <span data-ttu-id="2c7a9-226">**Rendimiento de la red de servidor BizTalk Server:** , medido por la **\Network Interface (\*) \Bytes totales/seg.** contador del monitor de rendimiento en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] equipos.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-226">**BizTalk Server network throughput –** As measured by the **\Network Interface(\*)\Bytes Total/sec** performance monitor counter on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers.</span></span>  

- <span data-ttu-id="2c7a9-227">**Rendimiento de la red de SQL Server –** , medido por la **SQL red\Bytes totales/seg. (Avg)** devuelto por el controlador de pruebas de carga de VSTS 2008.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-227">**SQL Server network throughput –** As measured by the **SQL Network Interface\Bytes Total/sec (Avg)** returned by the VSTS 2008 Load Test Controller.</span></span>  

  <span data-ttu-id="2c7a9-228">**Memoria KPI**</span><span class="sxs-lookup"><span data-stu-id="2c7a9-228">**Memory KPI**</span></span>  

- <span data-ttu-id="2c7a9-229">**Memoria disponible:** , medido por la **\Memory\Available Mbytes** contador para los distintos escenarios.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-229">**Available memory –** As measured by the **\Memory\Available Mbytes** counter for the various scenarios.</span></span>  

## <a name="physical-infrastructure-specifics"></a><span data-ttu-id="2c7a9-230">Detalles de la infraestructura física</span><span class="sxs-lookup"><span data-stu-id="2c7a9-230">Physical Infrastructure Specifics</span></span>  
 <span data-ttu-id="2c7a9-231">Para cada uno de los servidores que se instalaron las siguientes opciones se han ajustado.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-231">For each of the servers that were installed the following settings were adjusted.</span></span>  

 <span data-ttu-id="2c7a9-232">**Para todos los servidores:**</span><span class="sxs-lookup"><span data-stu-id="2c7a9-232">**For all servers:**</span></span>  

- <span data-ttu-id="2c7a9-233">El archivo de paginación se estableció en 1,5 veces la cantidad de memoria física asignada.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-233">The paging file was set to 1.5 times the amount of physical memory allocated.</span></span> <span data-ttu-id="2c7a9-234">El archivo de paginación se estableció en un tamaño fijo asegurándose de que el tamaño inicial y los valores máximos fueran idénticos en MB.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-234">The paging file was set to a fixed size by ensuring that the initial size and maximum values were identical in MB.</span></span>  

- <span data-ttu-id="2c7a9-235">Se seleccionó la opción de rendimiento "Ajustar para mejorar el rendimiento" en la pantalla Opciones avanzadas de propiedades del sistema.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-235">The “Adjust for best performance” performance option was selected from the advanced System Properties screen.</span></span>  

- <span data-ttu-id="2c7a9-236">Se comprobó que el sistema tenía ha ajustado para mejorar el rendimiento de los servicios en segundo plano en la sección de opciones de rendimiento de las propiedades del sistema.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-236">It was verified that the system had been adjusted for best performance of Background services in the Performance Options section of System Properties.</span></span>  

- [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]<span data-ttu-id="2c7a9-237"> se instaló como el sistema operativo invitado en cada una de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-237"> was installed as the guest operating system on each of the virtual machines.</span></span>  

- <span data-ttu-id="2c7a9-238">Windows Update se ejecutó correctamente en todos los servidores para instalar las últimas actualizaciones de seguridad.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-238">Windows Update was successfully run on all servers to install the latest security updates.</span></span>  

  <span data-ttu-id="2c7a9-239">**Para SQL Server:**</span><span class="sxs-lookup"><span data-stu-id="2c7a9-239">**For SQL Server:**</span></span>  

- <span data-ttu-id="2c7a9-240">Instalación de SQL Server según la Guía de instalación disponible en [ http://go.microsoft.com/fwlink/?LinkId=141021 ](http://go.microsoft.com/fwlink/?LinkId=141021).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-240">SQL Server was installed as per the installation guide available at [http://go.microsoft.com/fwlink/?LinkId=141021](http://go.microsoft.com/fwlink/?LinkId=141021).</span></span>  

- [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]<span data-ttu-id="2c7a9-241"> usa los LUN de SAN configurado según la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-241"> used had the SAN LUNs configured as per the table below.</span></span> <span data-ttu-id="2c7a9-242">Los archivos de base de datos y registro se separan a en los LUN como sigue para reducir la contención de E/S de disco posibles:</span><span class="sxs-lookup"><span data-stu-id="2c7a9-242">The database and log files were separated to across the LUNs as follows to reduce possible disk I/O contention:</span></span>  

  - <span data-ttu-id="2c7a9-243">El volume de Data_Sys se usa para almacenar todos los archivos de base de datos (incluido el sistema y las bases de datos de BizTalk), excepto las bases de datos de cuadro de mensajes y TempDb.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-243">The Data_Sys volume was used to store all database files (including system and BizTalk databases) except the MessageBox and TempDb databases.</span></span>  

  - <span data-ttu-id="2c7a9-244">El volumen Log_Sys se usa para almacenar todos los archivos de registro (incluido el sistema y [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos), excepto las bases de datos de cuadro de mensajes y TempDb.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-244">The Log_Sys volume was used to store all log files (including system and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases) except the MessageBox and TempDb databases.</span></span>  

  - <span data-ttu-id="2c7a9-245">El volumen Data_TempDb se usa para almacenar el archivo de base de datos TempDb.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-245">The Data_TempDb volume was used to store the TempDb database file.</span></span>  

  - <span data-ttu-id="2c7a9-246">El volumen Logs_TempDb se usa para almacenar el archivo de registro de TempDb.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-246">The Logs_TempDb volume was used to store the TempDb log file.</span></span>  

  - <span data-ttu-id="2c7a9-247">El archivo de base de datos de cuadro de mensajes se almacena en el volumen Data_BtsMsgBox y el archivo de registro se almacenó en el volumen Log_BtsMsgBox.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-247">The MessageBox database file was stored on the Data_BtsMsgBox volume and the log file was stored on the Log_BtsMsgBox volume.</span></span>  

- <span data-ttu-id="2c7a9-248">Además, otro LUN se proporcionó para el archivo de registro MSDTC.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-248">In addition to this, a separate LUN was provided for the MSDTC log file.</span></span> <span data-ttu-id="2c7a9-249">En los sistemas de BizTalk de alto rendimiento, la actividad de archivo de registro MSDTC se ha demostrado para causar un cuello de botella si se deja en la misma unidad física que el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-249">On high throughput BizTalk systems, the MSDTC log file activity has been shown to cause an I/O bottleneck if it is left on the same physical drive as the operating system.</span></span>  


  |      <span data-ttu-id="2c7a9-250">Nombre del volumen</span><span class="sxs-lookup"><span data-stu-id="2c7a9-250">Volume Name</span></span>      |               <span data-ttu-id="2c7a9-251">Archivos</span><span class="sxs-lookup"><span data-stu-id="2c7a9-251">Files</span></span>               | <span data-ttu-id="2c7a9-252">GB de tamaño LUN</span><span class="sxs-lookup"><span data-stu-id="2c7a9-252">LUN Size GB</span></span> | <span data-ttu-id="2c7a9-253">GB de tamaño de partición de host</span><span class="sxs-lookup"><span data-stu-id="2c7a9-253">Host Partition Size GB</span></span> | <span data-ttu-id="2c7a9-254">Tamaño del clúster</span><span class="sxs-lookup"><span data-stu-id="2c7a9-254">Cluster Size</span></span> |
  |-----------------------|-----------------------------------|-------------|------------------------|--------------|
  |       <span data-ttu-id="2c7a9-255">Data_Sys</span><span class="sxs-lookup"><span data-stu-id="2c7a9-255">Data_Sys</span></span>        |    <span data-ttu-id="2c7a9-256">MAESTRO y los archivos de datos MSDB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-256">MASTER, and MSDB data files</span></span>    |     <span data-ttu-id="2c7a9-257">10</span><span class="sxs-lookup"><span data-stu-id="2c7a9-257">10</span></span>      |           <span data-ttu-id="2c7a9-258">10</span><span class="sxs-lookup"><span data-stu-id="2c7a9-258">10</span></span>           |     <span data-ttu-id="2c7a9-259">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-259">64KB</span></span>     |
  |       <span data-ttu-id="2c7a9-260">Logs_Sys</span><span class="sxs-lookup"><span data-stu-id="2c7a9-260">Logs_Sys</span></span>        |     <span data-ttu-id="2c7a9-261">Los archivos de registro maestra y MSDB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-261">MASTER and MSDB log files</span></span>     |     <span data-ttu-id="2c7a9-262">10</span><span class="sxs-lookup"><span data-stu-id="2c7a9-262">10</span></span>      |           <span data-ttu-id="2c7a9-263">10</span><span class="sxs-lookup"><span data-stu-id="2c7a9-263">10</span></span>           |     <span data-ttu-id="2c7a9-264">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-264">64KB</span></span>     |
  |      <span data-ttu-id="2c7a9-265">Data_TempDb</span><span class="sxs-lookup"><span data-stu-id="2c7a9-265">Data_TempDb</span></span>      |         <span data-ttu-id="2c7a9-266">Archivo de datos TempDB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-266">TempDB data file</span></span>          |     <span data-ttu-id="2c7a9-267">50</span><span class="sxs-lookup"><span data-stu-id="2c7a9-267">50</span></span>      |           <span data-ttu-id="2c7a9-268">50</span><span class="sxs-lookup"><span data-stu-id="2c7a9-268">50</span></span>           |     <span data-ttu-id="2c7a9-269">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-269">64KB</span></span>     |
  |      <span data-ttu-id="2c7a9-270">Logs_TempDb</span><span class="sxs-lookup"><span data-stu-id="2c7a9-270">Logs_TempDb</span></span>      |          <span data-ttu-id="2c7a9-271">Archivo de registro de TempDB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-271">TempDB log file</span></span>          |     <span data-ttu-id="2c7a9-272">50</span><span class="sxs-lookup"><span data-stu-id="2c7a9-272">50</span></span>      |           <span data-ttu-id="2c7a9-273">50</span><span class="sxs-lookup"><span data-stu-id="2c7a9-273">50</span></span>           |     <span data-ttu-id="2c7a9-274">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-274">64KB</span></span>     |
  |    <span data-ttu-id="2c7a9-275">Data_BtsMsgBox</span><span class="sxs-lookup"><span data-stu-id="2c7a9-275">Data_BtsMsgBox</span></span>     |     <span data-ttu-id="2c7a9-276">Archivo de datos BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="2c7a9-276">BizTalkMsgBoxDb data file</span></span>     |     <span data-ttu-id="2c7a9-277">300</span><span class="sxs-lookup"><span data-stu-id="2c7a9-277">300</span></span>     |          <span data-ttu-id="2c7a9-278">100</span><span class="sxs-lookup"><span data-stu-id="2c7a9-278">100</span></span>           |     <span data-ttu-id="2c7a9-279">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-279">64KB</span></span>     |
  |    <span data-ttu-id="2c7a9-280">Logs_BtsMsgBox</span><span class="sxs-lookup"><span data-stu-id="2c7a9-280">Logs_BtsMsgBox</span></span>     |     <span data-ttu-id="2c7a9-281">Archivo de registro BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="2c7a9-281">BizTalkMsgBoxDb log file</span></span>      |     <span data-ttu-id="2c7a9-282">100</span><span class="sxs-lookup"><span data-stu-id="2c7a9-282">100</span></span>     |          <span data-ttu-id="2c7a9-283">100</span><span class="sxs-lookup"><span data-stu-id="2c7a9-283">100</span></span>           |     <span data-ttu-id="2c7a9-284">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-284">64KB</span></span>     |
  | <span data-ttu-id="2c7a9-285">Data_BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="2c7a9-285">Data_BAMPrimaryImport</span></span> |    <span data-ttu-id="2c7a9-286">Archivo de datos BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="2c7a9-286">BAMPrimaryImport data file</span></span>     |     <span data-ttu-id="2c7a9-287">10</span><span class="sxs-lookup"><span data-stu-id="2c7a9-287">10</span></span>      |           <span data-ttu-id="2c7a9-288">10</span><span class="sxs-lookup"><span data-stu-id="2c7a9-288">10</span></span>           |     <span data-ttu-id="2c7a9-289">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-289">64KB</span></span>     |
  | <span data-ttu-id="2c7a9-290">Logs_BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="2c7a9-290">Logs_BAMPrimaryImport</span></span> |     <span data-ttu-id="2c7a9-291">Archivo de registro BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="2c7a9-291">BAMPrimaryImport log file</span></span>     |     <span data-ttu-id="2c7a9-292">10</span><span class="sxs-lookup"><span data-stu-id="2c7a9-292">10</span></span>      |           <span data-ttu-id="2c7a9-293">10</span><span class="sxs-lookup"><span data-stu-id="2c7a9-293">10</span></span>           |     <span data-ttu-id="2c7a9-294">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-294">64KB</span></span>     |
  | <span data-ttu-id="2c7a9-295">Data_BizTalkDatabases</span><span class="sxs-lookup"><span data-stu-id="2c7a9-295">Data_BizTalkDatabases</span></span> | <span data-ttu-id="2c7a9-296">Otros archivos de datos de la base de datos de BizTalk</span><span class="sxs-lookup"><span data-stu-id="2c7a9-296">Other BizTalk database data files</span></span> |     <span data-ttu-id="2c7a9-297">20</span><span class="sxs-lookup"><span data-stu-id="2c7a9-297">20</span></span>      |           <span data-ttu-id="2c7a9-298">20</span><span class="sxs-lookup"><span data-stu-id="2c7a9-298">20</span></span>           |     <span data-ttu-id="2c7a9-299">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-299">64KB</span></span>     |
  | <span data-ttu-id="2c7a9-300">Logs_BizTalkDatabases</span><span class="sxs-lookup"><span data-stu-id="2c7a9-300">Logs_BizTalkDatabases</span></span> | <span data-ttu-id="2c7a9-301">Otros archivos de registro de base de datos de BizTalk</span><span class="sxs-lookup"><span data-stu-id="2c7a9-301">Other BizTalk database log files</span></span>  |     <span data-ttu-id="2c7a9-302">20</span><span class="sxs-lookup"><span data-stu-id="2c7a9-302">20</span></span>      |           <span data-ttu-id="2c7a9-303">20</span><span class="sxs-lookup"><span data-stu-id="2c7a9-303">20</span></span>           |     <span data-ttu-id="2c7a9-304">64KB</span><span class="sxs-lookup"><span data-stu-id="2c7a9-304">64KB</span></span>     |
  |          <span data-ttu-id="2c7a9-305">N/D</span><span class="sxs-lookup"><span data-stu-id="2c7a9-305">N/A</span></span>          |          <span data-ttu-id="2c7a9-306">Archivo de registro MSDTC</span><span class="sxs-lookup"><span data-stu-id="2c7a9-306">MSDTC log file</span></span>           |      <span data-ttu-id="2c7a9-307">5</span><span class="sxs-lookup"><span data-stu-id="2c7a9-307">5</span></span>      |           <span data-ttu-id="2c7a9-308">5</span><span class="sxs-lookup"><span data-stu-id="2c7a9-308">5</span></span>            |     <span data-ttu-id="2c7a9-309">N/D</span><span class="sxs-lookup"><span data-stu-id="2c7a9-309">N/A</span></span>      |


- <span data-ttu-id="2c7a9-310">Se ha instalado BizTalk Server según las guías de instalación disponibles en [ http://go.microsoft.com/fwlink/?LinkId=128383 ](http://go.microsoft.com/fwlink/?LinkId=128383).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-310">BizTalk Server was installed as per the installation guides available at [http://go.microsoft.com/fwlink/?LinkId=128383](http://go.microsoft.com/fwlink/?LinkId=128383).</span></span>  

- <span data-ttu-id="2c7a9-311">El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] se usó la herramienta Best Practices Analyzer (BPA) para realizar la validación de plataforma una vez que se ha configurado el sistema.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-311">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Best Practices Analyzer (BPA) tool was used to perform platform validation once the system had been configured.</span></span> <span data-ttu-id="2c7a9-312">El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] BPA está disponible en [ http://go.microsoft.com/fwlink/?LinkId=67150 ](http://go.microsoft.com/fwlink/?LinkId=67150).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-312">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] BPA is available at [http://go.microsoft.com/fwlink/?LinkId=67150](http://go.microsoft.com/fwlink/?LinkId=67150).</span></span>  

## <a name="virtualization-specifics"></a><span data-ttu-id="2c7a9-313">Detalles de la virtualización</span><span class="sxs-lookup"><span data-stu-id="2c7a9-313">Virtualization Specifics</span></span>  
 <span data-ttu-id="2c7a9-314">Un VHD fijo de 50 GB único se usa para hospedar el sistema operativo para cada máquina virtual de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-314">A single 50 GB fixed VHD was used to host the operating system for each Hyper-V virtual machine.</span></span>  

 <span data-ttu-id="2c7a9-315">Se usaron los VHD fijos en lugar de los VHD de tamaños dinámico porque asigna inmediatamente el almacenamiento máximo del disco duro virtual en el archivo en la unidad donde se hospeda.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-315">Fixed VHDs were used instead of dynamically sized VHDs because they immediately allocate the maximum storage for the VHD to the file on the drive where it is hosted.</span></span> <span data-ttu-id="2c7a9-316">Esto reduce la fragmentación del archivo VHD que se producen en la unidad física donde se hospeda, lo que mejora el rendimiento de E/S de disco.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-316">This reduces fragmentation of the VHD file occurring on the physical drive where it is hosted, which improves disk I/O performance.</span></span>  

 <span data-ttu-id="2c7a9-317">Configurar las máquinas virtuales, una instalación de [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] 64-bit edition se realizó en un solo disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-317">To set-up the virtual machines, an installation of [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] 64-bit edition was performed on a single VHD.</span></span> <span data-ttu-id="2c7a9-318">Una vez que se ha instalado todas las actualizaciones adecuadas la máquina virtual base se digitaliza con utilidad sysprep que se instala con [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)], en el directorio %WINDIR%\system32\sysprep.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-318">Once all appropriate updates had been installed the base virtual machine was imaged using sysprep utility that is installed with [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)], in the %WINDIR%\system32\sysprep directory.</span></span>  

 <span data-ttu-id="2c7a9-319">Este disco duro virtual base, a continuación, se copian y se utiliza como base para todas las máquinas virtuales de Hyper-V que se implementaron en el entorno.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-319">This base VHD was then copied and used as the basis for all Hyper-V virtual machines that were deployed across the environment.</span></span> <span data-ttu-id="2c7a9-320">Se ejecutó Sysprep en la imagen de disco duro virtual base para restablecer los identificadores de seguridad del sistema antes de cualquier [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] o [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] archivos binarios se implementaron en el sistema.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-320">Sysprep was run on the base VHD image to reset system security identifiers before any [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] or [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] binaries were deployed to the system.</span></span>  

> [!NOTE]
>  <span data-ttu-id="2c7a9-321">Ejecutar Sysprep después de que se ha instalado y configurado en el servidor BizTalk Server puede realizarse mediante el uso de un archivo de respuesta Sysprep y secuencias de comandos proporcionadas con BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-321">Running Sysprep after BizTalk Server has been installed and configured on the server can be accomplished through the use of a Sysprep answer file and scripts provided with BizTalk Server.</span></span> <span data-ttu-id="2c7a9-322">Estas secuencias de comandos de ejemplo están diseñados para su uso con BizTalk Server instalado en las versiones de 32 bits y 64 bits de [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] solo.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-322">These sample scripts are designed for use with BizTalk Server installed on 32-bit and 64-bit versions of [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] only.</span></span> <span data-ttu-id="2c7a9-323">Para obtener más información, consulte la documentación en línea de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="2c7a9-323">For more information see the BizTalk Server online documentation.</span></span>  

 <span data-ttu-id="2c7a9-324">La referencia de instalación desatendida de Windows está disponible en [ http://go.microsoft.com/fwlink/?LinkId=142364 ](http://go.microsoft.com/fwlink/?LinkId=142364).</span><span class="sxs-lookup"><span data-stu-id="2c7a9-324">The Unattended Windows Setup Reference is available at [http://go.microsoft.com/fwlink/?LinkId=142364](http://go.microsoft.com/fwlink/?LinkId=142364).</span></span>  

## <a name="see-also"></a><span data-ttu-id="2c7a9-325">Vea también</span><span class="sxs-lookup"><span data-stu-id="2c7a9-325">See Also</span></span>  
 [<span data-ttu-id="2c7a9-326">Apéndice C: compatibilidad de Hyper-V de BizTalk Server y SQL Server</span><span class="sxs-lookup"><span data-stu-id="2c7a9-326">Appendix C: BizTalk Server and SQL Server Hyper-V Supportability</span></span>](../technical-guides/appendix-c-biztalk-server-and-sql-server-hyper-v-supportability.md)