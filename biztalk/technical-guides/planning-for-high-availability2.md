---
title: Planeación de alta disponibilidad2 | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 65271fd5-5294-406f-87f8-3aa394c235a2
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f9b5ff05391eed424e7b910296cc5aa801f8cab1
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/01/2017
ms.locfileid: "26008333"
---
# <a name="planning-for-high-availability"></a><span data-ttu-id="55862-102">Planear la alta disponibilidad</span><span class="sxs-lookup"><span data-stu-id="55862-102">Planning for High Availability</span></span>
<span data-ttu-id="55862-103">Alta disponibilidad para el servidor BizTalk Server se centra en la recuperación de componentes funcionales que podrían interrumpir la disponibilidad en una implementación de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="55862-103">High availability for BizTalk Server focuses on recovering functional components that might disrupt availability in a BizTalk Server deployment.</span></span>  
  
 <span data-ttu-id="55862-104">Para demostrar la alta disponibilidad en el servidor BizTalk Server, tendrá que provocan un error y medir la eficacia del producto de recuperación.</span><span class="sxs-lookup"><span data-stu-id="55862-104">To demonstrate high availability in BizTalk Server, you have to cause a failure and measure the product's effectiveness in recovery.</span></span> <span data-ttu-id="55862-105">Una implementación de BizTalk Server de alta disponibilidad, los errores es transparentes para los sistemas y aplicaciones externas y garantiza que todos los servicios seguirán funcionando correctamente con interrupciones mínimas.</span><span class="sxs-lookup"><span data-stu-id="55862-105">A highly available BizTalk Server deployment makes errors and failures transparent to external applications and systems, and ensures that all services continue functioning correctly with minimal disruption.</span></span>  
  
 <span data-ttu-id="55862-106">Diseñar una implementación de BizTalk Server que proporciona alta disponibilidad, es preciso implementar redundancia para cada componentes funcionales que participan en una integración de aplicaciones o un escenario de integración de proceso de negocio.</span><span class="sxs-lookup"><span data-stu-id="55862-106">Designing a BizTalk Server deployment that provides high availability involves implementing redundancy for each functional component involved in an application integration or business process integration scenario.</span></span> <span data-ttu-id="55862-107">BizTalk Server simplifica la implementación de estos escenarios separando conceptualmente los datos de la *hosts* que procesar los datos.</span><span class="sxs-lookup"><span data-stu-id="55862-107">BizTalk Server simplifies the implementation of these scenarios by conceptually separating the data from the *hosts* that process the data.</span></span> <span data-ttu-id="55862-108">A *host* es un contenedor lógico de BizTalk elementos, como orquestaciones, controladores de envío y controladores de recepción.</span><span class="sxs-lookup"><span data-stu-id="55862-108">A *host* is a logical container of BizTalk items, such as orchestrations, send handlers, and receive handlers.</span></span> <span data-ttu-id="55862-109">Crear *instancias de host* y asignarlas al host.</span><span class="sxs-lookup"><span data-stu-id="55862-109">You create *host instances* and assign them to the host.</span></span> <span data-ttu-id="55862-110">Una instancia de host es la representación física de un host en un servidor específico.</span><span class="sxs-lookup"><span data-stu-id="55862-110">A host instance is the physical representation of a host on a specific server.</span></span> <span data-ttu-id="55862-111">Es el proceso del servicio de BizTalk Server llamado a BTSNTSvc.exe u otro proceso, por ejemplo, el proceso de IIS.</span><span class="sxs-lookup"><span data-stu-id="55862-111">It is either the BizTalk Server service process called BTSNTSvc.exe or another process, for example, the IIS process.</span></span> <span data-ttu-id="55862-112">Por lo que proporciona alta disponibilidad para el servidor BizTalk Server implica la ejecución de varios *instancias de host* y agrupación en clústeres las bases de datos de BizTalk Server, como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="55862-112">So providing high availability for BizTalk Server involves running multiple *host instances* and clustering the BizTalk Server databases, as follows:</span></span>  
  
-   <span data-ttu-id="55862-113">**Arquitectura de Hosts de BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="55862-113">**Architecture for BizTalk Hosts**.</span></span> <span data-ttu-id="55862-114">BizTalk Server le permite separar hosts y ejecutar varias instancias de host para proporcionar alta disponibilidad para funciones clave como recibir mensajes, procesar orquestaciones y enviar mensajes.</span><span class="sxs-lookup"><span data-stu-id="55862-114">BizTalk Server lets you separate hosts and run multiple host instances to provide high availability for key functions such as receiving messages, processing orchestrations, and sending messages.</span></span> <span data-ttu-id="55862-115">Estos hosts no requieren ningún adicionales de agrupación en clústeres o el mecanismo de equilibrio de carga porque BizTalk Server distribuye automáticamente la carga de trabajo entre varios equipos a través de instancias de host.</span><span class="sxs-lookup"><span data-stu-id="55862-115">These hosts do not require any additional clustering or load-balancing mechanism because BizTalk Server automatically distributes workload across multiple computers through host instances.</span></span> <span data-ttu-id="55862-116">Sin embargo, hospeda está ejecutando los controladores de recepción para los adaptadores de HTTP y SOAP requieren un mecanismo de equilibrio de carga como red equilibrio de carga (NLB) para proporcionar alta disponibilidad y hosts que ejecutan los controladores de recepción de FTP, MSMQ, POP3, SQL y SAP requieren una mecanismo de agrupación en clústeres para proporcionar alta disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="55862-116">However, hosts running the receive handlers for the HTTP and SOAP adapters require a load-balancing mechanism such as Network Load Balancing (NLB) to provide high availability, and hosts running the receive handlers for FTP, MSMQ, POP3, SQL, and SAP require a clustering mechanism to provide high availability.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="55862-117">Siempre debe agrupar el SAP adaptador para dar cabida a un escenario de confirmación en dos fases de recepción.</span><span class="sxs-lookup"><span data-stu-id="55862-117">You must always cluster the SAP receive adapter to accommodate a two-phase commit scenario.</span></span>  
  
-   <span data-ttu-id="55862-118">**Arquitectura de bases de datos de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="55862-118">**Architecture for BizTalk Server databases**.</span></span> <span data-ttu-id="55862-119">Configuración de alta disponibilidad para las bases de datos de BizTalk Server normalmente consta de dos o más equipos de base de datos de SQL Server con una configuración de clúster activo/pasivo del servidor de.</span><span class="sxs-lookup"><span data-stu-id="55862-119">High-availability configuration for the BizTalk Server databases typically consists of two or more SQL Server database computers configured in an active/passive server cluster configuration.</span></span> <span data-ttu-id="55862-120">Estos equipos comparten un recurso de disco común (por ejemplo, una RAID 1 + 0 matriz de discos SCSI o una red de área de almacenamiento) y usar la agrupación en clústeres de conmutación por error de Windows para proporcionar copias de seguridad redundancia y tolerancia a errores.</span><span class="sxs-lookup"><span data-stu-id="55862-120">These computers share a common disk resource (such as a RAID 1+0 SCSI disk array or a storage area network) and use Windows Failover Clustering to provide backup redundancy and fault tolerance.</span></span>  
  
 <span data-ttu-id="55862-121">Otro componente funcional de BizTalk que es crítico para la alta disponibilidad es el servidor secreto principal.</span><span class="sxs-lookup"><span data-stu-id="55862-121">Another BizTalk functional component that is critical for high availability is the master secret server.</span></span> <span data-ttu-id="55862-122">BizTalk Server se basa en este servicio para obtener la clave de cifrado.</span><span class="sxs-lookup"><span data-stu-id="55862-122">BizTalk Server relies on this service to obtain the encryption key.</span></span>  
  
 <span data-ttu-id="55862-123">Esta sección proporciona información acerca de cómo obtener alta disponibilidad en cada una de estas categorías.</span><span class="sxs-lookup"><span data-stu-id="55862-123">This section provides information about how to address high availability in each of these categories.</span></span> <span data-ttu-id="55862-124">Dado que una solución de alta disponibilidad de servidor BizTalk Server se basa en Windows y SQL Server, asegúrese de implementar estos productos con alta disponibilidad antes de configurar hosts de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="55862-124">Because a BizTalk Server high availability solution is built on Windows and SQL Server, make sure that you deploy these products with high availability before configuring hosts for BizTalk Server.</span></span> <span data-ttu-id="55862-125">Los siguientes vínculos incluyen información sobre cómo proporcionar alta disponibilidad a estos productos subyacentes:</span><span class="sxs-lookup"><span data-stu-id="55862-125">The following links include information about providing high availability for these underlying products:</span></span>  
  
-   <span data-ttu-id="55862-126">**Soluciones de alta disponibilidad (SQL Server)] (https://docs.microsoft.com/sql/sql-server/failover-clusters/high-availability-solutions-sql-server)**</span><span class="sxs-lookup"><span data-stu-id="55862-126">**High Availability Solutions (SQL Server)](https://docs.microsoft.com/sql/sql-server/failover-clusters/high-availability-solutions-sql-server)**</span></span>  
  
-   <span data-ttu-id="55862-127">**[Conmutación por error en Windows Server](https://docs.microsoft.com/windows-server/failover-clustering/failover-clustering-overview)**</span><span class="sxs-lookup"><span data-stu-id="55862-127">**[Failover Clustering in Windows Server](https://docs.microsoft.com/windows-server/failover-clustering/failover-clustering-overview)**</span></span>
  
## <a name="understanding-the-impact-of-a-component-failure"></a><span data-ttu-id="55862-128">Entender el impacto de un error de componente</span><span class="sxs-lookup"><span data-stu-id="55862-128">Understanding the Impact of a Component Failure</span></span>  
 <span data-ttu-id="55862-129">En la tabla siguiente se enumera los componentes y las dependencias de un entorno de BizTalk Server y el impacto en el entorno de BizTalk Server si se produce un error en la dependencia o un componente.</span><span class="sxs-lookup"><span data-stu-id="55862-129">The following table lists the components and dependencies of a BizTalk Server environment and the impact on the BizTalk Server environment if the component or dependency fails.</span></span> <span data-ttu-id="55862-130">Debe considerar el ámbito de un posible error al decidir si desea una dependencia o un componente del clúster.</span><span class="sxs-lookup"><span data-stu-id="55862-130">You should consider the scope of a potential failure when deciding whether to cluster a component or dependency.</span></span>  
  
|<span data-ttu-id="55862-131">Dependencia o un componente</span><span class="sxs-lookup"><span data-stu-id="55862-131">Component or dependency</span></span>|<span data-ttu-id="55862-132">Ámbito del error</span><span class="sxs-lookup"><span data-stu-id="55862-132">Scope of failure</span></span>|  
|-----------------------------|----------------------|  
|<span data-ttu-id="55862-133">SQL Server</span><span class="sxs-lookup"><span data-stu-id="55862-133">SQL Server</span></span>|<span data-ttu-id="55862-134">Todo el sistema.</span><span class="sxs-lookup"><span data-stu-id="55862-134">Systemwide.</span></span> <span data-ttu-id="55862-135">Si se produce un error de SQL Server, a continuación, BizTalk Server podrá procesar los documentos.</span><span class="sxs-lookup"><span data-stu-id="55862-135">If SQL Server fails then BizTalk Server will be unable to process documents.</span></span>|  
|<span data-ttu-id="55862-136">Servidor secreto principal</span><span class="sxs-lookup"><span data-stu-id="55862-136">Master secret server</span></span>|<span data-ttu-id="55862-137">Todo el sistema.</span><span class="sxs-lookup"><span data-stu-id="55862-137">Systemwide.</span></span> <span data-ttu-id="55862-138">Si se produce un error en el servidor secreto principal, a continuación, BizTalk Server podrá procesar los documentos.</span><span class="sxs-lookup"><span data-stu-id="55862-138">If the master secret server fails then BizTalk Server will be unable to process documents.</span></span> <br/><span data-ttu-id="55862-139">**Nota:** si se produce un error en el servidor secreto principal, cada servidor BizTalk server en el grupo de BizTalk continuarán utilizando una copia en memoria en caché del secreto principal hasta que se reinicie el servicio SSO empresarial en que BizTalk server.</span><span class="sxs-lookup"><span data-stu-id="55862-139">**Note:**  If the master secret server fails, each BizTalk server in the BizTalk group will continue to use a cached in-memory copy of the master secret until the Enterprise SSO service on that BizTalk server is restarted.</span></span> <span data-ttu-id="55862-140">Si se reinicia el servicio SSO empresarial en los servidores BizTalk Server, la copia en caché del secreto principal se libera de la memoria y los servidores BizTalk Server deben ser capaz de ponerse en contacto con el servidor secreto principal para obtener otra copia del secreto principal.</span><span class="sxs-lookup"><span data-stu-id="55862-140">If the Enterprise SSO service is restarted on the BizTalk servers, then the cached copy of the master secret is released from memory and the BizTalk servers must be able to contact the master secret server to obtain another copy of the master secret.</span></span> <span data-ttu-id="55862-141">No se reinicie el servicio de SSO empresarial en los servidores de BizTalk en un grupo si se produce un error en el servidor secreto principal y desea que el servidor BizTalk server para continuar el procesamiento de documentos.</span><span class="sxs-lookup"><span data-stu-id="55862-141">Do not restart the Enterprise SSO service on the BizTalk server(s) in a group if the master secret server fails and you want the BizTalk server to continue processing documents.</span></span>|  
|<span data-ttu-id="55862-142">MSDTC</span><span class="sxs-lookup"><span data-stu-id="55862-142">MSDTC</span></span>|<span data-ttu-id="55862-143">Servidor.</span><span class="sxs-lookup"><span data-stu-id="55862-143">Server.</span></span> <span data-ttu-id="55862-144">Si se produce un error de MSDTC se producirá un error en cualquier componente en el servidor que requiere compatibilidad con transacciones.</span><span class="sxs-lookup"><span data-stu-id="55862-144">If MSDTC fails then any component on the server that requires transaction support will fail.</span></span> <br/><span data-ttu-id="55862-145">**Nota:** porque SQL Server y el servidor secreto principal son dependientes de MSDTC para compatibilidad con transacciones, el ámbito del error se convertirá en todo el sistema si se produce un error en el MSDTC en el servidor SQL o el servidor secreto principal.</span><span class="sxs-lookup"><span data-stu-id="55862-145">**Note:**  Because SQL Server and the master secret server are dependent on MSDTC for transaction support, the scope of the failure will become system wide if the MSDTC on the SQL server or master secret server fails.</span></span> <span data-ttu-id="55862-146">BizTalk Server requiere compatibilidad con transacciones al comunicarse con SQL Server y el servidor secreto principal durante las operaciones de tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="55862-146">BizTalk Server requires transaction support when communicating with SQL Server and the master secret server during run-time operations.</span></span>|  
|<span data-ttu-id="55862-147">Instancia de host de BizTalk</span><span class="sxs-lookup"><span data-stu-id="55862-147">BizTalk Host instance</span></span>|<span data-ttu-id="55862-148">Servidor.</span><span class="sxs-lookup"><span data-stu-id="55862-148">Server.</span></span> <span data-ttu-id="55862-149">Todos los componentes alojados en una instancia de BizTalk Host podrá participar en el procesamiento de documentos si se produce un error en la instancia de host.</span><span class="sxs-lookup"><span data-stu-id="55862-149">Any components housed in a BizTalk Host instance will be unable to participate in document processing if the host instance fails.</span></span>|  
|<span data-ttu-id="55862-150">Message Queue Server (MSMQ)</span><span class="sxs-lookup"><span data-stu-id="55862-150">Microsoft Message Queuing (MSMQ)</span></span>|<span data-ttu-id="55862-151">Servidor.</span><span class="sxs-lookup"><span data-stu-id="55862-151">Server.</span></span> <span data-ttu-id="55862-152">Si MSMQ se produce un error, a continuación, cualquier procesamiento de documentos que depende el servicio MSMQ, como el adaptador de MSMQ, se detendrá en el servidor.</span><span class="sxs-lookup"><span data-stu-id="55862-152">If MSMQ fails then any document processing that is dependent on the MSMQ service, such as the MSMQ adapter, will be halted on the server.</span></span>|  
|<span data-ttu-id="55862-153">Sistema de archivos</span><span class="sxs-lookup"><span data-stu-id="55862-153">File system</span></span>|<span data-ttu-id="55862-154">Servidor.</span><span class="sxs-lookup"><span data-stu-id="55862-154">Server.</span></span> <span data-ttu-id="55862-155">Si se produce un error en el sistema de archivos, a continuación, cualquier procesamiento de documentos que depende el sistema de archivos, por ejemplo, el adaptador de archivo, se detendrá en el servidor.</span><span class="sxs-lookup"><span data-stu-id="55862-155">If the file system fails then any document processing that is dependent on the file system, such as the File adapter, will be halted on the server.</span></span>|  
  
 <span data-ttu-id="55862-156">Para poder administrar mejor un sistema de BizTalk Server de alta disponibilidad, debe tener un buen conocimiento de la pila de BizTalk: Windows Server, controlador de dominio (DNS, DHCP), BizTalk Server, SQL Server, servidor IIS, servidor de archivos, servidor MSMQ, las aplicaciones externas.</span><span class="sxs-lookup"><span data-stu-id="55862-156">To be able to better manage a highly available BizTalk Server system, you must have a good understanding of the BizTalk stack: Windows Server, DC (DNS, DHCP), BizTalk Server, SQL Server, IIS server, File server, MSMQ server, external applications.</span></span> <span data-ttu-id="55862-157">En esta sección se centra en la alta disponibilidad del servidor BizTalk Server y el equipo de SQL Server dependiente.</span><span class="sxs-lookup"><span data-stu-id="55862-157">This section focuses on the high availability of BizTalk Server and the dependent SQL Server computer.</span></span>  
  
## <a name="biztalk-server-high-availability-examples"></a><span data-ttu-id="55862-158">Ejemplos de alta disponibilidad de servidor BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="55862-158">BizTalk Server High-Availability Examples</span></span>  
 <span data-ttu-id="55862-159">Para escenarios de ejemplo de Microsoft BizTalk Server que proporcionan una alta disponibilidad mediante niveles de escala horizontal de hosts, consulte [escenarios de alta disponibilidad de ejemplo de BizTalk Server](../core/sample-biztalk-server-high-availability-scenarios.md).</span><span class="sxs-lookup"><span data-stu-id="55862-159">For sample scenarios in Microsoft BizTalk Server that provide high availability through scaled-out tiers of hosts, see [Sample BizTalk Server High Availability Scenarios](../core/sample-biztalk-server-high-availability-scenarios.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="55862-160">Vea también</span><span class="sxs-lookup"><span data-stu-id="55862-160">See Also</span></span>  
 <span data-ttu-id="55862-161">[Alta disponibilidad para los Hosts de BizTalk](../technical-guides/high-availability-for-biztalk-hosts.md) </span><span class="sxs-lookup"><span data-stu-id="55862-161">[High Availability for BizTalk Hosts](../technical-guides/high-availability-for-biztalk-hosts.md) </span></span>  
 <span data-ttu-id="55862-162">[Alta disponibilidad para bases de datos](../technical-guides/high-availability-for-databases.md) </span><span class="sxs-lookup"><span data-stu-id="55862-162">[High Availability for Databases](../technical-guides/high-availability-for-databases.md) </span></span>  
 <span data-ttu-id="55862-163">[Alta disponibilidad para el servidor secreto principal](../technical-guides/high-availability-for-the-master-secret-server.md) </span><span class="sxs-lookup"><span data-stu-id="55862-163">[High Availability for the Master Secret Server](../technical-guides/high-availability-for-the-master-secret-server.md) </span></span>  
 [<span data-ttu-id="55862-164">Lista de comprobación: aumento de la disponibilidad con la recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="55862-164">Checklist: Increasing Availability with Disaster Recovery</span></span>](../technical-guides/checklist-increasing-availability-with-disaster-recovery.md)