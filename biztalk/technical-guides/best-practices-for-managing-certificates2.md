---
title: Prácticas recomendadas para administrar Certificates2 | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 71fa00cc-2e0c-46b3-ae62-f130a5b5f4f5
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0eb6550a5e7b3604d4bb99507299cce5262e210e
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/01/2017
ms.locfileid: "26008621"
---
# <a name="best-practices-for-managing-certificates"></a><span data-ttu-id="a4d30-102">Prácticas recomendadas para la administración de certificados</span><span class="sxs-lookup"><span data-stu-id="a4d30-102">Best Practices for Managing Certificates</span></span>
<span data-ttu-id="a4d30-103">Esta sección proporciona prácticas recomendadas para administrar certificados en el entorno de Microsoft BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="a4d30-103">This section provides best practices for managing certificates in your Microsoft BizTalk Server environment.</span></span>  
  
## <a name="assess-and-plan-your-use-of-certificates"></a><span data-ttu-id="a4d30-104">Evaluar y planear el uso de certificados</span><span class="sxs-lookup"><span data-stu-id="a4d30-104">Assess and Plan Your Use of Certificates</span></span>  
 <span data-ttu-id="a4d30-105">**Realizar un análisis de modelo de amenazas de su entorno**</span><span class="sxs-lookup"><span data-stu-id="a4d30-105">**Do a Threat Model Analysis of your environment**</span></span>  
  
-   <span data-ttu-id="a4d30-106">Lleve a cabo un análisis de modelo de amenazas (TMA) de su entorno para determinar si los certificados de firma o cifrado contribuirán a minimizar las amenazas para la seguridad.</span><span class="sxs-lookup"><span data-stu-id="a4d30-106">Do a Threat Model Analysis (TMA) of your environment to determine whether signing or encryption certificates will help you mitigate security threats.</span></span>  
  
 <span data-ttu-id="a4d30-107">**Crear un plan para certificados de clave pública con socios comerciales**</span><span class="sxs-lookup"><span data-stu-id="a4d30-107">**Create a plan for public key certificates with partners**</span></span>  
  
-   <span data-ttu-id="a4d30-108">Crear un plan para los certificados de clave pública para enviar y recibir certificados de clave pública de socios.</span><span class="sxs-lookup"><span data-stu-id="a4d30-108">Create a plan for sending public key certificates to and receiving public key certificates from partners.</span></span> <span data-ttu-id="a4d30-109">Si no utiliza certificados de firma para la resolución de entidades, el certificado público puede adjuntarse al mensaje, en cuyo caso no se necesitará una copia del certificado de antemano en su sistema.</span><span class="sxs-lookup"><span data-stu-id="a4d30-109">If you are not using signing certificates for party resolution, the public certificate can be attached to the message, in which case you do not need a copy of the certificate in your system beforehand.</span></span>  
  
 <span data-ttu-id="a4d30-110">**Establezca directrices con socios comerciales para el envío de claves públicas**</span><span class="sxs-lookup"><span data-stu-id="a4d30-110">**Establish guidelines with partners for submitting public keys**</span></span>  
  
-   <span data-ttu-id="a4d30-111">Como parte del contrato de nivel de servicio (SLA) con el socio comercial, establezca directrices para el envío de claves públicas, con lo que se le notificará el momento de revocación y de inminente caducidad de los certificados.</span><span class="sxs-lookup"><span data-stu-id="a4d30-111">As part of your Service Level Agreement (SLA) with your partner, establish guidelines for submitting public keys, notifying you when their certificates are about to expire, and notifying you when they revoke a certificate.</span></span>  
  
## <a name="install-certificates"></a><span data-ttu-id="a4d30-112">Instalar certificados</span><span class="sxs-lookup"><span data-stu-id="a4d30-112">Install Certificates</span></span>  
 <span data-ttu-id="a4d30-113">**Descargar la lista de revocación de certificados a intervalos establecidos**</span><span class="sxs-lookup"><span data-stu-id="a4d30-113">**Download the certificate revocation list at set intervals**</span></span>  
  
-   <span data-ttu-id="a4d30-114">Descargue la lista de revocaciones de certificados (CRL) de su entidad emisora de certificados (CA) a intervalos determinados.</span><span class="sxs-lookup"><span data-stu-id="a4d30-114">Download the certificate revocation list (CRL) from your certification authority (CA) at set intervals.</span></span> <span data-ttu-id="a4d30-115">Se recomienda llevar esto a cabo una vez a la semana.</span><span class="sxs-lookup"><span data-stu-id="a4d30-115">We recommend doing this once a week.</span></span> <span data-ttu-id="a4d30-116">Las CRL se descargan automáticamente si hay una CA para el dominio al que se han unido los servidores BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="a4d30-116">The CRLs are downloaded automatically if there is a CA for the domain in which the BizTalk servers are joined.</span></span>  
  
 <span data-ttu-id="a4d30-117">**Comprobar los certificados de firmas**</span><span class="sxs-lookup"><span data-stu-id="a4d30-117">**Verify signing certificates**</span></span>  
  
-   <span data-ttu-id="a4d30-118">Asegúrese de efectuar una comprobación de los certificados de firma con respecto a la lista de revocación de certificados.</span><span class="sxs-lookup"><span data-stu-id="a4d30-118">Make sure you verify the signing certificates against the certificate revocation list.</span></span> <span data-ttu-id="a4d30-119">Para obtener más información acerca de cómo comprobar los certificados de firma, vea [cómo configurar el componente de canalización de descodificador MIME/SMIME](http://go.microsoft.com/fwlink/?LinkId=155145) (http://go.microsoft.com/fwlink/?LinkId=155145) en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ayuda.</span><span class="sxs-lookup"><span data-stu-id="a4d30-119">For more information about how to verify the signing certificates, see [How to Configure the MIME/SMIME Decoder Pipeline Component](http://go.microsoft.com/fwlink/?LinkId=155145) (http://go.microsoft.com/fwlink/?LinkId=155145) in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Help.</span></span>  
  
 <span data-ttu-id="a4d30-120">**Administrar certificados con socios comerciales**</span><span class="sxs-lookup"><span data-stu-id="a4d30-120">**Manage certificates with partners**</span></span>  
  
-   <span data-ttu-id="a4d30-121">Haga que la administración de certificados forme parte de las prácticas de administración de socios comerciales.</span><span class="sxs-lookup"><span data-stu-id="a4d30-121">Make certificate management part of your partner management practices.</span></span> <span data-ttu-id="a4d30-122">Al agregar una entidad al entorno de BizTalk Server o quitarla de éste, resulta recomendable agregar o quitar certificados asociados con el socio comercial.</span><span class="sxs-lookup"><span data-stu-id="a4d30-122">When you add or remove a party from the BizTalk Server environment, we recommend that you add or remove the certificates associated with that partner.</span></span>  
  
 <span data-ttu-id="a4d30-123">**Quite certificados antes de quitar una instancia de host**</span><span class="sxs-lookup"><span data-stu-id="a4d30-123">**Remove certificates before removing a host instance**</span></span>  
  
-   <span data-ttu-id="a4d30-124">Antes de quitar una instancia de host de un servidor BizTalk Server, quite los certificados del almacén personal de la cuenta en la que se ejecuta la instancia de host.</span><span class="sxs-lookup"><span data-stu-id="a4d30-124">Before removing a host instance from a BizTalk server, remove the certificates in the personal store of the account under which the host instance is running.</span></span>  
  
## <a name="configure-biztalk-server-to-use-certificates-for-mimesmime"></a><span data-ttu-id="a4d30-125">Configurar BizTalk Server para usar certificados de MIME/SMIME</span><span class="sxs-lookup"><span data-stu-id="a4d30-125">Configure BizTalk Server to Use Certificates for MIME/SMIME</span></span>  
 <span data-ttu-id="a4d30-126">**Evite la denegación de ataques de servicio para las firmas digitales**</span><span class="sxs-lookup"><span data-stu-id="a4d30-126">**Avoid denial of service attacks for digital signatures**</span></span>  
  
-   <span data-ttu-id="a4d30-127">Determine qué desea hacer con los mensajes cuando el servidor BizTalk Server no se puede validar la firma digital.</span><span class="sxs-lookup"><span data-stu-id="a4d30-127">Determine what you want to do with messages when BizTalk Server cannot validate the digital signature.</span></span> <span data-ttu-id="a4d30-128">Establecer la propiedad de autenticación en el puerto de recepción le ayudará a evitar la denegación de servicio ataques.</span><span class="sxs-lookup"><span data-stu-id="a4d30-128">Setting the Authentication property on the receive port will help prevent denial of service attacks.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="a4d30-129">La autenticación - quitar mensajes y autenticación - mantener mensajes marcas en el puerto de recepción requieren que el componente de canalización de resolución de entidades se ha configurado correctamente y que las entidades se definan en BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="a4d30-129">The Authentication - Drop messages and Authentication - Keep messages flags on the receive port require that the Party Resolution pipeline component be configured correctly, and that the parties are defined in BizTalk Server.</span></span> <span data-ttu-id="a4d30-130">Para obtener más información, consulte [componente de canalización de resolución de entidades](http://go.microsoft.com/fwlink/?LinkId=155146) (http://go.microsoft.com/fwlink/?LinkId=155146) en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ayuda.</span><span class="sxs-lookup"><span data-stu-id="a4d30-130">For more information, see [Party Resolution Pipeline Component](http://go.microsoft.com/fwlink/?LinkId=155146) (http://go.microsoft.com/fwlink/?LinkId=155146) in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Help.</span></span>  
  
 <span data-ttu-id="a4d30-131">**Crear diferentes ubicaciones de recepción de mensajes cifrados y sin cifrar**</span><span class="sxs-lookup"><span data-stu-id="a4d30-131">**Create separate receive locations for encrypted and unencrypted messages**</span></span>  
  
-   <span data-ttu-id="a4d30-132">Si planea recibir mensajes con cifrado MIME de algunos socios comerciales y mensajes sin cifrar de otros, cree ubicaciones de recepción independientes en hosts diferentes para mensajes cifrados y sin cifrar.</span><span class="sxs-lookup"><span data-stu-id="a4d30-132">If you plan to receive MIME-encrypted messages from some partners and unencrypted messages from other partners, create separate receive locations in different hosts for encrypted and unencrypted messages.</span></span> <span data-ttu-id="a4d30-133">Cuando se espera que sólo los mensajes cifrados con MIME, configure la opción de permitir mensaje no MIME en el componente de canalización de descodificación MIME/SMIME en no.</span><span class="sxs-lookup"><span data-stu-id="a4d30-133">When you expect only MIME-encrypted messages, configure the Allow Non MIME Message option in the Decode MIME/SMIME pipeline component to No.</span></span>  
  
## <a name="configure-a-biztalk-adapter-to-use-certificates"></a><span data-ttu-id="a4d30-134">Configurar un adaptador de BizTalk para utilizar certificados</span><span class="sxs-lookup"><span data-stu-id="a4d30-134">Configure a BizTalk Adapter to Use Certificates</span></span>  
 <span data-ttu-id="a4d30-135">**Pruebe la conexión al sitio Web de destino**</span><span class="sxs-lookup"><span data-stu-id="a4d30-135">**Test your connection to the target Web site**</span></span>  
  
-   <span data-ttu-id="a4d30-136">Si está usando SSL, asegúrese de que puede conectarse al sitio Web de destino con Microsoft Internet Explorer® antes de intentar conectarse al sitio Web de destino con los transportes HTTP o SOAP.</span><span class="sxs-lookup"><span data-stu-id="a4d30-136">If you are using SSL, ensure that you can connect to the target Web site with Microsoft Internet Explorer® before attempting to connect to the target Web site with the HTTP or SOAP transports.</span></span> <span data-ttu-id="a4d30-137">Compruebe que ningún cuadro de diálogo se muestran en el Explorador de Internet cuando se conecta al sitio Web de destino.</span><span class="sxs-lookup"><span data-stu-id="a4d30-137">Verify that no dialog boxes are displayed in Internet Explorer when you connect to the target Web site.</span></span> <span data-ttu-id="a4d30-138">BizTalk Server no dispone de mecanismos para interactuar con los cuadros de diálogo que pueden aparecer al conectarse al sitio web de destino.</span><span class="sxs-lookup"><span data-stu-id="a4d30-138">BizTalk Server has no mechanism for interfacing with any dialog boxes that might be displayed when connecting to the target web site.</span></span> <span data-ttu-id="a4d30-139">Un cuadro de diálogo puede mostrarse de Internet Explorer si el nombre del sitio Web de destino no coincide con el nombre especificado para el sitio Web en el certificado SSL o si la entidad de certificación de raíz para el certificado SSL no está en la certificación de raíz de confianza adecuado Almacén de entidades.</span><span class="sxs-lookup"><span data-stu-id="a4d30-139">A dialog box may be displayed by Internet Explorer if the target Web site name does not match the name specified for the Web site in the SSL certificate or if the Root Certification Authority for the SSL certificate is not in the appropriate Trusted Root Certification Authorities store.</span></span>  
  
 <span data-ttu-id="a4d30-140">**Utilice la herramienta de diagnóstico de SSL para analizar problemas de conexión de SSL**</span><span class="sxs-lookup"><span data-stu-id="a4d30-140">**Use the SSL Diagnostics tool to analyze SSL connection issues**</span></span>  
  
-   <span data-ttu-id="a4d30-141">La herramienta de diagnóstico de SSL es un componente opcional del Kit de herramientas de diagnóstico de IIS.</span><span class="sxs-lookup"><span data-stu-id="a4d30-141">The SSL Diagnostics tool is an optional component of the IIS Diagnostics Toolkit.</span></span> <span data-ttu-id="a4d30-142">Puede descargar el Kit de herramientas de diagnóstico de IIS desde la [herramientas de diagnóstico de Internet Information Services](http://go.microsoft.com/fwlink/?LinkID=64426) página (http://go.microsoft.com/fwlink/?LinkID=64426).</span><span class="sxs-lookup"><span data-stu-id="a4d30-142">You can download the IIS Diagnostics Toolkit from the [Internet Information Services Diagnostics Tools](http://go.microsoft.com/fwlink/?LinkID=64426) page (http://go.microsoft.com/fwlink/?LinkID=64426).</span></span>  
  
## <a name="exporting-a-certificate-from-one-biztalk-group-to-another"></a><span data-ttu-id="a4d30-143">Exportar un certificado desde un grupo de BizTalk a otro</span><span class="sxs-lookup"><span data-stu-id="a4d30-143">Exporting a Certificate from One BizTalk Group to Another</span></span>  
 <span data-ttu-id="a4d30-144">**Asegúrese de que se está usando un certificado importado para el propósito planteado**</span><span class="sxs-lookup"><span data-stu-id="a4d30-144">**Ensure that an imported certificate is being used for its intended purpose**</span></span>  
  
-   <span data-ttu-id="a4d30-145">Si importa un certificado en un grupo, el certificado importado debe tener una propiedad de uso que es coherente con su uso previsto.</span><span class="sxs-lookup"><span data-stu-id="a4d30-145">If you import a certificate into a group, the imported certificate must have a usage property that is consistent with its intended use.</span></span> <span data-ttu-id="a4d30-146">Para comprobar la propiedad de uso, haga doble clic en el certificado en el **consola de administración de certificados** de interfaz y, a continuación, haga clic en el **detalles** pestaña de la **certificado** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="a4d30-146">To check the usage property, double-click the certificate in the **Certificates Management Console** interface, and then click the **Details** tab of the **Certificate** dialog box.</span></span> <span data-ttu-id="a4d30-147">A continuación, haga clic en el **todos los** opción para la **mostrar** lista desplegable y, a continuación, haga clic para seleccionar la **EKU** o **uso mejorado de clave** campos Para comprobar el fin previsto.</span><span class="sxs-lookup"><span data-stu-id="a4d30-147">Then click the **All** option for the **Show** drop-down list, and then click to select the **Key Usage** and/or **Enhanced Key Usage** fields to verify the intended purpose.</span></span> <span data-ttu-id="a4d30-148">Si BizTalk Server intenta usar un certificado para que no sea su propósito, se producirá un error en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="a4d30-148">If BizTalk Server attempts to use a certificate for other than its intended purpose a runtime error will occur.</span></span>