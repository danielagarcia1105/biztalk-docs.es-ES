---
title: Escenario de baja latencia Optimizations1 | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: cd2a891a-ee4b-4542-b3ce-434e2a6474be
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a2957888253826845ea9a941ad7fce8fd7a2ed7f
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="low-latency-scenario-optimizations"></a><span data-ttu-id="11d96-102">Optimizaciones de escenario de baja latencia</span><span class="sxs-lookup"><span data-stu-id="11d96-102">Low-Latency Scenario Optimizations</span></span>
<span data-ttu-id="11d96-103">De forma predeterminada, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] está optimizado para rendimiento en lugar de baja latencia.</span><span class="sxs-lookup"><span data-stu-id="11d96-103">By default, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is optimized for throughput rather than low-latency.</span></span> <span data-ttu-id="11d96-104">Las siguientes optimizaciones se aplicaron a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para el escenario de prueba usado para esta guía.</span><span class="sxs-lookup"><span data-stu-id="11d96-104">The following optimizations were applied to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] for the test scenario used for this guide.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="11d96-105">Estas optimizaciones mejorarán la latencia, pero pueden hacerlo con algún impacto en el rendimiento global.</span><span class="sxs-lookup"><span data-stu-id="11d96-105">These optimizations will improve latency but may do so at some cost to overall throughput.</span></span>  
  
## <a name="increase-the-biztalk-server-host-internal-message-queue-size"></a><span data-ttu-id="11d96-106">Aumentar el tamaño de la cola de mensajes interna de host de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="11d96-106">Increase the BizTalk Server host internal message queue size</span></span>  
 <span data-ttu-id="11d96-107">Cada host de BizTalk tiene su propia cola en memoria interna.</span><span class="sxs-lookup"><span data-stu-id="11d96-107">Each BizTalk host has its own internal in-memory queue.</span></span> <span data-ttu-id="11d96-108">Aumentar el tamaño de esta cola desde el valor predeterminado de 100 y 1000 para mejorar el rendimiento para un escenario de baja latencia.</span><span class="sxs-lookup"><span data-stu-id="11d96-108">Increase the size of this queue from the default value of 100 to 1000 to improve performance for a low-latency scenario.</span></span> <span data-ttu-id="11d96-109">Para obtener más información acerca de cómo modificar el valor del tamaño de cola de mensajes interna, consulte "Cómo modificar la configuración predeterminada de Host limitación" en la [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] ayuda en [http://go.microsoft.com/fwlink/?LinkID=120225](http://go.microsoft.com/fwlink/?LinkID=120225).</span><span class="sxs-lookup"><span data-stu-id="11d96-109">For more information about modifying the value of the internal message queue size, see “How to Modify the Default Host Throttling Settings” in the [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] help at [http://go.microsoft.com/fwlink/?LinkID=120225](http://go.microsoft.com/fwlink/?LinkID=120225).</span></span>  
  
## <a name="reduce-the-maxreceiveinterval-value-in-the-admserviceclass-table-of-the-biztalk-server-management-database"></a><span data-ttu-id="11d96-110">Reduzca el valor de MaxReceiveInterval en la tabla adm_ServiceClass de la base de datos de administración de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="11d96-110">Reduce the MaxReceiveInterval value in the adm_ServiceClass table of the BizTalk Server management database</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="11d96-111">utiliza un mecanismo de sondeo para recibir mensajes desde sus colas de host en el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="11d96-111"> uses a polling mechanism to receive messages from its host queues in the Messagebox.</span></span> <span data-ttu-id="11d96-112">El **MaxReceiveInterval** valor en la tabla adm_ServiceClass de la base de datos de administración de BizTalk (BizTalkMgmtDb) es el valor máximo en milisegundos que cada instancia de host de BizTalk esperará hasta que sondea el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="11d96-112">The **MaxReceiveInterval** value in the adm_ServiceClass table of the BizTalk Management (BizTalkMgmtDb) database is the maximum value in milliseconds that each BizTalk host instance will wait until it polls the MessageBox.</span></span> <span data-ttu-id="11d96-113">La tabla adm_ServiceClass contiene un registro para los siguientes tipos de servicio:</span><span class="sxs-lookup"><span data-stu-id="11d96-113">The adm_ServiceClass table contains a record for the following service types:</span></span>  
  
-   <span data-ttu-id="11d96-114">**XLANG/S** : para las instancias de host de orquestación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="11d96-114">**XLANG/S** – for BizTalk orchestration host instances</span></span>  
  
-   <span data-ttu-id="11d96-115">**Mensajería InProcess** para instancias de host in-process</span><span class="sxs-lookup"><span data-stu-id="11d96-115">**Messaging InProcess** – for in-process host instances</span></span>  
  
-   <span data-ttu-id="11d96-116">**MSMQT** para instancias de host de adaptador MSMQT</span><span class="sxs-lookup"><span data-stu-id="11d96-116">**MSMQT** – for MSMQT adapter host instances</span></span>  
  
-   <span data-ttu-id="11d96-117">**Messaging Isolated** : para fuera de instancias de host de proceso, utilizados HTTP, SOAP y cierto WCF controladores del adaptador de recepción</span><span class="sxs-lookup"><span data-stu-id="11d96-117">**Messaging Isolated** – for out of process host instances, used by the HTTP, SOAP, and certain WCF receive adapter handlers</span></span>  
  
 <span data-ttu-id="11d96-118">De forma predeterminada, este valor se establece en 500 milisegundos, que está optimizada para el rendimiento en lugar de baja latencia.</span><span class="sxs-lookup"><span data-stu-id="11d96-118">By default, this value is set to 500 milliseconds, which is optimized for throughput rather than low-latency.</span></span> <span data-ttu-id="11d96-119">En determinados escenarios, la latencia puede mejorarse si reduce este valor.</span><span class="sxs-lookup"><span data-stu-id="11d96-119">In certain scenarios, latency can be improved by reducing this value.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="11d96-120">Cambios en este valor afecta a todas las instancias del tipo de servicio asociado, por lo tanto, tenga cuidado para evaluar el impacto en todas las instancias de host antes de cambiar este valor.</span><span class="sxs-lookup"><span data-stu-id="11d96-120">Changes to this value impact all instances of the associated service type, therefore, take care to evaluate the impact on all host instances before changing this value.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="11d96-121">Este valor solo se utiliza si el cuadro de mensajes no tiene ningún mensaje sin procesar restante.</span><span class="sxs-lookup"><span data-stu-id="11d96-121">This value is only used if the Messagebox has no remaining unprocessed messages.</span></span> <span data-ttu-id="11d96-122">Si no hay un registro de mensajes no procesados en el cuadro de mensajes pendientes constante [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] intentará procesar los mensajes sin tener que esperar en el retraso de sondeo.</span><span class="sxs-lookup"><span data-stu-id="11d96-122">If there is a constant backlog of unprocessed messages in the Messagebox, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will attempt to process the messages without waiting on the polling delay.</span></span> <span data-ttu-id="11d96-123">Una vez procesados todos los mensajes, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] empezará a sondear con el valor especificado para MaxReceiveInterval.</span><span class="sxs-lookup"><span data-stu-id="11d96-123">After all messages are processed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will begin polling using the value specified for MaxReceiveInterval.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="11d96-124">En un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] entorno con una proporción alta de instancias de host para instancias de base de datos de cuadro de mensajes, reduciendo así el valor para MaxReceiveInterval puede provocar el uso excesivo de CPU en el equipo de SQL Server que aloja la instancia de base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="11d96-124">In a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment with a high ratio of host instances to Messagebox database instances, decreasing the value for MaxReceiveInterval may cause excessive CPU utilization on the SQL Server computer that houses the Messagebox database instance.</span></span> <span data-ttu-id="11d96-125">Por ejemplo, si se reduce la MaxReceiveInterval en un valor bajo (\< 100) en un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] entorno con un único cuadro de mensajes e instancias de host de > 50, el uso de CPU en el servidor SQL Server puede aumentando por encima del 50%.</span><span class="sxs-lookup"><span data-stu-id="11d96-125">For example, if the MaxReceiveInterval is decreased to a low value (\< 100) in a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment with a single Messagebox and > 50 host instances, CPU utilization on the SQL Server may climb above 50%.</span></span> <span data-ttu-id="11d96-126">Este fenómeno puede producirse porque la sobrecarga asociada a sondear continuamente las colas de host es significativa.</span><span class="sxs-lookup"><span data-stu-id="11d96-126">This phenomenon can occur because the overhead associated with continually polling host queues is significant.</span></span> <span data-ttu-id="11d96-127">Si reduce MaxReceiveInterval en un valor menor que 100, también debe evaluar el impacto que tiene en uso de CPU del equipo con SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11d96-127">If you reduce MaxReceiveInterval to a value less than 100, you should also evaluate the impact that this has on your SQL Server computer’s CPU utilization.</span></span>