---
title: Escenarios de baja latencia Optimizations1 | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: cd2a891a-ee4b-4542-b3ce-434e2a6474be
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ed309a8ea9d6728dc4e0e653969f456e69f6eb34
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36986061"
---
# <a name="low-latency-scenario-optimizations"></a><span data-ttu-id="269b6-102">Optimizaciones de escenarios de baja latencia</span><span class="sxs-lookup"><span data-stu-id="269b6-102">Low-Latency Scenario Optimizations</span></span>
<span data-ttu-id="269b6-103">De forma predeterminada, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] está optimizado para rendimiento en lugar de baja latencia.</span><span class="sxs-lookup"><span data-stu-id="269b6-103">By default, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is optimized for throughput rather than low-latency.</span></span> <span data-ttu-id="269b6-104">Las siguientes optimizaciones se aplicaron a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para el escenario de prueba usado en esta guía.</span><span class="sxs-lookup"><span data-stu-id="269b6-104">The following optimizations were applied to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] for the test scenario used for this guide.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="269b6-105">Estas optimizaciones mejorarán la latencia, pero pueden hacerlo en detrimento el rendimiento global.</span><span class="sxs-lookup"><span data-stu-id="269b6-105">These optimizations will improve latency but may do so at some cost to overall throughput.</span></span>  
  
## <a name="increase-the-biztalk-server-host-internal-message-queue-size"></a><span data-ttu-id="269b6-106">Aumentar el tamaño de cola de mensaje interno del host de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="269b6-106">Increase the BizTalk Server host internal message queue size</span></span>  
 <span data-ttu-id="269b6-107">Cada host de BizTalk tiene su propia cola en memoria interna.</span><span class="sxs-lookup"><span data-stu-id="269b6-107">Each BizTalk host has its own internal in-memory queue.</span></span> <span data-ttu-id="269b6-108">Aumentar el tamaño de esta cola desde el valor predeterminado de 100 y 1000 para mejorar el rendimiento para un escenario de baja latencia.</span><span class="sxs-lookup"><span data-stu-id="269b6-108">Increase the size of this queue from the default value of 100 to 1000 to improve performance for a low-latency scenario.</span></span> <span data-ttu-id="269b6-109">Para obtener más información acerca de cómo modificar el valor de tamaño de la cola de mensajes interna, consulte "Cómo modificar la configuración predeterminada de Host de limitación" en la Ayuda de BizTalk Server en [ http://go.microsoft.com/fwlink/?LinkID=120225 ](http://go.microsoft.com/fwlink/?LinkID=120225).</span><span class="sxs-lookup"><span data-stu-id="269b6-109">For more information about modifying the value of the internal message queue size, see “How to Modify the Default Host Throttling Settings” in the BizTalk Server help at [http://go.microsoft.com/fwlink/?LinkID=120225](http://go.microsoft.com/fwlink/?LinkID=120225).</span></span>  
  
## <a name="reduce-the-maxreceiveinterval-value-in-the-admserviceclass-table-of-the-biztalk-server-management-database"></a><span data-ttu-id="269b6-110">Reduzca el valor de MaxReceiveInterval en la tabla adm_ServiceClass de la base de datos de administración de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="269b6-110">Reduce the MaxReceiveInterval value in the adm_ServiceClass table of the BizTalk Server management database</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="269b6-111"> usa un mecanismo de sondeo para recibir mensajes desde las colas de host en el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="269b6-111"> uses a polling mechanism to receive messages from its host queues in the Messagebox.</span></span> <span data-ttu-id="269b6-112">El **MaxReceiveInterval** valor en la tabla adm_ServiceClass de la base de datos de administración de BizTalk (BizTalkMgmtDb) es el valor máximo en milisegundos que cada instancia de host de BizTalk esperará hasta que se sondea el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="269b6-112">The **MaxReceiveInterval** value in the adm_ServiceClass table of the BizTalk Management (BizTalkMgmtDb) database is the maximum value in milliseconds that each BizTalk host instance will wait until it polls the MessageBox.</span></span> <span data-ttu-id="269b6-113">La tabla adm_ServiceClass contiene un registro para los siguientes tipos de servicio:</span><span class="sxs-lookup"><span data-stu-id="269b6-113">The adm_ServiceClass table contains a record for the following service types:</span></span>  
  
- <span data-ttu-id="269b6-114">**XLANG/S** : para las instancias de host de orquestación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="269b6-114">**XLANG/S** – for BizTalk orchestration host instances</span></span>  
  
- <span data-ttu-id="269b6-115">**Mensajería InProcess** : para las instancias de host in-process</span><span class="sxs-lookup"><span data-stu-id="269b6-115">**Messaging InProcess** – for in-process host instances</span></span>  
  
- <span data-ttu-id="269b6-116">**MSMQT** : para las instancias de host de adaptador MSMQT</span><span class="sxs-lookup"><span data-stu-id="269b6-116">**MSMQT** – for MSMQT adapter host instances</span></span>  
  
- <span data-ttu-id="269b6-117">**Messaging Isolated** : para fuera de las instancias de host de proceso, usa HTTP, SOAP y cierto WCF controladores del adaptador de recepción</span><span class="sxs-lookup"><span data-stu-id="269b6-117">**Messaging Isolated** – for out of process host instances, used by the HTTP, SOAP, and certain WCF receive adapter handlers</span></span>  
  
  <span data-ttu-id="269b6-118">De forma predeterminada, este valor se establece en 500 milisegundos, que está optimizado para rendimiento en lugar de baja latencia.</span><span class="sxs-lookup"><span data-stu-id="269b6-118">By default, this value is set to 500 milliseconds, which is optimized for throughput rather than low-latency.</span></span> <span data-ttu-id="269b6-119">En determinados escenarios, se puede mejorar la latencia al reducir este valor.</span><span class="sxs-lookup"><span data-stu-id="269b6-119">In certain scenarios, latency can be improved by reducing this value.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="269b6-120">Los cambios realizados en este valor afecta todas las instancias del tipo de servicio asociadas, por lo tanto, tenga cuidado para evaluar el impacto en todas las instancias de host antes de cambiar este valor.</span><span class="sxs-lookup"><span data-stu-id="269b6-120">Changes to this value impact all instances of the associated service type, therefore, take care to evaluate the impact on all host instances before changing this value.</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="269b6-121">Este valor solo se usa si el cuadro de mensajes no tiene ningún mensaje sin transformar restante.</span><span class="sxs-lookup"><span data-stu-id="269b6-121">This value is only used if the Messagebox has no remaining unprocessed messages.</span></span> <span data-ttu-id="269b6-122">Si hay un trabajo pendiente constante de mensajes no procesados en el cuadro de mensajes, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] intentará procesar los mensajes sin tener que esperar en el retraso de sondeo.</span><span class="sxs-lookup"><span data-stu-id="269b6-122">If there is a constant backlog of unprocessed messages in the Messagebox, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will attempt to process the messages without waiting on the polling delay.</span></span> <span data-ttu-id="269b6-123">Una vez procesados todos los mensajes, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] empezará a sondear con el valor especificado para MaxReceiveInterval.</span><span class="sxs-lookup"><span data-stu-id="269b6-123">After all messages are processed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will begin polling using the value specified for MaxReceiveInterval.</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="269b6-124">En un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] entorno con una alta proporción de instancias de host para instancias de base de datos de cuadro de mensajes, reducir el valor de MaxReceiveInterval provocaría un uso excesivo de CPU en el equipo de SQL Server que aloja la instancia de base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="269b6-124">In a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment with a high ratio of host instances to Messagebox database instances, decreasing the value for MaxReceiveInterval may cause excessive CPU utilization on the SQL Server computer that houses the Messagebox database instance.</span></span> <span data-ttu-id="269b6-125">Por ejemplo, si se reduce la MaxReceiveInterval en un valor bajo (\< 100) en un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] entorno con un único cuadro de mensajes y las instancias de host > 50, el uso de CPU en el servidor SQL Server puede trepar superior al 50%.</span><span class="sxs-lookup"><span data-stu-id="269b6-125">For example, if the MaxReceiveInterval is decreased to a low value (\< 100) in a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment with a single Messagebox and > 50 host instances, CPU utilization on the SQL Server may climb above 50%.</span></span> <span data-ttu-id="269b6-126">Este fenómeno puede producirse porque la sobrecarga asociada a sondear continuamente las colas de host es significativa.</span><span class="sxs-lookup"><span data-stu-id="269b6-126">This phenomenon can occur because the overhead associated with continually polling host queues is significant.</span></span> <span data-ttu-id="269b6-127">Si reduce MaxReceiveInterval en un valor menor que 100, también debe evaluar el impacto que esto tiene sobre el uso de CPU de su equipo de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="269b6-127">If you reduce MaxReceiveInterval to a value less than 100, you should also evaluate the impact that this has on your SQL Server computer’s CPU utilization.</span></span>