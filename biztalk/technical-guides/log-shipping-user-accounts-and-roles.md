---
title: Las cuentas de usuario y funciones de trasvase de registros | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2056ea90-5e9f-4501-95d6-18c905db4023
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b19a7d7c87289e07c7ac7a26bacd0c96f9090c9e
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="log-shipping-user-accounts-and-roles"></a><span data-ttu-id="5dcc3-102">Roles y cuentas de usuario de trasvase de registros</span><span class="sxs-lookup"><span data-stu-id="5dcc3-102">Log Shipping User Accounts and Roles</span></span>
[!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]<span data-ttu-id="5dcc3-103">trasvase de registros está controlado por un trabajo del Agente SQL Server para automatizar el proceso de restauración de registros y copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-103"> log shipping is driven by a SQL Server Agent job to automate the process of restoring backups and logs.</span></span> <span data-ttu-id="5dcc3-104">Permisos incorrectos pueden hacer que las operaciones de restauración realizadas por [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] trasvase de registros para un error.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-104">Incorrect permissions can cause restore operations performed by [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] log shipping to fail.</span></span> <span data-ttu-id="5dcc3-105">La cuenta de usuario configurada para restaurar las bases de datos debe tener acceso a la instancia de base de datos de producción que hospeda la base de datos de administración de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-105">The user account configured to restore databases must have access to the production database instance that hosts the BizTalk Management database.</span></span> <span data-ttu-id="5dcc3-106">En la mayoría de los casos esto significa que la cuenta de servicio para el trabajo de agente SQL Server impulsar el [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] trabajo de trasvase de registros en la recuperación ante desastres [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instancia requiere un inicio de sesión y permisos en la instancia de base de datos de producción que hospeda el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]base de datos de administración.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-106">In most cases this means that the service account for the SQL Server Agent job driving the [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] log shipping job on the disaster recovery [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance requires a login and permissions on the production database instance that hosts the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] management database.</span></span> <span data-ttu-id="5dcc3-107">Se supone que la cuenta de servicio del Agente SQL Server está configurada como el propietario del trabajo.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-107">This assumes that the SQL Server Agent service account is configured as the job owner.</span></span>  
  
 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]<span data-ttu-id="5dcc3-108">incluye una función de SQL Server denominada BTS_BACKUP_USERS para que la cuenta de usuario configurada para restaurar las bases de datos no requieren el permiso de los administradores del sistema de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-108"> includes a SQL Server role named BTS_BACKUP_USERS so that the user account configured to restore databases does not require SQL Server System Administrators permission.</span></span>  
  
 <span data-ttu-id="5dcc3-109">Al configurar la cuenta de usuario que se llevará a cabo las operaciones de restauración de base de datos como parte de [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] trasvase de registros, compruebe lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="5dcc3-109">When configuring the user account that will perform database restore operations as part of [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] log shipping, please verify the following:</span></span>  
  
-   <span data-ttu-id="5dcc3-110">Configurar el servicio Agente SQL Server para ejecutarse bajo una cuenta de dominio con un usuario asignado configurado en [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio (en **seguridad**, **inicios de sesión**) en cada [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instancia hosts [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos restaurados la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] trabajos de trasvase de registro.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-110">Configure the SQL Server Agent service to run under a domain account with a mapped user configured in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio (in **Security**, **Logins**) on each [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance that hosts [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases restored by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] log shipping jobs.</span></span>  
  
-   <span data-ttu-id="5dcc3-111">Configurar un [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] inicio de sesión de cuenta para este usuario y asignar al usuario a la función SQL BTS_BACKUP_USERS de BizTalk en cada servidor.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-111">Configure a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] login account for this user, and assign this user to the BizTalk BTS_BACKUP_USERS SQL role on each server.</span></span>  
  
-   <span data-ttu-id="5dcc3-112">Asigne este usuario a la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] rol de los administradores del sistema en el equipo que ejecuta [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] que aloja el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de datos de administración.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-112">Assign this user to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] System Administrators role on the computer running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] that houses the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] management database.</span></span>  
  
-   <span data-ttu-id="5dcc3-113">La cuenta que realiza la copia de seguridad y restauración de operaciones deben tener de lectura y acceso de escritura a la ruta UNC compartan donde se crean los archivos de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="5dcc3-113">The account that performs backup and restore operations must have Read and Write access to the UNC share where backup files are created.</span></span>