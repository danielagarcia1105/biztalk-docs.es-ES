---
title: 'Lista de comprobación: Medir el rendimiento en Hyper-V | Documentos de Microsoft'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f32c95f4-a4eb-412b-9fa7-140e80b85e5a
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6aefa415bec4b996fa7b5cd4689c48f834dc36a2
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/28/2018
---
# <a name="checklist-measuring-performance-on-hyper-v"></a><span data-ttu-id="4bed3-102">Lista de comprobación: Medir el rendimiento en Hyper-V</span><span class="sxs-lookup"><span data-stu-id="4bed3-102">Checklist: Measuring Performance on Hyper-V</span></span>
<span data-ttu-id="4bed3-103">Aunque la mayoría de los principios de analizar el rendimiento de un sistema operativo instalado en un rendimiento de la máquina virtual de Hyper-V es los mismos que analizar el rendimiento de un sistema operativo instalado en un equipo físico, muchos de los métodos de colección son diferentes.</span><span class="sxs-lookup"><span data-stu-id="4bed3-103">While most of the principles of analyzing performance of a guest operating system installed on a Hyper-V virtual machine performance are the same as analyzing the performance of an operating system installed on a physical machine, many of the collection methods are different.</span></span> <span data-ttu-id="4bed3-104">Las secciones siguientes deben usarse como una referencia rápida al evaluar el rendimiento de la solución de BizTalk Server que se ejecuta en un sistema operativo instalado en una máquina virtual de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4bed3-104">The sections below should be used as a quick reference when evaluating performance of your BizTalk Server solution running on a guest operating system installed on a Hyper-V virtual machine.</span></span>  
  
## <a name="measuring-disk-io-performance"></a><span data-ttu-id="4bed3-105">Medir el rendimiento de E/S de disco</span><span class="sxs-lookup"><span data-stu-id="4bed3-105">Measuring Disk I/O Performance</span></span>  
 <span data-ttu-id="4bed3-106">Utilice los siguientes contadores del monitor de rendimiento para medir el rendimiento de E/S de disco en un sistema operativo instalado en una máquina virtual de Hyper-V:</span><span class="sxs-lookup"><span data-stu-id="4bed3-106">Use the following performance monitor counters to measure disk I/O performance on a guest operating system installed on a Hyper-V virtual machine:</span></span>  
  
|<span data-ttu-id="4bed3-107">Paso</span><span class="sxs-lookup"><span data-stu-id="4bed3-107">Step</span></span>|<span data-ttu-id="4bed3-108">Referencia</span><span class="sxs-lookup"><span data-stu-id="4bed3-108">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="4bed3-109">**Medir la latencia de disco en un sistema operativo de host de Hyper-V** : el mejor indicador inicial del rendimiento de disco en un sistema operativo de host de Hyper-V se obtiene mediante el uso de la Bandeja de entrada de "\Logical disco (*) \Avg. Segundos/lectura de disco"y" disco \Logical (\*) \Avg. Contadores del monitor de rendimiento de disco en segundos/escritura".</span><span class="sxs-lookup"><span data-stu-id="4bed3-109">**Measure disk latency on a Hyper-V host operating system** – The best initial indicator of disk performance on a Hyper-V host operating system is obtained by using the “\Logical Disk(*)\Avg. Disk sec/Read” and “\Logical Disk(\*)\Avg. Disk sec/Write” performance monitor counters.</span></span> <span data-ttu-id="4bed3-110">Estos contadores del monitor de rendimiento miden la cantidad de tiempo que leen y escriben tardan las operaciones para responder al sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="4bed3-110">These performance monitor counters measure the amount of time that read and write operations take to respond to the operating system.</span></span> <span data-ttu-id="4bed3-111">Como regla general, los tiempos de respuesta promedio mayores que 15 ms se consideran deficiente.</span><span class="sxs-lookup"><span data-stu-id="4bed3-111">As a general rule of thumb, average response times greater than 15ms are considered sub-optimal.</span></span> <span data-ttu-id="4bed3-112">Como regla general, los tiempos de respuesta promedio mayores que 15 ms se consideran deficiente.</span><span class="sxs-lookup"><span data-stu-id="4bed3-112">As a general rule of thumb, average response times greater than 15ms are considered sub-optimal.</span></span> <span data-ttu-id="4bed3-113">Esto se basa en tiempo de una sola unidad de disco de 7200 RPM sin caché de búsqueda típica.</span><span class="sxs-lookup"><span data-stu-id="4bed3-113">This is based on the typical seek time of a single 7200 RPM disk drive without cache.</span></span> <span data-ttu-id="4bed3-114">Se recomienda el uso de disco lógico frente a los contadores del monitor de rendimiento de disco físico porque servicios y aplicaciones de Windows usan las unidades lógicas que se representan como letras de unidad en el que puede ser el disco físico (LUN) que se presentan en el sistema operativo consta de varias unidades de disco físicas en una matriz de discos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-114">The use of logical disk versus physical disk performance monitor counters is recommended because Windows applications and services utilize logical drives represented as drive letters wherein the physical disk (LUN) presented to the operating system can be comprised of multiple physical disk drives in a disk array.</span></span> <span data-ttu-id="4bed3-115">Utilice la siguiente regla general al medir la latencia de disco en el sistema de operativo de host de Hyper-V mediante la \Logical disco (\*) \Avg. Disco a disco/seg o \Logical (\*) \Avg. Contadores de monitor de rendimiento de segundos/escritura de disco:</span><span class="sxs-lookup"><span data-stu-id="4bed3-115">Use the following rule of thumb when measuring disk latency on the Hyper-V host operating system using the \Logical Disk(\*)\Avg. Disk sec/Read or \Logical Disk(\*)\Avg. Disk sec/Write performance monitor counters:</span></span><br /><br /> <span data-ttu-id="4bed3-116">Esto se basa en tiempo de una sola unidad de disco de 7200 RPM sin caché de búsqueda típica.</span><span class="sxs-lookup"><span data-stu-id="4bed3-116">This is based on the typical seek time of a single 7200 RPM disk drive without cache.</span></span> <span data-ttu-id="4bed3-117">Se recomienda el uso de disco lógico frente a los contadores del monitor de rendimiento de disco físico porque servicios y aplicaciones de Windows usan las unidades lógicas que se representan como letras de unidad en el que puede ser el disco físico (LUN) que se presentan en el sistema operativo consta de varias unidades de disco físicas en una matriz de discos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-117">The use of logical disk versus physical disk performance monitor counters is recommended because Windows applications and services utilize logical drives represented as drive letters wherein the physical disk (LUN) presented to the operating system can be comprised of multiple physical disk drives in a disk array.</span></span> <span data-ttu-id="4bed3-118">Utilice la siguiente regla general al medir la latencia de disco en el sistema de operativo de host de Hyper-V mediante la \Logical disco (\*) \Avg. Disco a disco/seg o \Logical (\*) \Avg. Contadores de monitor de rendimiento de segundos/escritura de disco:</span><span class="sxs-lookup"><span data-stu-id="4bed3-118">Use the following rule of thumb when measuring disk latency on the Hyper-V host operating system using the \Logical Disk(\*)\Avg. Disk sec/Read or \Logical Disk(\*)\Avg. Disk sec/Write performance monitor counters:</span></span><br /><br /> <span data-ttu-id="4bed3-119">-1 ms para 15 ms = correcto</span><span class="sxs-lookup"><span data-stu-id="4bed3-119">-   1ms to 15ms  = Healthy</span></span><br /><span data-ttu-id="4bed3-120">-15 ms a 25 ms = advertencia o el Monitor</span><span class="sxs-lookup"><span data-stu-id="4bed3-120">-   15ms to 25ms = Warning or Monitor</span></span><br /><span data-ttu-id="4bed3-121">-26ms o mayor = crítico, se verá afectado negativamente el rendimiento **Nota:** discos físicos instalados en un entorno no virtualizado ofrecen un mejor rendimiento que los discos que se tiene acceso a través de un sistema operativo de host de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4bed3-121">-   26ms or greater = Critical, performance will be adversely affected **Note:**  Physical disks installed on a non-virtualized environment offer better performance than disks accessed through a Hyper-V host operating system.</span></span> <span data-ttu-id="4bed3-122">Si el rendimiento de disco es fundamental para el rendimiento general de la aplicación, considere la posibilidad de hospedaje discos en solo un hardware físico.</span><span class="sxs-lookup"><span data-stu-id="4bed3-122">If disk performance is absolutely critical to the overall performance of your application, consider hosting disks on physical hardware only.</span></span> <span data-ttu-id="4bed3-123">**Nota:** al evaluar el rendimiento de E/S de disco, asegúrese de que configura el software antivirus para excluir el examen de las particiones de disco que se va a evaluar.</span><span class="sxs-lookup"><span data-stu-id="4bed3-123">**Note:**  When evaluating disk I/O performance, ensure that you configure antivirus software to exclude scanning of any disk partitions that are being evaluated.</span></span> <span data-ttu-id="4bed3-124">Detección de virus introduce una sobrecarga que puede afectar negativamente al rendimiento y resultados de pruebas de sesgado.</span><span class="sxs-lookup"><span data-stu-id="4bed3-124">Antivirus scanning introduces overhead that can negatively impact performance and skew test results.</span></span> <br /><br /> <span data-ttu-id="4bed3-125">**Medir la latencia de disco en sistemas operativos invitados** : tiempos de respuesta de los discos usados por los sistemas operativos invitados se pueden medir con los mismos contadores de monitor de rendimiento usados para medir los tiempos de respuesta de los discos usados por el host de Hyper-V funciona sistema.</span><span class="sxs-lookup"><span data-stu-id="4bed3-125">**Measure disk latency on guest operating systems** – Response times of the disks used by the guest operating systems can be measured using the same performance monitor counters used to measure response times of the disks used by the Hyper-V host operating system.</span></span>|<span data-ttu-id="4bed3-126">Para obtener más información sobre el análisis de rendimiento de disco, vea los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="4bed3-126">For more information about disk performance analysis, see the following resources:</span></span><br /><br /> <span data-ttu-id="4bed3-127">-Sección "Sobrecarga de rendimiento de SQL Server de ejecución en Hyper-V" de "Ejecuta SQL Server 2008 in a Hyper-V entorno – Best Practices and Performance Considerations" notas del producto en [ http://go.microsoft.com/fwlink/?LinkId=144622 ](http://go.microsoft.com/fwlink/?LinkId=144622).</span><span class="sxs-lookup"><span data-stu-id="4bed3-127">-   “Performance Overhead of Running SQL Server in Hyper-V” section of “Running SQL Server 2008 in a Hyper-V Environment – Best Practices and Performance Considerations” whitepaper at [http://go.microsoft.com/fwlink/?LinkId=144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span></span><br /><span data-ttu-id="4bed3-128">-Eviten Disk-Bound Problems en [ http://go.microsoft.com/fwlink/?LinkId=120947 ](http://go.microsoft.com/fwlink/?LinkId=120947).</span><span class="sxs-lookup"><span data-stu-id="4bed3-128">-   Ruling Out Disk-Bound Problems at [http://go.microsoft.com/fwlink/?LinkId=120947](http://go.microsoft.com/fwlink/?LinkId=120947).</span></span><br /><span data-ttu-id="4bed3-129">-Procedimientos recomendados de E/S previas a la implementación de SQL Server en [ http://go.microsoft.com/fwlink/?LinkId=120948 ](http://go.microsoft.com/fwlink/?LinkId=120948).</span><span class="sxs-lookup"><span data-stu-id="4bed3-129">-   SQL Server Predeployment I/O Best Practices at [http://go.microsoft.com/fwlink/?LinkId=120948](http://go.microsoft.com/fwlink/?LinkId=120948).</span></span><br /><span data-ttu-id="4bed3-130">-Sección "Cuellos de botella de E/S" de la "solución de problemas de rendimiento en SQL Server 2008" notas del producto disponibles en [ http://go.microsoft.com/fwlink/?LinkID=202135 ](http://go.microsoft.com/fwlink/?LinkID=202135).</span><span class="sxs-lookup"><span data-stu-id="4bed3-130">-   “I/O Bottlenecks” section of the “Troubleshooting Performance Problems in SQL Server 2008” whitepaper available at [http://go.microsoft.com/fwlink/?LinkID=202135](http://go.microsoft.com/fwlink/?LinkID=202135).</span></span><br /><span data-ttu-id="4bed3-131">: Cómo identificar un cuello de botella de rendimiento de disco mediante la herramienta de Microsoft Server Performance Advisor (SPA) en [ http://go.microsoft.com/fwlink/?LinkID=98096 ](http://go.microsoft.com/fwlink/?LinkID=98096).</span><span class="sxs-lookup"><span data-stu-id="4bed3-131">-   How to Identify a Disk Performance Bottleneck Using the Microsoft Server Performance Advisor (SPA) Tool at [http://go.microsoft.com/fwlink/?LinkID=98096](http://go.microsoft.com/fwlink/?LinkID=98096).</span></span>|  
  
## <a name="measuring-memory-performance"></a><span data-ttu-id="4bed3-132">Medir el rendimiento de memoria</span><span class="sxs-lookup"><span data-stu-id="4bed3-132">Measuring Memory Performance</span></span>  
 <span data-ttu-id="4bed3-133">Utilice los siguientes contadores del monitor de rendimiento para medir el impacto de la memoria disponible en el rendimiento de un sistema operativo instalado en una máquina virtual de Hyper-V:</span><span class="sxs-lookup"><span data-stu-id="4bed3-133">Use the following performance monitor counters to measure the impact of available memory on the performance of a guest operating system installed on a Hyper-V virtual machine:</span></span>  
  
|<span data-ttu-id="4bed3-134">Paso</span><span class="sxs-lookup"><span data-stu-id="4bed3-134">Step</span></span>|<span data-ttu-id="4bed3-135">Referencia</span><span class="sxs-lookup"><span data-stu-id="4bed3-135">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="4bed3-136">**Medir la memoria disponible en el sistema operativo de host de Hyper-V** : se puede determinar la cantidad de memoria física disponible para el sistema operativo de host de Hyper-V mediante la supervisión del contador del monitor de rendimiento "\Memory\Available MBytes" en el equipo físico.</span><span class="sxs-lookup"><span data-stu-id="4bed3-136">**Measure available memory on the Hyper-V host operating system** – The amount of physical memory available to the Hyper-V host operating system can be determined by monitoring the “\Memory\Available MBytes” performance monitor counter on the physical computer.</span></span> <span data-ttu-id="4bed3-137">Este contador indica la cantidad de memoria física libre disponible para el sistema operativo host.</span><span class="sxs-lookup"><span data-stu-id="4bed3-137">This counter reports the amount of free physical memory available to the host operating system.</span></span> <span data-ttu-id="4bed3-138">Utilice las siguientes reglas básicas al evaluar la memoria física disponible para el sistema operativo host:</span><span class="sxs-lookup"><span data-stu-id="4bed3-138">Use the following rules of thumb when evaluating available physical memory available to the host operating system:</span></span><br /><br /> <ul><li><span data-ttu-id="4bed3-139">**\Memory\Available Mbytes** – MBytes disponibles mide la cantidad de memoria física disponible para procesos que se ejecutan en el equipo, como un porcentaje de memoria física instalada en el equipo.</span><span class="sxs-lookup"><span data-stu-id="4bed3-139">**\Memory\Available Mbytes** – Available MBytes measures the amount of physical memory available to processes running on the computer, as a percentage of physical memory installed on the computer.</span></span> <span data-ttu-id="4bed3-140">Las siguientes directrices se aplican al medir el valor de este contador del monitor de rendimiento:</span><span class="sxs-lookup"><span data-stu-id="4bed3-140">The following guidelines apply when measuring the value of this performance monitor counter:</span></span><br /><br /> <ul><li><span data-ttu-id="4bed3-141">50% de memoria libre disponible o más = correcto</span><span class="sxs-lookup"><span data-stu-id="4bed3-141">50% of free memory available or more = Healthy</span></span></li><li><span data-ttu-id="4bed3-142">25% de memoria libre disponible = Monitor</span><span class="sxs-lookup"><span data-stu-id="4bed3-142">25% of free memory available = Monitor</span></span></li><li><span data-ttu-id="4bed3-143">10% de memoria libre disponible = advertencia</span><span class="sxs-lookup"><span data-stu-id="4bed3-143">10% of free memory available = Warning</span></span></li><li><span data-ttu-id="4bed3-144">Menos del 5% de memoria libre disponible = crítico, se verá afectado negativamente el rendimiento</span><span class="sxs-lookup"><span data-stu-id="4bed3-144">Less than 5% of free memory available = Critical, performance will be adversely affected</span></span></li></ul></li><li><span data-ttu-id="4bed3-145">**\Memory\Pages/sec** : este contador del monitor de rendimiento mide la velocidad a la que las páginas son de lectura o escritas en disco para resolver errores de página severos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-145">**\Memory\Pages/sec** – This performance monitor counter measures the rate at which pages are read from or written to disk to resolve hard page faults.</span></span> <span data-ttu-id="4bed3-146">Para resolver errores severos de página, el sistema operativo debe intercambiar el contenido de la memoria en el disco, lo que afecta negativamente al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="4bed3-146">To resolve hard page faults, the operating system must swap the contents of memory to disk, which negatively impacts performance.</span></span> <span data-ttu-id="4bed3-147">Un gran número de páginas por segundo en correlación con poca memoria física disponible puede indicar una falta de memoria física.</span><span class="sxs-lookup"><span data-stu-id="4bed3-147">A high number of pages per second in correlation with low available physical memory may indicate a lack of physical memory.</span></span> <span data-ttu-id="4bed3-148">Las siguientes directrices se aplican al medir el valor de este contador del monitor de rendimiento:</span><span class="sxs-lookup"><span data-stu-id="4bed3-148">The following guidelines apply when measuring the value of this performance monitor counter:</span></span><br /><br /> <ul><li><span data-ttu-id="4bed3-149">Menos de 500 = correcto</span><span class="sxs-lookup"><span data-stu-id="4bed3-149">Less than 500 = Healthy</span></span></li><li><span data-ttu-id="4bed3-150">500 - 1000 = monitor o precaución</span><span class="sxs-lookup"><span data-stu-id="4bed3-150">500 - 1000 = Monitor or Caution</span></span></li><li><span data-ttu-id="4bed3-151">Mayor que 1000 = crítico, se verá afectado negativamente el rendimiento</span><span class="sxs-lookup"><span data-stu-id="4bed3-151">Greater than 1000 = Critical, performance will be adversely affected</span></span></li></ul></li></ul><br /> <span data-ttu-id="4bed3-152">**Medir la memoria disponible en el sistema operativo invitado** : memoria que está disponible para los sistemas operativos invitados se puede medir con los mismos contadores de monitor de rendimiento usados para medir la memoria disponible para el sistema operativo de host de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4bed3-152">**Measure available memory on the guest operating system** – Memory that is available to the guest operating systems can be measured with the same performance monitor counters used to measure memory available to the Hyper-V host operating system.</span></span>|<span data-ttu-id="4bed3-153">Para obtener más información sobre las repercusiones de memoria física disponible en el rendimiento del servidor de aplicación, vea el tema de Ayuda de Exchange Server 2003 "Ruling Out enlazadas a memoria Problems" en [ http://go.microsoft.com/fwlink/?LinkId=121056 ](http://go.microsoft.com/fwlink/?LinkId=121056).</span><span class="sxs-lookup"><span data-stu-id="4bed3-153">For more information about the impact of available physical memory on application server performance, see the Exchange Server 2003 Help topic “Ruling Out Memory-Bound Problems” at [http://go.microsoft.com/fwlink/?LinkId=121056](http://go.microsoft.com/fwlink/?LinkId=121056).</span></span>|  
  
## <a name="measuring-network-performance"></a><span data-ttu-id="4bed3-154">Medir el rendimiento de red</span><span class="sxs-lookup"><span data-stu-id="4bed3-154">Measuring Network Performance</span></span>  
 <span data-ttu-id="4bed3-155">Hyper-V permite que los equipos de invitado compartir el mismo adaptador de red físico.</span><span class="sxs-lookup"><span data-stu-id="4bed3-155">Hyper-V allows guest computers to share the same physical network adapter.</span></span> <span data-ttu-id="4bed3-156">Esto contribuye a consolidar hardware, tenga cuidado para no saturar el adaptador físico.</span><span class="sxs-lookup"><span data-stu-id="4bed3-156">While this helps to consolidate hardware, take care not to saturate the physical adapter.</span></span> <span data-ttu-id="4bed3-157">Para garantizar el buen estado de la red utilizada por las máquinas virtuales de Hyper-V, use los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="4bed3-157">Use the following methods to ensure the health of the network used by the Hyper-V virtual machines:</span></span>  
  
|<span data-ttu-id="4bed3-158">Paso</span><span class="sxs-lookup"><span data-stu-id="4bed3-158">Step</span></span>|<span data-ttu-id="4bed3-159">Referencia</span><span class="sxs-lookup"><span data-stu-id="4bed3-159">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="4bed3-160">**Probar la latencia de red**</span><span class="sxs-lookup"><span data-stu-id="4bed3-160">**Test network latency**</span></span>|<span data-ttu-id="4bed3-161">Haga ping a cada máquina virtual para asegurarse de latencia de red adecuada.</span><span class="sxs-lookup"><span data-stu-id="4bed3-161">Ping each virtual machine to ensure adequate network latency.</span></span> <span data-ttu-id="4bed3-162">En redes de área local, espera recibir menos de 1 ms tiempos de respuesta.</span><span class="sxs-lookup"><span data-stu-id="4bed3-162">On local area networks, expect to receive less than 1ms response times.</span></span>|  
|<span data-ttu-id="4bed3-163">**Comprobar la pérdida de paquetes**</span><span class="sxs-lookup"><span data-stu-id="4bed3-163">**Test for packet loss**</span></span>|<span data-ttu-id="4bed3-164">Use la utilidad pathping.exe para probar la pérdida de paquetes entre las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="4bed3-164">Use the pathping.exe utility to test packet loss between virtual machines.</span></span> <span data-ttu-id="4bed3-165">Pathping.exe mide la pérdida de paquetes en la red y está disponible con todas las versiones de [!INCLUDE[btsWinNoVersion](../includes/btswinnoversion-md.md)] desde [!INCLUDE[btsWin2kSvr](../includes/btswin2ksvr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4bed3-165">Pathping.exe measures packet loss on the network and is available with all versions of [!INCLUDE[btsWinNoVersion](../includes/btswinnoversion-md.md)] since [!INCLUDE[btsWin2kSvr](../includes/btswin2ksvr-md.md)].</span></span> <span data-ttu-id="4bed3-166">Pathping.exe envía una ráfaga de 100 solicitudes ping a cada nodo de red y calcula el número de pings se devuelven.</span><span class="sxs-lookup"><span data-stu-id="4bed3-166">Pathping.exe sends out a burst of 100 ping requests to each network node and calculates how many pings are returned.</span></span> <span data-ttu-id="4bed3-167">No debería haber ninguna pérdida de las solicitudes de ping de la utilidad pathping.exe en redes de área local.</span><span class="sxs-lookup"><span data-stu-id="4bed3-167">On local area networks there should be no loss of ping requests from the pathping.exe utility.</span></span>|  
|<span data-ttu-id="4bed3-168">**Transferencias de archivos de red de prueba**</span><span class="sxs-lookup"><span data-stu-id="4bed3-168">**Test network file transfers**</span></span>|<span data-ttu-id="4bed3-169">Copiar un archivo de 100MB entre máquinas virtuales y medir la cantidad de tiempo necesario para completar la copia.</span><span class="sxs-lookup"><span data-stu-id="4bed3-169">Copy a 100MB file between virtual machines and measure the length of time required to complete the copy.</span></span> <span data-ttu-id="4bed3-170">En un 100 Mbits correcto red (megabits), debe copiar un archivo de 100MB (megabyte) de 10 a 20 segundos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-170">On a healthy 100Mbit (megabit) network, a 100MB (megabyte) file should copy in 10 to 20 seconds.</span></span> <span data-ttu-id="4bed3-171">En una red de 1 Gigabit funciona correctamente, debe copiar un archivo de 100MB en torno a 3 a 5 segundos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-171">On a healthy 1Gbit network, a 100MB file should copy in about 3 to 5 seconds.</span></span> <span data-ttu-id="4bed3-172">Los tiempos de copia fuera de estos parámetros son indicativos de un problema de red.</span><span class="sxs-lookup"><span data-stu-id="4bed3-172">Copy times outside of these parameters are indicative of a network problem.</span></span> <span data-ttu-id="4bed3-173">Una causa común de las transferencias de red deficientes se produce cuando el adaptador de red tiene "auto detectó" una red de dúplex medio de 10MB que impide que el adaptador de red desea aprovechar al máximo ancho de banda disponible.</span><span class="sxs-lookup"><span data-stu-id="4bed3-173">One common cause of poor network transfers occurs when the network adapter has “auto detected” a 10MB half-duplex network which prevents the network adapter from taking full advantage of available bandwidth.</span></span>|  
|<span data-ttu-id="4bed3-174">**Utilización de la red de medida en el sistema operativo de host de Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="4bed3-174">**Measure network utilization on the Hyper-V host operating system**</span></span>|<span data-ttu-id="4bed3-175">Utilice los siguientes contadores del monitor de rendimiento para medir la utilización de la red en el sistema operativo de host de Hyper-V:</span><span class="sxs-lookup"><span data-stu-id="4bed3-175">Use the following performance monitor counters to measure network utilization on the Hyper-V host operating system:</span></span><br /><br /> <span data-ttu-id="4bed3-176">**\Network interfaz (\*) \Bytes totales/seg.** : el porcentaje de utilización de la red se calcula multiplicando Bytes totales/seg por 8 para convertir en bits, multiplique el resultado por 100, y actual de la división por el adaptador de red ancho de banda.</span><span class="sxs-lookup"><span data-stu-id="4bed3-176">**\Network Interface(\*)\Bytes Total/sec** – The percentage of network utilization is calculated by multiplying Bytes Total/sec by 8 to convert it to bits, multiply the result by 100, then divide by the network adapter’s current bandwidth.</span></span> <span data-ttu-id="4bed3-177">Utilice los siguientes umbrales para evaluar el uso de ancho de banda de red:</span><span class="sxs-lookup"><span data-stu-id="4bed3-177">Use the following thresholds to evaluate network bandwidth utilization:</span></span><br /><br /> <span data-ttu-id="4bed3-178">-Menos del 40% de la interfaz consumida = correcto</span><span class="sxs-lookup"><span data-stu-id="4bed3-178">-   Less than 40% of the interface consumed = Healthy</span></span><br /><span data-ttu-id="4bed3-179">-41-64% de la interfaz consumida = Monitor o precaución</span><span class="sxs-lookup"><span data-stu-id="4bed3-179">-   41%-64% of the interface consumed = Monitor or Caution</span></span><br /><span data-ttu-id="4bed3-180">-65-100% de la interfaz consumida = crítico, se verá afectado negativamente el rendimiento</span><span class="sxs-lookup"><span data-stu-id="4bed3-180">-   65-100% of the interface consumed = Critical, performance will be adversely affected</span></span><br /><br /> <span data-ttu-id="4bed3-181">**\Network interfaz (\*) \Output longitud de cola** : la longitud de cola de salida mide el número de subprocesos que esperan en el adaptador de red.</span><span class="sxs-lookup"><span data-stu-id="4bed3-181">**\Network Interface(\*)\Output Queue Length** – The output queue length measures the number of threads waiting on the network adapter.</span></span> <span data-ttu-id="4bed3-182">Si hay más de 2 subprocesos en espera en el adaptador de red, la red puede ser un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="4bed3-182">If there are more than 2 threads waiting on the network adapter, then the network may be a bottleneck.</span></span> <span data-ttu-id="4bed3-183">Causas comunes de esto son latencia deficiente o tasas de colisión alta en la red.</span><span class="sxs-lookup"><span data-stu-id="4bed3-183">Common causes of this are poor network latency and/or high collision rates on the network.</span></span> <span data-ttu-id="4bed3-184">Utilice los siguientes umbrales para evaluar la longitud de la cola de salida:</span><span class="sxs-lookup"><span data-stu-id="4bed3-184">Use the following thresholds to evaluate output queue length:</span></span><br /><br /> <span data-ttu-id="4bed3-185">-0 = correcto</span><span class="sxs-lookup"><span data-stu-id="4bed3-185">-   0 = Healthy</span></span><br /><span data-ttu-id="4bed3-186">-2 1 = el monitor o la precaución</span><span class="sxs-lookup"><span data-stu-id="4bed3-186">-   1-2 = Monitor or Caution</span></span><br /><span data-ttu-id="4bed3-187">-Mayor que 2 = crítico, se verá afectado negativamente el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="4bed3-187">-   Greater than 2 = Critical, performance will be adversely affected.</span></span><br /><br /> <span data-ttu-id="4bed3-188">Asegúrese de que los adaptadores de red para todos los equipos (físicos y virtuales) en la solución están configurados para usar el mismo valor para la unidad de transmisión máxima (MTU).</span><span class="sxs-lookup"><span data-stu-id="4bed3-188">Ensure that the network adapters for all computers (physical and virtual) in the solution are configured to use the same value for maximum transmission unit (MTU).</span></span> <span data-ttu-id="4bed3-189">Para obtener más información acerca de cómo configurar el valor MTU, vea "Parámetros de configuración de TCP/IP de apéndice A:" en [ http://go.microsoft.com/fwlink/?LinkId=113716 ](http://go.microsoft.com/fwlink/?LinkId=113716).</span><span class="sxs-lookup"><span data-stu-id="4bed3-189">For more information about configuring the MTU value, see “Appendix A: TCP/IP Configuration Parameters” at [http://go.microsoft.com/fwlink/?LinkId=113716](http://go.microsoft.com/fwlink/?LinkId=113716).</span></span><br /><br /> <span data-ttu-id="4bed3-190">Si se mide una longitud de cola de salida de 2 o más, considere la posibilidad de agregar uno o más adaptadores de red físicos en el equipo físico que hospeda las máquinas virtuales y enlazar los adaptadores de red utilizados por los sistemas operativos de invitado para estos adaptadores de red físicos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-190">If an output queue length of 2 or more is measured, consider adding one or more physical network adapters to the physical computer that hosts the virtual machines and bind the network adapters used by the guest operating systems to these physical network adapters.</span></span>|  
|<span data-ttu-id="4bed3-191">**Utilización de la red de medida en los sistemas operativos invitados**</span><span class="sxs-lookup"><span data-stu-id="4bed3-191">**Measure network utilization on the guest operating systems**</span></span>|<span data-ttu-id="4bed3-192">Si un adaptador de red en la partición raíz de Hyper-V está ocupado según se indica en los contadores del monitor de rendimiento que se ha mencionado anteriormente, puede usar el contador del monitor de rendimiento "\Hyper-V adaptador de red Virtual (\*) \Bytes/sec" para identificar la red virtual adaptadores están consumiendo la mayor parte utilización de la red.</span><span class="sxs-lookup"><span data-stu-id="4bed3-192">If a network adapter on the Hyper-V root partition is busy as indicated by the performance monitor counters mentioned above, then consider using the "\Hyper-V Virtual Network Adapter(\*)\Bytes/sec" performance monitor counter to identify which virtual network adapters are consuming the most network utilization.</span></span>|  
  
 <span data-ttu-id="4bed3-193">Para obtener más información sobre el análisis de rendimiento de red, vea "Capítulo 15 – medir el rendimiento de aplicaciones .NET" en [ http://go.microsoft.com/fwlink/?LinkId=121073 ](http://go.microsoft.com/fwlink/?LinkId=121073).</span><span class="sxs-lookup"><span data-stu-id="4bed3-193">For more information about network performance analysis, see “Chapter 15 - Measuring .NET Application Performance” at [http://go.microsoft.com/fwlink/?LinkId=121073](http://go.microsoft.com/fwlink/?LinkId=121073).</span></span>  
  
## <a name="measuring-processor-performance"></a><span data-ttu-id="4bed3-194">Medir el rendimiento del procesador</span><span class="sxs-lookup"><span data-stu-id="4bed3-194">Measuring Processor Performance</span></span>  
 <span data-ttu-id="4bed3-195">Utilice los métodos siguientes para evaluar el rendimiento del procesador en un sistema operativo instalado en una máquina virtual de Hyper-V:</span><span class="sxs-lookup"><span data-stu-id="4bed3-195">Use the following methods to evaluate processor performance on a guest operating system installed on a Hyper-V virtual machine:</span></span>  
  
-   <span data-ttu-id="4bed3-196">**Miden el uso de procesador del sistema operativo invitado -** tradicionalmente, se puede medir el rendimiento del procesador mediante la "\Processor(\*)\\% Processor Time" contador del monitor de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="4bed3-196">**Measure guest operating system processor utilization -** Traditionally, processor performance can be measured using the “\Processor(\*)\\% Processor Time” performance monitor counter.</span></span> <span data-ttu-id="4bed3-197">Esto no es un contador exacto para evaluar el uso de procesador de un sistema operativo invitado aunque porque Hyper-V mide e informa de este valor en relación con el número de procesadores que se asigna a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="4bed3-197">This is not an accurate counter for evaluating processor utilization of a guest operating system though because Hyper-V measures and reports this value relative to the number of processors allocated to the virtual machine.</span></span> <span data-ttu-id="4bed3-198">Si se asignan más procesadores para máquinas virtuales en ejecución que están realmente presentes en el equipo físico, el valor devuelto por cada sistema operativo para el "\Processor (\*)\\% Processor Time" contador del monitor de rendimiento será baja, aunque en realidad el uso del procesador es un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="4bed3-198">If more processors are allocated to running virtual machines than are actually present on the physical computer, the value returned by each guest operating system for the “\Processor(\*)\\% Processor Time” performance monitor counter will be low, even if in fact processor utilization is a bottleneck.</span></span> <span data-ttu-id="4bed3-199">Esto ocurre porque los procesadores virtuales usan los procesadores físicos en un modo round-robin.</span><span class="sxs-lookup"><span data-stu-id="4bed3-199">This occurs because the virtual processors utilize the physical processors in a round-robin fashion.</span></span> <span data-ttu-id="4bed3-200">Cada procesador virtual se intente y asignar a sí mismo un recurso compartido de recursos del sistema global, por lo que en un sistema de 4 procesadores físicos, cada procesador virtual hará por predeterminado intenta utilizar un 25% de los recursos del sistema.</span><span class="sxs-lookup"><span data-stu-id="4bed3-200">Each virtual processor will try and allocate itself a share of overall system resources, so in a 4 physical processor system, each virtual processor will by default try to utilize 25% of the system resources.</span></span> <span data-ttu-id="4bed3-201">Si los 8 procesadores virtuales se crean Esto significa que colectivamente los procesadores virtuales intentará utilizar el 200% de la capacidad de CPU del servidor.</span><span class="sxs-lookup"><span data-stu-id="4bed3-201">If 8 virtual processors are created this means that collectively the virtual processors will attempt to utilize 200% of the server CPU capacity.</span></span> <span data-ttu-id="4bed3-202">En este caso, cada procesador virtual notificará una baja utilización según lo medido por la "\Processor (\*)\\% Processor Time" contador del monitor de rendimiento (en relación con el nivel de espera) y el contexto excesivo cambiar entre la procesadores virtuales dará como resultado un rendimiento escaso para cada máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="4bed3-202">In this case, each virtual processor will report a low utilization as measured by the “\Processor(\*)\\% Processor Time” performance monitor counter (relative to the level it expects) and the excessive context switching between the virtual processors will result in poor performance for each virtual machine.</span></span> <span data-ttu-id="4bed3-203">En este escenario, considere la posibilidad de reducir el número de procesadores virtuales asignados a máquinas virtuales de Hyper-V en el sistema operativo host. Hyper-V proporciona hipervisor objetos de rendimiento para supervisar el rendimiento de los procesadores lógicos y virtuales.</span><span class="sxs-lookup"><span data-stu-id="4bed3-203">In this scenario, consider reducing the number of virtual processors allocated to Hyper-V virtual machines on the host operating system.Hyper-V provides hypervisor performance objects to monitor the performance of both logical and virtual processors.</span></span> <span data-ttu-id="4bed3-204">Un procesador lógico está directamente relacionado con el número de procesadores o núcleos que están instalados en el equipo físico.</span><span class="sxs-lookup"><span data-stu-id="4bed3-204">A logical processor correlates directly to the number of processors or cores that are installed on the physical computer.</span></span> <span data-ttu-id="4bed3-205">Por ejemplo, 2 procesadores de núcleo cuádruple instalados en el equipo físico se correlacionan con 8 procesadores lógicos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-205">For example, 2 quad core processors installed on the physical computer would correlate to 8 logical processors.</span></span> <span data-ttu-id="4bed3-206">Procesadores virtuales son lo que realmente utilizan las máquinas virtuales y toda la ejecución de las particiones raíz y secundario se produce en procesadores virtuales.</span><span class="sxs-lookup"><span data-stu-id="4bed3-206">Virtual processors are what the virtual machines actually use, and all execution in the root and child partitions occurs in virtual processors.</span></span>  
  
     <span data-ttu-id="4bed3-207">Hyper-V proporciona hipervisor objetos de rendimiento para supervisar el rendimiento de los procesadores lógicos y virtuales.</span><span class="sxs-lookup"><span data-stu-id="4bed3-207">Hyper-V provides hypervisor performance objects to monitor the performance of both logical and virtual processors.</span></span> <span data-ttu-id="4bed3-208">Un procesador lógico está directamente relacionado con el número de procesadores o núcleos que están instalados en el equipo físico.</span><span class="sxs-lookup"><span data-stu-id="4bed3-208">A logical processor correlates directly to the number of processors or cores that are installed on the physical computer.</span></span> <span data-ttu-id="4bed3-209">Por ejemplo, 2 procesadores de núcleo cuádruple instalados en el equipo físico se correlacionan con 8 procesadores lógicos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-209">For example, 2 quad core processors installed on the physical computer would correlate to 8 logical processors.</span></span> <span data-ttu-id="4bed3-210">Procesadores virtuales son lo que realmente utilizan las máquinas virtuales y toda la ejecución de las particiones raíz y secundario se produce en procesadores virtuales.</span><span class="sxs-lookup"><span data-stu-id="4bed3-210">Virtual processors are what the virtual machines actually use, and all execution in the root and child partitions occurs in virtual processors.</span></span>  
  
     <span data-ttu-id="4bed3-211">Para medir con precisión la utilización del procesador de un sistema operativo invitado, utilice la "_Total lógico de hipervisor de Hyper-V % Total de tiempo de ejecución" contador del monitor de rendimiento en el sistema operativo de host de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4bed3-211">To accurately measure the processor utilization of a guest operating system, use the “Hyper-V Hypervisor Logical Processor(_Total)% Total Run Time” performance monitor counter on the Hyper-V host operating system.</span></span> <span data-ttu-id="4bed3-212">Utilice los siguientes umbrales para evaluar invitado operativo sistema procesador uso con la "_Total lógico de hipervisor de Hyper-V % Total de tiempo de ejecución" contador del monitor de rendimiento:</span><span class="sxs-lookup"><span data-stu-id="4bed3-212">Use the following thresholds to evaluate guest operating system processor utilization using the “Hyper-V Hypervisor Logical Processor(_Total)% Total Run Time” performance monitor counter:</span></span>  
  
    -   <span data-ttu-id="4bed3-213">Consumidas menos de 60% = correcto</span><span class="sxs-lookup"><span data-stu-id="4bed3-213">Less than 60% consumed = Healthy</span></span>  
  
    -   <span data-ttu-id="4bed3-214">60-89% consumido = Monitor o precaución</span><span class="sxs-lookup"><span data-stu-id="4bed3-214">60% - 89% consumed = Monitor or Caution</span></span>  
  
    -   <span data-ttu-id="4bed3-215">90% y 100% consumido = crítico, se verá afectado negativamente el rendimiento</span><span class="sxs-lookup"><span data-stu-id="4bed3-215">90% - 100% consumed = Critical, performance will be adversely affected</span></span>  
  
     <span data-ttu-id="4bed3-216">Para solucionar problemas de rendimiento del procesador de los sistemas operativos de invitado en un entorno de Hyper-V, es mejor lo posible para un equilibrio entre los valores notificados por el sistema operativo de host para "\Hyper-V hipervisor lógico procesador (_Total)\\% de ejecución Total Tiempo"(LPTR) y" \Hyper-V hipervisor Virtual procesador (_Total)\\tiempo de ejecución Total de % "(VPTR).</span><span class="sxs-lookup"><span data-stu-id="4bed3-216">To troubleshoot processor performance of guest operating systems on a Hyper-V environment, it is best to strive for a balance between the values reported by the host operating system for “\Hyper-V Hypervisor Logical Processor(_Total)\\% Total Run Time” (LPTR) and “\Hyper-V Hypervisor Virtual Processor(_Total)\\% Total Run Time” (VPTR).</span></span> <span data-ttu-id="4bed3-217">Si LPTR es alta y baja VPTR, a continuación, compruebe que no hay más procesadores que se asignan a las máquinas virtuales que están físicamente disponibles en el equipo físico.</span><span class="sxs-lookup"><span data-stu-id="4bed3-217">If LPTR is high and VPTR is low then verify that there are not more processors allocated to virtual machines than are physically available on the physical computer.</span></span> <span data-ttu-id="4bed3-218">Utilice la "\Hyper-V hipervisor Virtual Processor(\*)\\% de tiempo de ejecución de invitado" contadores para determinar qué procesadores virtuales consumen CPU y anular la asignación de procesadores virtuales de máquinas virtuales según corresponda configurar una asignación uno a uno de procesadores virtuales y los procesadores lógicos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-218">Use the “\Hyper-V Hypervisor Virtual Processor(\*)\\%Guest Run Time” counters to determine which virtual Processors are consuming CPU and de-allocate virtual processors from virtual machines as appropriate to configure a one to one mapping of virtual processors to logical processors.</span></span> <span data-ttu-id="4bed3-219">Para obtener más información acerca de cómo configurar una asignación uno a uno de los procesadores virtuales y los procesadores lógicos, vea la sección "Optimizar el rendimiento del procesador" en [lista de comprobación: optimizar el rendimiento en Hyper-V](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md).</span><span class="sxs-lookup"><span data-stu-id="4bed3-219">For more information about configuring a one to one mapping of virtual processors to logical processors, see the “Optimizing Processor Performance” section in [Checklist: Optimizing Performance on Hyper-V](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md).</span></span> <span data-ttu-id="4bed3-220">Si VPTR es alta y baja LPTR, a continuación, considere la posibilidad de asignar procesadores adicionales a las máquinas virtuales si hay procesadores lógicos disponibles y si los procesadores adicionales son compatibles con el sistema operativo invitado.</span><span class="sxs-lookup"><span data-stu-id="4bed3-220">If VPTR is high and LPTR is low then consider allocating additional processors to virtual machines if there are available logical processors and if additional processors are supported by the guest operating system.</span></span> <span data-ttu-id="4bed3-221">En el caso donde VPTR es alto, LPTR es bajo, hay procesadores lógicos disponibles para asignar, pero procesadores adicionales no son compatibles con el sistema operativo invitado, considere la posibilidad de escalado horizontal mediante la adición de máquinas virtuales adicionales en el equipo físico y asignación de procesadores disponibles para estas máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="4bed3-221">In the case where VPTR is high, LPTR is low, there are available logical processors to allocate, but additional processors are not supported by the guest operating system, consider scaling out by adding additional virtual machines to the physical computer and allocating available processors to these virtual machines.</span></span> <span data-ttu-id="4bed3-222">En el caso donde VPTR y LPTR son altos, la configuración está forzando los límites del equipo físico y debe tener en cuenta escalado horizontal mediante la adición de otro equipo físico y máquinas virtuales de Hyper-V adicionales en el entorno.</span><span class="sxs-lookup"><span data-stu-id="4bed3-222">In the case where both VPTR and LPTR are high, the configuration is pushing the limits of the physical computer and should consider scaling out by adding another physical computer and additional Hyper-V virtual machines to the environment.</span></span> <span data-ttu-id="4bed3-223">El diagrama de flujo siguiente describe el proceso que debe usarse al solucionar problemas de rendimiento del procesador en un entorno de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4bed3-223">The flowchart below describes the process that should be used when troubleshooting processor performance in a Hyper-V environment.</span></span>  
  
     <span data-ttu-id="4bed3-224">Si VPTR es alto y LPTR es baja, considere la posibilidad de asignar procesadores adicionales a las máquinas virtuales si hay procesadores lógicos disponibles y si los procesadores adicionales son compatibles con el sistema operativo invitado.</span><span class="sxs-lookup"><span data-stu-id="4bed3-224">If VPTR is high and LPTR is low, then consider allocating additional processors to virtual machines if there are available logical processors and if additional processors are supported by the guest operating system.</span></span> <span data-ttu-id="4bed3-225">En el caso donde VPTR es alto, LPTR es bajo, hay procesadores lógicos disponibles para asignar, pero procesadores adicionales no son compatibles con el sistema operativo invitado, considere la posibilidad de escalado horizontal mediante la adición de máquinas virtuales adicionales en el equipo físico y asignación de procesadores disponibles para estas máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="4bed3-225">In the case where VPTR is high, LPTR is low, there are available logical processors to allocate, but additional processors are not supported by the guest operating system, consider scaling out by adding additional virtual machines to the physical computer and allocating available processors to these virtual machines.</span></span> <span data-ttu-id="4bed3-226">En el caso donde VPTR y LPTR son altos, la configuración está forzando los límites del equipo físico y debe tener en cuenta escalado horizontal mediante la adición de otro equipo físico y máquinas virtuales de Hyper-V adicionales en el entorno.</span><span class="sxs-lookup"><span data-stu-id="4bed3-226">In the case where both VPTR and LPTR are high, the configuration is pushing the limits of the physical computer and should consider scaling out by adding another physical computer and additional Hyper-V virtual machines to the environment.</span></span> <span data-ttu-id="4bed3-227">El diagrama de flujo siguiente describe el proceso que debe usarse al solucionar problemas de rendimiento del procesador en un entorno de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4bed3-227">The flowchart below describes the process that should be used when troubleshooting processor performance in a Hyper-V environment.</span></span>  
  
     <span data-ttu-id="4bed3-228">![Solucionar problemas de rendimiento de CPU en Hyper&#45;V](../technical-guides/media/623fdcd6-e80b-4ba9-bf46-5d9b92b6612b.gif "623fdcd6-e80b-4ba9-bf46-5d9b92b6612b")</span><span class="sxs-lookup"><span data-stu-id="4bed3-228">![Troubleshooting CPU Performance on Hyper&#45;V](../technical-guides/media/623fdcd6-e80b-4ba9-bf46-5d9b92b6612b.gif "623fdcd6-e80b-4ba9-bf46-5d9b92b6612b")</span></span>  
<span data-ttu-id="4bed3-229">Solución de problemas de rendimiento de CPU en un entorno de Hyper-V</span><span class="sxs-lookup"><span data-stu-id="4bed3-229">Troubleshooting CPU performance in a Hyper-V Environment</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="4bed3-230">**Procesadores de sistema operativo invitado no tiene una afinidad de conjunto y los procesadores o núcleos físicos** – el hipervisor determina los recursos físicos de cómo se utilizan.</span><span class="sxs-lookup"><span data-stu-id="4bed3-230">**Guest operating system processors do not have a set affinity to physical processors/cores** – The hypervisor determines how physical resources are used.</span></span> <span data-ttu-id="4bed3-231">En el caso de utilización del procesador, el hipervisor programa el tiempo de procesador invitado procesador físico en el formulario de subprocesos.</span><span class="sxs-lookup"><span data-stu-id="4bed3-231">In the case of processor utilization, the hypervisor schedules the guest processor time to physical processor in the form of threads.</span></span> <span data-ttu-id="4bed3-232">Esto significa que la carga del procesador de máquinas virtuales se distribuirán por los procesadores del equipo físico.</span><span class="sxs-lookup"><span data-stu-id="4bed3-232">This means the processor load of virtual machines will be spread across the processors of the physical computer.</span></span> <span data-ttu-id="4bed3-233">Además, las máquinas virtuales no puede superar la utilización del procesador del número de procesadores lógicos, por ejemplo, si una sola máquina virtual se configura para ejecutarse con 2 procesadores lógicos en un equipo físico con 8 procesadores o núcleos, configurado el máquina virtual no puede superar la capacidad de procesamiento del número de procesadores lógicos configurados (en este caso 2 procesadores).</span><span class="sxs-lookup"><span data-stu-id="4bed3-233">Furthermore, virtual machines cannot exceed the processor utilization of the configured number of logical processors, for example if a single virtual machine is configured to run with 2 logical processors on a physical computer with 8 processors/cores, then the virtual machine cannot exceed the processor capacity of the number of configured logical processors (in this case 2 processors).</span></span>  
  
-   <span data-ttu-id="4bed3-234">**Medir la utilización del procesador general del entorno de Hyper-V con Hyper-V de rendimiento de supervisar los contadores de -** con fines de medir la utilización del procesador, el sistema operativo host lógicamente se visualiza como simplemente otro sistema operativo invitado .</span><span class="sxs-lookup"><span data-stu-id="4bed3-234">**Measure overall processor utilization of the Hyper-V environment using Hyper-V performance monitor counters -** For purposes of measuring processor utilization, the host operating system is logically viewed as just another guest operating system.</span></span> <span data-ttu-id="4bed3-235">Por lo tanto, el "\Processor(\*)\\% Processor Time" contador del monitor mide el uso de procesador del sistema operativo host solo.</span><span class="sxs-lookup"><span data-stu-id="4bed3-235">Therefore, the “\Processor(\*)\\% Processor Time” monitor counter measures the processor utilization of the host operating system only.</span></span> <span data-ttu-id="4bed3-236">Para medir la utilización total de procesador físico del sistema operativo del host y todos los sistemas operativos de invitado, utilice la "\Hyper-V hipervisor lógico procesador (_Total)\\% Total de tiempo de ejecución" contador del monitor de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="4bed3-236">To measure total physical processor utilization of the host operating system and all guest operating systems, use the “\Hyper-V Hypervisor Logical Processor(_Total)\\% Total Run Time” performance monitor counter.</span></span> <span data-ttu-id="4bed3-237">Este contador mide el porcentaje total de tiempo invertido por el procesador se ejecuta tanto el sistema operativo host y todos los sistemas operativos invitados.</span><span class="sxs-lookup"><span data-stu-id="4bed3-237">This counter measures the total percentage of time spent by the processor running the both the host operating system and all guest operating systems.</span></span>  
  
     <span data-ttu-id="4bed3-238">Utilice los siguientes umbrales para evaluar la utilización del procesador general del entorno de Hyper-V con el "\Hyper-V hipervisor lógico procesador (_Total)\\% Total de tiempo de ejecución" contador del monitor de rendimiento:</span><span class="sxs-lookup"><span data-stu-id="4bed3-238">Use the following thresholds to evaluate overall processor utilization of the Hyper-V environment using the “\Hyper-V Hypervisor Logical Processor(_Total)\\% Total Run Time” performance monitor counter:</span></span>  
  
    -   <span data-ttu-id="4bed3-239">Consumidas menos de 60% = correcto</span><span class="sxs-lookup"><span data-stu-id="4bed3-239">Less than 60% consumed = Healthy</span></span>  
  
    -   <span data-ttu-id="4bed3-240">60-89% consumido = Monitor o precaución</span><span class="sxs-lookup"><span data-stu-id="4bed3-240">60% - 89% consumed = Monitor or Caution</span></span>  
  
    -   <span data-ttu-id="4bed3-241">90% y 100% consumido = crítico, se verá afectado negativamente el rendimiento</span><span class="sxs-lookup"><span data-stu-id="4bed3-241">90% - 100% consumed = Critical, performance will be adversely affected</span></span>  
  
     <span data-ttu-id="4bed3-242">Para obtener más información acerca de la utilización del procesador, revise los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="4bed3-242">For more information about processor utilization review the following resources:</span></span>  
  
    -   <span data-ttu-id="4bed3-243">"Cómo: identificar las funciones que se produce un cuello de botella de CPU alta de modo de usuario para las aplicaciones de servidor en un entorno de producción" en [ http://go.microsoft.com/fwlink/?LinkID=107047 ](http://go.microsoft.com/fwlink/?LinkID=107047).</span><span class="sxs-lookup"><span data-stu-id="4bed3-243">“How To: Identify Functions causing a High User-mode CPU Bottleneck for Server Applications in a Production Environment” at [http://go.microsoft.com/fwlink/?LinkID=107047](http://go.microsoft.com/fwlink/?LinkID=107047).</span></span>  
  
    -   <span data-ttu-id="4bed3-244">"Capítulo 15 - medir rendimiento de la aplicación. NET" en [ http://go.microsoft.com/fwlink/?LinkId=121073 ](http://go.microsoft.com/fwlink/?LinkId=121073).</span><span class="sxs-lookup"><span data-stu-id="4bed3-244">“Chapter 15 - Measuring .NET Application Performance” at [http://go.microsoft.com/fwlink/?LinkId=121073](http://go.microsoft.com/fwlink/?LinkId=121073).</span></span>