---
title: ESB Namespace de agregar y quitar componentes de Namespace | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 21df1b21-b73c-4e31-a234-49a1a6b53cc7
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2bcbe519cfd8c6796569da4de87f59fa6a16d8a8
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22296252"
---
# <a name="the-esb-add-namespace-and-remove-namespace-components"></a><span data-ttu-id="3f972-102">ESB Namespace de agregar y quitar componentes de Namespace</span><span class="sxs-lookup"><span data-stu-id="3f972-102">The ESB Add Namespace and Remove Namespace Components</span></span>
<span data-ttu-id="3f972-103">Muchas compañías eran los primeros usuarios de tecnologías XML en el momento cuando todavía se apareciendo estándares y uso compartido de documentos era raro.</span><span class="sxs-lookup"><span data-stu-id="3f972-103">Many companies were early adopters of XML technologies at the time when standards were still emerging and document sharing was uncommon.</span></span> <span data-ttu-id="3f972-104">Por lo tanto, no estrictamente aplican los requisitos para incluir espacios de nombres de raíz única, que normalmente es el caso de hoy en día.</span><span class="sxs-lookup"><span data-stu-id="3f972-104">Therefore, they did not strictly enforce the requirements for including unique root namespaces, which is usually the case today.</span></span>  
  
 <span data-ttu-id="3f972-105">Sin embargo, Microsoft BizTalk Server realiza la identificación del documento basándose en una combinación de espacio de nombres de nodo raíz y el nombre del nodo raíz, por lo que son difíciles de identificar si varios documentos que no contengan ningún espacio de nombres para el nodo raíz documento diferente tipos utilizan el mismo nombre de nodo raíz.</span><span class="sxs-lookup"><span data-stu-id="3f972-105">However, Microsoft BizTalk Server performs document identification based on a combination of the root node namespace and the root node name, so documents that have no namespace for the root node are difficult to positively identify if several different document types use the same root node name.</span></span>  
  
 <span data-ttu-id="3f972-106">Los componentes de Namespace agregar y quitar Namespace solucionar este problema, lo que se permite agregar espacios de nombres a los documentos cuando se reciben y para quitar el espacio de nombres de los documentos antes de entregarlos.</span><span class="sxs-lookup"><span data-stu-id="3f972-106">The Add Namespace and Remove Namespace components solve this problem by making it possible to add namespaces to documents when they are received and to remove the namespace from the documents before they are delivered.</span></span> <span data-ttu-id="3f972-107">Por lo tanto, los documentos pueden residir en el espacio de nombres predeterminado (o en un espacio de nombres comunes a varios tipos de documento diferente) cuando envía y recibe, pero residen en un espacio de nombres raíz único transitorio durante el procesamiento en el ESB y BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3f972-107">Therefore, documents can reside in the default namespace (or in a namespace common to several different document types) when they are sent and received but reside in a transient unique root namespace during processing within the ESB and BizTalk.</span></span>  
  
 <span data-ttu-id="3f972-108">Los componentes también son útiles cuando se integra sistemas heredados que utilizan una definición de tipo de documento (DTD) en lugar de una definición de esquemas XML o que utilizan los analizadores XML heredados que no se pueden crear documentos que contienen un espacio de nombres raíz.</span><span class="sxs-lookup"><span data-stu-id="3f972-108">The components are also useful when integrating legacy systems that use a Document Type Definition (DTD) instead of an XML Schema definition or that use legacy XML parsers that cannot create documents that contain a root namespace.</span></span>  
  
## <a name="installation"></a><span data-ttu-id="3f972-109">Installation</span><span class="sxs-lookup"><span data-stu-id="3f972-109">Installation</span></span>  
 <span data-ttu-id="3f972-110">Al instalar el núcleo de ESB automáticamente se instala el **agregar Namespace** y **quitar Namespace** componentes en la carpeta de componentes de canalización de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="3f972-110">Installing the ESB Core automatically installs the **Add Namespace** and **Remove Namespace** components in the BizTalk Server Pipeline Components folder.</span></span>  
  
## <a name="how-it-works"></a><span data-ttu-id="3f972-111">Funcionamiento</span><span class="sxs-lookup"><span data-stu-id="3f972-111">How It Works</span></span>  
 <span data-ttu-id="3f972-112">El componente de agregar Namespace, agrega un espacio de nombres especificado en un documento XML.</span><span class="sxs-lookup"><span data-stu-id="3f972-112">The Add Namespace component adds a specified namespace to an XML document.</span></span> <span data-ttu-id="3f972-113">El componente puede agregar un único espacio de nombres a un documento.</span><span class="sxs-lookup"><span data-stu-id="3f972-113">The component can add only a single namespace to a document.</span></span> <span data-ttu-id="3f972-114">Utiliza el componente de agregar Namespace en un documento que ya tiene un espacio de nombres de nodo raíz no es un escenario admitido porque un único espacio de nombres único es todo lo que es necesario.</span><span class="sxs-lookup"><span data-stu-id="3f972-114">Using the Add Namespace component on a document that already has a root node namespace is not a supported scenario because a single unique namespace is all that is required.</span></span>  
  
 <span data-ttu-id="3f972-115">Los componentes no son compatibles con el espacio de nombres y no conservan cualquiera de los valores de espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="3f972-115">The components are not namespace-aware and do not persist any of the namespace values.</span></span> <span data-ttu-id="3f972-116">Sin embargo, el componente de agregar Namespace compara el espacio de nombres solicitado en el espacio de nombres existente del mensaje y simplemente devuelve el mensaje original a la canalización si coinciden.</span><span class="sxs-lookup"><span data-stu-id="3f972-116">However, the Add Namespace component compares the requested namespace in the existing namespace of the message and simply returns the original message to the pipeline if they match.</span></span>  
  
 <span data-ttu-id="3f972-117">Los programadores incluyen el componente de Namespace agregar en una canalización de recepción o una canalización de envío y establecer las propiedades adecuadas.</span><span class="sxs-lookup"><span data-stu-id="3f972-117">Developers include the Add Namespace component in a receive pipeline or a send pipeline and set the appropriate properties.</span></span> <span data-ttu-id="3f972-118">Las siguientes de validación se realizan en tiempo de ejecución:</span><span class="sxs-lookup"><span data-stu-id="3f972-118">The following validation is performed at run time:</span></span>  
  
-   <span data-ttu-id="3f972-119">El **XPaths** propiedad o el **NamespaceBase** propiedad debe contener un valor.</span><span class="sxs-lookup"><span data-stu-id="3f972-119">The **XPaths** property or the **NamespaceBase** property must contain a value.</span></span>  
  
-   <span data-ttu-id="3f972-120">El **separador** propiedad puede contener solo caracteres válidos (como  **/**  o  **\\** ) o una cadena vacía.</span><span class="sxs-lookup"><span data-stu-id="3f972-120">The **Separator** property can contain only valid characters (such as **/** or **\\**) or an empty string.</span></span>  
  
-   <span data-ttu-id="3f972-121">El **NamespacePrefix** valor de propiedad no puede ser uno de los valores reservados (**ns0** a **ns6**) y debe ser numérica alfa.</span><span class="sxs-lookup"><span data-stu-id="3f972-121">The **NamespacePrefix** property value cannot be one of the reserved values (**ns0** to **ns6**) and must be alpha numeric.</span></span>  
  
 <span data-ttu-id="3f972-122">Cualquier variación de esas reglas hace que el componente producir una excepción en tiempo de ejecución, suspender el mensaje (marcado como **suspendido: reanudables**) y escribir una entrada en el registro de eventos de aplicación de Windows.</span><span class="sxs-lookup"><span data-stu-id="3f972-122">Any variation from these rules causes the component to throw an exception at run time, suspend the message (marked as **Suspended – Resumable**), and write an entry in Windows Application Event Log.</span></span>  
  
 <span data-ttu-id="3f972-123">El componente de Namespace quitar quita todos los espacios de nombres de raíz de un documento XML.</span><span class="sxs-lookup"><span data-stu-id="3f972-123">The Remove Namespace component removes all root namespaces from an XML document.</span></span> <span data-ttu-id="3f972-124">El número de espacios de nombres que se puede quitar el componente de un solo documento está restringido por la memoria física disponible para almacenar el nodo actual durante el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="3f972-124">The number of namespaces that the component can remove from a single document is constrained by the physical memory available to hold the current node during processing.</span></span> <span data-ttu-id="3f972-125">Sin embargo, el componente utiliza estándar streaming procesos de mensajes de canalización de BizTalk Server 2009 y carga solamente el nodo actual en el documento en la memoria en lugar de cargar todo el documento.</span><span class="sxs-lookup"><span data-stu-id="3f972-125">However, the component uses standard BizTalk Server 2009 pipeline message streaming processes and loads only the current node in the document into memory instead of loading the entire document.</span></span>  
  
 <span data-ttu-id="3f972-126">El componente de Namespace quitar también vuelve a codifica el documento a la codificación especificada (**ascii, unicode/utf16,** o **utf8**) y se puede quitar la marca de orden de bytes (BOM) desde el principio de la secuencia, si Obligatorio.</span><span class="sxs-lookup"><span data-stu-id="3f972-126">The Remove Namespace component also re-encodes the document to the specified encoding (**ascii, unicode/utf16,** or **utf8**) and can remove the Byte Order Mark (BOM) from the beginning of the stream, if required.</span></span>  
  
## <a name="using-the-add-namespace-and-remove-namespace-components"></a><span data-ttu-id="3f972-127">Mediante el Namespace de agregar y quitar componentes de Namespace</span><span class="sxs-lookup"><span data-stu-id="3f972-127">Using the Add Namespace and Remove Namespace Components</span></span>  
 <span data-ttu-id="3f972-128">Los desarrolladores pueden usar el componente de Namespace agregar en cualquiera de las siguientes circunstancias:</span><span class="sxs-lookup"><span data-stu-id="3f972-128">Developers might use the Add Namespace component in any of the following circumstances:</span></span>  
  
-   <span data-ttu-id="3f972-129">El mensaje entrante no tiene ningún espacio de nombres raíz.</span><span class="sxs-lookup"><span data-stu-id="3f972-129">The inbound message has no root namespace.</span></span>  
  
-   <span data-ttu-id="3f972-130">El mensaje entrante utiliza datos de elemento o atributo para describir el tipo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="3f972-130">The inbound message uses element data or attribute data to describe the message type.</span></span>  
  
-   <span data-ttu-id="3f972-131">Los datos que describe el tipo de mensaje son coherentes y están disponibles mediante consultas XPath.</span><span class="sxs-lookup"><span data-stu-id="3f972-131">The data describing the message type is consistent and available using XPath queries.</span></span>  
  
 <span data-ttu-id="3f972-132">Los componentes de Namespace agregar y quitar Namespace pueden residir en cualquier fase de una canalización de recepción o una canalización de envío.</span><span class="sxs-lookup"><span data-stu-id="3f972-132">The Add Namespace and Remove Namespace components can reside in any stage of a receive pipeline or a send pipeline.</span></span> <span data-ttu-id="3f972-133">Se pueden encadenar instancias del componente si es necesario, por ejemplo, como si se utiliza el componente de quitar Namespace seguido por el componente de agregar Namespace para cambiar el espacio de nombres raíz de un documento.</span><span class="sxs-lookup"><span data-stu-id="3f972-133">You can chain instances of the component if required, such as if you are using the Remove Namespace component followed by the Add Namespace component to change the root namespace of a document.</span></span>  
  
 <span data-ttu-id="3f972-134">Si tiene varias ubicaciones de recepción que requieren el uso de estos componentes, puede crear una sola canalización y utilizar el servidor BizTalk Server "por cada instancia de" configuración del componente para establecer las propiedades del componente para cada instancia de envío o la canalización de recepción.</span><span class="sxs-lookup"><span data-stu-id="3f972-134">If you have multiple receive locations that require the use of these components, you can create a single pipeline and use the BizTalk Server "per instance" component configuration to set the component properties for each instance of the send or receive pipeline.</span></span> <span data-ttu-id="3f972-135">Con BizTalk Server 2009, puede establecer las propiedades de forma por instancia para las canalizaciones, lo que significa que puede volver a usar una sola canalización en varias ubicaciones de recepción y quizás tiene propiedades de componente diferente para cada instancia.</span><span class="sxs-lookup"><span data-stu-id="3f972-135">Using BizTalk Server 2009, you can set properties on a per-instance basis for pipelines, which means that you can reuse a single pipeline across multiple receive locations and perhaps have different component properties for each instance.</span></span> <span data-ttu-id="3f972-136">Se trata de una configuración de tiempo de ejecución que permite a los administradores a realizar el cambio mediante la consola de administración de BizTalk Server sin necesidad de cambios en el código o volver a implementar.</span><span class="sxs-lookup"><span data-stu-id="3f972-136">This is a run-time setting that allows administrators to make the change using the BizTalk Server Administration Console without requiring changes to the code or redeployment.</span></span>  
  
## <a name="component-properties"></a><span data-ttu-id="3f972-137">Propiedades de componente</span><span class="sxs-lookup"><span data-stu-id="3f972-137">Component Properties</span></span>  
 <span data-ttu-id="3f972-138">El componente de agregar Namespace expone cinco propiedades públicas:</span><span class="sxs-lookup"><span data-stu-id="3f972-138">The Add Namespace component exposes five public properties:</span></span>  
  
-   <span data-ttu-id="3f972-139">**NamespacePrefix**.</span><span class="sxs-lookup"><span data-stu-id="3f972-139">**NamespacePrefix**.</span></span> <span data-ttu-id="3f972-140">Este es el prefijo del espacio de nombres, se inserta entre el **xmlns:** parte y siguiente signo de igual (=) de inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="3f972-140">This is the prefix of the namespace, inserted between the **xmlns:** part and the following equals sign ( = ).</span></span> <span data-ttu-id="3f972-141">Para evitar conflictos con prefijos de espacio de nombres de esquema de BizTalk estándares, evite el uso de los valores **ns0** a través de **ns9**.</span><span class="sxs-lookup"><span data-stu-id="3f972-141">To avoid conflicts with standard BizTalk Schema namespace prefixes, avoid using the values **ns0** through **ns9**.</span></span>  
  
-   <span data-ttu-id="3f972-142">**NamespaceBase**.</span><span class="sxs-lookup"><span data-stu-id="3f972-142">**NamespaceBase**.</span></span> <span data-ttu-id="3f972-143">Esta es la sección estática del espacio de nombres que se agregará el prefijo del resultado generado por los valores de la **separador** y **XPaths** propiedades.</span><span class="sxs-lookup"><span data-stu-id="3f972-143">This is the static section of the namespace that will prefix the result generated by the values in the **Separator** and **XPaths** properties.</span></span>  
  
-   <span data-ttu-id="3f972-144">**ExtractionNodeXPath**.</span><span class="sxs-lookup"><span data-stu-id="3f972-144">**ExtractionNodeXPath**.</span></span> <span data-ttu-id="3f972-145">Se trata de una instrucción XPath que se resuelve en un único elemento en el documento que contiene los valores de elemento o atributo que desea usar para las partes del espacio de nombres generadas.</span><span class="sxs-lookup"><span data-stu-id="3f972-145">This is an XPath statement that resolves to a single element in the document that contains the element or attribute values you want to use for the generated parts of the namespace.</span></span>  
  
-   <span data-ttu-id="3f972-146">**XPaths**.</span><span class="sxs-lookup"><span data-stu-id="3f972-146">**XPaths**.</span></span> <span data-ttu-id="3f972-147">Se trata de una canalización (**&#124;** ) lista delimitada de consultas XPath utilizadas para extraer todos los componentes que se combinan para formar el espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="3f972-147">This is a pipe (**&#124;** ) delimited list of XPath queries used to extract each of the components that will combine to form the namespace.</span></span>  
  
-   <span data-ttu-id="3f972-148">**Separador de**.</span><span class="sxs-lookup"><span data-stu-id="3f972-148">**Separator**.</span></span> <span data-ttu-id="3f972-149">Se trata el separador que se va a usar entre los segmentos de espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="3f972-149">This is the separator to use between the namespace segments.</span></span> <span data-ttu-id="3f972-150">El valor más común es una barra diagonal ( **/**  ), pero puede ser una cadena vacía, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="3f972-150">The most common value is a forward slash (**/** ), but it can be an empty string, if required.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3f972-151">Todos los nodos XML, como los nombres de elementos y atributos distinguen mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="3f972-151">All XML nodes, such as element and attribute names, are case sensitive.</span></span>  
  
 <span data-ttu-id="3f972-152">El componente de quitar Namespace expone dos propiedades públicas:</span><span class="sxs-lookup"><span data-stu-id="3f972-152">The Remove Namespace component exposes two public properties:</span></span>  
  
-   <span data-ttu-id="3f972-153">**Codificación**.</span><span class="sxs-lookup"><span data-stu-id="3f972-153">**Encoding**.</span></span> <span data-ttu-id="3f972-154">Se trata de la codificación para el mensaje de salida, uno de los siguientes valores: **ascii, unicode/utf16,** o **utf8**.</span><span class="sxs-lookup"><span data-stu-id="3f972-154">This is the encoding for the output message, one of the following values: **ascii, unicode/utf16,** or **utf8**.</span></span>  
  
-   <span data-ttu-id="3f972-155">**RemoveByteOrderMark**.</span><span class="sxs-lookup"><span data-stu-id="3f972-155">**RemoveByteOrderMark**.</span></span> <span data-ttu-id="3f972-156">Se trata de una propiedad booleana que indica si el componente debe quitar la marca de orden de bytes (normalmente **0xEFBB, 0xBFFFFE,** o **0xFEFF**) desde el principio de la secuencia del documento XML.</span><span class="sxs-lookup"><span data-stu-id="3f972-156">This is a Boolean property that indicates whether the component should remove the byte order mark (usually **0xEFBB, 0xBFFFFE,** or **0xFEFF**) from the beginning of the XML document stream.</span></span>  
  
 <span data-ttu-id="3f972-157">Para obtener un ejemplo de cómo usar estos componentes, consulte [instalar y ejecutar el ejemplo del componente Namespace](../esb-toolkit/installing-and-running-the-namespace-component-sample.md).</span><span class="sxs-lookup"><span data-stu-id="3f972-157">For an example of how to use these components, see [Installing and Running the Namespace Component Sample](../esb-toolkit/installing-and-running-the-namespace-component-sample.md).</span></span>