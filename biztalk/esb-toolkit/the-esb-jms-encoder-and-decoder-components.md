---
title: El codificador de ESB JMS y componentes de descodificador | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4e5591c2-d2ca-4168-8026-059fe51dd588
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9f39f4ab1b0650a8ad6fa1ff35d62b4807995237
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22295684"
---
# <a name="the-esb-jms-encoder-and-decoder-components"></a><span data-ttu-id="dfdf0-102">El codificador de ESB JMS y componentes de descodificador</span><span class="sxs-lookup"><span data-stu-id="dfdf0-102">The ESB JMS Encoder and Decoder Components</span></span>
<span data-ttu-id="dfdf0-103">Algunas soluciones de integración implican Java Message Service (JMS) y los mensajes SOAP enviados a o desde IBM WebSphere MQ; [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] incluye dos componentes de canalización JMS escritos en código administrado para su uso en estas situaciones.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-103">Some integration solutions involve Java Message Service (JMS) and SOAP messages sent to or from IBM WebSphere MQ; [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] includes two JMS pipeline components written in managed code for use in these situations.</span></span> <span data-ttu-id="dfdf0-104">Los componentes de leen o escribir la parte JMS del encabezado del mensaje MQ mediante los valores de propiedades de contexto asociados con el mensaje.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-104">The components read or write the JMS portion of the MQ message header using the values of context properties associated with the message.</span></span> <span data-ttu-id="dfdf0-105">Actualmente, hay más de 60 tipos diferentes de los encabezados JMS en uso con sistemas de WebSphere MQ Series; los componentes de ESB JMS solo funcionan con encabezados de MQRFH2.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-105">Currently, there are more than 60 different types of JMS headers in use with WebSphere MQ Series systems; the ESB JMS components work only with MQRFH2 headers.</span></span>  
  
## <a name="installation"></a><span data-ttu-id="dfdf0-106">Installation</span><span class="sxs-lookup"><span data-stu-id="dfdf0-106">Installation</span></span>  
 <span data-ttu-id="dfdf0-107">Instalar automáticamente el núcleo de ESB instala los componentes de JMS codificador y descodificador de JMS en la carpeta de componentes de canalización de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-107">Installing the ESB Core automatically installs the JMS Encoder and JMS Decoder components in the BizTalk Server Pipeline Components folder.</span></span>  
  
## <a name="how-it-works"></a><span data-ttu-id="dfdf0-108">Funcionamiento</span><span class="sxs-lookup"><span data-stu-id="dfdf0-108">How It Works</span></span>  
 <span data-ttu-id="dfdf0-109">Los componentes de canalización JMS inspeccionar los encabezados del mensaje y sólo funcionan en los mensajes que tienen la **MQMD_Format** encabezado establecido en **RFH (MQRFH2)**.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-109">The JMS pipeline components inspect the message headers and operate only on messages that have the **MQMD_Format** header set to **RFH (MQRFH2)**.</span></span> <span data-ttu-id="dfdf0-110">Sin embargo, incluso cuando se establece esta propiedad, los componentes de inspeccionar los encabezados para confirmar que se ajustan al formato IBM RFH2.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-110">However, even when this property is set, the components inspect the headers to confirm that they do conform to the IBM RFH2 format.</span></span> <span data-ttu-id="dfdf0-111">Si el encabezado no se ajusta a este formato, los componentes de generan un error de análisis que indica la **MQMD_Format** parámetro se estableció en **RFH (MQRFH2)**, pero la estructura del encabezado no cumplía con el estándar RFH2.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-111">If the header does not conform to this format, the components generate a parse error that indicates the **MQMD_Format** parameter was set to **RFH (MQRFH2)**, but the structure of the header did not comply with the RFH2 standard.</span></span> <span data-ttu-id="dfdf0-112">Si se produce un error de análisis de encabezado de mensaje entrante, el componente descodificador permite que pase el mensaje, pero establece una propiedad de contexto de mensaje denominada **MQRFH2_ParseError** a **True**.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-112">If inbound message header parsing fails, the decoder component allows the message to pass, but it sets a message context property named **MQRFH2_ParseError** to **True**.</span></span>  
  
 <span data-ttu-id="dfdf0-113">El **MQRFH2** esquema de propiedad que se implementa en BizTalk con los componentes JMS expone todas las propiedades de encabezado MQRFH2.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-113">The **MQRFH2** property schema deployed in BizTalk with the JMS components exposes all of the MQRFH2 header properties.</span></span> <span data-ttu-id="dfdf0-114">Después de degradar los encabezados de un mensaje entrante, los datos de los encabezados residen en un documento XML almacenado en el **MQRFH2_NameValueData** propiedad de contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-114">After demoting the headers of an incoming message, the data from the headers resides in an XML document stored in the **MQRFH2_NameValueData** context property of the message.</span></span> <span data-ttu-id="dfdf0-115">El codificador ajusta la longitud de la **NameValueData** carpeta para asegurarse de que es la longitud correcta.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-115">The encoder adjusts the length of the **NameValueData** folder to ensure it is the correct length.</span></span> <span data-ttu-id="dfdf0-116">Para entender el uso de estos encabezados y el impacto al cambiar los valores, consulte la documentación de IBM adecuada.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-116">To understand the usage of these headers, and the impact when changing the values, review the appropriate IBM documentation.</span></span>  
  
## <a name="using-the-jms-encoder-and-decoder-components"></a><span data-ttu-id="dfdf0-117">Usar el codificador JMS y componentes de descodificador</span><span class="sxs-lookup"><span data-stu-id="dfdf0-117">Using the JMS Encoder and Decoder Components</span></span>  
 <span data-ttu-id="dfdf0-118">Para usar los componentes de JMS codificador y descodificador, los desarrolladores de agregarlos a canalizaciones en una aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-118">To use the JMS Encoder and Decoder components, developers add them to pipelines in a BizTalk application.</span></span> <span data-ttu-id="dfdf0-119">Para una canalización de envío, el componente de codificador de JMS debe residir en la fase de codificación.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-119">For a send pipeline, the JMS Encoder component should reside in the Encode stage.</span></span> <span data-ttu-id="dfdf0-120">Para una canalización de recepción, el componente de descodificador de JMS debe residir en la fase de descodificación.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-120">For a receive pipeline, the JMS Decoder component should reside in the Decode stage.</span></span> <span data-ttu-id="dfdf0-121">No se instalarán los componentes JMS en las otras fases de una canalización.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-121">The JMS components will not install in any other stages of a pipeline.</span></span>  
  
 <span data-ttu-id="dfdf0-122">Cuando se instalan en la fase de codificación, el componente de codificador de JMS lee los valores de la JMS **MQRFH2** encabezados y escrituras (promociona) en las propiedades de contexto de mensaje.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-122">When installed in the Encode stage, the JMS Encoder component reads the values in the JMS **MQRFH2** headers and writes (promotes) them into the message context properties.</span></span> <span data-ttu-id="dfdf0-123">Cuando se instalan en la fase de descodificación, lee el componente de descodificador de JMS (degrada) la propiedad de contexto valores y los inserta en la JMS **MQRFH2** encabezados.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-123">When installed in the Decode stage, the JMS Decoder component reads (demotes) the context property values and inserts them into the JMS **MQRFH2** headers.</span></span> <span data-ttu-id="dfdf0-124">Esto significa que todos los valores de encabezado MQ están disponibles como propiedades de contexto del mensaje en la canalización.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-124">This means that all the MQ header values are available as context properties of the message in the pipeline.</span></span>  
  
 <span data-ttu-id="dfdf0-125">Para detectar y administrar los errores de análisis de encabezado, los desarrolladores pueden incluir código que examina el valor de la **MQRFH2_ParseError** propiedad.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-125">To detect and manage header-parsing errors, developers can include code that examines the value of the **MQRFH2_ParseError** property.</span></span> <span data-ttu-id="dfdf0-126">Puede implementar un proceso de recuperación que se suscribe a mensajes con errores o especificar puertos de envío que filtrar en el **MQRFH2_ParseError** propiedad para conservar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-126">They can implement a recovery process that subscribes to failed messages or specify send ports that filter on the **MQRFH2_ParseError** property to persist the message.</span></span> <span data-ttu-id="dfdf0-127">Los suscriptores que funcionan con los mensajes JMS deben incluir una condición de filtro que especifica el valor **False** para el **MQRFH2_ParseError** propiedad para evitar que el suscriptor recibe los mensajes que Error en el encabezado del proceso de análisis.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-127">Subscribers that work with JMS messages should include a filter condition that specifies the value **False** for the **MQRFH2_ParseError** property to prevent the subscriber from receiving messages that failed the header parsing process.</span></span>  
  
 <span data-ttu-id="dfdf0-128">Los desarrolladores también pueden actualizar los valores de propiedad de contexto (por ejemplo, cambiar el **MQRFH2_Encoding** valor de propiedad), y el componente reflejará los cambios en los encabezados del mensaje MQ para que se establecen cuando el mensaje llega a su destino final.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-128">Developers can also update the context property values (for example, change the **MQRFH2_Encoding** property value), and the component will reflect these changes in the MQ message headers so that they are set when the message arrives at its ultimate destination.</span></span> <span data-ttu-id="dfdf0-129">El componente automáticamente omite los valores no válidos y establece los valores predeterminados "seguros" donde faltan encabezados necesarios.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-129">The component automatically ignores invalid values and sets "safe" default values where required headers are missing.</span></span> <span data-ttu-id="dfdf0-130">Por ejemplo, si el programador especifica un valor no válido para la **MQRFH2_Encoding** propiedad, el mensaje de salida tendrá el **MQRFH2_Encoding** encabezado establecido en **desconocido**.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-130">For example, if the developer specifies an invalid value for the **MQRFH2_Encoding** property, the outbound message will have the **MQRFH2_Encoding** header set to **UNKNOWN**.</span></span> <span data-ttu-id="dfdf0-131">Si el programador quita un valor de una propiedad de contexto, pero la **MQMD_Format** propiedad todavía está establecida en **RFH**, el componente agregará un encabezado que contiene el valor predeterminado, según la especificación de IBM.</span><span class="sxs-lookup"><span data-stu-id="dfdf0-131">If the developer removes a value from a context property, but the **MQMD_Format** property is still set to **RFH**, the component will add a header containing the default value, as per the IBM specification.</span></span>  
  
 <span data-ttu-id="dfdf0-132">Para obtener un ejemplo de cómo usar estos componentes, consulte [instalar y ejecutar el ejemplo de componente de JMS MQRFH2](../esb-toolkit/installing-and-running-the-jms-mqrfh2-component-sample.md).</span><span class="sxs-lookup"><span data-stu-id="dfdf0-132">For an example of how to use these components, see [Installing and Running the JMS MQRFH2 Component Sample](../esb-toolkit/installing-and-running-the-jms-mqrfh2-component-sample.md).</span></span>