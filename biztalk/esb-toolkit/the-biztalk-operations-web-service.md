---
title: Servicio Web de las operaciones de BizTalk | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: af38815f-f643-4598-9148-6499071d12e4
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5d09fb2cdcca83e8a9f2e4e7704178d40a915065
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="the-biztalk-operations-web-service"></a><span data-ttu-id="8340d-102">El servicio Web de las operaciones de BizTalk</span><span class="sxs-lookup"><span data-stu-id="8340d-102">The BizTalk Operations Web Service</span></span>
<span data-ttu-id="8340d-103">El servicio Web de Microsoft BizTalk Operations expone información sobre los objetos y los mensajes en BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="8340d-103">The Microsoft BizTalk Operations Web service exposes information about the objects and messages in BizTalk Server.</span></span> <span data-ttu-id="8340d-104">El nombre de servicio es **ESB.BizTalkOperationsService**, y el servicio expone una amplia variedad de métodos que devuelven elementos como una lista de hosts, orquestaciones, las aplicaciones y el estado de la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="8340d-104">The service name is **ESB.BizTalkOperationsService**, and the service exposes a wide range of methods that return items such as a list of hosts, orchestrations, applications, and the BizTalk application status.</span></span>  
  
 <span data-ttu-id="8340d-105">Los métodos siguientes están disponibles:</span><span class="sxs-lookup"><span data-stu-id="8340d-105">The following methods are available:</span></span>  
  
-   <span data-ttu-id="8340d-106">**Aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="8340d-106">**Applications**.</span></span> <span data-ttu-id="8340d-107">Este método no toma ningún parámetro y devuelve el nombre y la descripción de todas las aplicaciones instaladas de BizTalk como una colección de **BTApplication** objetos.</span><span class="sxs-lookup"><span data-stu-id="8340d-107">This method takes no parameters, and it returns the name and description of all installed BizTalk applications as a collection of **BTApplication** objects.</span></span>  
  
-   <span data-ttu-id="8340d-108">**ApplicationStatus**.</span><span class="sxs-lookup"><span data-stu-id="8340d-108">**ApplicationStatus**.</span></span> <span data-ttu-id="8340d-109">Este método toma como parámetro el nombre de la aplicación y devuelve información acerca de la aplicación de BizTalk especificada como un **BTSysStatus** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-109">This method takes as a parameter the application name, and it returns information about the specified BizTalk application as a **BTSysStatus** instance.</span></span> <span data-ttu-id="8340d-110">Esta información incluye las orquestaciones, puertos de envío, ubicaciones de recepción y detalles del host.</span><span class="sxs-lookup"><span data-stu-id="8340d-110">This information includes orchestrations, send ports, receive locations, and host details.</span></span>  
  
-   <span data-ttu-id="8340d-111">**GetLiveMessageBody**.</span><span class="sxs-lookup"><span data-stu-id="8340d-111">**GetLiveMessageBody**.</span></span> <span data-ttu-id="8340d-112">Este método toma como parámetros de un identificador de mensaje y un identificador de instancia y devuelve el cuerpo del mensaje, desde el entorno activo como un **BTMsgBody** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-112">This method takes as parameters a message ID and an instance ID, and it returns the body of that message from the live environment as a **BTMsgBody** instance.</span></span>  
  
-   <span data-ttu-id="8340d-113">**GetMessageInstances**.</span><span class="sxs-lookup"><span data-stu-id="8340d-113">**GetMessageInstances**.</span></span> <span data-ttu-id="8340d-114">Este método toma como parámetro, el tipo de mensaje y devuelve todos los mensajes coincidentes como una colección de **BTMsgInstance** objetos.</span><span class="sxs-lookup"><span data-stu-id="8340d-114">This method takes as a parameter the message type, and it returns all matching messages as a collection of **BTMsgInstance** objects.</span></span>  
  
-   <span data-ttu-id="8340d-115">**GetOrchestrationInstances**.</span><span class="sxs-lookup"><span data-stu-id="8340d-115">**GetOrchestrationInstances**.</span></span> <span data-ttu-id="8340d-116">Este método toma como parámetros el nombre de una orquestación y devuelve una colección de **BTOrchestrationInstance** objetos que contienen detalles de las orquestaciones coincidentes.</span><span class="sxs-lookup"><span data-stu-id="8340d-116">This method takes as parameters the name of an orchestration, and it returns a collection of **BTOrchestrationInstance** object that contain details of the matching orchestrations.</span></span>  
  
-   <span data-ttu-id="8340d-117">**GetTrackedMessageBody**.</span><span class="sxs-lookup"><span data-stu-id="8340d-117">**GetTrackedMessageBody**.</span></span> <span data-ttu-id="8340d-118">Este método toma como parámetro un GUID del mensaje y devuelve el cuerpo del mensaje, como un **BTMsgBody** instancia después de que se procesa en BizTalk.</span><span class="sxs-lookup"><span data-stu-id="8340d-118">This method takes as a parameter a message GUID, and it returns the body of that message as a **BTMsgBody** instance after it is processed in BizTalk.</span></span>  
  
-   <span data-ttu-id="8340d-119">**Hosts**.</span><span class="sxs-lookup"><span data-stu-id="8340d-119">**Hosts**.</span></span> <span data-ttu-id="8340d-120">Este método toma como parámetro el nombre de un host, y devuelve información sobre la instancia de host especificado como una colección de **BTHost** instancias.</span><span class="sxs-lookup"><span data-stu-id="8340d-120">This method takes as a parameter the name of a host, and it returns information about the specified host instance as a collection of **BTHost** instances.</span></span> <span data-ttu-id="8340d-121">Use una cadena vacía para el parámetro de nombre de host para devolver información sobre todas las instancias de host.</span><span class="sxs-lookup"><span data-stu-id="8340d-121">Use an empty string for the host name parameter to return information about all host instances.</span></span>  
  
-   <span data-ttu-id="8340d-122">**MessageFlowTree**.</span><span class="sxs-lookup"><span data-stu-id="8340d-122">**MessageFlowTree**.</span></span> <span data-ttu-id="8340d-123">Este método toma como parámetro un identificador de instancia y devuelve los detalles de flujo de mensajes para ese mensaje como una **RouteTreeNode** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-123">This method takes as a parameter an instance ID, and it returns details of the message flow for that message as a **RouteTreeNode** instance.</span></span>  
  
-   <span data-ttu-id="8340d-124">**Orquestaciones**.</span><span class="sxs-lookup"><span data-stu-id="8340d-124">**Orchestrations**.</span></span> <span data-ttu-id="8340d-125">Este método toma como parámetro el nombre de una orquestación y devuelve toda la información de esa orquestación como un **BTSysStatus** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-125">This method takes as a parameter the name of an orchestration, and it returns all the information for that orchestration as a **BTSysStatus** instance.</span></span> <span data-ttu-id="8340d-126">Use una cadena vacía para el parámetro de nombre de la orquestación para devolver información sobre todas las orquestaciones.</span><span class="sxs-lookup"><span data-stu-id="8340d-126">Use an empty string for the orchestration name parameter to return information about all orchestrations.</span></span>  
  
-   <span data-ttu-id="8340d-127">**ReceiveLocations**.</span><span class="sxs-lookup"><span data-stu-id="8340d-127">**ReceiveLocations**.</span></span> <span data-ttu-id="8340d-128">Este método toma como parámetro el nombre de una ubicación de recepción, y devuelve toda la información para la coincidencia de ubicaciones como un **BTSysStatus** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-128">This method takes as a parameter the name of a receive location, and it returns all the information for matching locations as a **BTSysStatus** instance.</span></span> <span data-ttu-id="8340d-129">Use una cadena vacía para el parámetro de nombre de ubicaciones de recepción para devolver información sobre todas las ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="8340d-129">Use an empty string for the receive locations name parameter to return information about all locations.</span></span>  
  
-   <span data-ttu-id="8340d-130">**ReceiveLocationsByDescription**.</span><span class="sxs-lookup"><span data-stu-id="8340d-130">**ReceiveLocationsByDescription**.</span></span> <span data-ttu-id="8340d-131">Este método toma como parámetro, la descripción de una ubicación de recepción, y devuelve toda la información para la coincidencia de ubicaciones como un **BTSysStatus** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-131">This method takes as a parameter the description of a receive location, and it returns all the information for matching locations as a **BTSysStatus** instance.</span></span> <span data-ttu-id="8340d-132">Use una cadena vacía para el parámetro description para devolver información sobre todas las ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="8340d-132">Use an empty string for the description parameter to return information about all locations.</span></span>  
  
-   <span data-ttu-id="8340d-133">**PuertosEnvío**.</span><span class="sxs-lookup"><span data-stu-id="8340d-133">**SendPorts**.</span></span> <span data-ttu-id="8340d-134">Este método toma como parámetro el nombre de un puerto de envío, y devuelve toda la información para la coincidencia de puertos como una **BTSysStatus** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-134">This method takes as a parameter the name of a send port, and it returns all the information for matching ports as a **BTSysStatus** instance.</span></span> <span data-ttu-id="8340d-135">Use una cadena vacía para el parámetro de nombre de puerto de envío para devolver información acerca de todos los puertos.</span><span class="sxs-lookup"><span data-stu-id="8340d-135">Use an empty string for the send port name parameter to return information about all ports.</span></span>  
  
-   <span data-ttu-id="8340d-136">**SendPortsByDescription**.</span><span class="sxs-lookup"><span data-stu-id="8340d-136">**SendPortsByDescription**.</span></span> <span data-ttu-id="8340d-137">Este método toma como parámetro, la descripción de un puerto de envío, y devuelve toda la información para la coincidencia de puertos como una **BTSysStatus** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-137">This method takes as a parameter the description of a send port, and it returns all the information for matching ports as a **BTSysStatus** instance.</span></span> <span data-ttu-id="8340d-138">Utilice una cadena vacía para el parámetro description para devolver información acerca de todos los puertos.</span><span class="sxs-lookup"><span data-stu-id="8340d-138">Use an empty string for the description parameter to return information about all ports.</span></span>  
  
-   <span data-ttu-id="8340d-139">**StatusChanged**.</span><span class="sxs-lookup"><span data-stu-id="8340d-139">**StatusChanged**.</span></span> <span data-ttu-id="8340d-140">Este método toma como parámetro una marca de tiempo y devuelve los detalles de objetos de BizTalk (por ejemplo, puertos, los hosts y las orquestaciones) modificados desde la marca de tiempo especificado como un **BTSysStatus** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-140">This method takes as a parameter a timestamp, and it returns details of BizTalk objects (such as ports, hosts, and orchestrations) modified since the specified timestamp as a **BTSysStatus** instance.</span></span>  
  
-   <span data-ttu-id="8340d-141">**SystemStatus**.</span><span class="sxs-lookup"><span data-stu-id="8340d-141">**SystemStatus**.</span></span> <span data-ttu-id="8340d-142">Este método no toma ningún parámetro y devuelve información detallada sobre el estado de sistema de BizTalk como un **BTSysStatus** instancia.</span><span class="sxs-lookup"><span data-stu-id="8340d-142">This method takes no parameters, and it returns full details of the BizTalk system status as a **BTSysStatus** instance.</span></span>  
  
-   <span data-ttu-id="8340d-143">**UpdateReceiveLocationDescription**.</span><span class="sxs-lookup"><span data-stu-id="8340d-143">**UpdateReceiveLocationDescription**.</span></span> <span data-ttu-id="8340d-144">Este método actualiza la descripción de una ubicación de recepción especificada utilizando los valores de parámetros que contienen el nombre de la aplicación, el nombre de puerto de recepción, el nombre de la ubicación de recepción y la descripción de la ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="8340d-144">This method updates the description of a specified receive location using parameter values that contain the application name, the receive port name, the receive location name, and the receive location description.</span></span> <span data-ttu-id="8340d-145">Devuelve una cadena que indica el resultado de la operación.</span><span class="sxs-lookup"><span data-stu-id="8340d-145">It returns a String that indicates the result of the operation.</span></span> <span data-ttu-id="8340d-146">Tenga en cuenta que la aplicación de cliente de prueba lee esta información mediante el archivo App.config.</span><span class="sxs-lookup"><span data-stu-id="8340d-146">Note that the test client application reads this information from its App.config file.</span></span>  
  
-   <span data-ttu-id="8340d-147">**UpdateSendPortDescription**.</span><span class="sxs-lookup"><span data-stu-id="8340d-147">**UpdateSendPortDescription**.</span></span> <span data-ttu-id="8340d-148">Este método actualiza la descripción de un puerto de envío especificado con valores de parámetros que contienen el nombre del puerto de envío y la descripción del puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="8340d-148">This method updates the description of a specified send port using parameter values that contain the send port name and the send port description.</span></span> <span data-ttu-id="8340d-149">Devuelve una cadena que indica el resultado de la operación.</span><span class="sxs-lookup"><span data-stu-id="8340d-149">It returns a String that indicates the result of the operation.</span></span> <span data-ttu-id="8340d-150">Tenga en cuenta que la aplicación de cliente de prueba lee esta información mediante el archivo App.config.</span><span class="sxs-lookup"><span data-stu-id="8340d-150">Note that the test client application reads this information from its App.config file.</span></span>  
  
## <a name="configuring-the-biztalk-operations-web-service"></a><span data-ttu-id="8340d-151">Configurar el servicio Web de las operaciones de BizTalk</span><span class="sxs-lookup"><span data-stu-id="8340d-151">Configuring the BizTalk Operations Web Service</span></span>  
 <span data-ttu-id="8340d-152">El servicio Web de las operaciones de BizTalk o se comunica directamente con las bases de datos de administración de BizTalk Server mediante Instrumental de administración de Windows (WMI) o utiliza las operaciones de BizTalk y la API del explorador para obtener la información que necesita.</span><span class="sxs-lookup"><span data-stu-id="8340d-152">The BizTalk Operations Web service either communicates directly with the BizTalk Server management databases using Windows Management Instrumentation (WMI) or it uses the BizTalk Operations and Explorer API to obtain the information it requires.</span></span> <span data-ttu-id="8340d-153">Por lo tanto, debe asegurarse de que su sistema cumple las siguientes condiciones y que configure la configuración de permisos de seguridad siguientes:</span><span class="sxs-lookup"><span data-stu-id="8340d-153">Therefore, you must make sure that your system meets the following conditions and that you configure the following security permission settings:</span></span>  
  
-   <span data-ttu-id="8340d-154">Establecer el **allowOverride** atributo en el archivo Web.config de nivel de equipo para **false** para asegurarse de que los desarrolladores no pueden cambiar el nivel de confianza de sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="8340d-154">Set the **allowOverride** attribute in the machine-level Web.config file to **false** to make sure developers cannot change the trust level of their applications.</span></span>  
  
-   <span data-ttu-id="8340d-155">De forma predeterminada, el servicio Web de las operaciones de BizTalk no está configurado para que requiera Secure Sockets Layer (SSL) a los que tienen acceso los clientes.</span><span class="sxs-lookup"><span data-stu-id="8340d-155">By default, the BizTalk Operations Web service is not configured to require Secure Sockets Layer (SSL) when accessed by clients.</span></span> <span data-ttu-id="8340d-156">Debe configurar el servicio para que requiere SSL para el acceso de cliente y proteger la conexión entre el equipo de host del servicio Web de Internet Information Services (IIS) y el equipo que ejecuta SQL Server que hospeda la base de datos de BizTalkMgmtDb mediante IPSec de nivel de red y permisos de lista (ACL) de control de acceso de nivel de archivo adecuado.</span><span class="sxs-lookup"><span data-stu-id="8340d-156">You should configure the service so that it requires SSL for client access, and protect the connection between the Internet Information Services (IIS) Web service host computer and the computer running SQL Server that hosts the BizTalkMgmtDb database using network-level IPSec and appropriate file-level access control list (ACL) permissions.</span></span>  
  
-   <span data-ttu-id="8340d-157">Los usuarios tener acceso al servicio Web de las operaciones de BizTalk deben ser miembros del grupo de administradores de BizTalk Server de forma predeterminada para algunos métodos y miembros del grupo de usuarios de la aplicación de BizTalk predeterminado para los otros métodos.</span><span class="sxs-lookup"><span data-stu-id="8340d-157">Users accessing the BizTalk Operations Web service must be members of the default BizTalk Server Administrators group for some methods and members of the default BizTalk Application Users group for other methods.</span></span>  
  
-   <span data-ttu-id="8340d-158">Debe asegurarse de que el servicio Web de las operaciones de BizTalk reside en un directorio virtual de IIS denominado ESB.BizTalkOperationsService que tenga deshabilitado el acceso anónimo.</span><span class="sxs-lookup"><span data-stu-id="8340d-158">You must make sure that the BizTalk Operations Web service resides in an IIS virtual directory named ESB.BizTalkOperationsService that has anonymous access disabled.</span></span>  
  
-   <span data-ttu-id="8340d-159">Los usuarios deben tener **seleccione** permiso en SQL Server para varias tablas que se encuentra en la base de datos de BizTalkMgmtDb y la base de datos BizTalkMsgBoxDb.</span><span class="sxs-lookup"><span data-stu-id="8340d-159">Users must have **SELECT** permission in SQL Server for several tables located in the BizTalkMgmtDb database and the BizTalkMsgBoxDb database.</span></span> <span data-ttu-id="8340d-160">Use SQL Server Management Studio para establecer los permisos siguientes:</span><span class="sxs-lookup"><span data-stu-id="8340d-160">Use SQL Server Management Studio to set the following permissions:</span></span>  
  
    -   <span data-ttu-id="8340d-161">En la base de datos BizTalkMgmtDb, configurar el rol de base de datos BTS_ADMIN_USERS con **seleccione** permiso en las tablas siguientes:</span><span class="sxs-lookup"><span data-stu-id="8340d-161">In the BizTalkMgmtDb database, configure the BTS_ADMIN_USERS database role with **SELECT** permission on the following tables:</span></span>  
  
        -   <span data-ttu-id="8340d-162">adm_Server2HostMapping</span><span class="sxs-lookup"><span data-stu-id="8340d-162">adm_Server2HostMapping</span></span>  
  
        -   <span data-ttu-id="8340d-163">adm_Server</span><span class="sxs-lookup"><span data-stu-id="8340d-163">adm_Server</span></span>  
  
        -   <span data-ttu-id="8340d-164">adm_hostInstance</span><span class="sxs-lookup"><span data-stu-id="8340d-164">adm_hostInstance</span></span>  
  
    -   <span data-ttu-id="8340d-165">En la base de datos BizTalkMsgBoxDb, configurar el rol de base de datos BTS_ADMIN_USER con **seleccione** permiso en la tabla ProcessHeartbeats.</span><span class="sxs-lookup"><span data-stu-id="8340d-165">In the BizTalkMsgBoxDb database, configure the BTS_ADMIN_USER database role with **SELECT** permission on the ProcessHeartbeats table.</span></span>  
  
 <span data-ttu-id="8340d-166">En SQL Server Management Studio, puede configurar los permisos necesarios.</span><span class="sxs-lookup"><span data-stu-id="8340d-166">In SQL Server Management Studio, you can configure the required permissions.</span></span> <span data-ttu-id="8340d-167">Para ello, expanda **seguridad** en la vista de árbol del panel izquierdo del explorador de objetos, expanda **Roles**, expanda **DatabaseRoles**, seleccione el rol BTS_ADMIN_USERS y, a continuación, edite la propiedades de este rol, tal y como se muestra en la figura 1.</span><span class="sxs-lookup"><span data-stu-id="8340d-167">To do this, expand **Security** in the left pane tree view of Object Explorer, expand **Roles**, expand **DatabaseRoles**, select the BTS_ADMIN_USERS role, and then edit the properties for this role, as shown in Figure 1.</span></span>  
  
 <span data-ttu-id="8340d-168">![SQL Server Management Studio](../esb-toolkit/media/ch4-sqlservermgmtstudio.gif "SQLServerMgmtStudio Ch4")</span><span class="sxs-lookup"><span data-stu-id="8340d-168">![SQL Server Mgmt Studio](../esb-toolkit/media/ch4-sqlservermgmtstudio.gif "Ch4-SQLServerMgmtStudio")</span></span>  
  
 <span data-ttu-id="8340d-169">**Figura 1**</span><span class="sxs-lookup"><span data-stu-id="8340d-169">**Figure 1**</span></span>  
  
 <span data-ttu-id="8340d-170">**Editar permisos para el rol de base de datos BTS_ADMIN_USERS en Microsoft SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="8340d-170">**Editing permissions for the BTS_ADMIN_USERS database role in Microsoft SQL Server Management Studio**</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8340d-171">Debe configurar este servicio para usar seguridad integrada de Windows y ejecutar en la cuenta de servicio de red integrada.</span><span class="sxs-lookup"><span data-stu-id="8340d-171">You must configure this service to use Windows Integrated Security and run under the built-in NETWORK SERVICE account.</span></span> <span data-ttu-id="8340d-172">También debe habilitar la autenticación Kerberos en el servidor Web de IIS para que envía el encabezado **Negotiate, NTLM** al cliente.</span><span class="sxs-lookup"><span data-stu-id="8340d-172">You must also enable Kerberos authentication on your IIS Web server so that it sends the header **Negotiate,NTLM** to the client.</span></span> <span data-ttu-id="8340d-173">Para obtener más información, consulte [cómo configurar IIS para que admita el protocolo Kerberos y el protocolo NTLM para la autenticación de red](http://go.microsoft.com/fwlink/?LinkId=186430)([http://go.microsoft.com/fwlink/?LinkId=186430](http://go.microsoft.com/fwlink/?LinkId=186430)).</span><span class="sxs-lookup"><span data-stu-id="8340d-173">For more information, see [How to configure IIS to support both the Kerberos protocol and the NTLM protocol for network authentication](http://go.microsoft.com/fwlink/?LinkId=186430)([http://go.microsoft.com/fwlink/?LinkId=186430](http://go.microsoft.com/fwlink/?LinkId=186430)).</span></span>  
>   
>  <span data-ttu-id="8340d-174">De forma predeterminada, el servicio Web de las operaciones de BizTalk no está configurado para requerir SSL cuando tiene acceso a los clientes.</span><span class="sxs-lookup"><span data-stu-id="8340d-174">By default, the BizTalk Operations Web service is not configured to require SSL when accessed by clients.</span></span> <span data-ttu-id="8340d-175">Debe configurar el servicio para que requiere SSL para el acceso de cliente y proteger la conexión entre el equipo de host del servicio Web de IIS y el servidor que hospeda el servicio UDDI mediante IPSec de nivel de red y los permisos adecuados de ACL de nivel de archivo.</span><span class="sxs-lookup"><span data-stu-id="8340d-175">You should configure the service so that it requires SSL for client access and protect the connection between the IIS Web service host computer and the server that hosts the UDDI service using network-level IPSec and appropriate file-level ACL permissions.</span></span>