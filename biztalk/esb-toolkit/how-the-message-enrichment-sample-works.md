---
title: Cómo funciona el ejemplo de enriquecimiento de mensajes | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 1188c1c9-b133-4438-b41c-ea6cffcf40fd
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5ef516b992acbcee2936edb6341cbf1434ba4c79
ms.sourcegitcommit: 7497f6f23d7aadfa8535d0530493f8b4a2a50a0b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/22/2017
ms.locfileid: "22303676"
---
# <a name="how-the-message-enrichment-sample-works"></a><span data-ttu-id="10edc-102">Cómo funciona el ejemplo de enriquecimiento de mensajes</span><span class="sxs-lookup"><span data-stu-id="10edc-102">How the Message Enrichment Sample Works</span></span>
 <span data-ttu-id="10edc-103">El ejemplo Message Enrichment muestra que es posible encapsular un patrón de integración como un servicio genérico reutilizable.</span><span class="sxs-lookup"><span data-stu-id="10edc-103">The Message Enrichment sample demonstrates that it is possible to encapsulate an integration pattern as a generic reusable service.</span></span> <span data-ttu-id="10edc-104">En este caso, el ejemplo implementa el modelo de contenido Enricher.</span><span class="sxs-lookup"><span data-stu-id="10edc-104">In this case the sample implements the Content Enricher pattern.</span></span> <span data-ttu-id="10edc-105">El modelo de contenido Enricher normalmente implica el uso de una transformación para preparar un mensaje para su transmisión a un servicio externo con el fin de obtener información de búsqueda y, a continuación, otra transformación para incorporar la respuesta a un mensaje nuevo que también contiene los datos de la mensaje original.</span><span class="sxs-lookup"><span data-stu-id="10edc-105">The Content Enricher pattern generally involves using a transform to prepare a message for transmission to an external service in order to lookup information, and then another transform to incorporate the response into a new message which also contains data from the original message.</span></span> <span data-ttu-id="10edc-106">Para implementar el patrón de forma genérica, el ejemplo Message Enrichment proporciona un servicio de itinerarios basado en la orquestación que puede usar a hasta dos resoluciones para configurar el enriquecimiento de un mensaje con información de un origen externo.</span><span class="sxs-lookup"><span data-stu-id="10edc-106">In order to implement the pattern in a generic fashion, the Message Enrichment sample provides an orchestration-based itinerary service that can use up to two resolvers to configure enrichment of a message using information from an external source.</span></span>
  
 <span data-ttu-id="10edc-107">La primera resolución debe devolver información de enrutamiento; También puede devolver transformar la información junto a él.</span><span class="sxs-lookup"><span data-stu-id="10edc-107">The first resolver must return routing information; it can also return transform information alongside it.</span></span> <span data-ttu-id="10edc-108">Si se especifica, la transformación se aplica al mensaje entrante antes de que se enrutan a la ubicación especificada por la resolución.</span><span class="sxs-lookup"><span data-stu-id="10edc-108">If specified, the transform is applied to the incoming message before being routed to the location specified by the resolver.</span></span> <span data-ttu-id="10edc-109">En el itinerario de ejemplo proporcionado, el proveedor del adaptador de WCF-Custom se usa para ejecutar un procedimiento almacenado SQL dentro de la base de datos de GlobalBankESB denominado GetOrderDetails y devolver el resultado.</span><span class="sxs-lookup"><span data-stu-id="10edc-109">In the provided sample itinerary, the WCF-Custom adapter provider is used to execute a SQL stored procedure within the GlobalBankESB database named GetOrderDetails and return the result.</span></span>  
  
 <span data-ttu-id="10edc-110">Si lo desea, puede incluirse un solucionador de segundo.</span><span class="sxs-lookup"><span data-stu-id="10edc-110">Optionally, a second resolver can be included.</span></span> <span data-ttu-id="10edc-111">Si se proporciona, la segunda resolución debe incluir información de transformación.</span><span class="sxs-lookup"><span data-stu-id="10edc-111">If provided, the second resolver must include transformation information.</span></span> <span data-ttu-id="10edc-112">Esta transformación se proporcionará el mensaje original y el resultado, devuelto por el origen de datos se puso en contacto con, como entrada.</span><span class="sxs-lookup"><span data-stu-id="10edc-112">This transform will be given the original message and the result, returned by whichever data source was contacted, as input.</span></span> <span data-ttu-id="10edc-113">En el itinerario de ejemplo, un mapa que se hace referencia que utiliza una functoid de bucle de tabla para extraer información del mensaje original y el resultado del procedimiento almacenado e incluir dentro del mensaje InventoryOrder resultante.</span><span class="sxs-lookup"><span data-stu-id="10edc-113">In the sample itinerary, a map is referenced that uses a table looping functoid to pull information out of the original message and the result of the stored procedure and include it inside the resulting InventoryOrder message.</span></span>
