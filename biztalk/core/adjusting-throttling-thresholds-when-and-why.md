---
title: 'Ajustar umbrales de limitación: Cuándo y por qué | Documentos de Microsoft'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9afb26c8-e5f4-4b78-9a45-a1263e3cb6ab
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3b49ae78d4b2d0cf2dabfc69af9023b1e8676dea
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22229932"
---
# <a name="adjusting-throttling-thresholds-when-and-why"></a><span data-ttu-id="ada14-102">Ajustar umbrales de limitación: Cuándo y por qué</span><span class="sxs-lookup"><span data-stu-id="ada14-102">Adjusting Throttling Thresholds: When and Why</span></span>
<span data-ttu-id="ada14-103">Cuando se trata de la limitación, un tamaño no se ajusta a todo.</span><span class="sxs-lookup"><span data-stu-id="ada14-103">When it comes to throttling, one size does not fit all.</span></span> <span data-ttu-id="ada14-104">Existe una serie de factores que determinarán lo que será una configuración óptima.</span><span class="sxs-lookup"><span data-stu-id="ada14-104">There are a range of factors that will determine what the optimal settings should be.</span></span> <span data-ttu-id="ada14-105">BizTalk Server proporciona los valores predeterminados que se ha probado que protegen con eficacia un sistema de aspectos como la sobrecarga que supone el trabajo acumulado.</span><span class="sxs-lookup"><span data-stu-id="ada14-105">Out of the box, BizTalk Server provides default values that have been proven through testing to effectively protect a system from things like backlog overages.</span></span> <span data-ttu-id="ada14-106">Sin embargo, para determinados escenarios, puede ser demasiado agresivo.</span><span class="sxs-lookup"><span data-stu-id="ada14-106">However, for some scenarios, this may be too aggressive.</span></span> <span data-ttu-id="ada14-107">Los siguientes ejemplos muestran esta función.</span><span class="sxs-lookup"><span data-stu-id="ada14-107">The following examples illustrate this point.</span></span>  
  
## <a name="example-1-peak-loads-and-database-size"></a><span data-ttu-id="ada14-108">Ejemplo 1: Picos de carga y el tamaño de la base de datos</span><span class="sxs-lookup"><span data-stu-id="ada14-108">Example 1: Peak Loads and Database Size</span></span>  
 <span data-ttu-id="ada14-109">Cada solución basada en BizTalk Server tiene un rendimiento máximo sostenible (MST).</span><span class="sxs-lookup"><span data-stu-id="ada14-109">Each solution built on BizTalk Server has a maximum sustainable throughput (MST).</span></span> <span data-ttu-id="ada14-110">Siempre que la carga permanezca por debajo de este nivel, el sistema puede mantener esa carga de forma indefinida, por definición.</span><span class="sxs-lookup"><span data-stu-id="ada14-110">As long as load stays below this level, the system can sustain that load indefinitely, by definition.</span></span> <span data-ttu-id="ada14-111">En la práctica, sin embargo, es más común encontrar en el perfil de carga valores máximos y mínimos que una carga continua que no varíe con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="ada14-111">In practice, however, it is more common to have peaks and valleys in the load profile than it is to have a steady load that doesn’t vary over time.</span></span>  
  
 <span data-ttu-id="ada14-112">En lugar de crear un sistema que sea capaz de mantener los valores máximos de carga de forma indefinida, resulta más eficaz crear un sistema que pueda controlar algunos trabajos acumulados durante períodos de carga máxima, y que se recupere en situaciones de valores mínimos.</span><span class="sxs-lookup"><span data-stu-id="ada14-112">Rather than build a system that is capable of sustaining the highest peak loads indefinitely, it is more cost effective to build a system that can handle some backlog under peak load, and recover during the valleys.</span></span> <span data-ttu-id="ada14-113">Sin embargo, si el trabajo acumulado que se espera durante cargas máximas es mayor que el valor de limitación predeterminado para el tamaño de la base de datos, el sistema bloqueará el trabajo acumulado limitando la entrada.</span><span class="sxs-lookup"><span data-stu-id="ada14-113">However, if the backlog expected during the peak loads is higher than the default throttling value for database size, then the system will block the backlog by throttling the input.</span></span> <span data-ttu-id="ada14-114">Si esto no es deseable, por ejemplo, porque necesita que se consuman todos los archivos de entrada tan pronto como sea posible, la solución es aumentar el umbral del tamaño de la base de datos para aceptar el trabajo acumulado esperado antes de la limitación.</span><span class="sxs-lookup"><span data-stu-id="ada14-114">If this is not desirable, for example, because you need all of the input files to be consumed as quickly as possible, then the solution is to raise the database size threshold to accept the expected backlog before throttling.</span></span>  
  
## <a name="example-2-memory-usage-optimization"></a><span data-ttu-id="ada14-115">Ejemplo 2: Optimización del uso de memoria</span><span class="sxs-lookup"><span data-stu-id="ada14-115">Example 2: Memory Usage Optimization</span></span>  
 <span data-ttu-id="ada14-116">Otro recurso que usa la limitación para estimar la velocidad de procesamiento es de cuánta memoria se dispone para alojar procesos.</span><span class="sxs-lookup"><span data-stu-id="ada14-116">Another resource that throttling uses in order to gauge processing speed is how much memory is available to host processes.</span></span> <span data-ttu-id="ada14-117">Si la memoria disponible es muy poca comparada con el umbral, la limitación reducirá el número de mensajes que recupera el motor desde las colas del host en las que se va a trabajar.</span><span class="sxs-lookup"><span data-stu-id="ada14-117">If the available memory gets too small compared to the threshold, throttling will slow down the number of messages the engine retrieves from the host queues to be worked on.</span></span> <span data-ttu-id="ada14-118">Dada la diferencia en cantidad y disponibilidad de memoria de los servidores de clases empresariales actuales, especialmente con compatiblidad con x64 en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], es probable que el umbral deba elevarse o bajarse para optimizar el uso de memoria.</span><span class="sxs-lookup"><span data-stu-id="ada14-118">Given the variability in the amount and availability of memory on today’s enterprise class servers, especially with x64 support in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], the threshold may very well need to be raised or lowered to optimize memory usage.</span></span>  
  
## <a name="recommendation"></a><span data-ttu-id="ada14-119">Recomendación</span><span class="sxs-lookup"><span data-stu-id="ada14-119">Recommendation</span></span>  
 <span data-ttu-id="ada14-120">La limitación en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] está configurada de forma predeterminada para proporcionar una buena protección para el sistema.</span><span class="sxs-lookup"><span data-stu-id="ada14-120">Throttling in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is configured by default to provide good protection for the system out of the box.</span></span> <span data-ttu-id="ada14-121">Sin embargo, no debería darse por sentado que la configuración predeterminada sea óptima.</span><span class="sxs-lookup"><span data-stu-id="ada14-121">The default settings should not, however, be taken for granted as optimal.</span></span> <span data-ttu-id="ada14-122">Supervise el estado de limitación de los contadores de rendimiento para ver si se está aplicando la limitación, analice si el recurso en el que se basa la limitación (por ejemplo, el tamaño de la base de datos o el uso de la memoria) se está infrautilizando o utilizando en exceso y ajuste, a continuación, los umbrales de limitación según corresponda.</span><span class="sxs-lookup"><span data-stu-id="ada14-122">Monitor the performance counters for throttling states to see if throttling is taking place, then gauge for yourself if the resource on which throttling is based (for example, database size or memory usage) is under or over utilized, then adjust the throttling thresholds up or down accordingly.</span></span>