---
title: Usar vínculos de rol en orquestaciones | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- role links
- roles, links
- roles
- roles, about roles
- role links, about role links
- role links, properties
- role links, initializing
ms.assetid: 0cf85544-12c9-4541-8925-61a6e946cce0
caps.latest.revision: 20
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0e3c4e4a4c3a99fb6e1962299d440717eaa8d51b
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22288468"
---
# <a name="using-role-links-in-orchestrations"></a><span data-ttu-id="14bdd-102">Usar vínculos de rol en orquestaciones</span><span class="sxs-lookup"><span data-stu-id="14bdd-102">Using Role Links in Orchestrations</span></span>
<span data-ttu-id="14bdd-103">Los vínculos de rol constituyen una abstracción de las interacciones entre la orquestación y sus socios comerciales.</span><span class="sxs-lookup"><span data-stu-id="14bdd-103">Role links are a form of abstraction for the interactions between your orchestration and your trading partners.</span></span> <span data-ttu-id="14bdd-104">Los vínculos de rol permiten elegir de manera dinámica con qué socio comercial desea interactuar según la resolución de éste último, el contenido del mensaje o los resultados de una búsqueda en la base de datos, manteniendo intacto el proceso empresarial global.</span><span class="sxs-lookup"><span data-stu-id="14bdd-104">Role links enable you to dynamically choose which trading partner to interact with based on trading partner resolution, message content, or the results of a database lookup while maintaining your overall business process intact.</span></span>  
  
 <span data-ttu-id="14bdd-105">Por ejemplo, en un escenario de negocio a negocio, existen varios compradores, un solo proveedor y varias agencias de envío para el proveedor.</span><span class="sxs-lookup"><span data-stu-id="14bdd-105">For example, in a business-to-business scenario, there are multiple buyers, a single supplier, and multiple shipping agencies for the supplier.</span></span> <span data-ttu-id="14bdd-106">Cuando un comprador envía un pedido al proveedor, éste último sabe, gracias a la resolución de entidades, qué comprador envía el pedido, y puede aplicarle el descuento apropiado.</span><span class="sxs-lookup"><span data-stu-id="14bdd-106">When a buyer sends a purchase order to the supplier, the supplier knows through party resolution which buyer is sending the purchase order and can apply the appropriate discount.</span></span> <span data-ttu-id="14bdd-107">Además, según los productos del pedido, el proveedor determina en tiempo de ejecución qué agencia de envío se encargará de la entrega.</span><span class="sxs-lookup"><span data-stu-id="14bdd-107">Moreover, based on the goods ordered, the supplier determines at run time which shipping agency will be in charge of the delivery.</span></span> <span data-ttu-id="14bdd-108">Aunque cada agencia de envío puede tener su propio protocolo de transporte, el proveedor puede usar el mismo proceso empresarial en tiempo de ejecución para controlar todas las agencias de envío y determinar con cuál de ellas desea interactuar.</span><span class="sxs-lookup"><span data-stu-id="14bdd-108">Although each shipping agency may have its own transport protocol, the supplier can use the same business process at run time to handle all the shipping agencies and determine which agency to interact with.</span></span> <span data-ttu-id="14bdd-109">En una fase posterior, si una agencia de envío actualiza su protocolo de transporte, por ejemplo, de FTP a HTTP, el proveedor solo tendrá que usar el Explorador de BizTalk o la consola de administración de BizTalk Server para actualizar el puerto de envío asociado a esa Agencia de envío concreta.</span><span class="sxs-lookup"><span data-stu-id="14bdd-109">At a later stage, if a shipping agency updates its transport protocol—for example, from FTP to HTTP—the supplier only needs to use BizTalk Explorer or the BizTalk Server Administration console to update the send port associated with that particular shipping agency.</span></span> <span data-ttu-id="14bdd-110">El proveedor no tendrá que modificar su proceso empresarial, que reside en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="14bdd-110">The supplier does not need to change its business process, which resides in the orchestration.</span></span>  
  
## <a name="roles"></a><span data-ttu-id="14bdd-111">Roles</span><span class="sxs-lookup"><span data-stu-id="14bdd-111">Roles</span></span>  
 <span data-ttu-id="14bdd-112">Existen dos roles en una orquestación:</span><span class="sxs-lookup"><span data-stu-id="14bdd-112">There are two roles in an orchestration:</span></span>  
  
-   <span data-ttu-id="14bdd-113">Un rol de "implementaciones" para recibir y procesar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="14bdd-113">An "implements" role to receive and process messages.</span></span> <span data-ttu-id="14bdd-114">Este rol también se denomina el "proveedor".</span><span class="sxs-lookup"><span data-stu-id="14bdd-114">This role is also known as the provider.</span></span>  
  
-   <span data-ttu-id="14bdd-115">Un rol de "usos" para enviar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="14bdd-115">A "uses" role to send messages.</span></span> <span data-ttu-id="14bdd-116">Este rol también se denomina el "consumidor".</span><span class="sxs-lookup"><span data-stu-id="14bdd-116">This role is also known as the consumer.</span></span>  
  
## <a name="role-links"></a><span data-ttu-id="14bdd-117">Vínculos de función</span><span class="sxs-lookup"><span data-stu-id="14bdd-117">Role Links</span></span>  
 <span data-ttu-id="14bdd-118">Un vínculo de rol puede incluir un rol de consumidor o de proveedor, o uno de cada.</span><span class="sxs-lookup"><span data-stu-id="14bdd-118">A role link can include either a consumer or a provider role, or one of each.</span></span> <span data-ttu-id="14bdd-119">Un rol de consumidor consume los servicios proporcionados por el rol de proveedor.</span><span class="sxs-lookup"><span data-stu-id="14bdd-119">A consumer role consumes the services provided by the provider role.</span></span> <span data-ttu-id="14bdd-120">Al definir un vínculo de rol con uno de estos roles, o con ambos, se asume que el socio comercial cumple el rol complementario con el que está estableciendo el enlace.</span><span class="sxs-lookup"><span data-stu-id="14bdd-120">When you define a role link with one or both of these roles, it is assumed that the complementary role is being fulfilled by the partner with whom you are linking.</span></span>  
  
 <span data-ttu-id="14bdd-121">Un vínculo de función tiene un **SourceParty** propiedad, un **DestinationParty** propiedad y un rol de inicio.</span><span class="sxs-lookup"><span data-stu-id="14bdd-121">A role link has a **SourceParty** property, a **DestinationParty** property, and an initiating role.</span></span> <span data-ttu-id="14bdd-122">Un rol de inicio es el rol en el que se produce la primera comunicación y que, por tanto, inicia el vínculo de función estableciendo el valor de la **DestinationParty** propiedad.</span><span class="sxs-lookup"><span data-stu-id="14bdd-122">An initiating role is the role on which the first communication occurs, and which therefore initiates the role link by setting the value of the **DestinationParty** property.</span></span>  
  
 <span data-ttu-id="14bdd-123">Si el rol de inicio es un consumidor para enviar mensajes, se establece explícitamente el **DestinationParty** propiedad (una vez y solo una vez) en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="14bdd-123">If the initiating role is a consumer for sending messages, you explicitly set the **DestinationParty** property (once and only once) in your orchestration.</span></span> <span data-ttu-id="14bdd-124">Para ello, establezca el valor de la **DestinationParty** en el **expresión** forma, como en el ejemplo siguiente, donde ConfirmOrder es el nombre de un vínculo de función, y PartnerName y OrganizationName son parámetros de una entidad:</span><span class="sxs-lookup"><span data-stu-id="14bdd-124">To do so, you set the value of the **DestinationParty** in the **Expression** shape, as in the following example, where ConfirmOrder is the name of a role link, and PartnerName and OrganizationName are parameters of a party:</span></span>  
  
```  
ConfirmOrder(Microsoft.XLANGs.BaseTypes.DestinationParty) = new Microsoft.XLANGs.BaseTypes.Party("PartnerName", "OrganizationName");  
```  
  
 <span data-ttu-id="14bdd-125">Si el rol de inicio es un proveedor para recibir mensajes, la **DestinationParty** propiedad se inicializa automáticamente por el receptor.</span><span class="sxs-lookup"><span data-stu-id="14bdd-125">If the initiating role is a provider for receiving messages, the **DestinationParty** property is initialized automatically by the receiver.</span></span> <span data-ttu-id="14bdd-126">El **DestinationParty** se establece en el proveedor.</span><span class="sxs-lookup"><span data-stu-id="14bdd-126">The **DestinationParty** is set to the provider itself.</span></span> <span data-ttu-id="14bdd-127">El **SourceParty** propiedad es de solo lectura y se proporciona a través de un componente de canalización de confianza para resolver el nombre de la entidad en función del identificador de seguridad (SID) del remitente o de un certificado asociado a la entidad.</span><span class="sxs-lookup"><span data-stu-id="14bdd-127">The **SourceParty** property is read-only, and is supplied through a trusted pipeline component to resolve the party name based on the security identifier (SID) of the sender or on a certificate associated with the party.</span></span> <span data-ttu-id="14bdd-128">El host que ejecuta el componente de canalización debe marcarse como **autenticación de confianza**.</span><span class="sxs-lookup"><span data-stu-id="14bdd-128">The host running the pipeline component must be marked as **Authentication Trusted**.</span></span> <span data-ttu-id="14bdd-129">Puede obtener el valor de la **SourceParty** en el **expresión** forma mediante el código de ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="14bdd-129">You can get the value of the **SourceParty** in the **Expression** shape by using the following sample code:</span></span>  
  
 `PartyName = Buyer_Supplier(Microsoft.XLANGs.BaseTypes.SourceParty);`  
  
## <a name="role-link-types"></a><span data-ttu-id="14bdd-130">Tipos de vínculo de rol</span><span class="sxs-lookup"><span data-stu-id="14bdd-130">Role Link Types</span></span>  
 <span data-ttu-id="14bdd-131">Un vínculo de rol es una instancia de un tipo de vínculo de rol que consta de uno o dos roles.</span><span class="sxs-lookup"><span data-stu-id="14bdd-131">A role link is an instance of a role link type, which consists of either one or two roles.</span></span> <span data-ttu-id="14bdd-132">Tenga en cuenta lo siguiente cuando trabaje con un tipo de vínculo de rol:</span><span class="sxs-lookup"><span data-stu-id="14bdd-132">When working with a role link type, consider the following:</span></span>  
  
-   <span data-ttu-id="14bdd-133">solo puede hacer referencia una vez a un tipo de puerto concreto dentro de un tipo de vínculo de rol individual.</span><span class="sxs-lookup"><span data-stu-id="14bdd-133">You can refer only once to any given port type within a single role link type.</span></span>  
  
-   <span data-ttu-id="14bdd-134">Dado que una definición de tipo de vínculo de rol incluye tipos de puerto, el ámbito de un tipo de puerto debe incluir el de cualquier tipo de vínculo de rol que lo utilice.</span><span class="sxs-lookup"><span data-stu-id="14bdd-134">Because a role link type definition includes port types, the scope of a port type must encompass that of any role link type that uses it.</span></span>  
  
-   <span data-ttu-id="14bdd-135">Cuando trabaje con los Servicios de la actividad de negocio (BAS), el esquema de parámetros estructurados deberá definirse en el mismo ensamblado de BizTalk que el tipo de vínculo de rol al que esté asociado.</span><span class="sxs-lookup"><span data-stu-id="14bdd-135">When working with Business Activity Services (BAS), the structured parameter schema must be defined in the same BizTalk assembly as the role link type it is associated with.</span></span> <span data-ttu-id="14bdd-136">Puesto que el esquema está asociado al tipo de vínculo de rol, y no a los roles individuales que componen ese tipo de vínculo de rol, si las entidades que desempeñan los distintos roles comparten el ensamblado que contiene el tipo de vínculo de rol, ambas entidades verán los mismos esquemas de parámetros estructurados.</span><span class="sxs-lookup"><span data-stu-id="14bdd-136">Because the schema is associated with the role link type and not with the individual roles that make up that role link type, if the parties that play the different roles share the assembly containing the role link type, both parties will see the same structured parameter schemas.</span></span> <span data-ttu-id="14bdd-137">Si las dos entidades usan el mismo tipo de vínculo de rol pero tienen que tener esquemas de parámetros estructurados distintos, deberá crearse un ensamblado diferente para cada entidad.</span><span class="sxs-lookup"><span data-stu-id="14bdd-137">If the two parties use the same role link type but must have different parameter schemas, a different assembly should be created for each party.</span></span> <span data-ttu-id="14bdd-138">El tipo de vínculo de rol deberá duplicarse en cada ensamblado.</span><span class="sxs-lookup"><span data-stu-id="14bdd-138">The role link type should be duplicated in each assembly.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="14bdd-139">En esta sección</span><span class="sxs-lookup"><span data-stu-id="14bdd-139">In This Section</span></span>  
  
-   [<span data-ttu-id="14bdd-140">Cómo crear vínculos de rol en orquestaciones</span><span class="sxs-lookup"><span data-stu-id="14bdd-140">How to Create Role Links in Orchestrations</span></span>](../core/how-to-create-role-links-in-orchestrations.md)  
  
-   [<span data-ttu-id="14bdd-141">Cómo usar la forma de vínculo de función</span><span class="sxs-lookup"><span data-stu-id="14bdd-141">How to Use the Role Link Shape</span></span>](../core/how-to-use-the-role-link-shape.md)  
  
-   [<span data-ttu-id="14bdd-142">Cómo usar al Asistente para vínculo de función</span><span class="sxs-lookup"><span data-stu-id="14bdd-142">How to Use the Role Link Wizard</span></span>](../core/how-to-use-the-role-link-wizard.md)  
  
## <a name="see-also"></a><span data-ttu-id="14bdd-143">Vea también</span><span class="sxs-lookup"><span data-stu-id="14bdd-143">See Also</span></span>  
 <span data-ttu-id="14bdd-144">[Cómo configurar el componente de canalización de resolución de entidades](../core/how-to-configure-the-party-resolution-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="14bdd-144">[How to Configure the Party Resolution Pipeline Component](../core/how-to-configure-the-party-resolution-pipeline-component.md) </span></span>  
 [<span data-ttu-id="14bdd-145">Uso de puertos en orquestaciones</span><span class="sxs-lookup"><span data-stu-id="14bdd-145">Using Ports in Orchestrations</span></span>](../core/using-ports-in-orchestrations.md)