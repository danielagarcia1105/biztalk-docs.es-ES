---
title: 'TMA de ejemplo: Adaptador de puesta en cola de mensajes de BizTalk | Microsoft Docs'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- security examples [TMA], MSMQ adapters
- architecture, examples
- MSMQ adapters, TMA
- DFD, MSMQ adapters
- MSMQ adapters, data flow
ms.assetid: 15b4a540-2fcd-4668-b4b4-757f23ebd83e
caps.latest.revision: 23
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ec34f90e57df67c8c8a4fc84b10cdd2df8836f1f
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36994877"
---
# <a name="sample-tma-biztalk-message-queuing-adapter"></a><span data-ttu-id="be238-102">TMA de ejemplo: Adaptador de puesta en cola de mensaje de BizTalk</span><span class="sxs-lookup"><span data-stu-id="be238-102">Sample TMA: BizTalk Message Queuing Adapter</span></span>
<span data-ttu-id="be238-103">En este tema se presenta el análisis de modelo de amenazas (TMA) para el escenario del adaptador de Message Queue Server de BizTalk de la arquitectura de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="be238-103">This topic presents the threat model analysis (TMA) for the BizTalk Message Queuing adapter scenario for the sample architecture.</span></span>  
  
## <a name="step-1-collect-background-information-biztalk-message-queuing-adapter-scenario"></a><span data-ttu-id="be238-104">Paso 1.</span><span class="sxs-lookup"><span data-stu-id="be238-104">Step 1.</span></span> <span data-ttu-id="be238-105">Recopilar información básica (escenario del adaptador puesta en cola de mensaje de BizTalk)</span><span class="sxs-lookup"><span data-stu-id="be238-105">Collect Background Information (BizTalk Message Queuing Adapter Scenario)</span></span>  
 <span data-ttu-id="be238-106">Esta sección contiene el diagrama de flujo de datos (DFD) del escenario del adaptador de BizTalk para Message Queue de la arquitectura de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="be238-106">This section provides the data flow diagram (DFD) for the BizTalk Message Queuing adapter scenario for the sample architecture.</span></span> <span data-ttu-id="be238-107">La siguiente ilustración muestra la arquitectura de ejemplo del escenario de los adaptadores de HTTP y SOAP.</span><span class="sxs-lookup"><span data-stu-id="be238-107">The following figure shows the sample architecture for the HTTP and SOAP adapters scenario.</span></span>  
  
 <span data-ttu-id="be238-108">**Figura 1 arquitectura de ejemplo para el escenario del adaptador de BizTalk para Message Queue**</span><span class="sxs-lookup"><span data-stu-id="be238-108">**Figure 1 Sample architecture for the BizTalk Message Queuing adapter scenario**</span></span>  
  
 <span data-ttu-id="be238-109">![Ejemplo de arquitectura para Message Queue Server de BizTalk](../core/media/tdi-sec-refarch-msmq.gif "TDI_Sec_RefArch_MSMQ")</span><span class="sxs-lookup"><span data-stu-id="be238-109">![Sample architecture for BizTalk Message Queuing](../core/media/tdi-sec-refarch-msmq.gif "TDI_Sec_RefArch_MSMQ")</span></span>  
  
 <span data-ttu-id="be238-110">Toda la información en segundo plano es el mismo para los cuatro escenarios de uso y se ha descrito anteriormente en [información general acerca de escenarios de ejemplo](../core/background-information-for-sample-scenarios.md).</span><span class="sxs-lookup"><span data-stu-id="be238-110">All the other background information is the same for all our usage scenarios, and is described previously in [Background Information for Sample Scenarios](../core/background-information-for-sample-scenarios.md).</span></span>  
  
### <a name="data-flow-diagram"></a><span data-ttu-id="be238-111">Diagrama de flujo de datos</span><span class="sxs-lookup"><span data-stu-id="be238-111">Data Flow Diagram</span></span>  
 <span data-ttu-id="be238-112">En la siguiente ilustración, aparece el DFD de la arquitectura de ejemplo al utilizar el adaptador de BizTalk para Message Queue.</span><span class="sxs-lookup"><span data-stu-id="be238-112">The following figure shows the DFD for the sample architecture when you use the BizTalk Message Queuing adapter.</span></span>  
  
 <span data-ttu-id="be238-113">**Figura 2: DFD de la arquitectura de ejemplo de escenario de adaptador de BizTalk para Message Queue**</span><span class="sxs-lookup"><span data-stu-id="be238-113">**Figure 2 DFD for the sample architecture of the BizTalk Message Queuing adapter scenario**</span></span>  
  
 <span data-ttu-id="be238-114">![Ejemplo de arquitectura para Message Queue Server de BizTalk](../core/media/tdi-sec-refarch-dfd-msmq.gif "TDI_Sec_RefArch_DFD_MSMQ")</span><span class="sxs-lookup"><span data-stu-id="be238-114">![Sample architecture for BizTalk Message Queuing](../core/media/tdi-sec-refarch-dfd-msmq.gif "TDI_Sec_RefArch_DFD_MSMQ")</span></span>  
  
 <span data-ttu-id="be238-115">El flujo de datos es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="be238-115">The data flow is as follows:</span></span>  
  
1.  <span data-ttu-id="be238-116">Un socio envía un mensaje utilizando Message Queue o BizTalk para Message Queue.</span><span class="sxs-lookup"><span data-stu-id="be238-116">A partner sends a message using Message Queuing or BizTalk Message Queuing.</span></span> <span data-ttu-id="be238-117">El mensaje se empaqueta con el formato adecuado y se envía a través de la red.</span><span class="sxs-lookup"><span data-stu-id="be238-117">The message is packed in the appropriate format and sent on the network.</span></span> <span data-ttu-id="be238-118">Si utiliza Active Directory, el mensaje atravesará una serie de enrutadores de colas de mensajes hasta alcanzar su destino (el servidor BizTalk Server que ejecuta una instancia de host del adaptador de recepción de BizTalk para Message Queue).</span><span class="sxs-lookup"><span data-stu-id="be238-118">If you use Active Directory, the message goes through a series of Message Queuing routers until it reaches the right destination (the BizTalk Server that runs a host instance of the BizTalk Message Queuing receive adapter).</span></span>  
  
2.  <span data-ttu-id="be238-119">Una instancia de host en proceso del adaptador de recepción de BizTalk para Message Queue recibe con regularidad el mensaje procedente de un enrutador de Message Queue (a través del servidor de seguridad 2), realiza el procesamiento inicial, envía las respuestas de red correctas del modo definido en el protocolo de red y coloca el mensaje en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="be238-119">An instance of an in-process host for the BizTalk Message Queuing receive adapter regularly receives the message from a Message Queuing router (through Firewall 2), does any initial processing, sends the correct network responses as defined by the network protocol, and puts the message in the MessageBox database.</span></span>  
  
3.  <span data-ttu-id="be238-120">Una instancia del host de procesamiento que está suscrito al mensaje lo recoge en la base de datos de cuadro de mensajes, lleva a cabo todo el procesamiento adicional y vuelve a colocarlo en ésta.</span><span class="sxs-lookup"><span data-stu-id="be238-120">An instance of the processing host that has a subscription to the message picks it up from the MessageBox database, does any additional processing, and puts the message back in the MessageBox database.</span></span>  
  
4.  <span data-ttu-id="be238-121">Una instancia del host In-Process que tiene el adaptador de envío de BizTalk para Message Queue recoge el mensaje de la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="be238-121">An instance of the in-process host that has a BizTalk Message Queuing send adapter picks up the message from the MessageBox database.</span></span> <span data-ttu-id="be238-122">El mensaje se somete a un procesamiento final en la canalización de envío y, a continuación, se envía al socio o la aplicación servidor a través de la red y el servidor de seguridad 2.</span><span class="sxs-lookup"><span data-stu-id="be238-122">The message goes through any final processing in the send pipeline, and is then sent through Firewall 2 over the network to the partner or application.</span></span>  
  
## <a name="step-2-create-and-analyze-the-threat-model-biztalk-message-queuing-adapter-scenario"></a><span data-ttu-id="be238-123">Paso 2.</span><span class="sxs-lookup"><span data-stu-id="be238-123">Step 2.</span></span> <span data-ttu-id="be238-124">Crear y analizar el modelo de amenazas (escenario del adaptador puesta en cola de mensaje de BizTalk)</span><span class="sxs-lookup"><span data-stu-id="be238-124">Create and Analyze the Threat Model (BizTalk Message Queuing Adapter Scenario)</span></span>  
 <span data-ttu-id="be238-125">Esta sección contiene el resultado del TMA del escenario del adaptador de BizTalk para Message Queue de la arquitectura de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="be238-125">This section provides the results of the TMA we did for the BizTalk Message Queuing adapter scenario for the sample architecture.</span></span>  
  
- <span data-ttu-id="be238-126">**Identificar puntos de entrada, límites de confianza y flujo de datos -** ver la información básica descrita en el paso 1 y en [información general acerca de escenarios de ejemplo](../core/background-information-for-sample-scenarios.md).</span><span class="sxs-lookup"><span data-stu-id="be238-126">**Identify Entry Points, Trust Boundaries, and Flow of Data -** See background information described earlier in step 1 and in [Background Information for Sample Scenarios](../core/background-information-for-sample-scenarios.md).</span></span>  
  
- <span data-ttu-id="be238-127">**Crear una lista de amenazas identificadas -** utilizamos la siguiente categorización para todas las entradas del DFD para identificar posibles amenazas al escenario: **S**uplantación identificar, **T**lteración con los datos, **R**epudio, **me**ivulgación de información, **d.** enegación de servicio, y **E**levación de privilegios.</span><span class="sxs-lookup"><span data-stu-id="be238-127">**Create a List of the Identified Threats -** We used the following categorization for all entries in the DFD to identify potential threats to the scenario: **S**poofing identify, **T**ampering with data, **R**epudiation, **I**nformation disclosure, **D**enial of service, and **E**levation of privileges.</span></span> <span data-ttu-id="be238-128">La siguiente tabla contiene la evaluación del riesgo de las amenazas que identificamos al usar el adaptador de BizTalk para Message Queue para enviar y recibir mensajes del servidor de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="be238-128">The following table lists the threats we identified when you use the BizTalk Message Queuing adapter to send and receive messages to and from BizTalk Server.</span></span>  
  
  <span data-ttu-id="be238-129">**Tabla 1: lista de las amenazas identificadas**</span><span class="sxs-lookup"><span data-stu-id="be238-129">**Table 1 List of identified threats**</span></span>  
  
|<span data-ttu-id="be238-130">Amenaza</span><span class="sxs-lookup"><span data-stu-id="be238-130">Threat</span></span>|<span data-ttu-id="be238-131">Descripción</span><span class="sxs-lookup"><span data-stu-id="be238-131">Description</span></span>|<span data-ttu-id="be238-132">Asset</span><span class="sxs-lookup"><span data-stu-id="be238-132">Asset</span></span>|<span data-ttu-id="be238-133">Impacto</span><span class="sxs-lookup"><span data-stu-id="be238-133">Impact</span></span>|  
|------------|-----------------|-----------|------------|  
|<span data-ttu-id="be238-134">Envío de gran cantidad de mensajes a la ubicación de recepción</span><span class="sxs-lookup"><span data-stu-id="be238-134">Send lots of messages to receive location</span></span>|<span data-ttu-id="be238-135">Un usuario malintencionado puede enviar una gran cantidad de mensajes válidos o no válidos y saturar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="be238-135">A malicious user can send a large number of valid or invalid messages and flood the application.</span></span>|<span data-ttu-id="be238-136">Entorno de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="be238-136">BizTalk Server environment</span></span>|<span data-ttu-id="be238-137">Denegación del servicio</span><span class="sxs-lookup"><span data-stu-id="be238-137">Denial of service</span></span>|  
|<span data-ttu-id="be238-138">El encabezado del mensaje no está cifrado durante su desplazamiento a través de la red</span><span class="sxs-lookup"><span data-stu-id="be238-138">Message header travels in the clear on the wire</span></span>|<span data-ttu-id="be238-139">El encabezado del mensaje está visible durante el tránsito entre la cola y el adaptador de recepción de BizTalk para Message Queue y, por tanto, es posible que los usuarios malintencionados lo lean y manipulen.</span><span class="sxs-lookup"><span data-stu-id="be238-139">As the message travels from the queue to the BizTalk Message Queuing receive adapter, the message header is in the clear, and a malicious user can potentially read and tamper with the header.</span></span>|<span data-ttu-id="be238-140">Encabezado del mensaje</span><span class="sxs-lookup"><span data-stu-id="be238-140">Message header</span></span>|<span data-ttu-id="be238-141">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-141">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-142">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-142">Information disclosure</span></span>|  
|<span data-ttu-id="be238-143">Un usuario no autorizado puede establecer una conexión de red con el servidor BizTalk Server que ejecuta el host de Message Queue Server de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be238-143">An unauthorized user can make a network connection to the BizTalk Server that runs the BizTalk Message Queuing host</span></span>|<span data-ttu-id="be238-144">No es posible utilizar una lista de acceso discrecional (DACL) para restringir el acceso a la ubicación de recepción de BizTalk para Message Queue.</span><span class="sxs-lookup"><span data-stu-id="be238-144">You cannot use a discretionary access list (DACL) to restrict access to the BizTalk Message Queuing receive location.</span></span> <span data-ttu-id="be238-145">Por consiguiente, cualquier usuario que pueda establecer una conexión de red con el servidor BizTalk Server que ejecuta una instancia de host del adaptador de recepción de BizTalk para Message Queue y el puerto 1801 puede enviar mensajes a la ubicación de recepción de BizTalk para Message Queue.</span><span class="sxs-lookup"><span data-stu-id="be238-145">Therefore, anyone that can make a network connection to the BizTalk Server that runs a host instance of the BizTalk Message Queuing receive adapter and to port 1801 can send messages to the BizTalk Message Queuing receive location.</span></span>|<span data-ttu-id="be238-146">Entorno de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="be238-146">BizTalk Server environment</span></span>|<span data-ttu-id="be238-147">Rechazo</span><span class="sxs-lookup"><span data-stu-id="be238-147">Repudiation</span></span><br /><br /> <span data-ttu-id="be238-148">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-148">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-149">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-149">Information disclosure</span></span><br /><br /> <span data-ttu-id="be238-150">Denegación del servicio</span><span class="sxs-lookup"><span data-stu-id="be238-150">Denial of service</span></span><br /><br /> <span data-ttu-id="be238-151">Elevación de privilegios</span><span class="sxs-lookup"><span data-stu-id="be238-151">Elevation of privileges</span></span>|  
|<span data-ttu-id="be238-152">Un usuario malintencionado podría manipular los mensajes antes que el servidor BizTalk Server los reciba.</span><span class="sxs-lookup"><span data-stu-id="be238-152">A malicious user can tamper with the message before BizTalk Server receives it</span></span>|<span data-ttu-id="be238-153">Un usuario malintencionado puede interceptar el mensaje mientras está en tránsito y modificarlo.</span><span class="sxs-lookup"><span data-stu-id="be238-153">A malicious user can intercept the message while it is in transit and modify it.</span></span>|<span data-ttu-id="be238-154">Cuerpo del mensaje</span><span class="sxs-lookup"><span data-stu-id="be238-154">Message body</span></span>|<span data-ttu-id="be238-155">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-155">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-156">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-156">Information disclosure</span></span>|  
  
## <a name="step-3-review-threats-biztalk-message-queuing-adapter-scenario"></a><span data-ttu-id="be238-157">Paso 3.</span><span class="sxs-lookup"><span data-stu-id="be238-157">Step 3.</span></span> <span data-ttu-id="be238-158">Analizar las amenazas (escenario del adaptador puesta en cola de mensaje de BizTalk)</span><span class="sxs-lookup"><span data-stu-id="be238-158">Review Threats (BizTalk Message Queuing Adapter Scenario)</span></span>  
 <span data-ttu-id="be238-159">Esta sección contiene los resultados del análisis de riesgos que se realizó para las amenazas identificadas en el escenario del adaptador de BizTalk para Message Queue para la arquitectura de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="be238-159">This section provides the results of the risk analysis we did for threats we identified for the BizTalk Message Queuing adapter scenario for the sample architecture.</span></span> <span data-ttu-id="be238-160">Después de la reunión del modelo de amenazas principal, hemos revisado las amenazas y usa las siguientes categorías de impacto para identificar el riesgo de cada amenaza: **d.** años potenciales, **R**apacidad de reproducción, **E**provechamiento, **A**usuarios afectados y **d.** capacidad de descubrimiento.</span><span class="sxs-lookup"><span data-stu-id="be238-160">After the main threat model meeting, we reviewed the threats and used the following impact categories to identify the risk for each threat: **D**amage potential, **R**eproducibility, **E**xploitability, **A**ffected users, and **D**iscoverability.</span></span>  
  
 <span data-ttu-id="be238-161">En la tabla siguiente se enumera las clasificaciones de riesgo para las amenazas que identificamos al usar el adaptador de BizTalk para Message Queue para enviar y recibir mensajes hacia y desde BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="be238-161">The following table lists the risk ratings for the threats we identified when you use the BizTalk Message Queuing adapter to send and receive messages to and from BizTalk Server.</span></span>  
  
 <span data-ttu-id="be238-162">**Evaluación del riesgo de la tabla 2 para las amenazas identificadas**</span><span class="sxs-lookup"><span data-stu-id="be238-162">**Table 2 Risk ratings for identified threats**</span></span>  
  
|<span data-ttu-id="be238-163">Amenaza</span><span class="sxs-lookup"><span data-stu-id="be238-163">Threat</span></span>|<span data-ttu-id="be238-164">Impacto</span><span class="sxs-lookup"><span data-stu-id="be238-164">Impact</span></span>|<span data-ttu-id="be238-165">Posibilidad del daño</span><span class="sxs-lookup"><span data-stu-id="be238-165">Damage potential</span></span>|<span data-ttu-id="be238-166">Posibilidad de reproducir la amenaza</span><span class="sxs-lookup"><span data-stu-id="be238-166">Reproducibility</span></span>|<span data-ttu-id="be238-167">Posibilidad de que se aproveche</span><span class="sxs-lookup"><span data-stu-id="be238-167">Exploitability</span></span>|<span data-ttu-id="be238-168">Usuarios afectados</span><span class="sxs-lookup"><span data-stu-id="be238-168">Affected users</span></span>|<span data-ttu-id="be238-169">Posibilidad de descubrir la amenaza</span><span class="sxs-lookup"><span data-stu-id="be238-169">Discoverability</span></span>|<span data-ttu-id="be238-170">Exposición al riesgo</span><span class="sxs-lookup"><span data-stu-id="be238-170">Risk exposure</span></span>|  
|------------|------------|----------------------|---------------------|--------------------|--------------------|---------------------|-------------------|  
|<span data-ttu-id="be238-171">Envío de gran cantidad de mensajes a la ubicación de recepción</span><span class="sxs-lookup"><span data-stu-id="be238-171">Send lots of messages to receive location</span></span>|<span data-ttu-id="be238-172">Denegación del servicio</span><span class="sxs-lookup"><span data-stu-id="be238-172">Denial of service</span></span>|<span data-ttu-id="be238-173">8</span><span class="sxs-lookup"><span data-stu-id="be238-173">8</span></span>|<span data-ttu-id="be238-174">7</span><span class="sxs-lookup"><span data-stu-id="be238-174">7</span></span>|<span data-ttu-id="be238-175">7</span><span class="sxs-lookup"><span data-stu-id="be238-175">7</span></span>|<span data-ttu-id="be238-176">7</span><span class="sxs-lookup"><span data-stu-id="be238-176">7</span></span>|<span data-ttu-id="be238-177">5</span><span class="sxs-lookup"><span data-stu-id="be238-177">5</span></span>|<span data-ttu-id="be238-178">6.8</span><span class="sxs-lookup"><span data-stu-id="be238-178">6.8</span></span>|  
|<span data-ttu-id="be238-179">El encabezado del mensaje no está cifrado durante su desplazamiento a través de la red</span><span class="sxs-lookup"><span data-stu-id="be238-179">Message header travels in the clear on the wire</span></span>|<span data-ttu-id="be238-180">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-180">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-181">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-181">Information disclosure</span></span>|<span data-ttu-id="be238-182">8</span><span class="sxs-lookup"><span data-stu-id="be238-182">8</span></span>|<span data-ttu-id="be238-183">10</span><span class="sxs-lookup"><span data-stu-id="be238-183">10</span></span>|<span data-ttu-id="be238-184">8</span><span class="sxs-lookup"><span data-stu-id="be238-184">8</span></span>|<span data-ttu-id="be238-185">3</span><span class="sxs-lookup"><span data-stu-id="be238-185">3</span></span>|<span data-ttu-id="be238-186">5</span><span class="sxs-lookup"><span data-stu-id="be238-186">5</span></span>|<span data-ttu-id="be238-187">6.8</span><span class="sxs-lookup"><span data-stu-id="be238-187">6.8</span></span>|  
|<span data-ttu-id="be238-188">Un usuario no autorizado puede establecer una conexión de red con el servidor BizTalk Server que ejecuta el host de Message Queue Server de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be238-188">An unauthorized user can make a network connection to the BizTalk Server that runs the BizTalk Message Queuing host</span></span>|<span data-ttu-id="be238-189">Rechazo</span><span class="sxs-lookup"><span data-stu-id="be238-189">Repudiation</span></span><br /><br /> <span data-ttu-id="be238-190">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-190">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-191">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-191">Information disclosure</span></span><br /><br /> <span data-ttu-id="be238-192">Denegación del servicio</span><span class="sxs-lookup"><span data-stu-id="be238-192">Denial of service</span></span><br /><br /> <span data-ttu-id="be238-193">Elevación de privilegios</span><span class="sxs-lookup"><span data-stu-id="be238-193">Elevation of privileges</span></span>|<span data-ttu-id="be238-194">8</span><span class="sxs-lookup"><span data-stu-id="be238-194">8</span></span>|<span data-ttu-id="be238-195">10</span><span class="sxs-lookup"><span data-stu-id="be238-195">10</span></span>|<span data-ttu-id="be238-196">9</span><span class="sxs-lookup"><span data-stu-id="be238-196">9</span></span>|<span data-ttu-id="be238-197">9</span><span class="sxs-lookup"><span data-stu-id="be238-197">9</span></span>|<span data-ttu-id="be238-198">9</span><span class="sxs-lookup"><span data-stu-id="be238-198">9</span></span>|<span data-ttu-id="be238-199">9</span><span class="sxs-lookup"><span data-stu-id="be238-199">9</span></span>|  
|<span data-ttu-id="be238-200">Un usuario malintencionado podría manipular los mensajes antes que el servidor BizTalk Server los reciba.</span><span class="sxs-lookup"><span data-stu-id="be238-200">A malicious user can tamper with the message before BizTalk Server receives it</span></span>|<span data-ttu-id="be238-201">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-201">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-202">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-202">Information disclosure</span></span>|<span data-ttu-id="be238-203">5</span><span class="sxs-lookup"><span data-stu-id="be238-203">5</span></span>|<span data-ttu-id="be238-204">7</span><span class="sxs-lookup"><span data-stu-id="be238-204">7</span></span>|<span data-ttu-id="be238-205">6</span><span class="sxs-lookup"><span data-stu-id="be238-205">6</span></span>|<span data-ttu-id="be238-206">5</span><span class="sxs-lookup"><span data-stu-id="be238-206">5</span></span>|<span data-ttu-id="be238-207">7</span><span class="sxs-lookup"><span data-stu-id="be238-207">7</span></span>|<span data-ttu-id="be238-208">6</span><span class="sxs-lookup"><span data-stu-id="be238-208">6</span></span>|  
  
## <a name="step-4-identify-mitigation-techniques-biztalk-message-queuing-adapter-scenario"></a><span data-ttu-id="be238-209">Paso 4.</span><span class="sxs-lookup"><span data-stu-id="be238-209">Step 4.</span></span> <span data-ttu-id="be238-210">Identificar las técnicas de mitigación (escenario del adaptador puesta en cola de mensaje de BizTalk)</span><span class="sxs-lookup"><span data-stu-id="be238-210">Identify Mitigation Techniques (BizTalk Message Queuing Adapter Scenario)</span></span>  
 <span data-ttu-id="be238-211">Esta sección contiene algunas técnicas de mitigación para las amenazas identificadas en el escenario del adaptador de BizTalk para Message Queue para la arquitectura de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="be238-211">This section presents some mitigation techniques for the threats we identified for the BizTalk Message Queuing adapter scenario for the sample architecture.</span></span>  
  
 <span data-ttu-id="be238-212">La siguiente tabla enumera las tecnologías y técnicas de mitigación para las amenazas identificadas al usar el adaptador de BizTalk para Message Queue para enviar y recibir mensajes del servidor BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="be238-212">The following table lists mitigation techniques and technologies for the threats we identified when you use the BizTalk Message Queuing adapter to send and receive messages to and from BizTalk Server.</span></span>  
  
 <span data-ttu-id="be238-213">**Tabla 3 tecnologías y técnicas de mitigación**</span><span class="sxs-lookup"><span data-stu-id="be238-213">**Table 3 Mitigation techniques and technologies**</span></span>  
  
|<span data-ttu-id="be238-214">Amenaza</span><span class="sxs-lookup"><span data-stu-id="be238-214">Threat</span></span>|<span data-ttu-id="be238-215">Impacto</span><span class="sxs-lookup"><span data-stu-id="be238-215">Impact</span></span>|<span data-ttu-id="be238-216">Exposición al riesgo</span><span class="sxs-lookup"><span data-stu-id="be238-216">Risk exposure</span></span>|<span data-ttu-id="be238-217">Tecnologías y técnicas de mitigación</span><span class="sxs-lookup"><span data-stu-id="be238-217">Mitigation techniques and technologies</span></span>|  
|------------|------------|-------------------|--------------------------------------------|  
|<span data-ttu-id="be238-218">Envío de gran cantidad de mensajes a la ubicación de recepción</span><span class="sxs-lookup"><span data-stu-id="be238-218">Send lots of messages to receive location</span></span>|<span data-ttu-id="be238-219">Denegación del servicio</span><span class="sxs-lookup"><span data-stu-id="be238-219">Denial of service</span></span>|<span data-ttu-id="be238-220">6.8</span><span class="sxs-lookup"><span data-stu-id="be238-220">6.8</span></span>|<span data-ttu-id="be238-221">Utilice el adaptador de BizTalk para Message Queue en modo de autenticación requerida.</span><span class="sxs-lookup"><span data-stu-id="be238-221">Use the BizTalk Message Queuing adapter in authentication-required mode.</span></span> <span data-ttu-id="be238-222">Establecer el **necesita autenticación de MSMQ** marca en la ubicación de recepción y **(quitar mensajes) requiere autenticación** en el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="be238-222">Set the **Requires MSMQ authentication** flag on the receive location and **Authentication Required (Drop messages)** on the receive port.</span></span><br /><br /> <span data-ttu-id="be238-223">Configure BizTalk para Message Queue para requerir la autenticación basada en certificados.</span><span class="sxs-lookup"><span data-stu-id="be238-223">Configure BizTalk Message Queuing to require certificate-based authentication.</span></span> <span data-ttu-id="be238-224">Este funcionamiento se produce en el nivel de adaptadores y es distinto del componente de resolución de entidades de las canalizaciones de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be238-224">This behavior occurs at the adapter level, and is different from the Party Resolution component of a BizTalk pipeline.</span></span> <span data-ttu-id="be238-225">El certificado público puede configurarse para incluirlo en el mensaje entrante.</span><span class="sxs-lookup"><span data-stu-id="be238-225">If configured, the public certificate is included with the incoming message.</span></span> <span data-ttu-id="be238-226">Éste es el único modo de autenticación de clientes disponible para Message Queue Server de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be238-226">This is the only client authentication mode available for BizTalk Message Queuing.</span></span> <span data-ttu-id="be238-227">Para usar este modo de autenticación de clientes, debe instalar BizTalk para Message Queue con el modo de integración de Active Directory.</span><span class="sxs-lookup"><span data-stu-id="be238-227">To use this client authentication mode, you must install BizTalk Message Queuing with Active Directory Integration Mode.</span></span> <span data-ttu-id="be238-228">Al usar esta característica, no olvide seleccionar la **requerir autenticación** ubicación de recepción de la casilla de verificación en el cuadro de diálogo de propiedades para la cola de mensajes de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be238-228">When you use this feature, remember to select the **Require Authentication** check box on the property dialog box for the BizTalk Message Queuing receive location.</span></span>|  
|<span data-ttu-id="be238-229">El encabezado del mensaje no está cifrado durante su desplazamiento a través de la red</span><span class="sxs-lookup"><span data-stu-id="be238-229">Message header travels in the clear on the wire</span></span>|<span data-ttu-id="be238-230">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-230">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-231">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-231">Information disclosure</span></span>|<span data-ttu-id="be238-232">6.8</span><span class="sxs-lookup"><span data-stu-id="be238-232">6.8</span></span>|<span data-ttu-id="be238-233">Use la seguridad de Protocolo Internet (IPSec) para proteger el encabezado y el cuerpo del mensaje en su tránsito de un servidor a otro.</span><span class="sxs-lookup"><span data-stu-id="be238-233">Use Internet Protocol security (IPsec) to help protect the message body and the message header as it travels from one server to another.</span></span>|  
|<span data-ttu-id="be238-234">Un usuario no autorizado puede establecer una conexión de red con el servidor BizTalk Server que ejecuta el host de Message Queue Server de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be238-234">An unauthorized user can make a network connection to the BizTalk Server that runs the BizTalk Message Queuing host</span></span>|<span data-ttu-id="be238-235">Rechazo</span><span class="sxs-lookup"><span data-stu-id="be238-235">Repudiation</span></span><br /><br /> <span data-ttu-id="be238-236">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-236">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-237">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-237">Information disclosure</span></span><br /><br /> <span data-ttu-id="be238-238">Denegación del servicio</span><span class="sxs-lookup"><span data-stu-id="be238-238">Denial of service</span></span><br /><br /> <span data-ttu-id="be238-239">Elevación de privilegios</span><span class="sxs-lookup"><span data-stu-id="be238-239">Elevation of privileges</span></span>|<span data-ttu-id="be238-240">9</span><span class="sxs-lookup"><span data-stu-id="be238-240">9</span></span>|<span data-ttu-id="be238-241">Cree una canalización personalizada con un componente de canalización de resolución de entidades y configúrelo para usar el Id. de remitente (SID) para resolver la entidad.</span><span class="sxs-lookup"><span data-stu-id="be238-241">Create a custom pipeline with a Party Resolution pipeline component, and then configure the Party Resolution component to use the Sender ID (SID) to resolve the party.</span></span> <span data-ttu-id="be238-242">Establecer el **resolver entidad mediante certificado** propiedad **False**y el **resolver entidad mediante SID** propiedad **True**.</span><span class="sxs-lookup"><span data-stu-id="be238-242">Set the **Resolve Party By Certificate** property to **False**, and the **Resolve Party By SID** property to **True**.</span></span> <span data-ttu-id="be238-243">Para obtener más información, consulte [componente de canalización de resolución de entidad](../core/party-resolution-pipeline-component.md).</span><span class="sxs-lookup"><span data-stu-id="be238-243">For more information, see [Party Resolution Pipeline Component](../core/party-resolution-pipeline-component.md).</span></span><br /><br /> <span data-ttu-id="be238-244">En el puerto de recepción, establezca la **autenticación** propiedad **requerido (quitar mensajes)**.</span><span class="sxs-lookup"><span data-stu-id="be238-244">On the receive port, set the **Authentication** property to **Required (Drop Messages)**.</span></span>|  
|<span data-ttu-id="be238-245">Un usuario malintencionado podría manipular los mensajes antes que el servidor BizTalk Server los reciba.</span><span class="sxs-lookup"><span data-stu-id="be238-245">A malicious user can tamper with the message before BizTalk Server receives it</span></span>|<span data-ttu-id="be238-246">Manipulación de datos</span><span class="sxs-lookup"><span data-stu-id="be238-246">Tampering with data</span></span><br /><br /> <span data-ttu-id="be238-247">Revelación de información</span><span class="sxs-lookup"><span data-stu-id="be238-247">Information disclosure</span></span>|<span data-ttu-id="be238-248">6</span><span class="sxs-lookup"><span data-stu-id="be238-248">6</span></span>|<span data-ttu-id="be238-249">Utilice la autenticación del nivel de protocolos para asegurarse de que el mensaje no ha sido manipulado mientras estaba en tránsito.</span><span class="sxs-lookup"><span data-stu-id="be238-249">Use protocol-level authentication to make sure the message was not tampered with while in transit.</span></span> <span data-ttu-id="be238-250">Para usar la autenticación del nivel de protocolos, necesita un enrutador de Message Queue en el dominio de negocio electrónico.</span><span class="sxs-lookup"><span data-stu-id="be238-250">To use protocol-level authentication, you must have a Message Queuing router in the E-Business domain.</span></span> <span data-ttu-id="be238-251">Configure el servidor BizTalk Server de la forma siguiente:</span><span class="sxs-lookup"><span data-stu-id="be238-251">Configure BizTalk Server as follows:</span></span><br /><br /> <span data-ttu-id="be238-252">-En el **mensajería de BizTalk** página del Administrador de configuración, proporcione el nombre del enrutador.</span><span class="sxs-lookup"><span data-stu-id="be238-252">-   On the **BizTalk Messaging** page of the Configuration Manager, provide the name of the router.</span></span><br /><span data-ttu-id="be238-253">-Para el puerto de recepción, establezca la **autenticación** propiedad **requerido (quitar mensajes)** o **requerido (mantener mensajes)**.</span><span class="sxs-lookup"><span data-stu-id="be238-253">-   For the receive port, set the **Authentication** property to **Required (Drop Messages)** or **Required (Keep Messages)**.</span></span><br /><span data-ttu-id="be238-254">-Para el controlador de envío, en el **General** ficha la **enrutador de MSMQ** cuadro, escriba el nombre del enrutador de Message Queue Server.</span><span class="sxs-lookup"><span data-stu-id="be238-254">-   For the send handler, on the **General** tab, in the **MSMQ Router** name box, type the name of the Message Queuing router.</span></span><br /><span data-ttu-id="be238-255">-Para el puerto de envío, seleccione **utilizar autenticación de MSMQ**.</span><span class="sxs-lookup"><span data-stu-id="be238-255">-   For the send port, select **Use MSMQ Authentication**.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="be238-256">Vea también</span><span class="sxs-lookup"><span data-stu-id="be238-256">See Also</span></span>  
 <span data-ttu-id="be238-257">[Análisis de modelo de amenazas](../core/threat-model-analysis.md) </span><span class="sxs-lookup"><span data-stu-id="be238-257">[Threat Model Analysis](../core/threat-model-analysis.md) </span></span>  
 <span data-ttu-id="be238-258">[Escenarios de ejemplo para el análisis de modelo de amenazas](../core/sample-scenarios-for-threat-model-analysis.md) </span><span class="sxs-lookup"><span data-stu-id="be238-258">[Sample Scenarios for Threat Model Analysis](../core/sample-scenarios-for-threat-model-analysis.md) </span></span>  
 [<span data-ttu-id="be238-259">Arquitecturas de ejemplo para pequeñas y medianas empresas</span><span class="sxs-lookup"><span data-stu-id="be238-259">Sample Architectures for Small & Medium-Sized Companies</span></span>](../core/sample-architectures-for-small-medium-sized-companies.md)