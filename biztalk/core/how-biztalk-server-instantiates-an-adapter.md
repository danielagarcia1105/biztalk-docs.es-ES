---
title: "Cómo BizTalk Server crea una instancia de un adaptador | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 4ebe7585-5939-4142-9281-990b4849e28d
caps.latest.revision: "9"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b32e6e40bf39c09e747391bba51a54143fc67e57
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="how-biztalk-server-instantiates-an-adapter"></a><span data-ttu-id="0a027-102">Cómo crea BizTalk Server una instancia de un adaptador</span><span class="sxs-lookup"><span data-stu-id="0a027-102">How BizTalk Server Instantiates an Adapter</span></span>
<span data-ttu-id="0a027-103">Cuando se inicia el servicio de BizTalk, se crean instancias de todos los adaptadores de recepción siempre y cuando tengan configuradas una o varias ubicaciones de recepción y estén activas.</span><span class="sxs-lookup"><span data-stu-id="0a027-103">When the BizTalk service starts, all receive adapters are instantiated, as long as they have one or more configured and active receive locations.</span></span> <span data-ttu-id="0a027-104">De forma predeterminada, no se crea ninguna instancia de un adaptador de envío hasta que el motor de mensajería quita de la cola el primer mensaje que se va a enviar mediante dicho adaptador de envío.</span><span class="sxs-lookup"><span data-stu-id="0a027-104">By default a send adapter is not instantiated until the Messaging Engine removes from the queue the first message to be sent by using that send adapter.</span></span> <span data-ttu-id="0a027-105">(A veces se denomina "creación diferida".) Sin embargo, si tiene que crear una instancia de un adaptador de envío al iniciar el servicio, puede usar el **InitTransmitterOnServiceStart** capacidad del adaptador.</span><span class="sxs-lookup"><span data-stu-id="0a027-105">(This is sometimes called "lazy creation.") However, if you need to instantiate a send adapter on service startup, you can use the **InitTransmitterOnServiceStart** adapter capability.</span></span> <span data-ttu-id="0a027-106">Esto indica al motor de mensajería que cree el adaptador de envío al iniciar el servicio, en lugar de utilizar la creación diferida predeterminada.</span><span class="sxs-lookup"><span data-stu-id="0a027-106">This directs the Messaging Engine to create the send adapter on service startup rather than using the default lazy creation.</span></span> <span data-ttu-id="0a027-107">El enfoque de creación diferida predeterminada ayuda a reducir la cantidad de recursos del sistema utilizados cuando los adaptadores no están configurados en extremos.</span><span class="sxs-lookup"><span data-stu-id="0a027-107">The default lazy creation approach helps to reduce the amount of system resources used when adapters are not configured on endpoints.</span></span>  
  
 <span data-ttu-id="0a027-108">Al crear un adaptador personalizado, se recomienda el uso de código administrado.</span><span class="sxs-lookup"><span data-stu-id="0a027-108">When you create a custom adapter, we recommend that you use managed code.</span></span> <span data-ttu-id="0a027-109">Sin embargo, es posible utilizar componentes COM nativos.</span><span class="sxs-lookup"><span data-stu-id="0a027-109">However, it is possible to use native COM components.</span></span> <span data-ttu-id="0a027-110">Para los componentes COM el adaptador se crea una instancia de la forma normal mediante **CoCreateInstance**.</span><span class="sxs-lookup"><span data-stu-id="0a027-110">For COM components the adapter is instantiated in the normal manner using **CoCreateInstance**.</span></span>  
  
 <span data-ttu-id="0a027-111">Para código administrado, debe especificar el tipo .NET **tipo** en el archivo de configuración de la ruta de acceso de ensamblado es opcional.</span><span class="sxs-lookup"><span data-stu-id="0a027-111">For managed code, you need to specify the .NET **type** in the configuration file; the assembly path is optional.</span></span>  
  
 <span data-ttu-id="0a027-112">Existen las siguientes opciones de implementación posibles:</span><span class="sxs-lookup"><span data-stu-id="0a027-112">The following deployment options are possible:</span></span>  
  
|<span data-ttu-id="0a027-113">Tipo de .NET</span><span class="sxs-lookup"><span data-stu-id="0a027-113">.NET type</span></span>|<span data-ttu-id="0a027-114">Ruta del ensamblado</span><span class="sxs-lookup"><span data-stu-id="0a027-114">Assembly path</span></span>|<span data-ttu-id="0a027-115">Método de implementación de ensamblados</span><span class="sxs-lookup"><span data-stu-id="0a027-115">Assembly deployment method</span></span>|  
|---------------|-------------------|--------------------------------|  
|<span data-ttu-id="0a027-116">Specified</span><span class="sxs-lookup"><span data-stu-id="0a027-116">Specified</span></span>|<span data-ttu-id="0a027-117">No se ha especificado</span><span class="sxs-lookup"><span data-stu-id="0a027-117">Not specified</span></span>|<span data-ttu-id="0a027-118">Copiar ensamblado al directorio o subdirectorio del producto en el directorio del producto con el mismo nombre que el ensamblado</span><span class="sxs-lookup"><span data-stu-id="0a027-118">XCopy assembly to product directory or subdirectory in product directory with the same name as the assembly</span></span>|  
|<span data-ttu-id="0a027-119">Specified</span><span class="sxs-lookup"><span data-stu-id="0a027-119">Specified</span></span>|<span data-ttu-id="0a027-120">No se ha especificado</span><span class="sxs-lookup"><span data-stu-id="0a027-120">Not specified</span></span>|<span data-ttu-id="0a027-121">Ensamblado de la caché de ensamblados global (GAC)</span><span class="sxs-lookup"><span data-stu-id="0a027-121">Global assembly cache (GAC) assembly</span></span>|  
|<span data-ttu-id="0a027-122">Specified</span><span class="sxs-lookup"><span data-stu-id="0a027-122">Specified</span></span>|<span data-ttu-id="0a027-123">Specified</span><span class="sxs-lookup"><span data-stu-id="0a027-123">Specified</span></span>|<span data-ttu-id="0a027-124">Copiar ensamblado al directorio especificado</span><span class="sxs-lookup"><span data-stu-id="0a027-124">XCopy assembly to specified directory</span></span>|  
  
 <span data-ttu-id="0a027-125">**Sugerencia de solución de problemas:** cuando se crea un adaptador mediante código administrado, si se produce un error en la creación, utilice la herramienta fuslogvw.exe para determinar si hay referencias a ensamblados que no se pueden resolver.</span><span class="sxs-lookup"><span data-stu-id="0a027-125">**Troubleshooting Tip:** When you create an adapter using managed code, if the creation fails, use the fuslogvw.exe tool to determine if there are references to assemblies that cannot be resolved.</span></span> <span data-ttu-id="0a027-126">Se trata de un error habitual.</span><span class="sxs-lookup"><span data-stu-id="0a027-126">This is a common mistake.</span></span>  
  
 <span data-ttu-id="0a027-127">La ilustración siguiente muestra la lógica para crear adaptadores, en función de la configuración especificada.</span><span class="sxs-lookup"><span data-stu-id="0a027-127">The following figure shows the logic for creating adapters, depending on the configuration specified:</span></span>  
  
 ![](../core/media/initializingtheadapter.gif "InitializingTheAdapter")  
  
 <span data-ttu-id="0a027-128">En la tabla siguiente se proporciona un ejemplo de cómo se pueden configurar un adaptador de recepción y un ensamblado en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="0a027-128">The following table gives an example of how a receive adapter may be configured, and the ways the run-time assembly may be configured.</span></span>  
  
|<span data-ttu-id="0a027-129">Método de implementación de ensamblados</span><span class="sxs-lookup"><span data-stu-id="0a027-129">Assembly deployment method</span></span>|<span data-ttu-id="0a027-130">InboundTypeName</span><span class="sxs-lookup"><span data-stu-id="0a027-130">InboundTypeName</span></span>|<span data-ttu-id="0a027-131">InboundAssemblyPath</span><span class="sxs-lookup"><span data-stu-id="0a027-131">InboundAssemblyPath</span></span>|  
|--------------------------------|---------------------|-------------------------|  
|<span data-ttu-id="0a027-132">Especificar la ubicación del ensamblado</span><span class="sxs-lookup"><span data-stu-id="0a027-132">Specify assembly location</span></span>|<span data-ttu-id="0a027-133">Microsoft.Samples.MyReceiveAdapter</span><span class="sxs-lookup"><span data-stu-id="0a027-133">Microsoft.Samples.MyReceiveAdapter</span></span>|<span data-ttu-id="0a027-134">C:\MyAdapter\MyAdapter.dll</span><span class="sxs-lookup"><span data-stu-id="0a027-134">C:\MyAdapter\MyAdapter.dll</span></span>|  
|<span data-ttu-id="0a027-135">Especificar el tipo .NET (incluir clave pública, versión e información de referencia cultural)</span><span class="sxs-lookup"><span data-stu-id="0a027-135">Specify .NET type (include public key, version, and culture information)</span></span>|<span data-ttu-id="0a027-136">Microsoft.Samples.MyReceiveAdapter, MyReceiveAdapter, versión = 1.0.2510.24622, Culture = neutral, PublicKeyToken = 077cf886a2d1c020</span><span class="sxs-lookup"><span data-stu-id="0a027-136">Microsoft.Samples.MyReceiveAdapter, MyReceiveAdapter, Version=1.0.2510.24622, Culture=neutral, PublicKeyToken=077cf886a2d1c020</span></span>|<span data-ttu-id="0a027-137">N/D</span><span class="sxs-lookup"><span data-stu-id="0a027-137">N/A</span></span>|  
|<span data-ttu-id="0a027-138">Ensamblado de GAC</span><span class="sxs-lookup"><span data-stu-id="0a027-138">GAC assembly</span></span>|<span data-ttu-id="0a027-139">Microsoft.Samples.MyReceiveAdapter, MyReceiveAdapter, versión = 1.0.2510.24622, Culture = neutral, PublicKeyToken = 077cf886a2d1c020</span><span class="sxs-lookup"><span data-stu-id="0a027-139">Microsoft.Samples.MyReceiveAdapter, MyReceiveAdapter, Version=1.0.2510.24622, Culture=neutral, PublicKeyToken=077cf886a2d1c020</span></span>|<span data-ttu-id="0a027-140">N/D</span><span class="sxs-lookup"><span data-stu-id="0a027-140">N/A</span></span>|