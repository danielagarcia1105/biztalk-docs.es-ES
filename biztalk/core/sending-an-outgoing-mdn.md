---
title: Enviar un MDN saliente | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2dce7620-d354-4b76-bcbc-f97dc93c3fc3
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d947751e06e0dc9892ab63e109b417047ad91b59
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22271428"
---
# <a name="sending-an-outgoing-mdn"></a><span data-ttu-id="12982-102">Enviar un MDN saliente</span><span class="sxs-lookup"><span data-stu-id="12982-102">Sending an Outgoing MDN</span></span>
<span data-ttu-id="12982-103">La canalización de recepción AS2EDIReceive o AS2Receive genera un MDN saliente, y la canalización AS2Send lo envía.</span><span class="sxs-lookup"><span data-stu-id="12982-103">An outgoing MDN is generated by the AS2EDIReceive or AS2Receive receive pipeline, and sent by the AS2Send pipeline.</span></span> <span data-ttu-id="12982-104">En este tema se describe cómo se envía un MDN.</span><span class="sxs-lookup"><span data-stu-id="12982-104">This topic describes how an MDN is sent.</span></span> <span data-ttu-id="12982-105">Para obtener más información sobre cómo se genera un MDN, vea [generar un MDN saliente](../core/generating-an-outgoing-mdn.md).</span><span class="sxs-lookup"><span data-stu-id="12982-105">For more information on how an MDN is generated, see [Generating an Outgoing MDN](../core/generating-an-outgoing-mdn.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="12982-106">La canalización de envío AS2EDISend no se usa para enviar un MDN saliente, ya que el ensamblador EDI de esa canalización no se usa en el procesamiento de un MDN.</span><span class="sxs-lookup"><span data-stu-id="12982-106">The AS2EDISend send pipeline is not used to send an outgoing MDN, because the EDI assembler in that pipeline is not used in processing an MDN.</span></span>  
  
## <a name="agreement-resolution-for-an-mdn"></a><span data-ttu-id="12982-107">Resolución de acuerdos para un MDN</span><span class="sxs-lookup"><span data-stu-id="12982-107">Agreement Resolution for an MDN</span></span>  
 <span data-ttu-id="12982-108">Un MDN se enruta a sí mismo.</span><span class="sxs-lookup"><span data-stu-id="12982-108">An MDN is self-routing.</span></span> <span data-ttu-id="12982-109">Contiene la información necesaria para enrutarse al acuerdo deseado.</span><span class="sxs-lookup"><span data-stu-id="12982-109">It contains the information that it needs to be routed to the intended agreement.</span></span> <span data-ttu-id="12982-110">La canalización de envío usa las propiedades del acuerdo AS2 para procesar el MDN saliente.</span><span class="sxs-lookup"><span data-stu-id="12982-110">The send pipeline uses the AS2 agreement properties to process the outgoing MDN.</span></span> <span data-ttu-id="12982-111">No obstante, el MDN no tiene que tener un acuerdo resuelto para que se enrute a la entidad.</span><span class="sxs-lookup"><span data-stu-id="12982-111">However, the MDN does not have to have an agreement resolved for it to be routed to the party.</span></span>  
  
 <span data-ttu-id="12982-112">Cuando la canalización AS2Send procesa un MDN saliente, usa el valor AS2-To en el contexto del mensaje para obtener las propiedades del acuerdo y procesar el MDN.</span><span class="sxs-lookup"><span data-stu-id="12982-112">When the AS2Send pipeline processes an outgoing MDN, it uses the AS2-To value in the message context to obtain the agreement properties to process the MDN.</span></span> <span data-ttu-id="12982-113">Lo hace mediante la correspondencia de AS2-para la propiedad de contexto con AS2-a propiedades de acuerdo en el **identificadores** página en la ficha de acuerdo AS2 unidireccional en el **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="12982-113">It does so by matching the AS2-To context property with the AS2-To agreement property in the **Identifiers** page in the one-way AS2 agreement tab in the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="12982-114">Esta resolución de acuerdo para el MDN puede producir un error si el valor AS2-To no está establecido para el acuerdo.</span><span class="sxs-lookup"><span data-stu-id="12982-114">This agreement resolution for the MDN can fail if the AS2-To value is not set for the agreement.</span></span> <span data-ttu-id="12982-115">Si el acuerdo no puede determinarse, se usará un acuerdo predeterminado para generar el MDN.</span><span class="sxs-lookup"><span data-stu-id="12982-115">If the agreement cannot be determined, a default agreement is used to generate the MDN.</span></span>  
  
 <span data-ttu-id="12982-116">En el acuerdo predeterminado para un MDN saliente, se realiza la verificación de la lista de resolución de certificados.</span><span class="sxs-lookup"><span data-stu-id="12982-116">In the default agreement for an outgoing MDN, the certificate resolution list verification is performed.</span></span> <span data-ttu-id="12982-117">Si no desea que se realice esta verificación, compruebe que está establecida la propiedad del acuerdo de AS2-To correcta, de forma que la entidad de recepción pueda resolverse y las propiedades del acuerdo puedan determinarse.</span><span class="sxs-lookup"><span data-stu-id="12982-117">If you do not want this verification to be performed, verify that the correct AS2-To agreement property is set, so the receiving party can be resolved and the agreement properties can be determined.</span></span> <span data-ttu-id="12982-118">En ese caso, no se usará el acuerdo predeterminado que solicita la verificación de la lista de resolución de certificados.</span><span class="sxs-lookup"><span data-stu-id="12982-118">If so, the default agreement that prompts verification of the certificate resolution list will not be used.</span></span> <span data-ttu-id="12982-119">También necesitará deshabilitar el **Comprobar lista de revocación de certificados** propiedad en el **validación** página de la ficha de acuerdo AS2 unidireccional en el **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="12982-119">You will also need to disable the **Check Certification Revocation List** property on the **Validation** page of the one-way AS2 agreement tab in the **Agreement Properties** dialog box.</span></span>  
  
## <a name="synchronous-and-asynchronous-transmission"></a><span data-ttu-id="12982-120">Transmisión sincrónica y asíncrona</span><span class="sxs-lookup"><span data-stu-id="12982-120">Synchronous and Asynchronous Transmission</span></span>  
 <span data-ttu-id="12982-121">En el procesamiento predeterminado de AS2, se envía un MDN de forma sincrónica.</span><span class="sxs-lookup"><span data-stu-id="12982-121">In default AS2 processing, an MDN is sent synchronously.</span></span> <span data-ttu-id="12982-122">El puerto de envío asociado a un puerto de recepción bidireccional envía el MDN.</span><span class="sxs-lookup"><span data-stu-id="12982-122">The MDN is sent by the send port associated with a two-way receive port.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="12982-123">envía el MDN como una respuesta HTTP a una solicitud HTTP POST o como una respuesta HTTPS a una solicitud HTTPS POST en la misma conexión TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="12982-123"> sends the MDN as an HTTP response to an HTTP POST or as an HTTPS response to an HTTPS POST, on the same TCP/IP connection.</span></span> <span data-ttu-id="12982-124">El MDN está incluido en el cuerpo del mensaje del comando de respuesta HTTP.</span><span class="sxs-lookup"><span data-stu-id="12982-124">The MDN is included in the message body of the HTTP Response command.</span></span>  
  
 <span data-ttu-id="12982-125">Si el MDN se va a enviar de forma asíncrona, debe enviarse por un puerto de envío independiente, que recoge el MDN del cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="12982-125">If the MDN is being sent asynchronously, the MDN must be sent by a separate send port, which picks the MDN up from the MessageBox.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="12982-126">envía el MDN como un HTTP Post independiente en una conexión TCP/IP única, distinta del que se utiliza para entregar el mensaje AS2 original.</span><span class="sxs-lookup"><span data-stu-id="12982-126"> sends the MDN as a separate HTTP Post delivered on a unique TCP/IP connection, distinct from that used to deliver the original AS2 message.</span></span> <span data-ttu-id="12982-127">Aunque el MDN esté establecido como un HTTP Post independiente, un comando de respuesta HTTP sigue siendo necesario para el Post.</span><span class="sxs-lookup"><span data-stu-id="12982-127">Even though the MDN is set as a separate HTTP Post, an HTTP Response command is still required for the Post.</span></span>  
  
 <span data-ttu-id="12982-128">Normalmente, un MDN asíncrono se enviará a la URL del encabezado Receipt-Delivery-Option del mensaje AS2 original.</span><span class="sxs-lookup"><span data-stu-id="12982-128">An asynchronous MDN will normally be sent to the URL in the Receipt-Delivery-Option header of the original AS2 message.</span></span> <span data-ttu-id="12982-129">Sin embargo, si la **usar la configuración de acuerdo para validación y MDN en lugar del encabezado de mensaje** propiedad se establece en la en la **validación** página de la ficha de acuerdo AS2 unidireccional en el **acuerdo Propiedades** cuadro de diálogo, el MDN se enviará a la dirección URL que el **Receipt-Delivery-Option (URL)** acuerdo propiedad está establecida en.</span><span class="sxs-lookup"><span data-stu-id="12982-129">However, if the **Use agreement settings for validation and MDN instead of message header** property is set on the on the **Validation** page of the one-way AS2 agreement tab in the **Agreement Properties** dialog box, the MDN will be sent to the URL that the **Receipt-Delivery-Option (URL)** agreement property is set to.</span></span>  
  
## <a name="how-the-send-pipeline-processes-an-outgoing-mdn"></a><span data-ttu-id="12982-130">Cómo procesa la canalización de envío un MDN saliente</span><span class="sxs-lookup"><span data-stu-id="12982-130">How the Send Pipeline Processes an Outgoing MDN</span></span>  
 <span data-ttu-id="12982-131">La canalización AS2Send procesa un MDN saliente de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="12982-131">The AS2Send pipeline processes an outgoing MDN are as follows:</span></span>  
  
-   <span data-ttu-id="12982-132">Realiza un procesamiento MIME, incluida la aplicación de una firma digital, si se habilita en las propiedades de acuerdo unidireccional de AS2.</span><span class="sxs-lookup"><span data-stu-id="12982-132">Performs MIME processing, including applying a digital signature, if enabled in the AS2 one-way agreement properties.</span></span>  
  
-   <span data-ttu-id="12982-133">Realiza entradas de correlación en la base de datos sin repudio (la tabla EdiMessageContent de la base de datos BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="12982-133">Makes correlation entries in the non-repudiation database (the EdiMessageContent table of the BizTalkDTADb database).</span></span>  
  
-   <span data-ttu-id="12982-134">Realiza una copia del MDN (en su formato correspondiente) y lo almacena en la base de datos sin repudio, si se habilita en el **NRR habilitado para MDN de salida** propiedad del acuerdo.</span><span class="sxs-lookup"><span data-stu-id="12982-134">Makes a copy of the MDN (in wire format) and stores it in the non-repudiation database, if enabled in the **NRR enabled for outbound MDN** agreement property.</span></span>  
  
-   <span data-ttu-id="12982-135">Entrega el MDN al adaptador de HTTP.</span><span class="sxs-lookup"><span data-stu-id="12982-135">Delivers the MDN to the HTTP adapter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="12982-136">Vea también</span><span class="sxs-lookup"><span data-stu-id="12982-136">See Also</span></span>  
 <span data-ttu-id="12982-137">[Cómo BizTalk Server envía mensajes AS2](../core/how-biztalk-server-sends-as2-messages.md) </span><span class="sxs-lookup"><span data-stu-id="12982-137">[How BizTalk Server Sends AS2 Messages](../core/how-biztalk-server-sends-as2-messages.md) </span></span>  
 [<span data-ttu-id="12982-138">AS2 Componentes de envío</span><span class="sxs-lookup"><span data-stu-id="12982-138">AS2 Send Components</span></span>](../core/as2-send-components.md)