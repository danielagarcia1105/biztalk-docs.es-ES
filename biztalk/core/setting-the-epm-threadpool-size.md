---
title: Establecer el tamaño del grupo de subprocesos EPM | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9e170e76-5151-4306-9473-5b68e815219a
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 54afa88b51876d0ee56f548f263be1b00c37967a
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22271140"
---
# <a name="setting-the-epm-threadpool-size"></a><span data-ttu-id="95ac0-102">Establecer el tamaño del grupo de subprocesos de EPM</span><span class="sxs-lookup"><span data-stu-id="95ac0-102">Setting the EPM Threadpool Size</span></span>
<span data-ttu-id="95ac0-103">En este tema se explica cómo configurar el tamaño del grupo de subprocesos del Gestor extremo (EPM).</span><span class="sxs-lookup"><span data-stu-id="95ac0-103">This topic explains how to set the threadpool size for the End Point Manager (EPM).</span></span>  
  
 <span data-ttu-id="95ac0-104">En el **avanzadas** pestaña en el **propiedades de Host** cuadro de diálogo, hay una propiedad denominada **subprocesos del número máximo de motor de mensajería por CPU**.</span><span class="sxs-lookup"><span data-stu-id="95ac0-104">On the **Advanced** tab in the **Host Properties** dialog box, there is a property called **Maximum number of messaging engine threads per CPU**.</span></span> <span data-ttu-id="95ac0-105">Para obtener instrucciones sobre cómo acceder a este cuadro de diálogo, vea [cómo crear un nuevo Host](../core/how-to-create-a-new-host.md).</span><span class="sxs-lookup"><span data-stu-id="95ac0-105">For instructions about accessing this dialog box, see [How to Create a New Host](../core/how-to-create-a-new-host.md).</span></span> <span data-ttu-id="95ac0-106">Utilice esta propiedad para controlar el tamaño del grupo de subprocesos que el motor de mensajería utiliza para procesar mensajes.</span><span class="sxs-lookup"><span data-stu-id="95ac0-106">Use this property to control the size of the pool of process threads that the messaging engine uses to process messages.</span></span> <span data-ttu-id="95ac0-107">El valor predeterminado de esta propiedad es 20, por lo que el motor de mensajería no utilizará más de 20 subprocesos para cada CPU del servidor.</span><span class="sxs-lookup"><span data-stu-id="95ac0-107">The default value for this property is 20, meaning that the messaging engine will use no more than 20 threads for each CPU on the server.</span></span>  
  
 <span data-ttu-id="95ac0-108">Puesto que los lotes de mensajes se procesan por cada subproceso en el grupo, ajustar el valor de **subprocesos del número máximo de motor de mensajería por CPU** puede afectar al rendimiento cambiando la dinámica de utilización de recursos en el servidor.</span><span class="sxs-lookup"><span data-stu-id="95ac0-108">Since batches of messages are processed by each thread in the pool, adjusting the value of **Maximum number of messaging engine threads per CPU** can affect performance by changing the dynamics of resource utilization on the server.</span></span> <span data-ttu-id="95ac0-109">Para obtener más información sobre cómo funciona el grupo de subprocesos, vea [mediante el motor de mensajería de BizTalk](../core/using-the-biztalk-messaging-engine.md).</span><span class="sxs-lookup"><span data-stu-id="95ac0-109">For more information about how the threadpool works, see [Using the BizTalk Messaging Engine](../core/using-the-biztalk-messaging-engine.md).</span></span>  
  
 <span data-ttu-id="95ac0-110">Las pruebas han demostrado que en casos donde más se utiliza la CPU o el servidor SQL Server, si se reduce el valor de **subprocesos del número máximo de motor de mensajería por CPU** puede dar lugar a una ganancia en rendimiento.</span><span class="sxs-lookup"><span data-stu-id="95ac0-110">Testing has shown that in cases where the CPU or the SQL Server is over utilized, decreasing the value of **Maximum number of messaging engine threads per CPU** can result in a net gain in throughput.</span></span> <span data-ttu-id="95ac0-111">Por ejemplo, en los casos en los que el servidor de bases de datos de cuadros de mensajes muestra el uso de la CPU por encima del 90% o que los tiempos de espera de bloqueo de SQL se eleven por encima de los 500-1000 milisegundos, la reducción del número de subprocesos del grupo reducirá el número general de conexiones que se establecen con el servidor SQL Server, lo que resultará en un procesamiento de mensajes más eficaz.</span><span class="sxs-lookup"><span data-stu-id="95ac0-111">For example, in cases where the MessageBox database server exhibits CPU utilization above 90% or the SQL lock wait times are elevated above 500-1000 milliseconds, reducing the number of threads in the pool will reduce the overall number connections being made to SQL Server, which results in more efficient message processing.</span></span> <span data-ttu-id="95ac0-112">En algunos casos, establecer el tamaño máximo de un grupo de subprocesos en un valor inferior a 2 puede mejorar aún más el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="95ac0-112">In some cases, setting the maximum thread pool size to a value as low as 2 can result in measurable throughput gain.</span></span>  
  
## <a name="recommendation"></a><span data-ttu-id="95ac0-113">Recomendación</span><span class="sxs-lookup"><span data-stu-id="95ac0-113">Recommendation</span></span>  
 <span data-ttu-id="95ac0-114">Al optimizar una instalación de BizTalk Server, se recomienda ajustar el valor establecido para **subprocesos del número máximo de motor de mensajería por CPU**.</span><span class="sxs-lookup"><span data-stu-id="95ac0-114">When optimizing a BizTalk Server installation, it is recommended that you fine tune the value you set for **Maximum number of messaging engine threads per CPU**.</span></span>  <span data-ttu-id="95ac0-115">Cuando intente reducir el uso del servidor de bases de datos de cuadros de mensajes, considere la posibilidad de reducir el valor de esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="95ac0-115">When you try to reduce the utilization of the MessageBox database server, consider reducing the value of this property.</span></span>  
  
 <span data-ttu-id="95ac0-116">Cuando el servidor BizTalk server o el servidor de base de datos de cuadro de mensajes no se utiliza muy y aplicar una carga adicional no da como resultado un rendimiento adicional, intente aumentar el valor de **subprocesos del número máximo de motor de mensajería por CPU** Para sacar partido de los recursos disponibles.</span><span class="sxs-lookup"><span data-stu-id="95ac0-116">When the BizTalk server or the MessageBox database server is not highly utilized, and applying additional load does not result in additional throughput, try increasing the value of **Maximum number of messaging engine threads per CPU** to take advantage of underutilized resources.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="95ac0-117">Vea también</span><span class="sxs-lookup"><span data-stu-id="95ac0-117">See Also</span></span>  
 <span data-ttu-id="95ac0-118">[Cómo crear un nuevo Host](../core/how-to-create-a-new-host.md) </span><span class="sxs-lookup"><span data-stu-id="95ac0-118">[How to Create a New Host](../core/how-to-create-a-new-host.md) </span></span>  
 [<span data-ttu-id="95ac0-119">Usar el motor de mensajería de BizTalk</span><span class="sxs-lookup"><span data-stu-id="95ac0-119">Using the BizTalk Messaging Engine</span></span>](../core/using-the-biztalk-messaging-engine.md)