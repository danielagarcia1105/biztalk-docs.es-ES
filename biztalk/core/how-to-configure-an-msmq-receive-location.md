---
title: "Cómo configurar ubicación de recepción de MSMQ | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- MSMQ adapters, receive locations
- receive locations, MSMQ adapters
- configuring [MSMQ adapters], receive locations
ms.assetid: ba25cf43-18f1-4c19-84fb-74c7b82b95a9
caps.latest.revision: "43"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 795b72318054525485a64c9dd704b81ddf6cb6b9
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/01/2017
---
# <a name="how-to-configure-an-msmq-receive-location"></a><span data-ttu-id="bdc73-102">Cómo configurar una ubicación de recepción MSMQ</span><span class="sxs-lookup"><span data-stu-id="bdc73-102">How to Configure an MSMQ Receive Location</span></span>
<span data-ttu-id="bdc73-103">Se pueden establecer variables de adaptador de ubicación de recepción de MSMQ en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="bdc73-103">You can set MSMQ receive location adapter variables in the BizTalk Server Administration console.</span></span> <span data-ttu-id="bdc73-104">Si no se definen las propiedades en la ubicación de recepción, se utilizarán los valores predeterminados del controlador de recepción definidos en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="bdc73-104">If properties are not set in the receive location, the default receive handler values set in the BizTalk Server Administration console are used.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="bdc73-105">Antes de completar este procedimiento, debe haber agregado un puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="bdc73-105">Before completing the following procedure you must have already added a receive port.</span></span> <span data-ttu-id="bdc73-106">Para obtener más información, consulte [cómo crear un puerto de recepción](../core/how-to-create-a-receive-port.md).</span><span class="sxs-lookup"><span data-stu-id="bdc73-106">For more information see [How to Create a Receive Port](../core/how-to-create-a-receive-port.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="bdc73-107">Si una instancia de host está asociada con una ubicación de recepción o un puerto de envío MSMQ, compruebe que el servicio MSMQ se está ejecutando en ese equipo.</span><span class="sxs-lookup"><span data-stu-id="bdc73-107">If a host instance is associated with an MSMQ send port or receive location, verify the MSMQ service is running on that machine.</span></span> <span data-ttu-id="bdc73-108">Si el servicio no está en ejecución, los puertos de recepción MSMQ se cerrarán poco después de que se inicien y se suspenderán los mensajes enviados a los puertos de envío MSMQ.</span><span class="sxs-lookup"><span data-stu-id="bdc73-108">If the service is not running, the MSMQ receive ports will shut down shortly after they are started, and messages sent to the MSMQ send ports will be suspended.</span></span>  
>   
>  <span data-ttu-id="bdc73-109">En un escenario agrupado, es necesario que tanto la instancia de MSMQ agrupada como el servicio MSMQ de cada uno de los equipos del clúster esté en ejecución.</span><span class="sxs-lookup"><span data-stu-id="bdc73-109">In a clustered scenario, not only does the clustered MSMQ instance need to be running, but the local MSMQ service on each cluster machine should be running, as well.</span></span>  
  
## <a name="to-configure-variables-for-an-msmq-receive-location"></a><span data-ttu-id="bdc73-110">Para configurar variables para una ubicación de recepción de MSMQ</span><span class="sxs-lookup"><span data-stu-id="bdc73-110">To configure variables for an MSMQ receive location</span></span>  
 <span data-ttu-id="bdc73-111">Siga estos pasos para configurar variables para una ubicación de recepción MSMQ:</span><span class="sxs-lookup"><span data-stu-id="bdc73-111">Follow these steps to configure variables for an MSMQ receive location:</span></span>  
  
1.  <span data-ttu-id="bdc73-112">En la consola de administración de BizTalk Server, expanda **administración de BizTalk Server**, expanda **grupo de BizTalk**, expanda **aplicaciones**y, a continuación, expanda el aplicación que desea crear una ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="bdc73-112">In the BizTalk Server Administration console, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application you want to create a receive location in.</span></span>  
  
2.  <span data-ttu-id="bdc73-113">En la consola de administración de BizTalk Server, en el panel izquierdo, haga clic en el **puerto de recepción** nodo.</span><span class="sxs-lookup"><span data-stu-id="bdc73-113">In the BizTalk Server Administration console, in the left pane, click the **Receive Port** node.</span></span> <span data-ttu-id="bdc73-114">A continuación, en el panel de la derecha, haga clic con el botón secundario en el puerto de recepción asociado con una ubicación de recepción existente o que desee asociar con una nueva ubicación de recepción. A continuación, haga clic en **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="bdc73-114">Then in the right pane, right-click the receive port that is associated with an existing receive location or that you want to associate with a new receive location, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="bdc73-115">En el **propiedades de puerto de recepción** cuadro de diálogo, en el panel izquierdo, seleccione **ubicaciones de recepción**y, a continuación, en el panel derecho, haga doble clic en otra ubicación de recepción o haga clic en **New**para crear una nueva ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="bdc73-115">In the **Receive Port Properties** dialog box, in the left pane, select **Receive Locations**, and then in the right pane, double-click an existing receive location or click **New**to create a new receive location.</span></span>  
  
4.  <span data-ttu-id="bdc73-116">En el **propiedades de la ubicación de recepción** cuadro de diálogo, en la **transporte** junto a la sección **tipo**, seleccione **MSMQ** en la lista desplegable, y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="bdc73-116">In the **Receive Location Properties** dialog box, in the **Transport** section next to **Type**, select **MSMQ** from the drop-down list, and then click **Configure**.</span></span>  
  
5.  <span data-ttu-id="bdc73-117">En el **propiedades de transporte de MSMQ** diálogo cuadro, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="bdc73-117">In the **MSMQ Transport Properties** dialog box, do the following:</span></span>  
  
    |<span data-ttu-id="bdc73-118">Use</span><span class="sxs-lookup"><span data-stu-id="bdc73-118">Use this</span></span>|<span data-ttu-id="bdc73-119">Para</span><span class="sxs-lookup"><span data-stu-id="bdc73-119">To do this</span></span>|<span data-ttu-id="bdc73-120">Date (tipo)</span><span class="sxs-lookup"><span data-stu-id="bdc73-120">Date type</span></span>|<span data-ttu-id="bdc73-121">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="bdc73-121">Default value</span></span>|  
    |--------------|----------------|---------------|-------------------|  
    |<span data-ttu-id="bdc73-122">**Contraseña**</span><span class="sxs-lookup"><span data-stu-id="bdc73-122">**Password**</span></span>|<span data-ttu-id="bdc73-123">Establecer una contraseña para usarla con una cola remota.</span><span class="sxs-lookup"><span data-stu-id="bdc73-123">Set a password to use for a remote queue.</span></span>|<span data-ttu-id="bdc73-124">String</span><span class="sxs-lookup"><span data-stu-id="bdc73-124">String</span></span>|<span data-ttu-id="bdc73-125">En blanco</span><span class="sxs-lookup"><span data-stu-id="bdc73-125">Blank</span></span>|  
    |<span data-ttu-id="bdc73-126">**Nombre de usuario**</span><span class="sxs-lookup"><span data-stu-id="bdc73-126">**User Name**</span></span>|<span data-ttu-id="bdc73-127">Determinar el nombre de usuario que se utilizará, junto con la contraseña, para tener acceso a una cola remota.</span><span class="sxs-lookup"><span data-stu-id="bdc73-127">Determine the user name to use, in combination with the password, for access to a remote queue.</span></span> <span data-ttu-id="bdc73-128">No se puede utilizar el usuario local del equipo remoto como nombre de usuario.</span><span class="sxs-lookup"><span data-stu-id="bdc73-128">You cannot use the local user of the remote computer for the user name.</span></span>|<span data-ttu-id="bdc73-129">String</span><span class="sxs-lookup"><span data-stu-id="bdc73-129">String</span></span>|<span data-ttu-id="bdc73-130">En blanco</span><span class="sxs-lookup"><span data-stu-id="bdc73-130">Blank</span></span>|  
    |<span data-ttu-id="bdc73-131">**Tamaño del lote**</span><span class="sxs-lookup"><span data-stu-id="bdc73-131">**Batch Size**</span></span>|<span data-ttu-id="bdc73-132">Configurar el tamaño de lote.</span><span class="sxs-lookup"><span data-stu-id="bdc73-132">Configure the batch size.</span></span> <span data-ttu-id="bdc73-133">El adaptador de MSMQ envía mensajes por lotes a la base de datos de cuadros de mensaje.</span><span class="sxs-lookup"><span data-stu-id="bdc73-133">The MSMQ adapter submits messages to the MessageBox database in batches.</span></span> <span data-ttu-id="bdc73-134">El tamaño predeterminado del lote es 20 y el tamaño mínimo del lote es 1.</span><span class="sxs-lookup"><span data-stu-id="bdc73-134">The default batch size is 20, and the minimum batch size is 1.</span></span> <span data-ttu-id="bdc73-135">**Nota:** si la **transaccional** propiedad para la ubicación de recepción se establece en **True**; cada lote de mensajes se envía a la base de datos de cuadro de mensajes en el contexto de un Microsoft Distributed Transacción de Transaction Coordinator (MSDTC).</span><span class="sxs-lookup"><span data-stu-id="bdc73-135">**Note:**  If the **Transactional** property for the receive location is set to **True**; each message batch is submitted to the MessageBox database under the context of a Microsoft Distributed Transaction Coordinator (MSDTC) transaction.</span></span> <span data-ttu-id="bdc73-136">La transacción de MSDTC creada para un lote de mensajes permanece abierta hasta que todos los mensajes del lote se hayan guardado en el cuadro de mensajes y colocado en la cola de suscriptores apropiada.</span><span class="sxs-lookup"><span data-stu-id="bdc73-136">The MSDTC transaction that is created for a message batch remains open until every message in the batch has been persisted to the MessageBox and placed in the appropriate subscriber queue.</span></span> <span data-ttu-id="bdc73-137">Por lo tanto, la duración de esta transacción de MSDTC aumenta en función del **tamaño de lote** parámetro aumenta.</span><span class="sxs-lookup"><span data-stu-id="bdc73-137">Therefore the duration of this MSDTC transaction is increased as the **Batch Size** parameter is increased.</span></span> <span data-ttu-id="bdc73-138">Puesto que tiene un gran número de transacciones de MSDTC abiertas al mismo tiempo puede afectar negativamente al rendimiento, la **tamaño de lote** parámetro no debe establecerse en un valor muy grande cuando se habilita la compatibilidad con transacciones.</span><span class="sxs-lookup"><span data-stu-id="bdc73-138">Since having a large number of MSDTC transactions open simultaneously can negatively impact overall performance, the **Batch Size** parameter should not be set to a very large value when transaction support is enabled.</span></span>|<span data-ttu-id="bdc73-139">int</span><span class="sxs-lookup"><span data-stu-id="bdc73-139">Int</span></span>|<span data-ttu-id="bdc73-140">20</span><span class="sxs-lookup"><span data-stu-id="bdc73-140">20</span></span>|  
    |<span data-ttu-id="bdc73-141">**En caso de error**</span><span class="sxs-lookup"><span data-stu-id="bdc73-141">**On Failure**</span></span>|<span data-ttu-id="bdc73-142">Especificar el modo en que el adaptador debe responder a un error.</span><span class="sxs-lookup"><span data-stu-id="bdc73-142">Specify how the adapter should respond to an error.</span></span> <span data-ttu-id="bdc73-143">Defina esta propiedad con uno de los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="bdc73-143">Set this property to one of the following values:</span></span><br /><br /> <span data-ttu-id="bdc73-144">-   **Detener.**</span><span class="sxs-lookup"><span data-stu-id="bdc73-144">-   **Stop.**</span></span> <span data-ttu-id="bdc73-145">detiene la recepción de mensajes a través de esta ubicación de recepción en caso de producirse un error.</span><span class="sxs-lookup"><span data-stu-id="bdc73-145">Stop receiving messages through this receive location if an error condition occurs.</span></span><br /><span data-ttu-id="bdc73-146">-   **Suspend(Non-Resumable).**</span><span class="sxs-lookup"><span data-stu-id="bdc73-146">-   **Suspend(non-resumable).**</span></span> <span data-ttu-id="bdc73-147">suspende los mensajes y los marca como no reanudables.</span><span class="sxs-lookup"><span data-stu-id="bdc73-147">Suspend messages and mark as non-resumable.</span></span><br /><span data-ttu-id="bdc73-148">-   **Suspender (reanudable).**</span><span class="sxs-lookup"><span data-stu-id="bdc73-148">-   **Suspend(resumable).**</span></span> <span data-ttu-id="bdc73-149">suspende los mensajes y los marca como reanudables.</span><span class="sxs-lookup"><span data-stu-id="bdc73-149">Suspend messages and mark as resumable.</span></span> <span data-ttu-id="bdc73-150">**Importante:** si la **True** opción **procesamiento ordenado** propiedad, el **detener** opción el **en caso de error** propiedad y el **False** opción el **transaccional** propiedad se aplican al mismo tiempo, a continuación, los mensajes que se producirá un error de entrega no se suspende o se deja en la cola de origen.</span><span class="sxs-lookup"><span data-stu-id="bdc73-150">**Important:**  If the **True** option for **Ordered Processing** property, the **Stop** option for the **On Failure** property, and the **False** option for the **Transactional** property are applied at the same time, then any messages that fail delivery will not be suspended or left in the source queue.</span></span> <span data-ttu-id="bdc73-151">En este escenario, puede que se pierda el mensaje.</span><span class="sxs-lookup"><span data-stu-id="bdc73-151">In this scenario, message loss can occur.</span></span> <span data-ttu-id="bdc73-152">Para evitar la pérdida de datos, al utilizar el **procesamiento ordenado** característica, el **detener** opción el **en caso de error** propiedad sólo se aplica si la **es True**  opción el **transaccional** se aplica la propiedad.</span><span class="sxs-lookup"><span data-stu-id="bdc73-152">To prevent data loss, when using the **Ordered Processing** feature, the **Stop** option for the **On Failure** property should only be applied if the **True** option for the **Transactional** property is applied.</span></span> <span data-ttu-id="bdc73-153">De este modo, si se produce un error de entrega, el mensaje original se colocará en la cola de origen de MSMQ.</span><span class="sxs-lookup"><span data-stu-id="bdc73-153">Then, if a message delivery failure occurs, the original message will be left in the source MSMQ queue.</span></span> <span data-ttu-id="bdc73-154">Si el **procesamiento ordenado** propiedad está establecida en un valor de **False** la **en caso de error** propiedad no surtirá efecto y si produce un error de entrega de mensaje del mensaje se suspenderá con un estado de **suspendido (reanudable)**.</span><span class="sxs-lookup"><span data-stu-id="bdc73-154">If the **Ordered Processing** property is set to a value of **False** then the **On Failure** property will not take effect and if a message delivery failure occurs the message will be suspended with a status of **Suspended (resumable)**.</span></span>|<span data-ttu-id="bdc73-155">String</span><span class="sxs-lookup"><span data-stu-id="bdc73-155">String</span></span>|<span data-ttu-id="bdc73-156">Suspender (reanudable)</span><span class="sxs-lookup"><span data-stu-id="bdc73-156">Suspend(resumable)</span></span>|  
    |<span data-ttu-id="bdc73-157">**Procesamiento ordenado**</span><span class="sxs-lookup"><span data-stu-id="bdc73-157">**Ordered Processing**</span></span>|<span data-ttu-id="bdc73-158">Establezca esta propiedad en **True** o **False**.</span><span class="sxs-lookup"><span data-stu-id="bdc73-158">Set this property to **True** or **False**.</span></span> <span data-ttu-id="bdc73-159">Indica si los mensajes se procesan en serie.</span><span class="sxs-lookup"><span data-stu-id="bdc73-159">This indicates whether to process messages serially.</span></span> <span data-ttu-id="bdc73-160">Establecer la propiedad en **True** se alojará la entrega de mensajes ordenada cuando se utiliza junto con un puerto de envío de orquestación o mensajería de BizTalk que tiene el **entrega ordenada** opción establecida en  **True**.</span><span class="sxs-lookup"><span data-stu-id="bdc73-160">Setting the property to **True** will accommodate ordered message delivery when used in conjunction with a BizTalk messaging or orchestration send port that has the **Ordered Delivery** option set to **True**.</span></span> <span data-ttu-id="bdc73-161">Para obtener más información, consulte [ordenada de mensajes de entrega](../core/ordered-delivery-of-messages.md).</span><span class="sxs-lookup"><span data-stu-id="bdc73-161">For more information see [Ordered Delivery of Messages](../core/ordered-delivery-of-messages.md).</span></span><br /><br /> <span data-ttu-id="bdc73-162">Si se establece esta propiedad en **True** también optimiza el uso de recursos cuando se administran los mensajes de gran tamaño convirtiendo el adaptador en un único subproceso.</span><span class="sxs-lookup"><span data-stu-id="bdc73-162">Setting this property to **True** also optimizes resource usage when handling large messages by making the adapter single-threaded.</span></span> <span data-ttu-id="bdc73-163">Para obtener más información, consulte [enviar y recibir mensajes de gran tamaño mediante el adaptador de MSMQ](../core/sending-and-receiving-large-messages-using-the-msmq-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="bdc73-163">For more information, see [Sending and Receiving Large Messages Using the MSMQ Adapter](../core/sending-and-receiving-large-messages-using-the-msmq-adapter.md).</span></span>|<span data-ttu-id="bdc73-164">Boolean</span><span class="sxs-lookup"><span data-stu-id="bdc73-164">Boolean</span></span>|<span data-ttu-id="bdc73-165">False</span><span class="sxs-lookup"><span data-stu-id="bdc73-165">False</span></span>|  
    |<span data-ttu-id="bdc73-166">**Cola**</span><span class="sxs-lookup"><span data-stu-id="bdc73-166">**Queue**</span></span>|<span data-ttu-id="bdc73-167">Escribir una ruta válida de acceso a la cola.</span><span class="sxs-lookup"><span data-stu-id="bdc73-167">Type a valid queue path.</span></span> <span data-ttu-id="bdc73-168">Dependiendo de la ruta de la cola especificada, el sistema realiza las validaciones oportunas.</span><span class="sxs-lookup"><span data-stu-id="bdc73-168">Depending on the queue path you specify, the system performs the appropriate validations.</span></span> <span data-ttu-id="bdc73-169">**Nota:** el URI para un envío de puerto o recibir ubicación no puede superar los 256 caracteres.</span><span class="sxs-lookup"><span data-stu-id="bdc73-169">**Note:**  The URI for a send port or receive location cannot exceed 256 characters.</span></span> <span data-ttu-id="bdc73-170">**Nota:** : adaptador de recepción MSMQ utiliza un mecanismo de sondeo para supervisar la cola MSMQ especificada si hay mensajes nuevos cada 0,5 segundos.</span><span class="sxs-lookup"><span data-stu-id="bdc73-170">**Note:**  MSMQ Receive adapter uses a polling mechanism to monitor the specified MSMQ queue for new messages every 0.5 seconds.</span></span> <span data-ttu-id="bdc73-171">Este intervalo de 0,5 segundos es un intervalo fijo.</span><span class="sxs-lookup"><span data-stu-id="bdc73-171">This 0.5 second interval is a fixed interval.</span></span>|<span data-ttu-id="bdc73-172">String</span><span class="sxs-lookup"><span data-stu-id="bdc73-172">String</span></span>|<span data-ttu-id="bdc73-173">En blanco</span><span class="sxs-lookup"><span data-stu-id="bdc73-173">Blank</span></span>|  
    |<span data-ttu-id="bdc73-174">**Transaccional**</span><span class="sxs-lookup"><span data-stu-id="bdc73-174">**Transactional**</span></span>|<span data-ttu-id="bdc73-175">Establezca esta propiedad en **True** o **False**.</span><span class="sxs-lookup"><span data-stu-id="bdc73-175">Set this property to **True** or **False**.</span></span> <span data-ttu-id="bdc73-176">**Nota:** el adaptador admite lecturas transaccionales de colas remotas con Message Queue Server 4.0 o versiones posteriores únicamente.</span><span class="sxs-lookup"><span data-stu-id="bdc73-176">**Note:**  The adapter supports transactional reads of remote queues with Message Queuing 4.0 or later only.</span></span> <span data-ttu-id="bdc73-177">En este escenario el servidor BizTalk Server y el servidor remoto de Message Queue Server deben ejecutar Message Queue Server 4.0 o posterior.</span><span class="sxs-lookup"><span data-stu-id="bdc73-177">In this scenario both the BizTalk Server and the remote Message Queuing server must be running Message Queuing 4.0 or later.</span></span> <br /><br /> <span data-ttu-id="bdc73-178">Para obtener más información, consulte [configurar el adaptador de MSMQ](../core/configuring-the-msmq-adapter.md) y [consideraciones para ejecutar controladores de adaptador dentro de un Host en clúster](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md).</span><span class="sxs-lookup"><span data-stu-id="bdc73-178">For more information, see [Configuring the MSMQ Adapter](../core/configuring-the-msmq-adapter.md) and [Considerations for Running Adapter Handlers within a Clustered Host](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md).</span></span>|<span data-ttu-id="bdc73-179">Boolean</span><span class="sxs-lookup"><span data-stu-id="bdc73-179">Boolean</span></span>|<span data-ttu-id="bdc73-180">False</span><span class="sxs-lookup"><span data-stu-id="bdc73-180">False</span></span>|  
  
    > [!NOTE]
    >  <span data-ttu-id="bdc73-181">El **nombre de usuario** y **contraseña** solo se aplican a las cuentas de Windows que se utiliza para tener acceso a las colas remotas.</span><span class="sxs-lookup"><span data-stu-id="bdc73-181">The **User Name** and **Password** apply only to Windows accounts used to access remote queues.</span></span>  
  
6.  <span data-ttu-id="bdc73-182">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="bdc73-182">Click **OK**.</span></span>  
  
7.  <span data-ttu-id="bdc73-183">En el **propiedades de la ubicación de recepción** diálogo cuadro, escriba los valores adecuados para completar la configuración de la ubicación de recepción y haga clic en **Aceptar** para guardar la configuración.</span><span class="sxs-lookup"><span data-stu-id="bdc73-183">In the **Receive Location Properties** dialog box, enter the appropriate values to complete the configuration of the receive location, and click **OK** to save settings.</span></span> <span data-ttu-id="bdc73-184">Para obtener información sobre la **propiedades de ubicaciones de recepción** cuadro de diálogo, vea [cómo crear una ubicación de recepción](../core/how-to-create-a-receive-location.md).</span><span class="sxs-lookup"><span data-stu-id="bdc73-184">For information about the **Receive Locations Properties** dialog box, see [How to Create a Receive Location](../core/how-to-create-a-receive-location.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bdc73-185">Vea también</span><span class="sxs-lookup"><span data-stu-id="bdc73-185">See Also</span></span>  
 [<span data-ttu-id="bdc73-186">Configuración del adaptador de MSMQ</span><span class="sxs-lookup"><span data-stu-id="bdc73-186">Configuring the MSMQ Adapter</span></span>](../core/configuring-the-msmq-adapter.md)