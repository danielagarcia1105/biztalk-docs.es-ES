---
title: "Cómo agregar una directiva a una aplicación | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- managing [policies], adding to applications
- policies, applications
- applications, policies
- policies, adding to applications
ms.assetid: 93b3ce5e-8c63-4c64-9bdc-1747541ba9a8
caps.latest.revision: "18"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1ad9eaf1e2f14e51e60ad3f18e31cdaa72fa906a
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-add-a-policy-to-an-application"></a><span data-ttu-id="61c36-102">Cómo agregar una directiva a una aplicación</span><span class="sxs-lookup"><span data-stu-id="61c36-102">How to Add a Policy to an Application</span></span>
<span data-ttu-id="61c36-103">En este tema se describe cómo usar la consola de administración de BizTalk Server o la línea de comandos para agregar una directiva a una aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="61c36-103">This topic describes how to use the BizTalk Server Administration console or the command line to add a policy to a BizTalk application.</span></span> <span data-ttu-id="61c36-104">En el caso de usar la consola de administración, puede agregar varias directivas al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="61c36-104">When using the administration console, you can add more than one policy at a time.</span></span> <span data-ttu-id="61c36-105">La agregación de una directiva a una aplicación hace que esté disponible para que la use la aplicación, así como cualquier otra aplicación que haga referencia a ella.</span><span class="sxs-lookup"><span data-stu-id="61c36-105">Adding a policy to an application makes it available for use by that application as well as any other applications that reference it.</span></span>  
  
 <span data-ttu-id="61c36-106">Al agregar una directiva a una aplicación, tenga en cuenta los siguientes puntos importantes:</span><span class="sxs-lookup"><span data-stu-id="61c36-106">When adding a policy to an application, bear in mind the following important points:</span></span>  
  
-   <span data-ttu-id="61c36-107">Antes de que se puede agregar una directiva a una aplicación, la directiva debe existir en la base de datos de motor de reglas para el grupo de BizTalk y debe estar publicada, como se describe en [cómo importar una directiva](../core/how-to-import-a-policy.md).</span><span class="sxs-lookup"><span data-stu-id="61c36-107">Before you can add a policy to an application, the policy must exist in the Rule Engine database for the BizTalk group, and it must be published, as described in [How to Import a Policy](../core/how-to-import-a-policy.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="61c36-108">Cuando se quita una directiva de la base de datos del motor de reglas mediante el Asistente para implementar el motor de reglas, ésta se seguirá mostrando en la consola de administración aunque no podrá publicarla.</span><span class="sxs-lookup"><span data-stu-id="61c36-108">When you remove a policy from the Rule Engine database by using the Rule Engine Deployment Wizard, it will still display in the administration console, but, you will not be able to publish it.</span></span> <span data-ttu-id="61c36-109">Para obtener más información sobre el Asistente para la implementación del motor de reglas, consulte [cómo implementar y anular la implementación de directivas y vocabularios](../core/how-to-deploy-and-undeploy-policies-and-vocabularies.md).</span><span class="sxs-lookup"><span data-stu-id="61c36-109">For more information about the Rule Engine Deployment Wizard, see [How to Deploy and Undeploy Policies and Vocabularies](../core/how-to-deploy-and-undeploy-policies-and-vocabularies.md).</span></span>  
  
-   <span data-ttu-id="61c36-110">La directiva no puede existir en otra aplicación del grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="61c36-110">The policy cannot already exist in another application in the BizTalk group.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="61c36-111">Si una directiva se comparte entre dos o más aplicaciones, debe crear una aplicación diferente para que la contenga y, a continuación, crear referencias a la aplicación que contiene la directiva desde las aplicaciones que la usan.</span><span class="sxs-lookup"><span data-stu-id="61c36-111">If a policy is shared across two or more applications, you should create a separate application to contain the policy and then create references from the applications that use the policy to the application containing the policy.</span></span> <span data-ttu-id="61c36-112">Esto es necesario porque al detener una aplicación que contiene una directiva, la implementación de la misma se anula automáticamente y la directiva deja de funcionar para cualquiera de las aplicaciones que la usen.</span><span class="sxs-lookup"><span data-stu-id="61c36-112">This is because if you stop an application that contains a policy, the policy is automatically undeployed and no longer functions for any of the applications that use it.</span></span> <span data-ttu-id="61c36-113">Para obtener instrucciones sobre cómo agregar una referencia, vea [cómo agregar una referencia a otra aplicación](../core/how-to-add-a-reference-to-another-application.md).</span><span class="sxs-lookup"><span data-stu-id="61c36-113">For instructions on adding a reference, see [How to Add a Reference to Another Application](../core/how-to-add-a-reference-to-another-application.md).</span></span>  
  
-   <span data-ttu-id="61c36-114">Para que la directiva se aplique y comience a funcionar, debe implementarse también.</span><span class="sxs-lookup"><span data-stu-id="61c36-114">For the policy to take effect and begin functioning, it must also be deployed.</span></span> <span data-ttu-id="61c36-115">Las directivas se implementan automáticamente cuando se inicia la aplicación, o puede implementarlos manualmente como se describe en [cómo implementar o anular la implementación de una directiva](../core/how-to-deploy-or-undeploy-a-policy.md).</span><span class="sxs-lookup"><span data-stu-id="61c36-115">Policies are automatically deployed when the application starts, or you can manually deploy them as described in [How to Deploy or Undeploy a Policy](../core/how-to-deploy-or-undeploy-a-policy.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="61c36-116">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="61c36-116">Prerequisites</span></span>  
 <span data-ttu-id="61c36-117">Para realizar los procedimientos descritos en este tema, deberá iniciar la sesión con una cuenta que sea miembro del grupo de administradores de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="61c36-117">To perform the procedures in this topic, you must be logged on with an account that is a member of the BizTalk Server Administrators group.</span></span> <span data-ttu-id="61c36-118">Para obtener más información sobre permisos, consulte [permisos necesarios para implementar y administrar una aplicación de BizTalk](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span><span class="sxs-lookup"><span data-stu-id="61c36-118">For more detailed information on permissions, see [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span></span>  
  
## <a name="to-add-a-policy-to-an-application"></a><span data-ttu-id="61c36-119">Para agregar una directiva a una aplicación</span><span class="sxs-lookup"><span data-stu-id="61c36-119">To add a policy to an application</span></span>  
  
#### <a name="using-the-biztalk-server-administration-console"></a><span data-ttu-id="61c36-120">Mediante la consola de administración de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="61c36-120">Using the BizTalk Server Administration console</span></span>  
  
1.  <span data-ttu-id="61c36-121">Haga clic en **iniciar**, haga clic en **todos los programas**, haga clic en [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]y, a continuación, haga clic en **administración de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="61c36-121">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="61c36-122">En el árbol de consola, expanda [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)] y el grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="61c36-122">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)] and the BizTalk group.</span></span>  
  
3.  <span data-ttu-id="61c36-123">Expanda aplicaciones, expanda la aplicación a la que desea agregar una directiva y, a continuación, haga clic en **directivas**.</span><span class="sxs-lookup"><span data-stu-id="61c36-123">Expand Applications, expand the application to which you want to add a policy, and then right-click **Policies**.</span></span>  
  
4.  <span data-ttu-id="61c36-124">Seleccione **agregar** y haga clic en **directiva**.</span><span class="sxs-lookup"><span data-stu-id="61c36-124">Point to **Add** and click **Policy**.</span></span>  
  
5.  <span data-ttu-id="61c36-125">Active la casilla de verificación de las directivas y la versión para agregar y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="61c36-125">Select the check box of each policy and version to add, and then click **OK**.</span></span>  
  
#### <a name="using-the-command-line"></a><span data-ttu-id="61c36-126">Utilizar la línea de comandos</span><span class="sxs-lookup"><span data-stu-id="61c36-126">Using the command line</span></span>  
  
1.  <span data-ttu-id="61c36-127">Abra un símbolo del sistema como sigue: haga clic en **iniciar**, haga clic en **ejecutar**, tipo `cmd`y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="61c36-127">Open a command prompt as follows: Click **Start**, click **Run**, type `cmd`, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="61c36-128">Escriba el siguiente comando, sustituyendo los valores según corresponda, como se describe en la tabla que se presenta a continuación:</span><span class="sxs-lookup"><span data-stu-id="61c36-128">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
     <span data-ttu-id="61c36-129">**BTSTask AddResource** [**/ApplicationName:***valor*] **/Type:System.BizTalk:Rules** [**sobrescribir**] **/Name:***valor***/Version:***valor* [**/Server:***valor* ] [**/Database:***valor*]</span><span class="sxs-lookup"><span data-stu-id="61c36-129">**BTSTask AddResource** [**/ApplicationName:***value*] **/Type:System.BizTalk:Rules** [**Overwrite**] **/Name:***value***/Version:***value* [**/Server:***value*] [**/Database:***value*]</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="61c36-130">Los valores de parámetros distinguen entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="61c36-130">Parameter values are case sensitive.</span></span> <span data-ttu-id="61c36-131">Los nombres de parámetros no distinguen mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="61c36-131">Parameter names are not case sensitive.</span></span> <span data-ttu-id="61c36-132">Asimismo, cuando agrega una directiva a una aplicación mediante este comando, también se agrega automáticamente cualquier vocabulario utilizado por la directiva.</span><span class="sxs-lookup"><span data-stu-id="61c36-132">Also, when you add a policy to an application by using this command, any vocabularies used by the policy are automatically added as well.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="61c36-133">En un sistema que admita el Control de cuentas de usuario (UAC), es posible que deba ejecutar la herramienta con privilegios administrativos.</span><span class="sxs-lookup"><span data-stu-id="61c36-133">On a system that supports User Account Control (UAC), you may need to run the tool with Administrative privileges.</span></span>  
  
     <span data-ttu-id="61c36-134">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="61c36-134">Example:</span></span>  
  
     <span data-ttu-id="61c36-135">**BTSTask AddResource /ApplicationName:MyApplication /Type:System.BizTalk:Rules / Overwrite /Name:MyPolicy /Version:1.0 /Server:MyDatabaseServer /Database:BizTalkMgmtDb**</span><span class="sxs-lookup"><span data-stu-id="61c36-135">**BTSTask AddResource /ApplicationName:MyApplication /Type:System.BizTalk:Rules /Overwrite /Name:MyPolicy /Version:1.0 /Server:MyDatabaseServer /Database:BizTalkMgmtDb**</span></span>  
  
    |<span data-ttu-id="61c36-136">Parámetro</span><span class="sxs-lookup"><span data-stu-id="61c36-136">Parameter</span></span>|<span data-ttu-id="61c36-137">Valor</span><span class="sxs-lookup"><span data-stu-id="61c36-137">Value</span></span>|  
    |---------------|-----------|  
    |<span data-ttu-id="61c36-138">**/ ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="61c36-138">**/ApplicationName**</span></span>|<span data-ttu-id="61c36-139">Nombre de la aplicación de BizTalk a la que se agrega la directiva.</span><span class="sxs-lookup"><span data-stu-id="61c36-139">Name of the BizTalk application to which to add the policy.</span></span> <span data-ttu-id="61c36-140">Si no se especifica el nombre de aplicación, se utiliza la aplicación predeterminada de BizTalk para el grupo.</span><span class="sxs-lookup"><span data-stu-id="61c36-140">If the application name is not specified, the default BizTalk application for the group is used.</span></span> <span data-ttu-id="61c36-141">Nombres que incluyen espacios deben incluirse entre comillas dobles (").</span><span class="sxs-lookup"><span data-stu-id="61c36-141">Names that include spaces must be enclosed in double quotation marks (").</span></span>|  
    |<span data-ttu-id="61c36-142">**/ Tipo**</span><span class="sxs-lookup"><span data-stu-id="61c36-142">**/Type**</span></span>|<span data-ttu-id="61c36-143">**System.BizTalk:Rules**</span><span class="sxs-lookup"><span data-stu-id="61c36-143">**System.BizTalk:Rules**</span></span>|  
    |<span data-ttu-id="61c36-144">**/ Sobrescribir**</span><span class="sxs-lookup"><span data-stu-id="61c36-144">**/Overwrite**</span></span>|<span data-ttu-id="61c36-145">Opción para actualizar una directiva existente.</span><span class="sxs-lookup"><span data-stu-id="61c36-145">Option to update an existing policy.</span></span> <span data-ttu-id="61c36-146">Si no se especifica y ya existe una directiva en la aplicación que tiene el mismo nombre que la directiva que se agrega, se produce un error en la operación AddResource.</span><span class="sxs-lookup"><span data-stu-id="61c36-146">If not specified, and a policy already exists in the application that has the same name as the policy being added, the AddResource operation fails.</span></span>|  
    |<span data-ttu-id="61c36-147">**/ Name**</span><span class="sxs-lookup"><span data-stu-id="61c36-147">**/Name**</span></span>|<span data-ttu-id="61c36-148">Nombre de la directiva.</span><span class="sxs-lookup"><span data-stu-id="61c36-148">Name of the policy.</span></span>|  
    |<span data-ttu-id="61c36-149">**/ Versión**</span><span class="sxs-lookup"><span data-stu-id="61c36-149">**/Version**</span></span>|<span data-ttu-id="61c36-150">Número de versión de la directiva.</span><span class="sxs-lookup"><span data-stu-id="61c36-150">Version number of the policy.</span></span>|  
    |<span data-ttu-id="61c36-151">**/ Servidor**</span><span class="sxs-lookup"><span data-stu-id="61c36-151">**/Server**</span></span>|<span data-ttu-id="61c36-152">Nombre de la instancia de servidor SQL Server que aloja la base de datos de administración de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="61c36-152">Name of the SQL Server instance hosting the BizTalk Management database.</span></span> <span data-ttu-id="61c36-153">Resulta necesario si se especifica el parámetro de base de datos.</span><span class="sxs-lookup"><span data-stu-id="61c36-153">Required if you specify the Database parameter.</span></span> <span data-ttu-id="61c36-154">Si no se especifican los parámetros de base de datos y servidor, se utiliza la base de datos de administración de BizTalk predeterminada para el grupo.</span><span class="sxs-lookup"><span data-stu-id="61c36-154">If Server and Database parameters are not specified, the default BizTalk Management database for the group is used.</span></span>|  
    |<span data-ttu-id="61c36-155">**/ Base de datos**</span><span class="sxs-lookup"><span data-stu-id="61c36-155">**/Database**</span></span>|<span data-ttu-id="61c36-156">Nombre de la base de datos de administración de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="61c36-156">Name of the BizTalk Management database.</span></span> <span data-ttu-id="61c36-157">Resulta necesario si se especifica el parámetro de servidor.</span><span class="sxs-lookup"><span data-stu-id="61c36-157">Required if you specify the Server parameter.</span></span> <span data-ttu-id="61c36-158">Si no se especifican los parámetros de base de datos y servidor, se utiliza la base de datos de administración de BizTalk predeterminada para el grupo.</span><span class="sxs-lookup"><span data-stu-id="61c36-158">If Server and Database parameters are not specified, the default BizTalk Management database for the group is used.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="61c36-159">Vea también</span><span class="sxs-lookup"><span data-stu-id="61c36-159">See Also</span></span>  
 <span data-ttu-id="61c36-160">[Administración de directivas](../core/managing-policies.md) </span><span class="sxs-lookup"><span data-stu-id="61c36-160">[Managing Policies](../core/managing-policies.md) </span></span>  
 <span data-ttu-id="61c36-161">[Creación y modificación de las aplicaciones de BizTalk](../core/creating-and-modifying-biztalk-applications.md) </span><span class="sxs-lookup"><span data-stu-id="61c36-161">[Creating and Modifying BizTalk Applications](../core/creating-and-modifying-biztalk-applications.md) </span></span>  
 [<span data-ttu-id="61c36-162">Comando AddResource: directiva</span><span class="sxs-lookup"><span data-stu-id="61c36-162">AddResource Command: Policy</span></span>](../core/addresource-command-policy.md)