---
title: "Implementar modelos de diseño en orquestaciones | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Aggregator pattern, orchestrations
- Error Handling pattern [orchestrations]
- patterns, orchestrations
- designing, orchestrations
- orchestrations, designing
- Exception Handling and Compensation pattern [orchestrations]
- Parallel Convoy pattern [orchestrations]
- Dynamic Router pattern [orchestrations]
- orchestrations, patterns
- patterns
- Composed Message Processor pattern [orchestrations]
- Suspend with Retry pattern, orchestrations
- Calling Pipelines from Orchestration pattern [orchestrations]
- Message Filter pattern [orchestrations]
- Message Broker pattern [orchestrations]
- Content-Based Router pattern [orchestrations]
- Sequential Convoy pattern [orchestrations]
- Scatter and Gather pattern [orchestrations]
- Splitter pattern, orchestrations
- Message Translator pattern [orchestrations]
ms.assetid: f62ba955-018a-40e7-b303-497acc906019
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1a4837ddf1199425a76a6fa82bbfd6e44615b6c7
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="implementing-design-patterns-in-orchestrations"></a><span data-ttu-id="7136f-102">Implementar patrones de diseño en las orquestaciones</span><span class="sxs-lookup"><span data-stu-id="7136f-102">Implementing Design Patterns in Orchestrations</span></span>
<span data-ttu-id="7136f-103">En esta sección se describen los patrones comunes para programar BizTalk Server, así como los patrones de integración empresarial.</span><span class="sxs-lookup"><span data-stu-id="7136f-103">This section discusses the common patterns of BizTalk Server programming as well as enterprise integration patterns.</span></span> <span data-ttu-id="7136f-104">Se puede aprovechar un solo patrón o combinar varios patrones para diseñar su proceso empresarial y, posteriormente, implementar el diseño mediante el uso de las formas del Diseñador de orquestaciones de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="7136f-104">You can leverage a single pattern or combine multiple patterns to design your business process and then implement the design by using shapes in BizTalk Orchestration Designer.</span></span>  
  
## <a name="design-patterns"></a><span data-ttu-id="7136f-105">Patrones de diseño</span><span class="sxs-lookup"><span data-stu-id="7136f-105">Design Patterns</span></span>  
 <span data-ttu-id="7136f-106">A continuación se describe brevemente cada patrón y se incluyen vínculos a otros temas o ejemplos en los que se muestra cómo implementar los patrones mediante el Diseñador de orquestaciones de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="7136f-106">The following entries briefly describe each pattern and point to the topics or samples that show how to implement the patterns using BizTalk Orchestration Designer.</span></span>  
  
### <a name="aggregator"></a><span data-ttu-id="7136f-107">Agregador</span><span class="sxs-lookup"><span data-stu-id="7136f-107">Aggregator</span></span>  
 <span data-ttu-id="7136f-108">El patrón de agregación es el patrón para recibir información de varios orígenes y consolidarla en un solo mensaje.</span><span class="sxs-lookup"><span data-stu-id="7136f-108">Aggregator is the pattern of receiving information from multiple sources and consolidating it into a single message.</span></span> <span data-ttu-id="7136f-109">Para obtener un ejemplo de este patrón, vea Aggregate.odx en [agregador (ejemplo de BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-109">For an example of this pattern, see Aggregate.odx in [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span>  
  
### <a name="calling-pipelines-from-an-orchestration"></a><span data-ttu-id="7136f-110">Llamar a canalizaciones desde una orquestación.</span><span class="sxs-lookup"><span data-stu-id="7136f-110">Calling Pipelines from an Orchestration</span></span>  
 <span data-ttu-id="7136f-111">Ahora puede llamar a canalizaciones de envío y recepción desde sus orquestaciones.</span><span class="sxs-lookup"><span data-stu-id="7136f-111">You can call send and receive pipelines from your orchestrations.</span></span> <span data-ttu-id="7136f-112">Esto permite reutilizar las canalizaciones y contribuye a mantener una orquestación desacoplada desde las fases de canalización.</span><span class="sxs-lookup"><span data-stu-id="7136f-112">This allows the reuse of pipelines and helps maintain the decoupling of an orchestration from the pipeline stages.</span></span> <span data-ttu-id="7136f-113">Para obtener un ejemplo de este patrón, vea Aggregate.odx en [agregador (ejemplo de BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-113">For an example of this pattern, see Aggregate.odx in [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span> <span data-ttu-id="7136f-114">Otro ejemplo es CMP.odx en [compuesto por el procesador de mensajes (ejemplo de BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-114">Another example is CMP.odx in [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span> <span data-ttu-id="7136f-115">Vea también [cómo usar expresiones para ejecutar canalizaciones](../core/how-to-use-expressions-to-execute-pipelines.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-115">See also [How to Use Expressions to Execute Pipelines](../core/how-to-use-expressions-to-execute-pipelines.md).</span></span>  
  
### <a name="composed-message-processor"></a><span data-ttu-id="7136f-116">Procesador de mensaje compuesto</span><span class="sxs-lookup"><span data-stu-id="7136f-116">Composed Message Processor</span></span>  
 <span data-ttu-id="7136f-117">Procesador de mensaje compuesto es el patrón para procesar elementos individuales desde un mensaje de intercambio agregado o por lotes.</span><span class="sxs-lookup"><span data-stu-id="7136f-117">Composed Message Processor is the pattern of processing individual items from an aggregated or batched interchange message.</span></span> <span data-ttu-id="7136f-118">Para obtener un ejemplo de este patrón, vea CMP.odx en [compuesto por el procesador de mensajes (ejemplo de BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-118">For an example of this pattern, see CMP.odx in [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span>  
  
### <a name="content-based-router"></a><span data-ttu-id="7136f-119">Enrutador basado en contenido</span><span class="sxs-lookup"><span data-stu-id="7136f-119">Content-Based Router</span></span>  
 <span data-ttu-id="7136f-120">El enrutador basado en contenido es el patrón para determinar el destinatario de un mensaje basado en parte del contenido del mensaje.</span><span class="sxs-lookup"><span data-stu-id="7136f-120">Content-Based Router is the pattern of determining the recipient of a message based on some part of the message content.</span></span> <span data-ttu-id="7136f-121">Para obtener un ejemplo de este patrón, vea [CBRSample (ejemplo de BizTalk Server)](../core/cbrsample-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-121">For an example of this pattern, see [CBRSample (BizTalk Server Sample)](../core/cbrsample-biztalk-server-sample.md).</span></span>  
  
### <a name="dynamic-router"></a><span data-ttu-id="7136f-122">Enrutador dinámico</span><span class="sxs-lookup"><span data-stu-id="7136f-122">Dynamic Router</span></span>  
 <span data-ttu-id="7136f-123">El enrutador dinámico es un patrón para determinar la dirección de destino y el protocolo de transporte basado en el resultado del procesamiento de mensajes.</span><span class="sxs-lookup"><span data-stu-id="7136f-123">Dynamic Router is the pattern of determining the destination address as well as the transport protocol based on the result of message processing.</span></span> <span data-ttu-id="7136f-124">Puede utilizar un puerto de envío dinámico o un **vínculo de función** forma para implementar este patrón.</span><span class="sxs-lookup"><span data-stu-id="7136f-124">You can use a dynamic send port or a **Role Link** shape to implement this pattern.</span></span> <span data-ttu-id="7136f-125">Para obtener un ejemplo de este patrón, vea ReceiveSend.odx en [SendMail](../core/sendmail.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-125">For an example of this pattern, see ReceiveSend.odx in [SendMail](../core/sendmail.md).</span></span> <span data-ttu-id="7136f-126">Otro ejemplo es SupplierProcess.odx en [PartyResolution (ejemplo de BizTalk Server)](../core/partyresolution-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-126">Another example is SupplierProcess.odx in [PartyResolution (BizTalk Server Sample)](../core/partyresolution-biztalk-server-sample.md).</span></span>  
  
### <a name="error-handling"></a><span data-ttu-id="7136f-127">Tratamiento de errores</span><span class="sxs-lookup"><span data-stu-id="7136f-127">Error Handling</span></span>  
 <span data-ttu-id="7136f-128">BizTalk Server permite designar un control automatizado de los mensajes con errores como alternativa al comportamiento predeterminado de colocar los mensajes con errores en la cola de suspensión.</span><span class="sxs-lookup"><span data-stu-id="7136f-128">BizTalk Server allows you to designate automated handling of messaging failures as an alternative to the default behavior of placing failed messages in the Suspended queue.</span></span> <span data-ttu-id="7136f-129">Puede enrutar los mensajes con error a un puerto de suscripción para elaborar un informe o procesarlos.</span><span class="sxs-lookup"><span data-stu-id="7136f-129">You can route failed messages to a subscribing port for reporting or processing.</span></span> <span data-ttu-id="7136f-130">Para obtener un ejemplo de este patrón, vea ResubmitLogic.odx en [Error Handling (carpeta de ejemplos de BizTalk Server)](../core/error-handling-biztalk-server-samples-folder.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-130">For an example of this pattern, see ResubmitLogic.odx in [Error Handling (BizTalk Server Samples Folder)](../core/error-handling-biztalk-server-samples-folder.md).</span></span>  
  
### <a name="exception-handling-and-compensation"></a><span data-ttu-id="7136f-131">Controlador de excepciones y compensación</span><span class="sxs-lookup"><span data-stu-id="7136f-131">Exception Handling and Compensation</span></span>  
 <span data-ttu-id="7136f-132">Puede usar un controlador de excepciones y un **Iniciar excepción** forma o un **expresión** forma para el control de excepciones.</span><span class="sxs-lookup"><span data-stu-id="7136f-132">You can use an exception handler and a **Throw Exception** shape or an **Expression** shape for exception handling.</span></span> <span data-ttu-id="7136f-133">Por ejemplo, puede colocar el siguiente código en el **expresión** forma que se va a producir la excepción:,</span><span class="sxs-lookup"><span data-stu-id="7136f-133">For example, you can place the following code in the **Expression** shape to throw the exception:,</span></span>  
  
```  
excp = new System.Exception();  
throw(excp);  
```  
  
 <span data-ttu-id="7136f-134">Puede usar un bloque de compensación y una **compensar** forma que se va a realizar la compensación en las transacciones que se han confirmado.</span><span class="sxs-lookup"><span data-stu-id="7136f-134">You can use a compensation block and a **Compensate** shape to perform the compensation on the transactions that have been committed.</span></span> <span data-ttu-id="7136f-135">Para obtener un ejemplo de este patrón, vea UpdateContact.odx en [compensación (ejemplo de BizTalk Server)](../core/compensation-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-135">For an example of this pattern, see UpdateContact.odx in [Compensation (BizTalk Server Sample)](../core/compensation-biztalk-server-sample.md).</span></span> <span data-ttu-id="7136f-136">Otro ejemplo es de [personalizado excepciones](../core/custom-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-136">Another example is in [Custom Exceptions](../core/custom-exceptions.md).</span></span>  
  
### <a name="message-broker"></a><span data-ttu-id="7136f-137">Agente de mensajes</span><span class="sxs-lookup"><span data-stu-id="7136f-137">Message Broker</span></span>  
 <span data-ttu-id="7136f-138">El patrón de agente de mensajes determina el destino de un mensaje y controla el flujo de mensajes.</span><span class="sxs-lookup"><span data-stu-id="7136f-138">Message Broker is the pattern of determining the destination of a message and still maintaining control over the message flow.</span></span> <span data-ttu-id="7136f-139">Para obtener más información, consulte [de procesamiento en la orquestación OrderBroker](../core/processing-in-the-orderbroker-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-139">For more, see  [Processing in the OrderBroker Orchestration](../core/processing-in-the-orderbroker-orchestration.md).</span></span>  
  
### <a name="message-filter"></a><span data-ttu-id="7136f-140">Filtro de mensajes</span><span class="sxs-lookup"><span data-stu-id="7136f-140">Message Filter</span></span>  
 <span data-ttu-id="7136f-141">El patrón de filtro de mensajes selecciona los mensajes que cumplen criterios concretos de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="7136f-141">The Message Filter pattern selects messages meeting particular criteria for processing.</span></span> <span data-ttu-id="7136f-142">Puede implementar este patrón mediante la adición de la expresión de filtro para un activado **recepción** forma.</span><span class="sxs-lookup"><span data-stu-id="7136f-142">You can implement this pattern by adding the filter expression to an activated **Receive** shape.</span></span> <span data-ttu-id="7136f-143">Para obtener más información, consulte [utilizando filtros con el mensaje de forma recepción](../core/using-filters-with-the-receive-message-shape.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-143">For more information, see [Using Filters With the Receive Message Shape](../core/using-filters-with-the-receive-message-shape.md).</span></span>  
  
### <a name="message-translator"></a><span data-ttu-id="7136f-144">Traductor de mensajes</span><span class="sxs-lookup"><span data-stu-id="7136f-144">Message Translator</span></span>  
 <span data-ttu-id="7136f-145">El patrón traductor de mensajes convierte un mensaje de un formato a otro.</span><span class="sxs-lookup"><span data-stu-id="7136f-145">The Message Translator pattern converts a message from one form to another form.</span></span> <span data-ttu-id="7136f-146">Puede implementar este patrón mediante el uso de una asignación de BizTalk con un **transformar** forma de una orquestación.</span><span class="sxs-lookup"><span data-stu-id="7136f-146">You can implement this pattern by using a BizTalk map with a **Transform** shape in an orchestration.</span></span> <span data-ttu-id="7136f-147">Para obtener un ejemplo de este patrón, vea HelloOrchestration.odx en [HelloWorld (ejemplo de BizTalk Server)](../core/helloworld-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7136f-147">For an example of this pattern, see HelloOrchestration.odx in [HelloWorld (BizTalk Server Sample)](../core/helloworld-biztalk-server-sample.md).</span></span>  
  
### <a name="parallel-convoy"></a><span data-ttu-id="7136f-148">Convoy paralelo</span><span class="sxs-lookup"><span data-stu-id="7136f-148">Parallel Convoy</span></span>  
 <span data-ttu-id="7136f-149">El patrón de convoy paralelo permite agrupar varios elementos individuales para obtener algo que un elemento individual no puede obtener por sí solo.</span><span class="sxs-lookup"><span data-stu-id="7136f-149">The Parallel Convoy pattern enables multiple single items to join together to achieve something that an individual item cannot accomplish by itself.</span></span> <span data-ttu-id="7136f-150">El conjunto de elementos relacionados puede llegar en cualquier orden, pero BizTalk Server debe recibir todos ellos antes de empezar el proceso.</span><span class="sxs-lookup"><span data-stu-id="7136f-150">The set of related items can arrive in any order, but BizTalk Server must receive all of them before starting the process.</span></span> <span data-ttu-id="7136f-151">Para obtener un ejemplo de este patrón, vea [http://go.microsoft.com/fwlink/?LinkId=56035](http://go.microsoft.com/fwlink/?LinkId=56035).</span><span class="sxs-lookup"><span data-stu-id="7136f-151">For an example of this pattern, see [http://go.microsoft.com/fwlink/?LinkId=56035](http://go.microsoft.com/fwlink/?LinkId=56035).</span></span>  
  
### <a name="scatter-and-gather"></a><span data-ttu-id="7136f-152">Dispersión y recopilación</span><span class="sxs-lookup"><span data-stu-id="7136f-152">Scatter and Gather</span></span>  
 <span data-ttu-id="7136f-153">El patrón de dispersión y recopilación permite enviar mensajes a varios destinatarios y recibir los mensajes de cada destinatario.</span><span class="sxs-lookup"><span data-stu-id="7136f-153">The Scatter and Gather pattern enables messages to be sent to multiple recipients and messages to be received back from each recipient.</span></span> <span data-ttu-id="7136f-154">Para implementar este patrón, puede usar el patrón divisor y de agregación.</span><span class="sxs-lookup"><span data-stu-id="7136f-154">You can implement this pattern by using the Splitter pattern and the Aggregator pattern.</span></span> <span data-ttu-id="7136f-155">Usar el patrón de agregación para ensamblar los resultados del patrón divisor y colocarlos bajo un **acciones paralelas** forma.</span><span class="sxs-lookup"><span data-stu-id="7136f-155">You use the Aggregator pattern to assemble the results from using the Splitter pattern and put them under a **Parallel Actions** shape.</span></span> <span data-ttu-id="7136f-156">Para obtener un ejemplo del patrón divisor, vea SDK de ejemplo con nombre Implementing Scatter and Gather Pattern en [http://go.microsoft.com/fwlink/?LinkId=65185](http://go.microsoft.com/fwlink/?LinkId=65185).</span><span class="sxs-lookup"><span data-stu-id="7136f-156">For an example of the Splitter pattern, see SDK sample named Implementing Scatter and Gather Pattern at [http://go.microsoft.com/fwlink/?LinkId=65185](http://go.microsoft.com/fwlink/?LinkId=65185).</span></span>  
  
### <a name="sequential-convoy"></a><span data-ttu-id="7136f-157">Convoy secuencial</span><span class="sxs-lookup"><span data-stu-id="7136f-157">Sequential Convoy</span></span>  
 <span data-ttu-id="7136f-158">El patrón de convoy secuencial permite agrupar varios elementos individuales para obtener algo que un elemento individual no puede obtener por sí solo.</span><span class="sxs-lookup"><span data-stu-id="7136f-158">The Sequential Convoy pattern enables multiple single items to join together to achieve something that an individual item cannot accomplish by itself.</span></span> <span data-ttu-id="7136f-159">Un convoy secuencial es un conjunto de elementos relacionados que tienen un orden predefinido.</span><span class="sxs-lookup"><span data-stu-id="7136f-159">A sequential convoy is a set of related items that have a predefined order.</span></span> <span data-ttu-id="7136f-160">Aunque los elementos no tienen que ser exactamente iguales, BizTalk Server debe recibir los elementos en un orden secuencial.</span><span class="sxs-lookup"><span data-stu-id="7136f-160">Although the items do not have to be exactly the same, BizTalk Server must receive the items in a sequential order.</span></span> <span data-ttu-id="7136f-161">Para obtener un ejemplo de este patrón, vea [http://go.microsoft.com/fwlink/?LinkId=56035](http://go.microsoft.com/fwlink/?LinkId=56035).</span><span class="sxs-lookup"><span data-stu-id="7136f-161">For an example of this pattern, see [http://go.microsoft.com/fwlink/?LinkId=56035](http://go.microsoft.com/fwlink/?LinkId=56035).</span></span>  
  
### <a name="splitter"></a><span data-ttu-id="7136f-162">Divisor</span><span class="sxs-lookup"><span data-stu-id="7136f-162">Splitter</span></span>  
 <span data-ttu-id="7136f-163">El patrón divisor toma un único mensaje y lo divide en varios mensajes.</span><span class="sxs-lookup"><span data-stu-id="7136f-163">The Splitter pattern takes a single message and splits it into multiple messages.</span></span>  
  
### <a name="suspend-with-retry"></a><span data-ttu-id="7136f-164">Suspensión con reintento</span><span class="sxs-lookup"><span data-stu-id="7136f-164">Suspend with Retry</span></span>  
 <span data-ttu-id="7136f-165">El patrón de suspensión con reintento permite a la orquestación suspender un mensaje cuando hay un error.</span><span class="sxs-lookup"><span data-stu-id="7136f-165">The Suspend with Retry pattern enables the orchestration to suspend a message when there is an error.</span></span> <span data-ttu-id="7136f-166">La suspensión ocurre dentro de un bucle, de modo que la orquestación se suspende, se solicita intervención y, a continuación, se vuelve a intentar repetir la operación un número fijo de veces.</span><span class="sxs-lookup"><span data-stu-id="7136f-166">The suspension occurs within a loop so that the orchestration suspends, asks for intervention, and then retries the operation a fixed number of times.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7136f-167">Vea también</span><span class="sxs-lookup"><span data-stu-id="7136f-167">See Also</span></span>  
 [<span data-ttu-id="7136f-168">Diseñar un flujo de orquestación</span><span class="sxs-lookup"><span data-stu-id="7136f-168">Designing Orchestration Flow</span></span>](../core/designing-orchestration-flow.md)