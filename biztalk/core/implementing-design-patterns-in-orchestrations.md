---
title: Implementar modelos de diseño en orquestaciones | Documentos de Microsoft
description: El agregador, enrutamiento por contenidos, enrutador dinámico, control de errores, agente de mensajes y varios patrones de diseño en BizTalk Server
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f62ba955-018a-40e7-b303-497acc906019
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 290b31e8d5494c7a00eb02517e910fc877da9124
ms.sourcegitcommit: dd7c54feab783ae2f8fe75873363fe9ffc77cd66
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/07/2017
ms.locfileid: "24014251"
---
# <a name="implement-design-patterns-in-orchestrations"></a><span data-ttu-id="7e8b6-103">Implementar modelos de diseño en orquestaciones</span><span class="sxs-lookup"><span data-stu-id="7e8b6-103">Implement Design Patterns in Orchestrations</span></span>
<span data-ttu-id="7e8b6-104">En esta sección se describen los patrones comunes para programar BizTalk Server, así como los patrones de integración empresarial.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-104">This section discusses the common patterns of BizTalk Server programming as well as enterprise integration patterns.</span></span> <span data-ttu-id="7e8b6-105">Se puede aprovechar un solo patrón o combinar varios patrones para diseñar su proceso empresarial y, posteriormente, implementar el diseño mediante el uso de las formas del Diseñador de orquestaciones de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-105">You can leverage a single pattern or combine multiple patterns to design your business process and then implement the design by using shapes in BizTalk Orchestration Designer.</span></span>  
  
## <a name="design-patterns"></a><span data-ttu-id="7e8b6-106">Patrones de diseño</span><span class="sxs-lookup"><span data-stu-id="7e8b6-106">Design Patterns</span></span>  
 <span data-ttu-id="7e8b6-107">A continuación se describe brevemente cada patrón y se incluyen vínculos a otros temas o ejemplos en los que se muestra cómo implementar los patrones mediante el Diseñador de orquestaciones de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-107">The following entries briefly describe each pattern and point to the topics or samples that show how to implement the patterns using BizTalk Orchestration Designer.</span></span>  
  
### <a name="aggregator"></a><span data-ttu-id="7e8b6-108">Agregador</span><span class="sxs-lookup"><span data-stu-id="7e8b6-108">Aggregator</span></span>  
 <span data-ttu-id="7e8b6-109">El patrón de agregación es el patrón para recibir información de varios orígenes y consolidarla en un solo mensaje.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-109">Aggregator is the pattern of receiving information from multiple sources and consolidating it into a single message.</span></span> <span data-ttu-id="7e8b6-110">Para obtener un ejemplo de este patrón, vea Aggregate.odx en [agregador (ejemplo de BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-110">For an example of this pattern, see Aggregate.odx in [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span>  
  
### <a name="calling-pipelines-from-an-orchestration"></a><span data-ttu-id="7e8b6-111">Llamar a canalizaciones desde una orquestación.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-111">Calling Pipelines from an Orchestration</span></span>  
 <span data-ttu-id="7e8b6-112">Ahora puede llamar a canalizaciones de envío y recepción desde sus orquestaciones.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-112">You can call send and receive pipelines from your orchestrations.</span></span> <span data-ttu-id="7e8b6-113">Esto permite reutilizar las canalizaciones y contribuye a mantener una orquestación desacoplada desde las fases de canalización.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-113">This allows the reuse of pipelines and helps maintain the decoupling of an orchestration from the pipeline stages.</span></span> <span data-ttu-id="7e8b6-114">Para obtener un ejemplo de este patrón, vea Aggregate.odx en [agregador (ejemplo de BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-114">For an example of this pattern, see Aggregate.odx in [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span> <span data-ttu-id="7e8b6-115">Otro ejemplo es CMP.odx en [compuesto por el procesador de mensajes (ejemplo de BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-115">Another example is CMP.odx in [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span> <span data-ttu-id="7e8b6-116">Vea también [cómo usar expresiones para ejecutar canalizaciones](../core/how-to-use-expressions-to-execute-pipelines.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-116">See also [How to Use Expressions to Execute Pipelines](../core/how-to-use-expressions-to-execute-pipelines.md).</span></span>  
  
### <a name="composed-message-processor"></a><span data-ttu-id="7e8b6-117">Procesador de mensaje compuesto</span><span class="sxs-lookup"><span data-stu-id="7e8b6-117">Composed Message Processor</span></span>  
 <span data-ttu-id="7e8b6-118">Procesador de mensaje compuesto es el patrón para procesar elementos individuales desde un mensaje de intercambio agregado o por lotes.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-118">Composed Message Processor is the pattern of processing individual items from an aggregated or batched interchange message.</span></span> <span data-ttu-id="7e8b6-119">Para obtener un ejemplo de este patrón, vea CMP.odx en [compuesto por el procesador de mensajes (ejemplo de BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-119">For an example of this pattern, see CMP.odx in [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span>  
  
### <a name="content-based-router"></a><span data-ttu-id="7e8b6-120">Enrutador basado en contenido</span><span class="sxs-lookup"><span data-stu-id="7e8b6-120">Content-Based Router</span></span>  
 <span data-ttu-id="7e8b6-121">El enrutador basado en contenido es el patrón para determinar el destinatario de un mensaje basado en parte del contenido del mensaje.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-121">Content-Based Router is the pattern of determining the recipient of a message based on some part of the message content.</span></span> <span data-ttu-id="7e8b6-122">Para obtener un ejemplo de este patrón, vea [CBRSample (ejemplo de BizTalk Server)](../core/cbrsample-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-122">For an example of this pattern, see [CBRSample (BizTalk Server Sample)](../core/cbrsample-biztalk-server-sample.md).</span></span>  
  
### <a name="dynamic-router"></a><span data-ttu-id="7e8b6-123">Enrutador dinámico</span><span class="sxs-lookup"><span data-stu-id="7e8b6-123">Dynamic Router</span></span>  
 <span data-ttu-id="7e8b6-124">El enrutador dinámico es un patrón para determinar la dirección de destino y el protocolo de transporte basado en el resultado del procesamiento de mensajes.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-124">Dynamic Router is the pattern of determining the destination address as well as the transport protocol based on the result of message processing.</span></span> <span data-ttu-id="7e8b6-125">Puede utilizar un puerto de envío dinámico o un **vínculo de función** forma para implementar este patrón.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-125">You can use a dynamic send port or a **Role Link** shape to implement this pattern.</span></span> <span data-ttu-id="7e8b6-126">Para obtener un ejemplo de este patrón, vea ReceiveSend.odx en [SendMail](../core/sendmail.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-126">For an example of this pattern, see ReceiveSend.odx in [SendMail](../core/sendmail.md).</span></span> <span data-ttu-id="7e8b6-127">Otro ejemplo es SupplierProcess.odx en [PartyResolution (ejemplo de BizTalk Server)](../core/partyresolution-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-127">Another example is SupplierProcess.odx in [PartyResolution (BizTalk Server Sample)](../core/partyresolution-biztalk-server-sample.md).</span></span>  
  
### <a name="error-handling"></a><span data-ttu-id="7e8b6-128">Tratamiento de errores</span><span class="sxs-lookup"><span data-stu-id="7e8b6-128">Error Handling</span></span>  
 <span data-ttu-id="7e8b6-129">BizTalk Server permite designar un control automatizado de los mensajes con errores como alternativa al comportamiento predeterminado de colocar los mensajes con errores en la cola de suspensión.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-129">BizTalk Server allows you to designate automated handling of messaging failures as an alternative to the default behavior of placing failed messages in the Suspended queue.</span></span> <span data-ttu-id="7e8b6-130">Puede enrutar los mensajes con error a un puerto de suscripción para elaborar un informe o procesarlos.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-130">You can route failed messages to a subscribing port for reporting or processing.</span></span> <span data-ttu-id="7e8b6-131">Para obtener un ejemplo de este patrón, vea ResubmitLogic.odx en [Error Handling (carpeta de ejemplos de BizTalk Server)](../core/error-handling-biztalk-server-samples-folder.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-131">For an example of this pattern, see ResubmitLogic.odx in [Error Handling (BizTalk Server Samples Folder)](../core/error-handling-biztalk-server-samples-folder.md).</span></span>  
  
### <a name="exception-handling-and-compensation"></a><span data-ttu-id="7e8b6-132">Controlador de excepciones y compensación</span><span class="sxs-lookup"><span data-stu-id="7e8b6-132">Exception Handling and Compensation</span></span>  
 <span data-ttu-id="7e8b6-133">Puede usar un controlador de excepciones y un **Iniciar excepción** forma o un **expresión** forma para el control de excepciones.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-133">You can use an exception handler and a **Throw Exception** shape or an **Expression** shape for exception handling.</span></span> <span data-ttu-id="7e8b6-134">Por ejemplo, puede colocar el siguiente código en el **expresión** forma que se va a producir la excepción:,</span><span class="sxs-lookup"><span data-stu-id="7e8b6-134">For example, you can place the following code in the **Expression** shape to throw the exception:,</span></span>  
  
```  
excp = new System.Exception();  
throw(excp);  
```  
  
 <span data-ttu-id="7e8b6-135">Puede usar un bloque de compensación y una **compensar** forma que se va a realizar la compensación en las transacciones que se han confirmado.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-135">You can use a compensation block and a **Compensate** shape to perform the compensation on the transactions that have been committed.</span></span> <span data-ttu-id="7e8b6-136">Para obtener un ejemplo de este patrón, vea UpdateContact.odx en [compensación (ejemplo de BizTalk Server)](../core/compensation-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-136">For an example of this pattern, see UpdateContact.odx in [Compensation (BizTalk Server Sample)](../core/compensation-biztalk-server-sample.md).</span></span> <span data-ttu-id="7e8b6-137">Otro ejemplo es de [personalizado excepciones](../core/custom-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-137">Another example is in [Custom Exceptions](../core/custom-exceptions.md).</span></span>  
  
### <a name="message-broker"></a><span data-ttu-id="7e8b6-138">Agente de mensajes</span><span class="sxs-lookup"><span data-stu-id="7e8b6-138">Message Broker</span></span>  
 <span data-ttu-id="7e8b6-139">El patrón de agente de mensajes determina el destino de un mensaje y controla el flujo de mensajes.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-139">Message Broker is the pattern of determining the destination of a message and still maintaining control over the message flow.</span></span> <span data-ttu-id="7e8b6-140">Para obtener más información, consulte [de procesamiento en la orquestación OrderBroker](../core/processing-in-the-orderbroker-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-140">For more, see  [Processing in the OrderBroker Orchestration](../core/processing-in-the-orderbroker-orchestration.md).</span></span>  
  
### <a name="message-filter"></a><span data-ttu-id="7e8b6-141">Filtro de mensajes</span><span class="sxs-lookup"><span data-stu-id="7e8b6-141">Message Filter</span></span>  
 <span data-ttu-id="7e8b6-142">El patrón de filtro de mensajes selecciona los mensajes que cumplen criterios concretos de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-142">The Message Filter pattern selects messages meeting particular criteria for processing.</span></span> <span data-ttu-id="7e8b6-143">Puede implementar este patrón mediante la adición de la expresión de filtro para un activado **recepción** forma.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-143">You can implement this pattern by adding the filter expression to an activated **Receive** shape.</span></span> <span data-ttu-id="7e8b6-144">Para obtener más información, consulte [utilizando filtros con el mensaje de forma recepción](../core/using-filters-with-the-receive-message-shape.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-144">For more information, see [Using Filters With the Receive Message Shape](../core/using-filters-with-the-receive-message-shape.md).</span></span>  
  
### <a name="message-translator"></a><span data-ttu-id="7e8b6-145">Traductor de mensajes</span><span class="sxs-lookup"><span data-stu-id="7e8b6-145">Message Translator</span></span>  
 <span data-ttu-id="7e8b6-146">El patrón traductor de mensajes convierte un mensaje de un formato a otro.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-146">The Message Translator pattern converts a message from one form to another form.</span></span> <span data-ttu-id="7e8b6-147">Puede implementar este patrón mediante el uso de una asignación de BizTalk con un **transformar** forma de una orquestación.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-147">You can implement this pattern by using a BizTalk map with a **Transform** shape in an orchestration.</span></span> <span data-ttu-id="7e8b6-148">Para obtener un ejemplo de este patrón, vea HelloOrchestration.odx en [HelloWorld (ejemplo de BizTalk Server)](../core/helloworld-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b6-148">For an example of this pattern, see HelloOrchestration.odx in [HelloWorld (BizTalk Server Sample)](../core/helloworld-biztalk-server-sample.md).</span></span>  
  
### <a name="parallel-convoy"></a><span data-ttu-id="7e8b6-149">Convoy paralelo</span><span class="sxs-lookup"><span data-stu-id="7e8b6-149">Parallel Convoy</span></span>  
 <span data-ttu-id="7e8b6-150">El patrón de convoy paralelo permite agrupar varios elementos individuales para obtener algo que un elemento individual no puede obtener por sí solo.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-150">The Parallel Convoy pattern enables multiple single items to join together to achieve something that an individual item cannot accomplish by itself.</span></span> <span data-ttu-id="7e8b6-151">El conjunto de elementos relacionados puede llegar en cualquier orden, pero BizTalk Server debe recibir todos ellos antes de empezar el proceso.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-151">The set of related items can arrive in any order, but BizTalk Server must receive all of them before starting the process.</span></span> 
  
### <a name="scatter-and-gather"></a><span data-ttu-id="7e8b6-152">Dispersión y recopilación</span><span class="sxs-lookup"><span data-stu-id="7e8b6-152">Scatter and Gather</span></span>  
 <span data-ttu-id="7e8b6-153">El patrón de dispersión y recopilación permite enviar mensajes a varios destinatarios y recibir los mensajes de cada destinatario.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-153">The Scatter and Gather pattern enables messages to be sent to multiple recipients and messages to be received back from each recipient.</span></span> <span data-ttu-id="7e8b6-154">Para implementar este patrón, puede usar el patrón divisor y de agregación.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-154">You can implement this pattern by using the Splitter pattern and the Aggregator pattern.</span></span> <span data-ttu-id="7e8b6-155">Usar el patrón de agregación para ensamblar los resultados del patrón divisor y colocarlos bajo un **acciones paralelas** forma.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-155">You use the Aggregator pattern to assemble the results from using the Splitter pattern and put them under a **Parallel Actions** shape.</span></span> 
  
### <a name="sequential-convoy"></a><span data-ttu-id="7e8b6-156">Convoy secuencial</span><span class="sxs-lookup"><span data-stu-id="7e8b6-156">Sequential Convoy</span></span>  
 <span data-ttu-id="7e8b6-157">El patrón de convoy secuencial permite agrupar varios elementos individuales para obtener algo que un elemento individual no puede obtener por sí solo.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-157">The Sequential Convoy pattern enables multiple single items to join together to achieve something that an individual item cannot accomplish by itself.</span></span> <span data-ttu-id="7e8b6-158">Un convoy secuencial es un conjunto de elementos relacionados que tienen un orden predefinido.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-158">A sequential convoy is a set of related items that have a predefined order.</span></span> <span data-ttu-id="7e8b6-159">Aunque los elementos no tienen que ser exactamente iguales, BizTalk Server debe recibir los elementos en un orden secuencial.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-159">Although the items do not have to be exactly the same, BizTalk Server must receive the items in a sequential order.</span></span> 
  
### <a name="splitter"></a><span data-ttu-id="7e8b6-160">Divisor</span><span class="sxs-lookup"><span data-stu-id="7e8b6-160">Splitter</span></span>  
 <span data-ttu-id="7e8b6-161">El patrón divisor toma un único mensaje y lo divide en varios mensajes.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-161">The Splitter pattern takes a single message and splits it into multiple messages.</span></span>  
  
### <a name="suspend-with-retry"></a><span data-ttu-id="7e8b6-162">Suspensión con reintento</span><span class="sxs-lookup"><span data-stu-id="7e8b6-162">Suspend with Retry</span></span>  
 <span data-ttu-id="7e8b6-163">El patrón de suspensión con reintento permite a la orquestación suspender un mensaje cuando hay un error.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-163">The Suspend with Retry pattern enables the orchestration to suspend a message when there is an error.</span></span> <span data-ttu-id="7e8b6-164">La suspensión ocurre dentro de un bucle, de modo que la orquestación se suspende, se solicita intervención y, a continuación, se vuelve a intentar repetir la operación un número fijo de veces.</span><span class="sxs-lookup"><span data-stu-id="7e8b6-164">The suspension occurs within a loop so that the orchestration suspends, asks for intervention, and then retries the operation a fixed number of times.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7e8b6-165">Vea también</span><span class="sxs-lookup"><span data-stu-id="7e8b6-165">See Also</span></span>  
 [<span data-ttu-id="7e8b6-166">Diseño del flujo de las orquestaciones</span><span class="sxs-lookup"><span data-stu-id="7e8b6-166">Designing Orchestration Flow</span></span>](../core/designing-orchestration-flow.md)