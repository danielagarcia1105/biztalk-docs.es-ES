---
title: Resolución de acuerdos, detección de esquemas y autorización para los mensajes EDI recibidos | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 503e307c-4cb0-49b5-8751-82dcea203151
caps.latest.revision: 45
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: de5f7fd9b022daf2d123de1c971797b53df202d5
ms.sourcegitcommit: 36350889f318e1f7e0ac9506dc8df794d475bda6
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/20/2018
---
# <a name="agreement-resolution-schema-discovery-and-authorization-for-received-edi-messages"></a><span data-ttu-id="1c6b2-102">Resolución de acuerdos, detección de esquemas y autorización para los mensajes EDI recibidos</span><span class="sxs-lookup"><span data-stu-id="1c6b2-102">Agreement Resolution, Schema Discovery, and Authorization for Received EDI Messages</span></span>
<span data-ttu-id="1c6b2-103">Cuando [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] recibe un mensaje EDI, la canalización de recepción EDI realiza la búsqueda de acuerdos de socio comercial, la detección de esquemas y los procesos de autorización para determinar el modo en que se procesa el mensaje.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-103">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receives an EDI message, the EDI receive pipeline performs trading partner agreement lookup, schema discovery, and authorization processes to determine how to process the message.</span></span>  
  
## <a name="agreement-resolution"></a><span data-ttu-id="1c6b2-104">Resolución de acuerdos</span><span class="sxs-lookup"><span data-stu-id="1c6b2-104">Agreement Resolution</span></span>  
 <span data-ttu-id="1c6b2-105">La canalización de recepción EDI lleva a cabo la resolución de acuerdos de socios comerciales mediante la realización de una serie de pasos para determinar si hay una coincidencia entre los campos de encabezado del mensaje y las propiedades en la definición del acuerdo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-105">The EDI receive pipeline performs a trading partner agreement resolution by performing a series of steps to determine whether there is a match between header fields in the message and properties in the agreement definition.</span></span> <span data-ttu-id="1c6b2-106">Una vez que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ha determinado el acuerdo, determina el esquema del documento que se aplica al intercambio (véase a continuación).</span><span class="sxs-lookup"><span data-stu-id="1c6b2-106">Once [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has determined the agreement, it determines the document schema that applies to the interchange (see below).</span></span> <span data-ttu-id="1c6b2-107">Usa las propiedades asociadas al acuerdo coincidente y el esquema correspondiente para validar y procesar el mensaje recibido.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-107">It uses the properties associated with the matching agreement and the relevant schema to validate and process the received message.</span></span>  
  
 <span data-ttu-id="1c6b2-108">Para llevar a cabo la resolución de acuerdos, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] realiza los siguientes pasos:</span><span class="sxs-lookup"><span data-stu-id="1c6b2-108">To perform agreement resolution, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] proceeds as follows:</span></span>  
  
1.  <span data-ttu-id="1c6b2-109">Resolver el acuerdo mediante la coincidencia del calificador e identificador del remitente y el calificador e identificador del receptor en el encabezado del intercambio con los de las propiedades de un acuerdo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-109">Resolve the agreement by matching the sender qualifier and identifier, and the receiver qualifier and identifier, in the interchange header with those in the properties of an agreement.</span></span>  
  
2.  <span data-ttu-id="1c6b2-110">Si el paso 1 no funciona, resuelve el acuerdo mediante la coincidencia solo con el calificador e identificador de remitente en el encabezado del intercambio con los de las propiedades de un acuerdo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-110">If step 1 does not succeed, resolve the agreement by matching just the sender qualifier and identifier in the interchange header with those in the properties of an agreement.</span></span> <span data-ttu-id="1c6b2-111">Además, como no funcionó el primer paso, se puede asumir con seguridad que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] va a recibir el mensaje.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-111">Also, because the first step did not succeed, it is safe to assume that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will be receiving the message.</span></span> <span data-ttu-id="1c6b2-112">Por lo tanto, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] intenta hacer coincidir el calificador e identificador del receptor con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="1c6b2-112">Hence, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tries to match the receiver qualifier and identifier with the following:</span></span>  
  
    -   <span data-ttu-id="1c6b2-113">Valores “BT” y “HostX12Recvr” (para mensajes con codificación X12) y</span><span class="sxs-lookup"><span data-stu-id="1c6b2-113">Values “BT” and “HostX12Recvr” (for X12-encoded messages) and</span></span>  
  
    -   <span data-ttu-id="1c6b2-114">Valores “BT” y “HostEdifactRecvr” (para mensajes con codificación EDIFACT)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-114">Values “BT” and “HostEdifactRecvr” (for EDIFACT-encoded messages)</span></span>  
  
    > [!IMPORTANT]
    >  -   <span data-ttu-id="1c6b2-115">**BizTalk Server 2013 R2, 2013 y 2010**: campos de la ISA5, ISA6, ISA7, ISA8, UNB2.1, UNB2.2, UNB3.1 y UNB3.2 son obligatorios en la configuración del acuerdo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-115">**BizTalk Server 2013 R2, 2013, and 2010**: The ISA5, ISA6, ISA7, ISA8, UNB2.1, UNB2.2, UNB3.1, and UNB3.2 fields are mandatory in the agreement settings.</span></span>  
    > -   <span data-ttu-id="1c6b2-116">**BizTalk Server 2009 y 2006 R2**: campos de la ISA7, ISA8, UNB3.1 y UNB3.2 no son obligatorios en la configuración de la entidad.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-116">**BizTalk Server 2009 and 2006 R2**: The ISA7, ISA8, UNB3.1, and UNB3.2 fields are not mandatory in the party settings.</span></span> <span data-ttu-id="1c6b2-117">Si los campos se dejan en blanco, el motor de EDI generará una resolución basada en los valores de ISA5, ISA6, UNB2.1 y UNB2.2.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-117">If the fields are left blank, the EDI engine gives a resolution based on the values of ISA5, ISA6, UNB2.1, and UNB2.2.</span></span>  
    > -   <span data-ttu-id="1c6b2-118">Para que las resoluciones de BizTalk Server 2009 y 2006 R2 sean compatibles con las nuevas versiones de BizTalk Server, se introducen los identificadores codificados de forma rígida (HostX12Recvr y HostEdifactRecvr) y el calificador (BT).</span><span class="sxs-lookup"><span data-stu-id="1c6b2-118">To support the resolutions from BizTalk Server 2009 and 2006 R2 to newer versions of BizTalk Server, the hard coded IDs (HostX12Recvr and HostEdifactRecvr) and qualifiers (BT) are introduced.</span></span>  
    > -   <span data-ttu-id="1c6b2-119">Los mensajes EDIFACT deberían seguir la [instrucciones UNECE](http://www.unece.org/tradewelcome/areas-of-work/un-centre-for-trade-facilitation-and-e-business-uncefact/outputs/standards/unedifact/tradeedifactrules.html) para las reglas y sintaxis de mensajes.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-119">Your EDIFACT messages should follow the [UNECE guidelines](http://www.unece.org/tradewelcome/areas-of-work/un-centre-for-trade-facilitation-and-e-business-uncefact/outputs/standards/unedifact/tradeedifactrules.html) for message syntax and rules.</span></span>  
  
3.  <span data-ttu-id="1c6b2-120">Si el paso 2 no funciona, use las propiedades del acuerdo de reserva.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-120">If step 2 does not succeed, use the fallback agreement properties.</span></span>  
  
 <span data-ttu-id="1c6b2-121">En el primer paso, para X12 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] usará los siguientes valores para realizar la coincidencia:</span><span class="sxs-lookup"><span data-stu-id="1c6b2-121">In the first step, for X12, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the following values to make the match:</span></span>  
  
-   <span data-ttu-id="1c6b2-122">ISA05 (calificador de remitente)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-122">ISA05 (sender qualifier)</span></span>  
  
-   <span data-ttu-id="1c6b2-123">ISA06 (identificador de remitente)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-123">ISA06 (sender identifier)</span></span>  
  
-   <span data-ttu-id="1c6b2-124">ISA07 (calificador de receptor)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-124">ISA07 (receiver qualifier)</span></span>  
  
-   <span data-ttu-id="1c6b2-125">ISA08 (identificador de receptor)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-125">ISA08 (receiver identifier)</span></span>  
  
 <span data-ttu-id="1c6b2-126">Para EDIFACT, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] usará los siguientes valores para realizar la coincidencia:</span><span class="sxs-lookup"><span data-stu-id="1c6b2-126">For EDIFACT, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the following values to make the match:</span></span>  
  
-   <span data-ttu-id="1c6b2-127">UNB2.1 (identificador de remitente)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-127">UNB2.1 (sender identifier)</span></span>  
  
-   <span data-ttu-id="1c6b2-128">UNB2.2 (calificador de remitente)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-128">UNB2.2 (sender qualifier)</span></span>  
  
-   <span data-ttu-id="1c6b2-129">UNB3.1 (identificador de receptor)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-129">UNB3.1 (receiver identifier)</span></span>  
  
-   <span data-ttu-id="1c6b2-130">UNB3.2 (calificador de receptor)</span><span class="sxs-lookup"><span data-stu-id="1c6b2-130">UNB3.2 (receiver qualifier)</span></span>  
  
 <span data-ttu-id="1c6b2-131">Las propiedades del acuerdo usadas para la coincidencia se definen en el **identificadores** página de las fichas de acuerdos específicos de la dirección de la **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-131">The agreement properties used for the match are defined in the **Identifiers** page of the direction-specific agreement tabs of the **Agreement Properties** dialog box.</span></span>  
  
 <span data-ttu-id="1c6b2-132">Estas cuatro propiedades de envío y recepción identifican el acuerdo de socio comercial de forma exclusiva.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-132">These four receive-side and send-side properties uniquely identify the trading partner agreement.</span></span> <span data-ttu-id="1c6b2-133">El uso de las cuatro propiedades proporciona mayor flexibilidad al procesamiento de la recepción.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-133">Using the four properties gives you more flexibility in receive-side processing.</span></span> <span data-ttu-id="1c6b2-134">Por ejemplo, es posible que este método de resolución de acuerdos permita el envío de confirmaciones a varias entidades sin crear varios puertos de envío.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-134">For example, this method of agreement resolution may enable you to send acknowledgments to multiple parties without creating multiple send ports.</span></span>  
  
 <span data-ttu-id="1c6b2-135">En caso de que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] no pueda resolver el acuerdo mediante los cuatro calificadores e identificadores de remitente y receptor, tratará de resolver el acuerdo solo con el calificador e identificador de remitente.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-135">If [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] cannot resolve the agreement using all four sender and receiver qualifiers and identifiers, it will attempt to resolve the agreement using just the sender qualifier and identifier.</span></span> <span data-ttu-id="1c6b2-136">Para X12, estos campos son ISA05 e ISA06; para EDIFACT, estos campos son UNB2.1 y UNB2.2.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-136">For X12, these fields are ISA05 and ISA06; for EDIFACT, these fields are UNB2.1 and UNB2.2.</span></span> <span data-ttu-id="1c6b2-137">Al igual que con una coincidencia de propiedades de remitente y receptor, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] coincide con los valores en el encabezado de intercambio con las propiedades del acuerdo definidas en el **identificadores** página de las fichas de acuerdos específicos de la dirección de la **Propiedades de acuerdo** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-137">As with a match of sender and receiver properties, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] matches the values in the interchange header with the agreement properties defined in the **Identifiers** page of the direction-specific agreement tabs of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="1c6b2-138">Si solo el calificador de remitente y el identificador se utilizan para resolver el acuerdo, el calificador e identificador deben dejar sin definir en la pestaña del acuerdo bidireccional del **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-138">If only the sender qualifier and identifier are used to resolve the agreement, the receiver qualifier and identifier should be undefined in the bi-directional agreement tab of the **Agreement Properties** dialog box.</span></span>  
  
 <span data-ttu-id="1c6b2-139">Si no se encuentra el acuerdo, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] usa el acuerdo de reserva para socios comerciales, a menos que la configuración del puerto requiera autenticación.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-139">If no agreement is found, then [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] uses the fallback trading partner agreement, unless the port setting requires authentication.</span></span> <span data-ttu-id="1c6b2-140">Si la configuración del puerto requiere autenticación (si el valor **eliminar mensajes si hay errores de autenticación** o **conservar mensajes si hay errores de autenticación** está seleccionado en el **General** página de la **propiedades de puerto de recepción**), un acuerdo se requiere para cualquier intercambio recibido por el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-140">If the port setting requires authentication (if either **Drop messages if authentication fails** or **Keep messages if authentication fails** is selected on the **General** page of the **Receive Port Properties**), an agreement is required for any interchange received by the receive port.</span></span> <span data-ttu-id="1c6b2-141">En este caso, si el acuerdo no se resuelve haciendo coincidir el encabezado de intercambio con las propiedades de intercambio, no se permite usar las propiedades del acuerdo de reserva para determinar el acuerdo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-141">In this case, if the agreement is not resolved by matching the interchange header with agreement properties, using the fallback agreement properties to determine the agreement is not allowed.</span></span> <span data-ttu-id="1c6b2-142">El intercambio se tratará como si se hubiese producido un error en la autenticación en caso de que no se encuentre ningún acuerdo, y se suspenderá.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-142">The interchange will be treated as though authentication had failed if no agreement is found, and will be suspended.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1c6b2-143">Un mensaje en la canalización EDI va al paso siguiente en la resolución del acuerdo hasta que el mensaje se resuelva con el paso que tiene el acuerdo en estado habilitado.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-143">A message in the EDI pipeline goes to the succeeding step in Agreement Resolution till the message gets resolved with the step having Agreement in enable state.</span></span> <span data-ttu-id="1c6b2-144">Por ejemplo, si el mensaje se resuelve en el primer paso de resolución del acuerdo, pero el acuerdo se encuentra en estado deshabilitado, el mensaje va al paso siguiente para su resolución.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-144">For example, if the message gets resolved in the first step of Agreement Resolution but the Agreement is in a disabled state then the message goes to the succeeding step for resolution.</span></span>  
  
## <a name="schema-discovery"></a><span data-ttu-id="1c6b2-145">Detección de esquemas</span><span class="sxs-lookup"><span data-stu-id="1c6b2-145">Schema Discovery</span></span>  
 <span data-ttu-id="1c6b2-146">Una vez que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] haya determinado el acuerdo que se resuelve en el mensaje, debe determinar el esquema que se debe utilizar para validar y procesar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-146">After [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has determined the agreement that resolves to the message, it must determine the schema that it should use to validate and process the message.</span></span> <span data-ttu-id="1c6b2-147">Lo hace mediante las propiedades identificadas en el **configuración de Host Local** página de unidireccional (lado del envío) pestaña del acuerdo el **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-147">It does so using the properties identified in the **Local Host Settings** page of the one-way (send side) agreement tab of the **Agreement Properties** dialog box.</span></span>  
  
 <span data-ttu-id="1c6b2-148">Para determinar el esquema, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] debe determinar, en primer lugar, el espacio de nombres del esquema.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-148">To determine the schema, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] must first determine the schema namespace.</span></span> <span data-ttu-id="1c6b2-149">El desensamblador EDI usará un espacio de nombres predeterminado para los esquemas estándar incluidos con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] o determinará el espacio de nombres que se va a usar para un esquema personalizado.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-149">The EDI Disassembler will either use a default namespace for the standard schemas shipped with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], or it will determine the namespace to be used for a custom schema.</span></span>  
  
 <span data-ttu-id="1c6b2-150">El **configuración de Host Local** página de la ficha de acuerdo unidireccional del **propiedades del acuerdo de** cuadro de diálogo le permite configurar una cuadrícula de valores para determinar un espacio de nombres personalizado.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-150">The **Local Host Settings** page of the one-way agreement tab of the **Agreement Properties** dialog box enables you to set up a grid of values to determine a custom namespace.</span></span> <span data-ttu-id="1c6b2-151">Si se encuentra ninguna coincidencia en la cuadrícula, el Desensamblador EDI utiliza el espacio de nombres predeterminado en el **espacio de nombres de destino** campo marcado para la fila predeterminada.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-151">If no match is found in that grid, the EDI Disassembler uses the default namespace in the **Target namespace** field marked for the default row.</span></span>  
  
### <a name="x12-schema-discovery"></a><span data-ttu-id="1c6b2-152">Detección de esquemas X12</span><span class="sxs-lookup"><span data-stu-id="1c6b2-152">X12 Schema Discovery</span></span>  
 <span data-ttu-id="1c6b2-153">Para los mensajes con codificación X12, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determina un espacio de nombres personalizado mediante el identificador de remitente de la aplicación (GS02) y el identificador de conjunto de transacciones (ST01) del encabezado del intercambio entrante.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-153">For X12-encoded messages, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines a custom namespace using the application sender identifier (GS02) and the transaction set ID (ST01) from the header of the incoming interchange.</span></span> <span data-ttu-id="1c6b2-154">Intenta buscar una coincidencia entre estos valores y los valores de las propiedades GS02 y ST01 de la **personalizar espacio de nombres de destino** cuadrícula en el **configuración de Host Local** página (en **transacciones Establecer la configuración de**) de la ficha de acuerdo bidireccional del **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-154">It attempts to find a match between these values and the values for the GS02 and ST01 properties in the **Customize target namespace** grid in the **Local Host Settings** page (under **Transaction Set Settings**) of the bi-directional agreement tab of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="1c6b2-155">Si encuentra a una coincidencia, usará el espacio de nombres de destino identificado en la misma fila de la cuadrícula para determinar qué esquema con nosotros para validar y procesar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-155">If it finds a match, it will use the target namespace identified in the same row of the grid to determine which schema to us to validate and process the message.</span></span> <span data-ttu-id="1c6b2-156">En caso de que no se determine el espacio de nombres de destino, se usará el espacio de nombres de destino predeterminado.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-156">If the target namespace is not determined, then the default target namespace will be used.</span></span> <span data-ttu-id="1c6b2-157">Si no se identifica ningún espacio de nombres en el **espacio de nombres de destino** campo marcado para la fila de forma predeterminada, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilizará el espacio de nombres de destino identificado en las propiedades de acuerdo de reserva para mensajes codificados en X12, cuyo valor predeterminado es `http://schemas.microsoft.com/BizTalk/Edi/X12/2006`.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-157">If no namespace is identified in the **Target namespace** field marked for the default row, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the target namespace identified in the fallback agreement properties for X12-encoded messages, which by default is `http://schemas.microsoft.com/BizTalk/Edi/X12/2006`.</span></span>  
  
 <span data-ttu-id="1c6b2-158">Para los intercambios X12, una vez detectado el espacio de nombres de destino, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determina el esquema mediante la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="1c6b2-158">For X12 interchanges, after the target namespace is discovered, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines the schema using the following information:</span></span>  
  
-   <span data-ttu-id="1c6b2-159">El espacio de nombres de destino que acaba de detectar.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-159">The target namespace just discovered</span></span>  
  
-   <span data-ttu-id="1c6b2-160">La versión o el lanzamiento de los primeros cinco caracteres de ST03 (si GS07 == X - Accredited Standards Committee X12).</span><span class="sxs-lookup"><span data-stu-id="1c6b2-160">The version/release in the first five characters of ST03 (if GS07 == X - Accredited Standards Committee X12).</span></span> <span data-ttu-id="1c6b2-161">Si ST03 no está presente, no es válido o no origina la resolución del esquema, la versión viene determinada por los cinco primeros caracteres de GS08 o de ISA12 (si GS07 != X).</span><span class="sxs-lookup"><span data-stu-id="1c6b2-161">If ST03 is not present/invalid or does not result in the schema resolution, then the version is determined by the first five characters of GS08 or of ISA12 (if GS07 != X).</span></span>  
  
-   <span data-ttu-id="1c6b2-162">El tipo de documento en ST01.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-162">The DocType in ST01.</span></span>  
  
 <span data-ttu-id="1c6b2-163">El desensamblador EDI concatena el tipo de codificación, la versión, el lanzamiento y el tipo de documento para determinar el nombre del esquema, por ejemplo, "X12_00401_864".</span><span class="sxs-lookup"><span data-stu-id="1c6b2-163">The EDI Disassembler concatenates the encoding type, version/release, and DocType to determine the schema name, for example, "X12_00401_864".</span></span> <span data-ttu-id="1c6b2-164">A continuación, concatena el espacio de nombres de destino con el nombre de esquema, por ejemplo, `http://schemas.microsoft.com/BizTalk/Edi/X12/2006/X12#X12_00401_864`.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-164">It then concatenates the target namespace with the schema name, for example, `http://schemas.microsoft.com/BizTalk/Edi/X12/2006/X12#X12_00401_864`.</span></span>  
  
 <span data-ttu-id="1c6b2-165">Para un intercambio de HIPAA 837 entrante, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] admite tres esquemas de HIPAA 837:</span><span class="sxs-lookup"><span data-stu-id="1c6b2-165">For an incoming HIPAA 837 interchange, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] supports three HIPAA 837 schemas:</span></span>  
  
|<span data-ttu-id="1c6b2-166">Esquema 837</span><span class="sxs-lookup"><span data-stu-id="1c6b2-166">837 Schema</span></span>|<span data-ttu-id="1c6b2-167">Valor de GS08 en la versión 4010</span><span class="sxs-lookup"><span data-stu-id="1c6b2-167">GS08 Value in version 4010</span></span>|<span data-ttu-id="1c6b2-168">Valor de GS08/ST03 en la versión 5010</span><span class="sxs-lookup"><span data-stu-id="1c6b2-168">GS08/ST03 Value in version 5010</span></span>|  
|----------------|--------------------------------|--------------------------------------|  
|<span data-ttu-id="1c6b2-169">Claim-Dental_837D</span><span class="sxs-lookup"><span data-stu-id="1c6b2-169">Claim-Dental_837D</span></span>|<span data-ttu-id="1c6b2-170">004010X097A1</span><span class="sxs-lookup"><span data-stu-id="1c6b2-170">004010X097A1</span></span>|<span data-ttu-id="1c6b2-171">005010X224A1</span><span class="sxs-lookup"><span data-stu-id="1c6b2-171">005010X224A1</span></span>|  
|<span data-ttu-id="1c6b2-172">Claim-Institutional_837I</span><span class="sxs-lookup"><span data-stu-id="1c6b2-172">Claim-Institutional_837I</span></span>|<span data-ttu-id="1c6b2-173">004010X096A1</span><span class="sxs-lookup"><span data-stu-id="1c6b2-173">004010X096A1</span></span>|<span data-ttu-id="1c6b2-174">005010X223A1</span><span class="sxs-lookup"><span data-stu-id="1c6b2-174">005010X223A1</span></span>|  
|<span data-ttu-id="1c6b2-175">Claim-Professional_837P</span><span class="sxs-lookup"><span data-stu-id="1c6b2-175">Claim-Professional_837P</span></span>|<span data-ttu-id="1c6b2-176">004010X098A1</span><span class="sxs-lookup"><span data-stu-id="1c6b2-176">004010X098A1</span></span>|<span data-ttu-id="1c6b2-177">005010X222</span><span class="sxs-lookup"><span data-stu-id="1c6b2-177">005010X222</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="1c6b2-178">En las versiones HIPAA, para el conjunto de transacciones 278 (Revisión de servicios de asistencia sanitaria), tanto los pares de solicitud como los de respuesta comparten el mismo valor para GS08 y ST01.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-178">In HIPAA versions, for the transaction set 278 (Health Care Services Review), both the request and response pairs share the same value for GS08 and ST01.</span></span> <span data-ttu-id="1c6b2-179">En función de los valores del desencadenador en el campo BHT02, puede diferenciar entre una Solicitud / Respuesta 278 en la versión 5010:</span><span class="sxs-lookup"><span data-stu-id="1c6b2-179">Depending on the trigger values in BHT02 field you may differentiate between a 278 Request/ Response in version 5010:</span></span>  
>   
>  1.  <span data-ttu-id="1c6b2-180">Cualquiera de los valores 01, 13 y 36 en BHT02 indica una Solicitud de revisión de servicios de asistencia sanitaria</span><span class="sxs-lookup"><span data-stu-id="1c6b2-180">Any of the values 01, 13 and 36 in BHT02 indicates a Health Care Services Review Request</span></span>  
> 2.  <span data-ttu-id="1c6b2-181">11 en BHT02 indica Respuesta de revisión de servicios de asistencia sanitaria</span><span class="sxs-lookup"><span data-stu-id="1c6b2-181">11 in BHT02 indicates Health Care Services Review Response</span></span>  
  
### <a name="edifact-schema-discovery"></a><span data-ttu-id="1c6b2-182">Detección de esquemas EDIFACT</span><span class="sxs-lookup"><span data-stu-id="1c6b2-182">EDIFACT Schema Discovery</span></span>  
 <span data-ttu-id="1c6b2-183">Para mensajes con codificación EDIFACT, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determina un espacio de nombres personalizado mediante el tipo de mensaje (UNH2.1), el número de versión del mensaje (UNH2.2), el número de lanzamiento del mensaje (UNH2.3), el código asignado (UNH2.5), el identificador de grupo funcional (UNG2.1) y el calificador de código de envío de la aplicación (UNG2.2) del encabezado del intercambio entrante.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-183">For EDIFACT-encoded messages, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines a custom namespace using the message type (UNH2.1), message version number (UNH2.2), message release number (UNH2.3), assigned code (UNH2.5), functional group ID (UNG2.1), and application send code qualifier (UNG2.2) from the header of the incoming interchange.</span></span> <span data-ttu-id="1c6b2-184">A continuación, intenta buscar una coincidencia entre estos valores y los valores de las propiedades UNH2.1, UNH2.2, UNH2.3, UNH2.5, UNG2.1 y UNG2.2 en la **personalizar espacio de nombres de destino** cuadrícula (bajo **configuración del conjunto de transacciones**) de la pestaña del acuerdo bidireccional del **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-184">It then attempts to find a match between these values and the values for the UNH2.1, UNH2.2, UNH2.3, UNH2.5, UNG2.1, and UNG2.2 properties in the **Customize target namespace** grid (under **Transaction Set Settings**) of the bi-directional agreement tab of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="1c6b2-185">Si encuentra a una coincidencia, usará el espacio de nombres de destino identificado en la misma fila de la cuadrícula para determinar qué esquema debe utilizarse para validar y procesar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-185">If it finds a match, it will use the target namespace identified in the same row of the grid to determine which schema to use to validate and process the message.</span></span> <span data-ttu-id="1c6b2-186">En caso de que no se determine el espacio de nombres de destino, se usará el espacio de nombres de destino predeterminado.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-186">If the target namespace is not determined, then the default target namespace will be used.</span></span> <span data-ttu-id="1c6b2-187">Si no se identifica ningún espacio de nombres en el **espacio de nombres de destino** campo marcado para la fila de forma predeterminada, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilizará el espacio de nombres identificado en las propiedades de acuerdo de reserva para mensajes codificados en EDIFACT, cuyo valor predeterminado es `http://schemas.microsoft.com/BizTalk/Edi/EDIFACT/2006`.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-187">If no namespace is identified in the **Target namespace** field marked for the default row, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the target namespace identified in the fallback agreement properties for EDIFACT-encoded messages, which by default is `http://schemas.microsoft.com/BizTalk/Edi/EDIFACT/2006`.</span></span>  
  
 <span data-ttu-id="1c6b2-188">Para los intercambios EDIFACT, una vez detectado el espacio de nombres de destino, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determina el esquema mediante la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="1c6b2-188">For EDIFACT interchanges, once the target namespace is discovered, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines the schema using the following information:</span></span>  
  
-   <span data-ttu-id="1c6b2-189">El espacio de nombres de destino acabo.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-189">The target namespace just discovered.</span></span>  
  
-   <span data-ttu-id="1c6b2-190">El número de versión del mensaje en UNH2.2.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-190">The message version number in UNH2.2.</span></span>  
  
-   <span data-ttu-id="1c6b2-191">El número de versión del mensaje en UNH2.3.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-191">The message release number in UNH2.3.</span></span>  
  
-   <span data-ttu-id="1c6b2-192">El tipo de mensaje en UNH2.1.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-192">The message type in UNH2.1.</span></span>  
  
-   <span data-ttu-id="1c6b2-193">El código asignado en UNH2.5.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-193">The assigned code in UNH2.5.</span></span>  
  
 <span data-ttu-id="1c6b2-194">El desensamblador EDI concatena el tipo de codificación, la versión, el lanzamiento y el tipo de mensaje para determinar el nombre del esquema, por ejemplo, " EFACT_D94A_CONTEN".</span><span class="sxs-lookup"><span data-stu-id="1c6b2-194">The EDI Disassembler concatenates the encoding type, the version, the release, and the message type to determine the schema name, for example, " EFACT_D94A_CONTEN".</span></span> <span data-ttu-id="1c6b2-195">A continuación, concatena el espacio de nombres de destino con el nombre de esquema, por ejemplo, `http://schemas.microsoft.com/BizTalk/Edi/Edifact/2006/EFACT#EFACT_D94A_CONTEN`.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-195">It then concatenates the target namespace with the schema name, for example, `http://schemas.microsoft.com/BizTalk/Edi/Edifact/2006/EFACT#EFACT_D94A_CONTEN`.</span></span>  
  
 <span data-ttu-id="1c6b2-196">Si UNH2.5 está presente en el mensaje, el desensamblador EDI tratará primero de encontrar un esquema coincidente usando el valor UNH2.5 como parte del nombre del esquema, por ejemplo “EFACT_D94A_CONTEN_TEST”.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-196">If UNH2.5 is present in the message, the EDI Disassembler will first attempt to find a matching schema by using the value of UNH2.5 as part of the schema name, for example “EFACT_D94A_CONTEN_TEST”.</span></span> <span data-ttu-id="1c6b2-197">Si no se encuentra ningún esquema coincidente, el desensamblador EDI regresará para buscar el esquema sin el valor UNH2.5.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-197">If no matching schema is found, the EDI Disassembler will fall back to finding the schema without the UNH2.5 value.</span></span>  
  
## <a name="authorization"></a><span data-ttu-id="1c6b2-198">Autorización</span><span class="sxs-lookup"><span data-stu-id="1c6b2-198">Authorization</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1c6b2-199"> comprueba los valores de los campos de autorización y seguridad definidos para el acuerdo con los campos del mensaje.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-199"> checks the values of the authorization and security fields defined for the agreement with the fields in the message.</span></span> <span data-ttu-id="1c6b2-200">En caso de que haya una falta de coincidencia, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] suspenderá el intercambio.</span><span class="sxs-lookup"><span data-stu-id="1c6b2-200">If there is a mismatch, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will suspend the interchange.</span></span> <span data-ttu-id="1c6b2-201">Para los mensajes codificados con EDIFACT, estos campos son la contraseña de referencia del destinatario (UNB6.1 y UNB6.2).</span><span class="sxs-lookup"><span data-stu-id="1c6b2-201">For EDIFACT-encoded messages, these fields are the recipient reference password (UNB6.1 and UNB6.2).</span></span> <span data-ttu-id="1c6b2-202">Para los mensajes codificados con X12, estos campos son el calificador y la información de autorización (ISA1-2), y el calificador y la información de seguridad (ISA3-4).</span><span class="sxs-lookup"><span data-stu-id="1c6b2-202">For X12-encoded messages, these fields are the Authorization qualifier and information (ISA1-2) and Security qualifier and information (ISA3-4).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1c6b2-203">Vea también</span><span class="sxs-lookup"><span data-stu-id="1c6b2-203">See Also</span></span>  
 [<span data-ttu-id="1c6b2-204">Cómo recibe BizTalk Server los mensajes EDI</span><span class="sxs-lookup"><span data-stu-id="1c6b2-204">How BizTalk Server Receives EDI Messages</span></span>](../core/how-biztalk-server-receives-edi-messages.md)