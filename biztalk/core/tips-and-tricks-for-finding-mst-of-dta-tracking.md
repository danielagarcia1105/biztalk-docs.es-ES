---
title: Sugerencias y trucos para encontrar MST de seguimiento de DTA | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 7d72e4ac-d952-4cff-9a65-491e20945d40
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: eac87d73d9f038dcc3206e8ae8eb930ed5dd8722
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36982229"
---
# <a name="tips-and-tricks-for-finding-mst-of-dta-tracking"></a><span data-ttu-id="b6bc4-102">Sugerencias y trucos para encontrar MST de seguimiento de DTA</span><span class="sxs-lookup"><span data-stu-id="b6bc4-102">Tips and Tricks for Finding MST of DTA Tracking</span></span>
<span data-ttu-id="b6bc4-103">Por definición, MST es una prueba comparativa para medir de forma reproducible el rendimiento del sistema mediante una carga constante.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-103">By definition, MST is a benchmark to reproducibly measure system performance using a constant load.</span></span> <span data-ttu-id="b6bc4-104">A continuación se indican las situaciones donde resulta especialmente útil conocer el MST.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-104">Following are situations where knowing the MST is particularly useful.</span></span>  
  
1. <span data-ttu-id="b6bc4-105">**Cuando necesite que la latencia más baja desde el sistema**.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-105">**When you require the lowest latency from the system**.</span></span> <span data-ttu-id="b6bc4-106">Si se supera el MST se produce trabajo acumulado en el sistema, lo que ocasiona que aumente la latencia de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-106">Exceeding MST results in backlog in the system, which introduces increased latency for messages.</span></span> <span data-ttu-id="b6bc4-107">Incluso si el trabajo acumulado solo es temporal, éste tiene un efecto negativo inmediato en la latencia.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-107">Even if the backlog is only temporary, backlog has an immediate and deleterious effect on latency.</span></span> <span data-ttu-id="b6bc4-108">Por lo que, si conoce los sistemas, MST le dirá el rendimiento máximo absoluto que debería esperar conseguir antes de que la latencia del procesamiento individual de mensajes aumente de forma considerable (por ejemplo, de segundos a minutos dependiendo de la configuración).</span><span class="sxs-lookup"><span data-stu-id="b6bc4-108">So, knowing your systems MST will tell you the absolute maximum throughput you should expect to achieve before the latency of individual message processing increases dramatically (for example, from seconds to minutes depending on your configuration).</span></span>  
  
2. <span data-ttu-id="b6bc4-109">**Cuando realiza comparaciones con otros sistemas**.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-109">**When comparing to other systems**.</span></span> <span data-ttu-id="b6bc4-110">Por ejemplo, si desea comprobar que está obteniendo el MST esperado en comparación con otro sistema (como puede ser el escenario que se describe en este tema, un caso práctico u otro sistema del entorno); al medir MST mediante una entrada continua se obtiene un estándar que puede reproducirse y que no es ambiguo para la comparación.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-110">For example, if you want to validate that you are achieving the expected MST compared to another system (for example, the scenario in this topic, a case study, or another system in your environment); measuring MST using a steady input offers a reproducible, unambiguous standard for comparison.</span></span>  
  
   <span data-ttu-id="b6bc4-111">Sin embargo, medir MST puede ser un proceso muy lento.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-111">Needless to say, however, it can be time consuming to measure MST.</span></span> <span data-ttu-id="b6bc4-112">Por tanto, antes de realizar una operación tan extensa, debería evaluar las ventajas.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-112">Therefore, before you embark on a lengthy exercise to measure it, you should evaluate the benefits.</span></span> <span data-ttu-id="b6bc4-113">La mayoría de los sistemas de producción no experimentarán una entrada continua como la que ha medido MST sino, más bien, una carga que cambia con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-113">Most production systems will not experience a steady input such as that measured by MST, but rather a load that changes over time.</span></span> <span data-ttu-id="b6bc4-114">Este perfil de carga es el que se debe comprobar en última instancia para certificar un sistema antes de la producción.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-114">It is this load profile that must ultimately be tested to certify a system prior to production.</span></span> <span data-ttu-id="b6bc4-115">Afortunadamente, puede usar la misma técnica que se usó para medir MST y evaluar, de este modo, la sostenibilidad del perfil de carga de producción.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-115">Fortunately, you can use the same technique that is used to measure MST to evaluate the sustainability of your production load profile.</span></span> <span data-ttu-id="b6bc4-116">Solo tiene que ejecutar el perfil de carga durante el tiempo suficiente para que se incluya una o varias ventanas de retención de datos de la base de datos BizTalkDTADb y observar los indicadores clave de rendimiento (KPI).</span><span class="sxs-lookup"><span data-stu-id="b6bc4-116">Simply run your load profile long enough to include one or more BizTalkDTADb database data retention windows and observe the key performance indicators (KPI).</span></span>  
  
   <span data-ttu-id="b6bc4-117">Es importante que inicie las ejecuciones de prueba, ya sea MST o perfiles de carga, con una base de datos BizTalkDTADb vacía.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-117">It is important to start your test runs, whether MST or load profiles, with an empty BizTalkDTADb database.</span></span> <span data-ttu-id="b6bc4-118">Los datos que se almacenan en la base de datos BizTalkDTADb están sujetos a limitación temporal y si no se vuelven a obtener desde cero para cada ejecución de prueba, se pueden falsear los resultados.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-118">The data that is stored in the BizTalkDTADb database is time sensitive and if it is not re-acquired from scratch for each test run, it can skew your results.</span></span> <span data-ttu-id="b6bc4-119">Según la ventana de retención de datos, esto puede aumentar de forma considerable el tiempo que se tarde en encontrar MST.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-119">Depending on your data retention window, this can significantly increase the time it takes to find MST.</span></span> <span data-ttu-id="b6bc4-120">Para reducirlo, el ajuste de la carga "sobre la marcha" durante las ejecuciones de prueba puede resultar útil a la hora de poner a cero el MST de forma más rápida.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-120">To mitigate this, adjusting load "on the fly" during test runs can be useful in more quickly zeroing in on MST.</span></span>  
  
   <span data-ttu-id="b6bc4-121">Por ejemplo, si encuentra que ha pasado el primer tiempo de la ventana de retención y los KPI le indican que queda capacidad para un rendimiento mayor (por ejemplo, el tiempo de inactividad del disco se encuentra todavía por encima de cero), puede aumentar la carga de forma incremental y observar el efecto.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-121">For example, if you find that you have passed your first retention window time and the KPIs indicate you have headroom for higher throughput left (for example, disk idle time is still above zero), you can incrementally increase your load and observe the effect.</span></span> <span data-ttu-id="b6bc4-122">Sin embargo, una vez definida de nuevo la estimación de MST de este modo, es importante que realice una ejecución de prueba comenzando por una base de datos BizTalkDTADb vacía para validar la estimación.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-122">After you have refined your MST estimate in this way, however, it is important that you perform a test run starting with an empty BizTalkDTADb database to validate your estimate.</span></span>  
  
## <a name="recommendations"></a><span data-ttu-id="b6bc4-123">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="b6bc4-123">Recommendations</span></span>  
 <span data-ttu-id="b6bc4-124">El seguimiento de la arquitectura del sistema de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] es capaz de una amplia variedad de información de seguimiento y se debe administrarlos y supervisarlos con cuidado.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-124">The tracking system architecture in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is capable of tracking a wide variety of information and must be managed and monitored carefully.</span></span> <span data-ttu-id="b6bc4-125">Como indica el MST, los factores que afectarán al rendimiento del sistema en mayor medida son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="b6bc4-125">The factors that will most affect the performance of your system, as indicated by MST, are as follows:</span></span>  
  
- <span data-ttu-id="b6bc4-126">El rendimiento deseado del sistema.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-126">The desired throughput for the system.</span></span>  
  
- <span data-ttu-id="b6bc4-127">El volumen de información sometido a seguimiento para cada mensaje e instancia de servicio del sistema.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-127">The volume of information tracked for each message and service instance in the system.</span></span> <span data-ttu-id="b6bc4-128">Esto determinará con qué rapidez aumenta el tamaño de la base de datos BizTalkDTADb y, en última instancia, con qué frecuencia se debe purgar la base de datos BizTalkDTADb para evitar que se retrase.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-128">This will determine how quickly the size of the BizTalkDTADb database increases, and ultimately how often the BizTalkDTADb database must be purged to avoid falling behind.</span></span>  
  
- <span data-ttu-id="b6bc4-129">El tiempo que desee conservar los datos en la base de datos de BizTalkDTADb, es decir, la ventana de retención de datos.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-129">How long you wish to retain data in the BizTalkDTADb database, that is, the data retention window.</span></span> <span data-ttu-id="b6bc4-130">Cuanto más tiempo esté la ventana, más crecerá la base de datos BizTalkDTADb, lo que afecta al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-130">The longer the window, the larger the BizTalkDTADb database will grow, affecting throughput.</span></span>  
  
- <span data-ttu-id="b6bc4-131">Si archiva los datos de la base de datos BizTalkDTADb y los purga, o solo los purga para mantener el tamaño de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-131">Whether you archive BizTalkDTADb database data as well as purge, or just purge to maintain BizTalkDTADb database size.</span></span>  
  
  <span data-ttu-id="b6bc4-132">El proceso de encontrar el rendimiento máximo sostenible para el seguimiento en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] implica tres indicadores clave de rendimiento:</span><span class="sxs-lookup"><span data-stu-id="b6bc4-132">The process of finding the maximum sustainable throughput for tracking in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] involves three key performance indicators:</span></span>  
  
- <span data-ttu-id="b6bc4-133">El tiempo de inactividad del disco físico para el subsistema de discos de archivos de datos DTAdb.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-133">Physical Disk Idle Time for the DTAdb data file disk subsystem.</span></span>  
  
- <span data-ttu-id="b6bc4-134">La profundidad de la cola</span><span class="sxs-lookup"><span data-stu-id="b6bc4-134">Spool depth</span></span>  
  
- <span data-ttu-id="b6bc4-135">La profundidad de BizTalkDTADbData</span><span class="sxs-lookup"><span data-stu-id="b6bc4-135">BizTalkDTADbData depth</span></span>  
  
  <span data-ttu-id="b6bc4-136">Realice búsquedas en el MST de los sistemas o valide el rendimiento del perfil de producción supervisando estos tres indicadores clave de rendimiento en busca de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b6bc4-136">Find either your systems’ MST or validate your production profile throughput by monitoring these three key performance indicators looking for:</span></span>  
  
- <span data-ttu-id="b6bc4-137">Profundidad de la tabla trackingdata y de cola estable</span><span class="sxs-lookup"><span data-stu-id="b6bc4-137">Stable spool and trackingdata table depth.</span></span>  
  
- <span data-ttu-id="b6bc4-138">El tiempo de inactividad del disco físico de archivos de datos de la base de datos BizTalkDTADb se aproxima, aunque no tiende continuamente a, cero.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-138">BizTalkDTADb database data file disk physical idle time near, but not continuously "pegged" at, zero.</span></span>  
  
  <span data-ttu-id="b6bc4-139">El uso de las características de seguimiento de DTA afecta al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-139">Using the DTA tracking features has an associated performance impact.</span></span>  <span data-ttu-id="b6bc4-140">El seguimiento predeterminado puede realizar el seguimiento de más elementos de los necesarios una vez que la solución se encuentra en producción, pero puede hacer más fáciles el desarrollo, la comprobación inicial y la depuración al proporcionar una amplia información de resolución de problemas.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-140">Default tracking may track more than is needed once a solution is in production, but can make development and initial testing and debugging easier by providing ample problem resolution information.</span></span> <span data-ttu-id="b6bc4-141">Por tanto, se recomienda dejar activado el seguimiento predeterminado durante el desarrollo y la comprobación inicial.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-141">Therefore, we recommend that default tracking be left on during development and initial testing.</span></span> <span data-ttu-id="b6bc4-142">Una vez que una solución implementada en BizTalk está estable y lista para la certificación de la producción, incluida la comprobación del rendimiento, se recomienda que examine con cuidado la cantidad de información a la que se debe realizar el seguimiento en producción y el tiempo que debe permanecer en la base de datos BizTalkDTADb, así como que la ajuste de forma correspondiente.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-142">Once a solution deployed on BizTalk is stable and ready for production certification, including performance testing, it is recommended that you carefully examine the amount of information that needs to be tracked in production, and the length of time it needs to be kept in the BizTalkDTADb database and adjust accordingly.</span></span>  
  
  <span data-ttu-id="b6bc4-143">Por ejemplo, si no es necesario realizar el seguimiento del cuerpo de los mensajes para evitar el rechazo y solucionar problemas, no active el seguimiento del cuerpo del mensaje.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-143">For example, if message bodies do not need to be tracked for either non-repudiation or problem resolution purposes, then do not turn on message body tracking.</span></span> <span data-ttu-id="b6bc4-144">Para ilustrar este punto, en el escenario de ejemplo descrito en [escenarios de prueba para medir MST de DTA seguimiento](../core/test-scenarios-for-measuring-mst-of-dta-tracking.md), cuando se eliminó el componente de la configuración de seguimiento de seguimiento de cuerpo del mensaje, se duplicó el MST a 40 mensajes por segundo.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-144">To illustrate this point, in the example scenario described in [Test Scenarios for Measuring MST of DTA Tracking](../core/test-scenarios-for-measuring-mst-of-dta-tracking.md), when the message body tracking component of the tracking configuration was eliminated, the MST was doubled to 40 messages/second.</span></span>  
  
  <span data-ttu-id="b6bc4-145">Asimismo, tenga en cuenta que incluso cuando surgen problemas, en muchos casos (aunque no en todos), los mensajes se suspenden en la base de datos de cuadro de mensajes y se pueden recuperar e inspeccionar sin necesidad de realizar un seguimiento del cuerpo de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-145">Also, keep in mind that even when problems do occur, in many (but by no means all) cases, messages are suspended in the MessageBox database and can be retrieved and inspected without needing to track message bodies.</span></span>  
  
  <span data-ttu-id="b6bc4-146">Céntrese en la sostenibilidad de la carga que coloca en el sistema:</span><span class="sxs-lookup"><span data-stu-id="b6bc4-146">Focus on the sustainability of the load you place on the system:</span></span>  
  
- <span data-ttu-id="b6bc4-147">¿Puede el sistema mantener el perfil de carga de producción de forma indefinida incluso con actividades normales de mantenimiento?</span><span class="sxs-lookup"><span data-stu-id="b6bc4-147">Can your system sustain the production load profile indefinitely even with normal maintenance activities?</span></span>  
  
- <span data-ttu-id="b6bc4-148">¿Qué ocurre si sucede algo que provoca que el sistema mantenga trabajo acumulado, como una interrupción de la base de datos BizTalkDTADb planeada o no planeada?</span><span class="sxs-lookup"><span data-stu-id="b6bc4-148">What if something happens that causes the system to sustain a backlog, such as a planned or unplanned BizTalkDTADb database outage?</span></span>  
  
  <span data-ttu-id="b6bc4-149">Es conveniente establecer objetivos que se basen en peores escenarios de casos y comprobar estos objetivos.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-149">It is a good idea to set goals based on worst case scenarios and test to those goals.</span></span> <span data-ttu-id="b6bc4-150">Por ejemplo, si sabe que hay un ciclo de mantenimiento planeado y periódico que hará que la base de datos BizTalkDTADb se quede sin conexión, simule esta interrupción durante una ejecución de prueba para evaluar la capacidad del sistema para recuperarse del trabajo acumulado resultante.</span><span class="sxs-lookup"><span data-stu-id="b6bc4-150">For example, if you know that there is a periodic planned maintenance cycle that will take the BizTalkDTADb database off line, emulate this outage during a test run to evaluate the ability of the system to recover from the resulting backlog.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b6bc4-151">Vea también</span><span class="sxs-lookup"><span data-stu-id="b6bc4-151">See Also</span></span>  
 <span data-ttu-id="b6bc4-152">[Medir el rendimiento de seguimiento sostenible máximo](../core/measuring-maximum-sustainable-tracking-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="b6bc4-152">[Measuring Maximum Sustainable Tracking Throughput](../core/measuring-maximum-sustainable-tracking-throughput.md) </span></span>  
 <span data-ttu-id="b6bc4-153">[Comprender el comportamiento del rendimiento de seguimiento de DTA](../core/understanding-dta-tracking-performance-behavior.md) </span><span class="sxs-lookup"><span data-stu-id="b6bc4-153">[Understanding DTA Tracking Performance Behavior](../core/understanding-dta-tracking-performance-behavior.md) </span></span>  
 <span data-ttu-id="b6bc4-154">[Escenarios de prueba para medir MST de seguimiento de DTA](../core/test-scenarios-for-measuring-mst-of-dta-tracking.md) </span><span class="sxs-lookup"><span data-stu-id="b6bc4-154">[Test Scenarios for Measuring MST of DTA Tracking](../core/test-scenarios-for-measuring-mst-of-dta-tracking.md) </span></span>  
 [<span data-ttu-id="b6bc4-155">Instrucciones para ajustar el tamaño de la base de datos de seguimiento</span><span class="sxs-lookup"><span data-stu-id="b6bc4-155">Tracking Database Sizing Guidelines</span></span>](../core/tracking-database-sizing-guidelines.md)