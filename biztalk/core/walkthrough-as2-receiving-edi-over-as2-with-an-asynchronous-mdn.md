---
title: 'Tutorial (AS2): Recibir EDI a través de AS2 con un MDN asíncrono | Microsoft Docs'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ac3962e4-0525-4194-8cf1-b90664f1a139
caps.latest.revision: 40
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 59fdb22b08a1855f1ba4d9cc433acb288132283a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37003869"
---
# <a name="walkthrough-as2-receiving-edi-over-as2-with-an-asynchronous-mdn"></a><span data-ttu-id="ebc4c-102">Tutorial (AS2): Recibir EDI a través de AS2 con un MDN asíncrono</span><span class="sxs-lookup"><span data-stu-id="ebc4c-102">Walkthrough (AS2): Receiving EDI over AS2 with an Asynchronous MDN</span></span>
<span data-ttu-id="ebc4c-103">Este tutorial proporciona un conjunto de procedimientos descritos paso a paso que crean una solución para la recepción de mensajes EDI a través del transporte AS2 y la devolución de MDN sincrónicos.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-103">This walkthrough provides a set of step-by-step procedures that creates a solution for receiving EDI messages over AS2 transport, returning synchronous MDNs.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="ebc4c-104">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="ebc4c-104">Prerequisites</span></span>  
 <span data-ttu-id="ebc4c-105">A continuación se exponen algunos requisitos previos para realizar el procedimiento de este tema:</span><span class="sxs-lookup"><span data-stu-id="ebc4c-105">The following are prerequisites for performing the procedure in this topic:</span></span>  

- <span data-ttu-id="ebc4c-106">Debe iniciar sesión como miembro del grupo de administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] o de operadores B2B de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ebc4c-106">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators or [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators group.</span></span>  

- <span data-ttu-id="ebc4c-107">El equipo que ejecuta el tutorial debe tener Internet Information Services (IIS) 7 instalado.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-107">The computer that runs the walkthrough must have Internet Information Services (IIS) 7 installed.</span></span>  

- <span data-ttu-id="ebc4c-108">Si el equipo que ejecuta el tutorial tiene instalada la versión de 64 bits de Windows, debe asegurarse de que los hosts de BizTalk están marcados como de 32 bits solamente.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-108">If the computer that runs the walkthrough is installed with a 64-bit version of Windows, you must ensure that the BizTalk hosts are marked as 32-bit only.</span></span> <span data-ttu-id="ebc4c-109">Además debe asegurarse de que IIS tiene establecida en True la opción de habilitar aplicaciones de 32 bits para los grupos de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-109">You must also ensure IIS has the Enable 32-Bit Application Setting for the Application Pools set to True.</span></span> <span data-ttu-id="ebc4c-110">Para obtener más información, consulte [Tutorial 3: Tutorial de AS2](../core/tutorial-3-as2-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-110">For more information, see [Tutorial 3: AS2 Tutorial](../core/tutorial-3-as2-tutorial.md).</span></span>  

## <a name="how-the-solution-receives-an-edi-interchange-and-returns-an-asynchronous-mdn"></a><span data-ttu-id="ebc4c-111">Cómo recibe la solución un intercambio EDI y devuelve un MDN asíncrono</span><span class="sxs-lookup"><span data-stu-id="ebc4c-111">How the Solution Receives an EDI Interchange and Returns an Asynchronous MDN</span></span>  
 <span data-ttu-id="ebc4c-112">La solución hará lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ebc4c-112">The solution will do the following:</span></span>  

1. <span data-ttu-id="ebc4c-113">Recibir un mensaje AS2 que contiene un intercambio EDI a través de HTTP del socio comercial y descodificar el intercambio de EDIINT/AS2.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-113">Receive an AS2 message containing an EDI interchange over HTTP from the trading partner, and decode the interchange from EDIINT/AS2.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-114">Puede que los eventos de esta lista no se produzcan en el orden mostrado.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-114">The events in this list may not occur in the order shown.</span></span>  

2. <span data-ttu-id="ebc4c-115">Generar una respuesta MDN y depositarla en el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-115">Generate an MDN response, and drop it in the MessageBox.</span></span>  

3. <span data-ttu-id="ebc4c-116">Tomar el MDN de mensaje por un puerto de envío dinámico.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-116">Pick up the message MDN by a dynamic send port.</span></span>  

4. <span data-ttu-id="ebc4c-117">Devolver el MDN del mensaje asíncrono al socio comercial.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-117">Return the asynchronous message MDN to the trading partner.</span></span>  

5. <span data-ttu-id="ebc4c-118">Convertir el formato EDI del intercambio en el formato XML interno y colocarlo en el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-118">Convert the EDI format of the interchange to internal XML format, and drop it in the MessageBox.</span></span>  

6. <span data-ttu-id="ebc4c-119">Un puerto de envío con una canalización PassThruTransmit recoge el archivo XML del mensaje del cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-119">A send port with a PassThruTransmit pipeline picks up the message XML file from the MessageBox.</span></span>  

7. <span data-ttu-id="ebc4c-120">El puerto de envío envía el archivo XML de intercambio EDI a una carpeta de la entidad Contoso.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-120">The send port sends EDI interchange XML file to a folder at the Contoso party.</span></span>  

   <span data-ttu-id="ebc4c-121">La siguiente ilustración muestra la arquitectura de esta solución.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-121">The following figure shows the architecture for this solution.</span></span>  

   <span data-ttu-id="ebc4c-122">![Recepción AS2 con un MDN asíncrono](../core/media/bts-configuring-the-receiving-of-edi-over-as2-with-an-asynchronous-mdnc.gif "bts_Configuring_the_Receiving_of_EDI_Over_AS2_with_an_Asynchronous_MDNc")</span><span class="sxs-lookup"><span data-stu-id="ebc4c-122">![AS2 receiving with an asynchronous MDN](../core/media/bts-configuring-the-receiving-of-edi-over-as2-with-an-asynchronous-mdnc.gif "bts_Configuring_the_Receiving_of_EDI_Over_AS2_with_an_Asynchronous_MDNc")</span></span>  

## <a name="the-functionality-in-this-solution"></a><span data-ttu-id="ebc4c-123">La funcionalidad en esta solución</span><span class="sxs-lookup"><span data-stu-id="ebc4c-123">The Functionality in this Solution</span></span>  
 <span data-ttu-id="ebc4c-124">Los siguientes puntos se aplican a la funcionalidad de este tutorial:</span><span class="sxs-lookup"><span data-stu-id="ebc4c-124">The following applies to the functionality of this walkthrough:</span></span>  

-   <span data-ttu-id="ebc4c-125">No se genera una confirmación EDI.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-125">An EDI acknowledgment is not generated.</span></span> <span data-ttu-id="ebc4c-126">Generar una confirmación EDI se muestra en [tutorial (X12): devolución de una confirmación de envío y recepción de intercambios EDI](../core/walkthrough-x12--receive-edi-interchanges-and-send-back-an-acknowledgement.md).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-126">Generating an EDI acknowledgment is demonstrated in [Walkthrough (X12): Receiving EDI Interchanges and Sending Back an Acknowledgement](../core/walkthrough-x12--receive-edi-interchanges-and-send-back-an-acknowledgement.md).</span></span> <span data-ttu-id="ebc4c-127">Envía una confirmación EDI mediante transporte AS2 se describe en [tutorial (AS2): enviar EDI a través de AS2 con un MDN asíncrono](../core/walkthrough-as2-sending-edi-over-as2-with-an-asynchronous-mdn.md).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-127">Sending an EDI acknowledgment over AS2 transport is described in [Walkthrough (AS2): Sending EDI over AS2 with an Asynchronous MDN](../core/walkthrough-as2-sending-edi-over-as2-with-an-asynchronous-mdn.md).</span></span>  

-   <span data-ttu-id="ebc4c-128">La solución está diseñada para intercambios que utilizan la codificación X12, no la codificación EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-128">The solution is designed for interchanges using X12 encoding, not EDIFACT encoding.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="ebc4c-129">La configuración que utiliza la codificación EDIFACT es bastante parecida a la que usa la codificación X12.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-129">The configuration used for EDIFACT encoding is closely parallel to that used for X12 encoding.</span></span>  

-   <span data-ttu-id="ebc4c-130">El tipo de codificación EDI y la validación extendida se realizarán en el intercambio entrante.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-130">EDI type and extended validation will be performed on the incoming interchange.</span></span>  

-   <span data-ttu-id="ebc4c-131">Se habilitarán informes AS2 y EDI y se guardarán los conjuntos de transacciones para su visualización a partir del informe de estado de intercambio.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-131">AS2 and EDI reporting will be enabled, and transaction sets will be saved for viewing from the interchange status report.</span></span>  

-   <span data-ttu-id="ebc4c-132">Esta solución no configura el almacenamiento de mensajes, el cifrado, la compresión ni la firma en la base de datos sin repudio.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-132">This solution does not configure signing, compression, encryption, or message storage in the non-repudiation database.</span></span> <span data-ttu-id="ebc4c-133">Para conocer los procedimientos sobre cómo configurar estas propiedades, vea [configurar propiedades de AS2](../core/configuring-as2-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-133">For procedures on configuring those properties, see [Configuring AS2 Properties](../core/configuring-as2-properties.md).</span></span>  

## <a name="configuring-and-testing-the-walkthrough"></a><span data-ttu-id="ebc4c-134">Configuración y prueba del tutorial</span><span class="sxs-lookup"><span data-stu-id="ebc4c-134">Configuring and Testing the Walkthrough</span></span>  
 <span data-ttu-id="ebc4c-135">Los procedimientos necesarios para esta solución son:</span><span class="sxs-lookup"><span data-stu-id="ebc4c-135">The procedures required for this solution include the following:</span></span>  

- <span data-ttu-id="ebc4c-136">Generar e implementar un proyecto de BizTalk con el esquema de mensaje necesario, de modo que el esquema esté disponible para que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] lo utilice a la hora de procesar el intercambio recibido.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-136">Build and deploy a BizTalk project with the required message schema, making the schema available for use by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in processing the received interchange.</span></span>  

- <span data-ttu-id="ebc4c-137">Habilitar el filtro ISAPI de BTS que se utiliza para la recepción del mensaje AS2.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-137">Enable the BTS ISAPI filter used in receiving the AS2 message.</span></span>  

- <span data-ttu-id="ebc4c-138">Crear un directorio virtual de Contoso que reciba el mensaje AS2 de Fabrikam, tal y como se configura en la ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-138">Create a Contoso virtual directory that receives the AS2 message from Fabrikam, as configured in the receive location.</span></span>  

- <span data-ttu-id="ebc4c-139">Crear un directorio virtual de Fabrikam que reciba el MDN de Contoso.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-139">Create a Fabrikam virtual directory that receives the MDN from Contoso.</span></span>  

- <span data-ttu-id="ebc4c-140">Especificar que Windows SharePoint Services no administre los directorios virtuales de Contoso y Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-140">Specify that the Contoso and Fabrikam virtual directories are not managed by Windows SharePoint Services.</span></span>  

- <span data-ttu-id="ebc4c-141">Crear un puerto de recepción HTTP unidireccional estático para que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] reciba el mensaje AS2 que contiene el documento empresarial EDI del socio comercial.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-141">Create a static one-way HTTP receive port for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to receive the AS2 message containing the EDI business document from the trading partner.</span></span> <span data-ttu-id="ebc4c-142">Configurar la canalización de recepción para que sea la canalización AS2EDIReceive.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-142">Configure the receive pipeline to be the AS2EDIReceive pipeline.</span></span>  

- <span data-ttu-id="ebc4c-143">Crear un puerto de envío HTTP unidireccional dinámico para que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] envíe el MDN que responde al mensaje AS2 recibido.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-143">Create a dynamic one-way HTTP send port for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to send the MDN responding to the received AS2 message.</span></span>  

  > [!NOTE]
  >  <span data-ttu-id="ebc4c-144">Este puerto de envío se suscribe al MDN según la propiedad EdiIntAS.IsAS2AsynchronousMDN (que se ha establecido como True mediante la canalización AS2EdiReceive) y los tokens de correlación.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-144">This send port subscribes to the MDN based on the EdiIntAS.IsAS2AsynchronousMDN property (which was set to True by the AS2EdiReceive pipeline) and correlation tokens.</span></span> <span data-ttu-id="ebc4c-145">El puerto de envío debe ser dinámico de modo que envíe el MDN a la dirección que figura en la línea Receipt-Delivery-Notification del encabezado del mensaje.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-145">The send port must be dynamic, so it will send the MDN to the address in the Receipt-Delivery-Notification line in the header of the message.</span></span>  

- <span data-ttu-id="ebc4c-146">Crear un puerto de envío de archivo unidireccional estático para enrutar la carga EDI (en formato XML) a un carpeta local.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-146">Create a static one-way FILE send port to route the EDI payload (in XML format) to a local folder.</span></span> <span data-ttu-id="ebc4c-147">Crear la carpeta local.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-147">Create the local folder.</span></span>  

- <span data-ttu-id="ebc4c-148">Crear una entidad (socio comercial) para Fabrikam y Contoso.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-148">Create a party (trading partner) for both Fabrikam and Contoso.</span></span>  

- <span data-ttu-id="ebc4c-149">Crear un perfil de negocio para cada una de las entidades comerciales.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-149">Create a business profile each for both the trading parties.</span></span>  

- <span data-ttu-id="ebc4c-150">Crear un acuerdo AS2 entre los perfiles de negocio de Fabrikam y Contoso.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-150">Create an AS2 agreement between the business profiles for Fabrikam and Contoso.</span></span> <span data-ttu-id="ebc4c-151">El acuerdo AS2 contendría las propiedades para enviar un mensaje AS2 y recibir un MDN asincrónico en respuesta.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-151">The AS2 agreement would contain properties to send an AS2 message and receive an asynchronous MDN in return.</span></span>  

- <span data-ttu-id="ebc4c-152">Crear un acuerdo X12 entre los perfiles de negocio de Fabrikam y Contoso para recibir mensajes X12.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-152">Create an X12 agreement between the business profiles for Fabrikam and Contoso to receive X12 messages.</span></span>  

- <span data-ttu-id="ebc4c-153">Probar la solución con la utilidad del remitente de HTTP que se envía como parte de los archivos del tutorial de AS2.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-153">Test the solution by using the HTTP Sender utility that is shipped as part of the AS2 tutorial files.</span></span> <span data-ttu-id="ebc4c-154">Esta utilidad envía un mensaje AS2 de prueba que contiene un intercambio EDI a través del transporte AS2.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-154">This utility sends a test AS2 message containing an EDI interchange over AS2 transport.</span></span> <span data-ttu-id="ebc4c-155">Esta utilidad envía un mensaje AS2 de prueba que contiene el intercambio EDI mediante el transporte AS2 (X12_00401_864.edi, también enviado con el tutorial de AS2).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-155">This utility sends a test AS2 message containing an EDI interchange over AS2 transport (X12_00401_864.edi, also shipped with the AS2 tutorial).</span></span> <span data-ttu-id="ebc4c-156">El remitente de HTTP y el mensaje de prueba usado para este tutorial son iguales que las versiones enviadas para el tutorial.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-156">The HTTP Sender and the test message that you use for this walkthrough are the same as the versions that shipped for the tutorial.</span></span>  

### <a name="configuring-the-walkthrough"></a><span data-ttu-id="ebc4c-157">Configuración del tutorial</span><span class="sxs-lookup"><span data-stu-id="ebc4c-157">Configuring the Walkthrough</span></span>  
 <span data-ttu-id="ebc4c-158">En esta sección se describen los procedimientos para configurar el tutorial.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-158">This section describes the procedures to configure the walkthrough.</span></span>  

##### <a name="to-deploy-the-message-schema"></a><span data-ttu-id="ebc4c-159">Para implementar el esquema de mensajes</span><span class="sxs-lookup"><span data-stu-id="ebc4c-159">To deploy the message schema</span></span>  

1. <span data-ttu-id="ebc4c-160">En [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], abra el proyecto [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Schemas\Schemas.btproj.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-160">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], open the project [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Schemas\Schemas.btproj.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-161">Este proyecto, que se envía para el tutorial de AS2, incluye un esquema 864 para que se utilice con el mensaje de prueba.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-161">This project, which is shipped for the AS2 tutorial, includes an 864 schema for use with the test message.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-162">Este tema presupone que ya ha agregado una referencia de su aplicación a la aplicación EDI de BizTalk, que contiene esquemas, canalizaciones y orquestaciones EDI.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-162">This topic assumes that you have already added a reference from your application to the BizTalk EDI Application, which contains EDI schemas, pipelines, and orchestrations.</span></span> <span data-ttu-id="ebc4c-163">Si no, consulte [cómo agregar una referencia a la aplicación EDI de BizTalk Server](http://msdn.microsoft.com/library/7af066fb-372f-4709-b566-c8d6b4a9d782).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-163">If not, see [How to Add a Reference to the BizTalk Server EDI Application](http://msdn.microsoft.com/library/7af066fb-372f-4709-b566-c8d6b4a9d782).</span></span>  

2. <span data-ttu-id="ebc4c-164">Haga clic en el **esquemas** del proyecto en el Explorador de soluciones y, a continuación, haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-164">Right-click the **Schemas** project in the Solution Explorer, and then click **Properties**.</span></span> <span data-ttu-id="ebc4c-165">Haga clic en el **firma** ficha del Diseñador de proyectos, compruebe el **firmar el ensamblado** casilla de verificación y en la lista desplegable, seleccione **New** y proporcione los valores necesarios para crear un archivo de clave de nombre seguro.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-165">Click the **Signing** tab in the project designer, check the **Sign the Assembly** checkbox, and from the drop-down, select **New** and provide the necessary values to create a strong name key file.</span></span> <span data-ttu-id="ebc4c-166">Guarde los cambios y cierre la ventana de propiedades del proyecto.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-166">Save the changes and close the project properties window.</span></span>  

3. <span data-ttu-id="ebc4c-167">Genere e implemente Schemas.btproj.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-167">Build and deploy Schemas.btproj.</span></span>  

##### <a name="to-enable-the-bts-isapi-filter"></a><span data-ttu-id="ebc4c-168">Para habilitar el filtro ISAPI de BTS</span><span class="sxs-lookup"><span data-stu-id="ebc4c-168">To enable the BTS ISAPI Filter</span></span>  

1. <span data-ttu-id="ebc4c-169">Haga clic en **Inicio**, elija **Todos los programas**, seleccione **Herramientas administrativas**y, a continuación, haga clic en **Administrador de Internet Information Services (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-169">Click **Start**, point to **All Programs**, point to **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  

   > [!TIP]
   >  <span data-ttu-id="ebc4c-170">Según el sistema operativo, la opción Herramientas administrativas puede no estar disponible en el menú Inicio.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-170">Depending on the operating system, the Administrative Tools start menu option may not be available.</span></span> <span data-ttu-id="ebc4c-171">En tales casos, haga clic en **iniciar**, haga clic en **ejecutar**y escriba `inetmgr` para abrir el Administrador de Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-171">In such cases, click **Start**, click **Run**, and enter `inetmgr` to open Internet Information Services (IIS) Manager.</span></span>  

2. <span data-ttu-id="ebc4c-172">Seleccione la entrada de servidor Web raíz y, en el **vista características**, haga doble clic en **asignaciones de controlador** y, a continuación, en el panel Acciones haga clic en **Agregar asignación de Script**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-172">Select the root Web Server entry and in the **Features View**, double click **Handler Mappings** and then in the Actions pane click **Add Script Map**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-173">La configuración de la asignación de script en el nivel de servidor web hará que esta asignación se aplique a todos los sitios web secundarios.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-173">Configuring the script mapping at the Web Server level will cause this mapping to apply to all child Web Sites.</span></span> <span data-ttu-id="ebc4c-174">Si desea restringir la asignación a un sitio Web o una carpeta Virtual específica, seleccione el sitio de destino o la carpeta en lugar del servidor Web.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-174">If you wish to restrict the mapping to a specific Web Site or Virtual Folder, select the target site or folder instead of the Web Server.</span></span>  

3. <span data-ttu-id="ebc4c-175">En el **Agregar asignación de Script** diálogo cuadro, escriba `BtsHttpReceive.dll` en el **ruta de acceso de solicitud** campo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-175">In the **Add Script Map** dialog box, enter `BtsHttpReceive.dll` in the **Request path** field.</span></span>  

4. <span data-ttu-id="ebc4c-176">En el **ejecutable** , a continuación, haga clic en el **puntos suspensivos (...)**  botón y vaya a [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-176">In the **Executable** field, click the **ellipsis (…)** button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span></span> <span data-ttu-id="ebc4c-177">Seleccione BtsHttpReceive.dll y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-177">Select BtsHttpReceive.dll and click **OK**.</span></span>  

5. <span data-ttu-id="ebc4c-178">Escriba `BizTalk HTTP Receive` en el `Name` campo y, a continuación, haga clic en **restricciones de solicitudes**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-178">Enter `BizTalk HTTP Receive` in the `Name` field, and then click **Request Restrictions**.</span></span>  

6. <span data-ttu-id="ebc4c-179">En el cuadro de diálogo restricciones de solicitudes, seleccione el **verbos** pestaña y, a continuación, seleccione **uno de los siguientes verbos**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-179">In the Request Restrictions dialog box, select the **Verbs** tab and then select **One of the following verbs**.</span></span> <span data-ttu-id="ebc4c-180">Escriba `POST` como verbo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-180">Enter `POST` as the verb .</span></span>  

7. <span data-ttu-id="ebc4c-181">En el **acceso** ficha, seleccione **Script** y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-181">On the **Access** tab, select **Script** and then click **OK**.</span></span>  

8. <span data-ttu-id="ebc4c-182">Haga clic en **Aceptar** y cuando se le solicite que permita la extensión ISAPI, haga clic en **Sí**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-182">Click **OK** and when prompted to allow the ISAPI extension, click **Yes**.</span></span>  

##### <a name="to-configure-the-contoso-web-page"></a><span data-ttu-id="ebc4c-183">Para configurar la página Web de Contoso</span><span class="sxs-lookup"><span data-stu-id="ebc4c-183">To configure the Contoso Web page</span></span>  

1. <span data-ttu-id="ebc4c-184">En el Administrador de IIS, haga clic en **grupos de aplicaciones** y seleccione **Agregar grupo de aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-184">In IIS Manager, right-click **Application Pools** and select **Add Application Pool**.</span></span>  

2. <span data-ttu-id="ebc4c-185">En el **Agregar grupo de aplicaciones** diálogo cuadro, escriba **BizTalkAppPool** en **nombre**y, a continuación, seleccione **.NET Framework V4.0.30210** en el **Versión de .NET framework** lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-185">In the **Add Application Pool** dialog box, enter **BizTalkAppPool** in **Name**, and then select **.NET Framework V4.0.30210** in the **.NET Framework version** drop-down list.</span></span> <span data-ttu-id="ebc4c-186">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-186">Click **OK**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-187">El número de versión puede variar en función de la versión de [!INCLUDE[netfx40_short](../includes/netfx40-short-md.md)] instalada en el equipo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-187">The version number may vary depending on the version of [!INCLUDE[netfx40_short](../includes/netfx40-short-md.md)] installed on the machine.</span></span>  

3. <span data-ttu-id="ebc4c-188">Seleccione **grupos de aplicaciones**, en la vista características seleccione **BizTalkAppPool**y, a continuación, haga clic en **configuración avanzada** en el **acciones** panel.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-188">Select **Application Pools**, in the Features View select **BizTalkAppPool**, and then click **Advanced Settings** in the **Actions** pane.</span></span>  

4. <span data-ttu-id="ebc4c-189">En el **configuración avanzada** cuadro de diálogo, seleccione **identidad** y, a continuación, haga clic en el **puntos suspensivos (...)**  botón.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-189">In the **Advanced Settings** dialog box, select **Identity** and then click the **ellipsis (…)** button.</span></span>  

5. <span data-ttu-id="ebc4c-190">En el **identidad del grupo de aplicaciones** cuadro de diálogo, seleccione **cuenta personalizada** y, a continuación, haga clic en **establecer**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-190">In the **Application Pool Identity** dialog box, select **Custom account** and then click **Set**.</span></span>  

6. <span data-ttu-id="ebc4c-191">Escriba el **nombre de usuario** y **contraseña** para una cuenta de usuario que sea miembro del grupo Administradores, escriba la contraseña en **Confirmar contraseña** y, a continuación, haga clic en **Aceptar** tres veces para volver al administrador de IIS.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-191">Enter the **User name** and **Password** for a user account that is a member of the administrators group, enter the password in **Confirm password** and then click **OK** three times to return to the IIS Manager.</span></span>  

7. <span data-ttu-id="ebc4c-192">En el Administrador de IIS, abra el **sitios** carpeta.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-192">In IIS Manager, open the **Sites** folder.</span></span> <span data-ttu-id="ebc4c-193">Haga clic en el **sitio Web predeterminado** nodo y, a continuación, seleccione **Agregar aplicación**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-193">Right-click the **Default Web Site** node, and then select **Add Application**.</span></span>  

8. <span data-ttu-id="ebc4c-194">En el **Agregar aplicación** diálogo cuadro, escriba **Contoso** en el **Alias** cuadro de texto y, a continuación, haga clic en **seleccione**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-194">In the **Add Application** dialog box, enter **Contoso** in the **Alias** text box, and then click **Select**.</span></span>  

9. <span data-ttu-id="ebc4c-195">En el **Seleccionar grupo de aplicaciones** cuadro de diálogo, seleccione **BizTalkAppPool** y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-195">In the **Select Application Pool** dialog box, select **BizTalkAppPool** and click **OK**.</span></span>  

10. <span data-ttu-id="ebc4c-196">Para el **ruta de acceso física**, haga clic en el **puntos suspensivos (...)**  botón y vaya a [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-196">For the **Physical Path**, click the **ellipsis (…)** button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span></span>  

11. <span data-ttu-id="ebc4c-197">Haga clic en **configuración de pruebas** y compruebe que no hay ningún error que se muestra en el **Probar conexión** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-197">Click **Test Settings** and verify that there are no errors displayed in the **Test Connection** dialog box.</span></span> <span data-ttu-id="ebc4c-198">Haga clic en **Cerrar**y, a continuación, en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-198">Click **Close**, and then click **OK**.</span></span>  

12. <span data-ttu-id="ebc4c-199">En el Administrador de IIS, seleccione el directorio virtual de Contoso y en el **vista características**, haga doble clic en **autenticación**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-199">In IIS Manager, select the Contoso virtual directory and in the **Features View**, double-click **Authentication**.</span></span>  

13. <span data-ttu-id="ebc4c-200">En el **autenticación** página, seleccione **autenticación anónima** y compruebe que la **estado** es **habilitado**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-200">In the **Authentication** page, select **Anonymous Authentication** and verify that the **Status** is **Enabled**.</span></span> <span data-ttu-id="ebc4c-201">Si el **estado** es **deshabilitado**, haga clic en **habilitar** en el **acciones** panel.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-201">If the **Status** is **Disabled**, click **Enable** in the **Actions** pane.</span></span>  

##### <a name="to-configure-the-fabrikam-web-page"></a><span data-ttu-id="ebc4c-202">Para configurar la página Web de Fabrikam</span><span class="sxs-lookup"><span data-stu-id="ebc4c-202">To configure the Fabrikam Web page</span></span>  

1. <span data-ttu-id="ebc4c-203">En el Administrador de IIS, abra el **sitios** carpeta.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-203">In IIS Manager, open the **Sites** folder.</span></span> <span data-ttu-id="ebc4c-204">Haga clic en el **sitio Web predeterminado** nodo y, a continuación, seleccione **Agregar aplicación**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-204">Right-click the **Default Web Site** node, and then select **Add Application**.</span></span>  

2. <span data-ttu-id="ebc4c-205">En el **Agregar aplicación** diálogo cuadro, escriba **Fabrikam** en **Alias**y, a continuación, haga clic en **seleccione**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-205">In the **Add Application** dialog box, enter **Fabrikam** in **Alias**, and then click **Select**.</span></span>  

3. <span data-ttu-id="ebc4c-206">En el **Seleccionar grupo de aplicaciones** cuadro de diálogo, seleccione **BizTalkAppPool** y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-206">In the **Select Application Pool** dialog box, select **BizTalkAppPool** and click **OK**.</span></span>  

4. <span data-ttu-id="ebc4c-207">Para el **ruta de acceso física**, haga clic en el **puntos suspensivos (...)**  botón y vaya a [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-207">For the **Physical Path**, click the **ellipsis (…)** button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Fabrikam.</span></span>  

5. <span data-ttu-id="ebc4c-208">Haga clic en **configuración de pruebas** y compruebe que no hay ningún error que se muestra en el **Probar conexión** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-208">Click **Test Settings** and verify that there are no errors displayed in the **Test Connection** dialog box.</span></span> <span data-ttu-id="ebc4c-209">Haga clic en **Cerrar**y, a continuación, en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-209">Click **Close**, and then click **OK**.</span></span>  

6. <span data-ttu-id="ebc4c-210">En el Administrador de IIS, seleccione el directorio virtual de Contoso y en el **vista características**, haga doble clic en **autenticación**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-210">In IIS Manager, select the Contoso virtual directory and in the **Features View**, double-click **Authentication**.</span></span>  

7. <span data-ttu-id="ebc4c-211">En el **autenticación** página, seleccione **autenticación anónima** y compruebe que la **estado** es **habilitado**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-211">In the **Authentication** page, select **Anonymous Authentication** and verify that the **Status** is **Enabled**.</span></span> <span data-ttu-id="ebc4c-212">Si el **estado** es **deshabilitado**, haga clic en **habilitar** en el **acciones** panel.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-212">If the **Status** is **Disabled**, click **Enable** in the **Actions** pane.</span></span>  

##### <a name="to-specify-that-your-virtual-directory-is-not-managed-by-windows-sharepoint-services"></a><span data-ttu-id="ebc4c-213">Para especificar que Windows SharePoint Services no administra su directorio virtual</span><span class="sxs-lookup"><span data-stu-id="ebc4c-213">To specify that your virtual directory is not managed by Windows SharePoint Services</span></span>  

1.  <span data-ttu-id="ebc4c-214">Si Windows SharePoint Services está instalado en el equipo, haga clic en **iniciar**, apunte a **todos los programas**, apunte a **herramientas administrativas**y, a continuación, haga clic en **Administración Central de SharePoint 3.0**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-214">If Windows SharePoint Services is installed on your computer, click **Start**, point to **All Programs**, point to **Administrative Tools**, and then click **SharePoint 3.0 Central Administration**.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="ebc4c-215">Este procedimiento es necesario si Windows SharePoint Server está instalado en el mismo equipo en el que está configurando el tutorial.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-215">This procedure is required if Windows SharePoint Server is installed on the same computer that you are setting the walkthrough up on.</span></span> <span data-ttu-id="ebc4c-216">En ese caso, debe especificar que Windows SharePoint Server no esté administrando su directorio virtual de ISS.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-216">In that case, you must specify that your IIS virtual directory is not being managed by Windows SharePoint Server.</span></span>  

2.  <span data-ttu-id="ebc4c-217">En el **Administración Central** página, en **Administración Central**, haga clic en **Application Management**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-217">On the **Central Administration** page, under **Central Administration**, click **Application Management**.</span></span>  

3.  <span data-ttu-id="ebc4c-218">En el **Application Management** página, haga clic en **definir rutas administradas**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-218">On the **Application Management** page, click **Define managed paths**.</span></span>  

4.  <span data-ttu-id="ebc4c-219">En el **definir rutas administradas** página, en **agregar una nueva ruta de acceso**, en el **ruta** texto, escriba **Contoso**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-219">In the **Define Managed Paths** page, under **Add a New Path**, in the **Path** text box, enter **Contoso**.</span></span> <span data-ttu-id="ebc4c-220">En **tipo**, haga clic en **ruta excluida**y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-220">Under **Type**, click **Excluded Path**, and then click **OK**.</span></span>  

5.  <span data-ttu-id="ebc4c-221">Repita el paso 4 para el directorio virtual de Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-221">Repeat step 4 for the Fabrikam virtual directory.</span></span>  

##### <a name="to-create-a-receive-port-to-receive-the-edi-interchange-over-as2-from-fabrikam"></a><span data-ttu-id="ebc4c-222">Para crear un puerto de recepción para recibir el intercambio EDI a través de AS2 desde Fabrikam</span><span class="sxs-lookup"><span data-stu-id="ebc4c-222">To create a receive port to receive the EDI interchange Over AS2 from Fabrikam</span></span>  

1. <span data-ttu-id="ebc4c-223">En [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, haga clic en el **puertos de recepción** nodo bajo el **BizTalk Application 1** nodo, seleccione **New**y, a continuación, haga clic en **Unidireccional puerto de recepción**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-223">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click the **Receive Ports** node under the **BizTalk Application 1** node, point to **New**, and then click **One-way Receive Port**.</span></span>  

2. <span data-ttu-id="ebc4c-224">Nombre del puerto de recepción y, a continuación, haga clic en **ubicaciones de recepción** en el árbol de consola.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-224">Name the receive port, and then click **Receive Locations** in the console tree.</span></span>  

3. <span data-ttu-id="ebc4c-225">Haga clic en **Nueva**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-225">Click **New**.</span></span>  

4. <span data-ttu-id="ebc4c-226">Nombre de la ubicación de recepción, seleccione **HTTP** para **tipo**y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-226">Name the receive location, select **HTTP** for **Type**, and then click **Configure**.</span></span>  

5. <span data-ttu-id="ebc4c-227">Para **directorio Virtual más extensión ISAPI**, escriba `/Contoso/BTSHTTPReceive.dll`.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-227">For **Virtual directory plus ISAPI extension**, enter `/Contoso/BTSHTTPReceive.dll`.</span></span>  

6. <span data-ttu-id="ebc4c-228">Seleccione el **suspender solicitudes con errores** casilla de verificación y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-228">Select the **Suspend failed requests** check box, and click **OK**.</span></span>  

7. <span data-ttu-id="ebc4c-229">Para **canalización de recepción**, seleccione **AS2EDIReceive**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-229">For **Receive pipeline**, select **AS2EDIReceive**.</span></span>  

8. <span data-ttu-id="ebc4c-230">Haga clic en **Aceptar**y, a continuación, haga clic en **Aceptar** nuevo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-230">Click **OK**, and then click **OK** again.</span></span>  

9. <span data-ttu-id="ebc4c-231">En el **ubicaciones de recepción** panel de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, haga clic en la ubicación de recepción y, a continuación, haga clic en **habilitar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-231">In the **Receive Locations** pane of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, right-click the receive location, and then click **Enable**.</span></span>  

##### <a name="to-create-a-dynamic-send-port-to-send-the-mdn-to-fabrikam"></a><span data-ttu-id="ebc4c-232">Para crear un puerto de envío dinámico para enviar el MDN a Fabrikam</span><span class="sxs-lookup"><span data-stu-id="ebc4c-232">To create a dynamic send port to send the MDN to Fabrikam</span></span>  

1. <span data-ttu-id="ebc4c-233">En [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, haga clic en el **puertos de envío** nodo bajo el **BizTalk Application 1** nodo, seleccione **New**y, a continuación, haga clic en **Puerto de envío unidireccional dinámico**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-233">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click the **Send Ports** node under the **BizTalk Application 1** node, point to **New**, and then click **Dynamic One-way Send Port**.</span></span>  

2. <span data-ttu-id="ebc4c-234">En el **propiedades de puerto de envío** cuadro de diálogo, nombre el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-234">In the **Send Port Properties** dialog box, name the send port.</span></span>  

3. <span data-ttu-id="ebc4c-235">Para **canalización de envío**, seleccione **AS2Send**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-235">For **Send Pipeline**, select **AS2Send**.</span></span>  

4. <span data-ttu-id="ebc4c-236">En el árbol de consola, seleccione **filtros**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-236">In the console tree, select **Filters**.</span></span> <span data-ttu-id="ebc4c-237">Para **propiedad**, escriba **EdiIntAS.IsAS2AsynchronousMDN**; para **operador**, escriba **==**; y para **Valor** , escriba **True**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-237">For **Property**, enter **EdiIntAS.IsAS2AsynchronousMDN**; for **Operator**, enter **==**; and for **Value** , enter **True**.</span></span>  

5. <span data-ttu-id="ebc4c-238">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-238">Click **OK**.</span></span>  

##### <a name="to-create-a-send-port-to-send-the-edi-payload-to-a-local-folder"></a><span data-ttu-id="ebc4c-239">Para crear un puerto de envío con el fin de enviar la carga EDI a una carpeta local</span><span class="sxs-lookup"><span data-stu-id="ebc4c-239">To create a send port to send the EDI payload to a local folder</span></span>  

1. <span data-ttu-id="ebc4c-240">En el Explorador de Windows, cree una carpeta local de Contoso denominada **EDI_to_Contoso** para enviar la carga EDI.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-240">In Windows Explorer, create a Contoso local folder named **EDI_to_Contoso** to send the EDI payload to.</span></span>  

2. <span data-ttu-id="ebc4c-241">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, haga clic en **puertos de envío**, apunte a **New**y, a continuación, haga clic en **puerto de envío unidireccional estático**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-241">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click **Send Ports**, point to **New**, and then click **Static One-Way Send Port**.</span></span>  

3. <span data-ttu-id="ebc4c-242">En el **propiedades de puerto de envío** nombre al puerto de envío, por ejemplo, cuadro de diálogo **Send_Payload**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-242">In the **Send Port Properties** dialog box, name your send port, for example, **Send_Payload**.</span></span> <span data-ttu-id="ebc4c-243">Seleccione **archivo** para **tipo**y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-243">Select **FILE** for **Type**, and then click **Configure**.</span></span>  

4. <span data-ttu-id="ebc4c-244">En el **propiedades de transporte de archivo** cuadro de diálogo para **carpeta de destino**, busque y seleccione el **EDI_to_Contoso** carpeta que creó en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-244">In the **FILE Transport Properties** dialog box, for **Destination folder**, browse to and select the **EDI_to_Contoso** folder that you created in step 1.</span></span> <span data-ttu-id="ebc4c-245">Deje **nombre de archivo** como **%MessageID%.xml**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-245">Leave **File name** as **%MessageID%.xml**.</span></span> <span data-ttu-id="ebc4c-246">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-246">Click **OK**.</span></span>  

5. <span data-ttu-id="ebc4c-247">Acepte el valor predeterminado de **PassThruTransmit** para **canalización de envío**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-247">Accept the default of **PassThruTransmit** for **Send Pipeline**.</span></span>  

6. <span data-ttu-id="ebc4c-248">Haga clic en **filtros** en el árbol de consola.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-248">Click **Filters** in the console tree.</span></span> <span data-ttu-id="ebc4c-249">Para **propiedad**, escriba **BTS. MessageType**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-249">For **Property**, enter **BTS.MessageType**.</span></span> <span data-ttu-id="ebc4c-250">Para **operador**, escriba **==**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-250">For **Operator**, enter **==**.</span></span> <span data-ttu-id="ebc4c-251">Para **valor**, escriba el tipo de mensaje del mensaje, `http://schemas.microsoft.com/BizTalk/Edi/X12/2006#X12_00401_864`.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-251">For **Value**, enter the message type for your message, `http://schemas.microsoft.com/BizTalk/Edi/X12/2006#X12_00401_864`.</span></span>  

7. <span data-ttu-id="ebc4c-252">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-252">Click **OK**.</span></span>  

8. <span data-ttu-id="ebc4c-253">En el **puertos de envío** panel de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, haga clic en el puerto de envío y, a continuación, haga clic en **iniciar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-253">In the **Send Ports** pane of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, right-click the send port, and then click **Start**.</span></span>  

##### <a name="to-create-a-party-and-a-business-profile-for-fabrikam"></a><span data-ttu-id="ebc4c-254">Para crear una entidad y un perfil de negocio para Fabrikam</span><span class="sxs-lookup"><span data-stu-id="ebc4c-254">To create a party and a business profile for Fabrikam</span></span>  

1. <span data-ttu-id="ebc4c-255">Haga clic en el **partes** nodo en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, seleccione **New**y, a continuación, haga clic en **entidad**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-255">Right-click the **Parties** node in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, point to **New**, and then click **Party**.</span></span>  

2. <span data-ttu-id="ebc4c-256">Escriba un nombre para la entidad en el **nombre** cuadro de texto y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-256">Enter a name for the party in the **Name** text box, and then click **OK**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-257">Si selecciona el **BizTalk Local procesa mensajes recibidos por el admite las partes o enviar mensajes desde esta entidad** casilla de verificación, puede especificar que la entidad que se va a crear es para la misma organización que también hospeda [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ebc4c-257">By selecting the **Local BizTalk processes messages received by the Party OR supports sending messages from this party** check box, you can specify that the party being created is for the same organization that is also hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="ebc4c-258">En función de ello, algunas propiedades estarán habilitadas o deshabilitadas cuando se crea un acuerdo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-258">Based on that, some properties will be enabled or disabled when you create an agreement.</span></span> <span data-ttu-id="ebc4c-259">Sin embargo, para este tutorial, puede dejar activada esta casilla.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-259">However, for this walkthrough, you can leave this check box selected.</span></span>  

3. <span data-ttu-id="ebc4c-260">Haga clic en el nombre de la entidad, seleccione **New**y, a continuación, haga clic en **perfil de negocio**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-260">Right-click the party name, point to **New**, and then click **Business Profile**.</span></span>  

4. <span data-ttu-id="ebc4c-261">En el **propiedades de perfil** cuadro de diálogo el **General** , escriba **Fabrikam_Profile** en el **nombre** cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-261">In the **Profile Properties** dialog box, on the **General** page, enter **Fabrikam_Profile** in the **Name** text box.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-262">Cuando se crea una entidad, también se crea un perfil.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-262">When you create a party, a profile is also created.</span></span> <span data-ttu-id="ebc4c-263">Puede cambiar el nombre y usar ese perfil en lugar de crear uno nuevo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-263">You can rename and use that profile instead of creating a new one.</span></span> <span data-ttu-id="ebc4c-264">Para cambiar el nombre de un perfil, haga clic en el perfil y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-264">To rename a profile, right-click the profile and select **Properties**.</span></span> <span data-ttu-id="ebc4c-265">En el **General** , especifique un nombre para el perfil.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-265">In the **General** page, specify a name for the profile.</span></span>  

##### <a name="to-create-a-party-and-a-business-profile-for-contoso"></a><span data-ttu-id="ebc4c-266">Para crear una entidad y un perfil de negocio para Contoso</span><span class="sxs-lookup"><span data-stu-id="ebc4c-266">To create a party and a business profile for Contoso</span></span>  

1. <span data-ttu-id="ebc4c-267">Haga clic en el **partes** nodo en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, seleccione **New**y, a continuación, haga clic en **entidad**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-267">Right-click the **Parties** node in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, point to **New**, and then click **Party**.</span></span>  

2. <span data-ttu-id="ebc4c-268">Escriba un nombre para la entidad en el **nombre** cuadro de texto y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-268">Enter a name for the party in the **Name** text box, and then click **OK**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-269">Si selecciona el **BizTalk Local procesa mensajes recibidos por el admite las partes o enviar mensajes desde esta entidad** casilla de verificación, puede especificar que la entidad que se va a crear es para la misma organización que también hospeda [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ebc4c-269">By selecting the **Local BizTalk processes messages received by the Party OR supports sending messages from this party** check box, you can specify that the party being created is for the same organization that is also hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="ebc4c-270">En función de ello, algunas propiedades estarán habilitadas o deshabilitadas cuando se crea un acuerdo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-270">Based on that, some properties will be enabled or disabled when you create an agreement.</span></span> <span data-ttu-id="ebc4c-271">Sin embargo, para este tutorial, puede dejar activada esta casilla.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-271">However, for this walkthrough, you can leave this check box selected.</span></span>  

3. <span data-ttu-id="ebc4c-272">Haga clic en el nombre de la entidad, seleccione **New**y, a continuación, haga clic en **perfil de negocio**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-272">Right-click the party name, point to **New**, and then click **Business Profile**.</span></span>  

4. <span data-ttu-id="ebc4c-273">En el **propiedades de perfil** cuadro de diálogo el **General** , escriba **Contoso_Profile** en el **nombre** cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-273">In the **Profile Properties** dialog box, on the **General** page, enter **Contoso_Profile** in the **Name** text box.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-274">Cuando se crea una entidad, también se crea un perfil.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-274">When you create a party, a profile is also created.</span></span> <span data-ttu-id="ebc4c-275">Puede cambiar el nombre y usar ese perfil en lugar de crear uno nuevo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-275">You can rename and use that profile instead of creating a new one.</span></span> <span data-ttu-id="ebc4c-276">Para cambiar el nombre de un perfil, haga clic en el perfil y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-276">To rename a profile, right-click the profile and select **Properties**.</span></span> <span data-ttu-id="ebc4c-277">En el **General** , especifique un nombre para el perfil.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-277">In the **General** page, specify a name for the profile.</span></span>  

##### <a name="to-create-an-as2-agreement-between-the-two-business-profiles"></a><span data-ttu-id="ebc4c-278">Para crear un acuerdo AS2 entre los dos perfiles de negocio</span><span class="sxs-lookup"><span data-stu-id="ebc4c-278">To create an AS2 agreement between the two business profiles</span></span>  

1.  <span data-ttu-id="ebc4c-279">Haga clic en **Fabrikam_Profile**, apunte a **New**y, a continuación, haga clic en **contrato**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-279">Right-click **Fabrikam_Profile**, point to **New**, and then click **Agreement**.</span></span>  

2.  <span data-ttu-id="ebc4c-280">En el **propiedades generales** página, para el **nombre** texto, escriba un nombre para el acuerdo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-280">In the **General Properties** page, for the **Name** text box, enter a name for the agreement.</span></span>  

3.  <span data-ttu-id="ebc4c-281">Desde el **protocolo** lista desplegable, seleccione **AS2**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-281">From the **Protocol** drop-down list, select **AS2**.</span></span>  

4.  <span data-ttu-id="ebc4c-282">En el **segundo socio** sección, desde el **nombre** lista desplegable, seleccione **Contoso**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-282">In the **Second Partner** section, from the **Name** drop-down list, select **Contoso**.</span></span>  

5.  <span data-ttu-id="ebc4c-283">En el **segundo socio** sección, desde el **perfil** lista desplegable, seleccione **Contoso_Profile**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-283">In the **Second Partner** section, from the **Profile** drop-down list, select **Contoso_Profile**.</span></span>  

     <span data-ttu-id="ebc4c-284">Observará que las dos pestañas nuevas se agregan junto a la **General** ficha. Cada ficha sirve para configurar un acuerdo AS2 unidireccional.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-284">You will notice that two new tabs get added next to the **General** tab. Each tab is for configuring a one-way AS2 agreement.</span></span>  

6.  <span data-ttu-id="ebc4c-285">En el **General** ficha la **propiedades generales** página, en el **configuración de Host común** sección, seleccione **activar informes**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-285">In the **General** tab, on the **General Properties** page, in the **Common Host Settings** section, select **Turn ON reporting**.</span></span>  

7.  <span data-ttu-id="ebc4c-286">Realizar las tareas siguientes en el **Fabrikam -> Contoso** ficha.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-286">Perform the following tasks on the **Fabrikam->Contoso** tab.</span></span>  

    1.  <span data-ttu-id="ebc4c-287">En el **identificadores** , escriba valores para **AS2-desde** y **AS2-para**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-287">On the **Identifiers** page, enter values for **AS2-From** and **AS2-To**.</span></span> <span data-ttu-id="ebc4c-288">Para **AS2-desde**, escriba `Fabrikam`.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-288">For **AS2-From**, enter `Fabrikam`.</span></span> <span data-ttu-id="ebc4c-289">Para **AS2 - To**, escriba `Contoso`.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-289">For **AS2- To**, enter `Contoso`.</span></span>  

    2.  <span data-ttu-id="ebc4c-290">En el **validación** página, seleccione el **usar la configuración de acuerdo para validación y MDN en lugar del encabezado de mensaje** casilla de verificación</span><span class="sxs-lookup"><span data-stu-id="ebc4c-290">On the **Validation** page, select the **Use agreement settings for validation and MDN instead of message header** check box</span></span>  

    3.  <span data-ttu-id="ebc4c-291">En el **confirmaciones (MDN)** página, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ebc4c-291">In the **Acknowledgements (MDNs)** page, do the following:</span></span>  

        1.  <span data-ttu-id="ebc4c-292">Seleccione el **solicitar MDN** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-292">Select the **Request MDN** check box.</span></span>  

        2.  <span data-ttu-id="ebc4c-293">Asegúrese de que el **solicitar MDN firmado** casilla está desactivada.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-293">Make sure the **Request Signed MDN** check box is cleared.</span></span>  

        3.  <span data-ttu-id="ebc4c-294">Seleccione el **solicitar MDN asíncrono** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-294">Select the **Request asynchronous MDN** check box.</span></span>  

        4.  <span data-ttu-id="ebc4c-295">En el **Receipt-Delivery-Option (URL)** texto, escriba `http://localhost/Fabrikam/Default.aspx?Destination=_MDNToFabrikam`.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-295">In the **Receipt-Delivery-Option (URL)** text box, enter `http://localhost/Fabrikam/Default.aspx?Destination=_MDNToFabrikam`.</span></span>  

8.  <span data-ttu-id="ebc4c-296">Realizar las tareas siguientes en el **Contoso -> Fabrikam** ficha.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-296">Perform the following tasks on the **Contoso->Fabrikam** tab.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="ebc4c-297">En este tutorial, especificamos el valor necesario en la ficha para que se pueda crear un acuerdo correctamente.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-297">In this walkthrough, we specify the required value in the tab so that an agreement can be successfully created.</span></span> <span data-ttu-id="ebc4c-298">Para crear correctamente un acuerdo, ambas fichas de acuerdo unidireccional deben tener valores definidos para **AS2-desde** y **AS2-para**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-298">To successfully create an agreement, both one-way agreement tabs must have values defined for **AS2-From** and **AS2-To**.</span></span>  

    1.  <span data-ttu-id="ebc4c-299">En el **identificadores** , escriba valores para **AS2-desde** y **AS2-para**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-299">On the **Identifiers** page, enter values for **AS2-From** and **AS2-To**.</span></span> <span data-ttu-id="ebc4c-300">Para **AS2-desde**, escriba `Contoso`.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-300">For **AS2-From**, enter `Contoso`.</span></span> <span data-ttu-id="ebc4c-301">Para **AS2 - To**, escriba `Fabrikam`.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-301">For **AS2- To**, enter `Fabrikam`.</span></span>  

9. <span data-ttu-id="ebc4c-302">Haga clic en **Aplicar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-302">Click **Apply**.</span></span>  

10. <span data-ttu-id="ebc4c-303">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-303">Click **OK**.</span></span> <span data-ttu-id="ebc4c-304">El acuerdo recién agregado aparece en la **acuerdos** sección de la **entidades y perfiles empresariales** panel.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-304">The newly added agreement is listed in the **Agreements** section of the **Parties and Business Profiles** pane.</span></span> <span data-ttu-id="ebc4c-305">El acuerdo recién agregado está habilitado de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-305">The newly added agreement is enabled by default.</span></span>  

##### <a name="to-create-an-x12-agreement-between-the-two-business-profiles"></a><span data-ttu-id="ebc4c-306">Para crear un acuerdo X12 entre los dos perfiles de negocio</span><span class="sxs-lookup"><span data-stu-id="ebc4c-306">To create an X12 agreement between the two business profiles</span></span>  

1. <span data-ttu-id="ebc4c-307">Haga clic en **Fabrikam_Profile**, apunte a **New**y, a continuación, haga clic en **contrato**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-307">Right-click **Fabrikam_Profile**, point to **New**, and then click **Agreement**.</span></span>  

2. <span data-ttu-id="ebc4c-308">En el **propiedades generales** página, para el **nombre** texto, escriba un nombre para el acuerdo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-308">In the **General Properties** page, for the **Name** text box, enter a name for the agreement.</span></span>  

3. <span data-ttu-id="ebc4c-309">Desde el **protocolo** lista desplegable, seleccione **X12**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-309">From the **Protocol** drop-down list, select **X12**.</span></span>  

4. <span data-ttu-id="ebc4c-310">En el **segundo socio** sección, desde el **nombre** lista desplegable, seleccione **Contoso**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-310">In the **Second Partner** section, from the **Name** drop-down list, select **Contoso**.</span></span>  

5. <span data-ttu-id="ebc4c-311">En el **segundo socio** sección, desde el **perfil** lista desplegable, seleccione **Contoso_Profile**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-311">In the **Second Partner** section, from the **Profile** drop-down list, select **Contoso_Profile**.</span></span>  

    <span data-ttu-id="ebc4c-312">Observará que las dos pestañas nuevas se agregan junto a la **General** ficha. Cada ficha sirve para configurar un acuerdo X12 unidireccional.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-312">You will notice that two new tabs get added next to the **General** tab. Each tab is for configuring a one-way X12 agreement.</span></span>  

6. <span data-ttu-id="ebc4c-313">En el **General** ficha la **propiedades generales** página, en el **configuración de Host común** sección, seleccione **activar informes**y, a continuación, Seleccione **carga de mensaje de Store para el informe**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-313">In the **General** tab, on the **General Properties** page, in the **Common Host Settings** section, select **Turn ON reporting**, and then select **Store message payload for reporting**.</span></span>  

7. <span data-ttu-id="ebc4c-314">Realizar las tareas siguientes en el **Fabrikam -> Contoso** ficha.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-314">Perform the following tasks on the **Fabrikam->Contoso** tab.</span></span>  

   1. <span data-ttu-id="ebc4c-315">En el **identificadores** página bajo la **configuración de intercambio** sección, especifique valores para los campos de calificador e identificador (**ISA5**, **ISA6**, **ISA7**, y **ISA8**) que corresponden a los valores de esos campos de encabezado de mensaje de prueba.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-315">On the **Identifiers** page under the **Interchange Settings** section, enter values for the qualifier and identifier fields (**ISA5**, **ISA6**, **ISA7**, and **ISA8**) that correspond to the values for those header fields in your test message.</span></span>  

      > [!NOTE]
      >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="ebc4c-316"> necesita los campos de identificador y calificador del remitente y del receptor para realizar una resolución de acuerdo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-316"> requires the qualifier and identifier fields for sender and receiver in order to perform agreement resolution.</span></span> <span data-ttu-id="ebc4c-317">Lo hará coincidir los valores de **ISA5**, **ISA6**, **ISA7**, y **ISA8** en el encabezado del intercambio con aquellos de las propiedades de un acuerdo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-317">It will match the values of **ISA5**, **ISA6**, **ISA7**, and **ISA8** in the interchange header with those in the properties of an agreement.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="ebc4c-318"> también resolverá el acuerdo haciendo coincidir el calificador de remitente y el identificador (sin el calificador e identificador).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-318"> will also resolve the agreement by matching the sender qualifier and identifier (without the receiver qualifier and identifier).</span></span> <span data-ttu-id="ebc4c-319">Si [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] no puede resolver el acuerdo, usará las propiedades de acuerdo de reserva.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-319">If [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] cannot resolve the agreement, it will use the fallback agreement properties.</span></span>  
      > 
      > [!NOTE]
      >  <span data-ttu-id="ebc4c-320">En este tutorial, establezca **ISA5** a **ZZ**, **ISA6** a **7654321**, **ISA7** a **ZZ** , y **ISA8** a **1234567**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-320">For this walkthrough, set **ISA5** to **ZZ**, **ISA6** to **7654321**, **ISA7** to **ZZ**, and **ISA8** to **1234567**.</span></span>  

   2. <span data-ttu-id="ebc4c-321">En el **validación** página bajo la **configuración de intercambio** sección, asegúrese de que **comprobación de duplicado ISA13** opción está desactivada.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-321">On the **Validation** page under the **Interchange Settings** section, make sure **Check for duplicate ISA13** option is unchecked.</span></span>  

      > [!NOTE]
      >  <span data-ttu-id="ebc4c-322">Borrar el **comprobación de duplicado ISA13** propiedad le permite recibir varias instancias del mismo mensaje.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-322">Clearing the **Check for duplicate ISA13** property enables you to receive multiple instances of the same message.</span></span>  

   3. <span data-ttu-id="ebc4c-323">Si está usando uno de los esquemas estándar incluidos con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], en el **configuración de Host Local** página bajo la **configuración del conjunto de transacciones** , seleccione el espacio de nombres del esquema que se va a usarse para procesar el intercambio entrante.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-323">If you are using one of the standard schemas shipped with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], on the **Local Host Settings** page under the **Transaction Set Settings** section, select the namespace for the schema to be used to process the incoming interchange.</span></span>  

      |<span data-ttu-id="ebc4c-324">Use</span><span class="sxs-lookup"><span data-stu-id="ebc4c-324">Use this</span></span>|<span data-ttu-id="ebc4c-325">Para</span><span class="sxs-lookup"><span data-stu-id="ebc4c-325">To do this</span></span>|  
      |--------------|----------------|  
      |<span data-ttu-id="ebc4c-326">**Default**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-326">**Default**</span></span>|<span data-ttu-id="ebc4c-327">Activar la casilla en la columna Predeterminado.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-327">Select the checkbox in the column</span></span>|  
      |<span data-ttu-id="ebc4c-328">**Target Namespace**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-328">**Target Namespace**</span></span>|<span data-ttu-id="ebc4c-329">Seleccione `http://schemas.microsoft.com/BizTalk/EDI/X12/2006`.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-329">Select `http://schemas.microsoft.com/BizTalk/EDI/X12/2006`.</span></span>|  

      > [!NOTE]
      >  <span data-ttu-id="ebc4c-330">El establecimiento de las propiedades permite que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determine el esquema que se va a utilizar en el procesamiento del intercambio 850 entrante.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-330">Setting the properties enables [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to determine the schema to be used in processing the incoming 850 interchange.</span></span> <span data-ttu-id="ebc4c-331">Si un intercambio tiene los valores de GS02 y ST01 que se escriben en una línea de la cuadrícula, se utilizará el espacio de nombres de destino para la misma línea con el fin de determinar el esquema que se va a utilizar.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-331">If an interchange has the values of GS02 and ST01 that are entered on a line of the grid, then the target namespace for the same line will be used to determine the schema to be used.</span></span>  

   4. <span data-ttu-id="ebc4c-332">En el **sobres** página bajo la **configuración del conjunto de transacciones** sección, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ebc4c-332">On the **Envelopes** page under the **Transaction Set Settings** section, do the following:</span></span>  


      |       <span data-ttu-id="ebc4c-333">Use</span><span class="sxs-lookup"><span data-stu-id="ebc4c-333">Use this</span></span>       |                                                                                                                                              <span data-ttu-id="ebc4c-334">Para</span><span class="sxs-lookup"><span data-stu-id="ebc4c-334">To do this</span></span>                                                                                                                                               |
      |----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
      |     <span data-ttu-id="ebc4c-335">**Default**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-335">**Default**</span></span>      |              <span data-ttu-id="ebc4c-336">Seleccione **predeterminado**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-336">Select **Default**.</span></span> <span data-ttu-id="ebc4c-337">**Nota:** al seleccionar esta fila de forma predeterminada, los valores de **GS1**, **GS2**, **GS3**, **GS7**, y  **GS8** se usan incluso si los valores de **tipo de transacción**, **versión**, y **espacio de nombres de destino** no son una coincidencia para el mensaje.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-337">**Note:**  When you select this row as the default, the values for **GS1**, **GS2**, **GS3**, **GS7**, and **GS8** are used even if the values for **Transaction Type**, **Version/Release**, and **Target namespace** are not a match for the message.</span></span>              |
      | <span data-ttu-id="ebc4c-338">**Tipo de transacción**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-338">**Transaction Type**</span></span> |                                                                                                          <span data-ttu-id="ebc4c-339">Seleccione el tipo de mensaje del mensaje de prueba, por ejemplo, **864 – Text Message**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-339">Select the message type of your test message, for example, **864 – Text Message**.</span></span>                                                                                                           |
      | <span data-ttu-id="ebc4c-340">**Versión y lanzamiento**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-340">**Version/Release**</span></span>  |                                                                                                                                           <span data-ttu-id="ebc4c-341">Escriba **00401**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-341">Enter **00401**.</span></span>                                                                                                                                            |
      | <span data-ttu-id="ebc4c-342">**Espacio de nombres de destino**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-342">**Target namespace**</span></span> |                                                                                                                    <span data-ttu-id="ebc4c-343">Seleccione **<http://schemas.microsoft.com/BizTalk/EDI/X12/2006>**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-343">Select **<http://schemas.microsoft.com/BizTalk/EDI/X12/2006>**.</span></span>                                                                                                                    |
      |       <span data-ttu-id="ebc4c-344">**GS1**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-344">**GS1**</span></span>        |                                                                                                <span data-ttu-id="ebc4c-345">Compruebe que está seleccionado el tipo de mensaje del mensaje de prueba, por ejemplo, **TX - Text Message (864)**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-345">Verify that the message type of the test message is selected, for example, **TX - Text Message (864)**.</span></span>                                                                                                |
      |       <span data-ttu-id="ebc4c-346">**GS2**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-346">**GS2**</span></span>        |                                                                                                                                             <span data-ttu-id="ebc4c-347">Escriba **01**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-347">Enter **01**.</span></span>                                                                                                                                             |
      |       <span data-ttu-id="ebc4c-348">**GS3**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-348">**GS3**</span></span>        |                                                                                                                                          <span data-ttu-id="ebc4c-349">Escriba **7654321**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-349">Enter **7654321**.</span></span>                                                                                                                                           |
      |       <span data-ttu-id="ebc4c-350">**GS4**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-350">**GS4**</span></span>        | <span data-ttu-id="ebc4c-351">Seleccionar el formato de fecha que desee.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-351">Select the date format that you want.</span></span> <span data-ttu-id="ebc4c-352">Seleccione **SSAAMMDD**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-352">Select **CCYYMMDD**.</span></span> <span data-ttu-id="ebc4c-353">**Nota:** tiene que seleccionar el valor en la lista desplegable, haga clic en no solo en el campo para mostrar el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-353">**Note:**  You have to select the value in the drop-down list, not just click in the field to display the default.</span></span> <span data-ttu-id="ebc4c-354">Si hace clic en el campo sin seleccionar el valor de la lista desplegable, el valor no se seleccionará realmente.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-354">If you click in the field without selecting the value from the drop-down list, the value will not actually be selected.</span></span> |
      |       <span data-ttu-id="ebc4c-355">**GS5**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-355">**GS5**</span></span>        |                                                                                                                      <span data-ttu-id="ebc4c-356">Seleccione el formato de hora que desee.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-356">Select the time format that you want.</span></span> <span data-ttu-id="ebc4c-357">Seleccione **HHMMSSdd**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-357">Select **HHMMSSdd**.</span></span>                                                                                                                       |
      |       <span data-ttu-id="ebc4c-358">**GS7**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-358">**GS7**</span></span>        |                                                                                                                   <span data-ttu-id="ebc4c-359">Seleccione **T - Transportation Data Coordinating Committee (TDCC)**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-359">Select **T - Transportation Data Coordinating Committee (TDCC)**.</span></span>                                                                                                                   |
      |       <span data-ttu-id="ebc4c-360">**GS8**</span><span class="sxs-lookup"><span data-stu-id="ebc4c-360">**GS8**</span></span>        |                                                                                                                      <span data-ttu-id="ebc4c-361">Compruebe que la versión de EDI se ha especificado como **00401**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-361">Verify that the EDI version has been entered as **00401**.</span></span>                                                                                                                       |


8. <span data-ttu-id="ebc4c-362">Realizar las tareas siguientes en el **Contoso -> Fabrikam** ficha.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-362">Perform the following tasks on the **Contoso->Fabrikam** tab.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-363">En este tutorial, especificamos el valor necesario en la ficha para que se pueda crear un acuerdo correctamente.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-363">In this walkthrough, we specify the required value in the tab so that an agreement can be successfully created.</span></span> <span data-ttu-id="ebc4c-364">Para crear correctamente un acuerdo, ambas fichas de acuerdo unidireccional deben tener valores definidos para **ISA5**, **ISA6**, **ISA7**, y **ISA8**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-364">To successfully create an agreement, both one-way agreement tabs must have values defined for **ISA5**, **ISA6**, **ISA7**, and **ISA8**.</span></span>  

   1.  <span data-ttu-id="ebc4c-365">En el **identificadores** página bajo la **configuración de intercambio** sección, especifique valores para los campos de calificador e identificador (**ISA5**, **ISA6**, **ISA7**, y **ISA8**) que corresponden a los valores de esos campos de encabezado de mensaje de prueba.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-365">On the **Identifiers** page under the **Interchange Settings** section, enter values for the qualifier and identifier fields (**ISA5**, **ISA6**, **ISA7**, and **ISA8**) that correspond to the values for those header fields in your test message.</span></span>  

       > [!NOTE]
       >  <span data-ttu-id="ebc4c-366">En este tutorial, establezca **ISA5** a **ZZ**, **ISA6** a **1234567**, **ISA7** a **ZZ** , y **ISA8** a **7654321**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-366">For this walkthrough, set **ISA5** to **ZZ**, **ISA6** to **1234567**, **ISA7** to **ZZ**, and **ISA8** to **7654321**.</span></span>  

9. <span data-ttu-id="ebc4c-367">Haga clic en **Aplicar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-367">Click **Apply**.</span></span>  

10. <span data-ttu-id="ebc4c-368">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-368">Click **OK**.</span></span> <span data-ttu-id="ebc4c-369">El acuerdo recién agregado aparece en la **acuerdos** sección de la **entidades y perfiles empresariales** panel.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-369">The newly added agreement is listed in the **Agreements** section of the **Parties and Business Profiles** pane.</span></span> <span data-ttu-id="ebc4c-370">El acuerdo recién agregado está habilitado de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-370">The newly added agreement is enabled by default.</span></span>  

### <a name="testing-the-walkthrough"></a><span data-ttu-id="ebc4c-371">Probar el tutorial</span><span class="sxs-lookup"><span data-stu-id="ebc4c-371">Testing the Walkthrough</span></span>  
 <span data-ttu-id="ebc4c-372">Esta sección proporciona información acerca de cómo probar el tutorial.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-372">This section provides information on how to test the walkthrough.</span></span>  

##### <a name="to-test-the-solution"></a><span data-ttu-id="ebc4c-373">Para probar la solución</span><span class="sxs-lookup"><span data-stu-id="ebc4c-373">To test the solution</span></span>  

1. <span data-ttu-id="ebc4c-374">En [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], abra el proyecto Sender.csproj en la carpeta [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Sender.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-374">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], open the Sender.csproj project in the [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Sender folder.</span></span>  

2. <span data-ttu-id="ebc4c-375">En HttpSender.cs, asegúrese de no comentar la línea siguiente (inmediatamente debajo de la línea de comentario //Request Asynchronous MDN):</span><span class="sxs-lookup"><span data-stu-id="ebc4c-375">In HttpSender.cs, make sure that the following line is not commented out (immediately below the //Request Asynchronous MDN comment line):</span></span>  

   ```  
   Stream sr = new FileStream(getBizTalkInstallPath() + @"SDK\AS2 Tutorial\X12_00401_864.edi", FileMode.Open, FileAccess.Read);  
   ```  

3. <span data-ttu-id="ebc4c-376">Asegúrese de comentar la siguiente línea (inmediatamente debajo de la línea de comentario //Request Synchronous MDN):</span><span class="sxs-lookup"><span data-stu-id="ebc4c-376">Make sure that the following line is commented out (immediately below the //Request Synchronous MDN comment line):</span></span>  

   ```  
   Stream sr = new FileStream(getBizTalkInstallPath() + @"SDK\AS2 Tutorial\X12_00401_864-Sync.edi", FileMode.Open, FileAccess.Read);  
   ```  

4. <span data-ttu-id="ebc4c-377">Genere este proyecto.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-377">Build this project.</span></span>  

5. <span data-ttu-id="ebc4c-378">En el Explorador de Windows, desplácese a [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-378">In Windows Explorer, move to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial.</span></span> <span data-ttu-id="ebc4c-379">Abra X12_00401_864.edi en el Bloc de notas.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-379">Open X12_00401_864.edi in Notepad.</span></span> <span data-ttu-id="ebc4c-380">Elimine la línea que define el encabezado Disposition-Notification-Options y, a continuación, guarde el archivo.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-380">Delete the line defining the Disposition-Notification-Options header, and then save the file.</span></span>  

6. <span data-ttu-id="ebc4c-381">En el Explorador de Windows, desplácese a [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Sender\bin\debug y ejecute **Sender.exe**.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-381">In Windows Explorer, move to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Sender\bin\debug and execute **Sender.exe**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="ebc4c-382">La ejecución de Sender.exe en esta instancia envía el mensaje X12_00401_864.edi al directorio virtual de Contoso (la ubicación de recepción de HTTP de BTS).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-382">Running Sender.exe in this instance posts the message X12_00401_864.edi to the Contoso virtual directory (the BTS http receive location).</span></span>  

7. <span data-ttu-id="ebc4c-383">Abra la carpeta local de Contoso creada para enviar la carga EDI (\EDI_to_Contoso).</span><span class="sxs-lookup"><span data-stu-id="ebc4c-383">Open the Contoso local folder that you created to send the EDI payload to (\EDI_to_Contoso).</span></span> <span data-ttu-id="ebc4c-384">Compruebe que haya un archivo XML en la carpeta.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-384">Verify that there is a .XML file in the folder.</span></span> <span data-ttu-id="ebc4c-385">Abra el archivo XML y compruebe que contiene un conjunto de transacciones 864.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-385">Open the XML file and verify that it contains an 864 transaction set.</span></span>  

8. <span data-ttu-id="ebc4c-386">Abra la carpeta local de Fabrikam a la que se devuelve el MDN.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-386">Open the Fabrikam local folder to which the MDN is returned.</span></span> <span data-ttu-id="ebc4c-387">En el Explorador de Windows, desplácese a [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\\_MDNToFabrikam.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-387">In Windows Explorer, move to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\\_MDNToFabrikam.</span></span> <span data-ttu-id="ebc4c-388">Abra el archivo de mensajes en el Bloc de notas y compruebe el MDN.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-388">Open the message file in a notepad and verify the MDN.</span></span> <span data-ttu-id="ebc4c-389">Compruebe que en el MDN AS2-From es Contoso y AS2-To es Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-389">Verify that in the MDN AS2-From is Contoso and AS2-To is Fabrikam.</span></span>  

9. <span data-ttu-id="ebc4c-390">Abra el mensaje de prueba X12_00401_864.edi en el Bloc de notas y compruebe que el conjunto de transacciones en el mensaje de salida en la carpeta local \EDI_to_Contoso corresponde con el conjunto de transacciones en el mensaje de entrada X12_00401_864.edi.</span><span class="sxs-lookup"><span data-stu-id="ebc4c-390">Open the test message X12_00401_864.edi in Notepad, and verify that the transaction set in the output message in the \EDI_to_Contoso local folder corresponds to the transaction set in the X12_00401_864.edi input message.</span></span>  

## <a name="see-also"></a><span data-ttu-id="ebc4c-391">Vea también</span><span class="sxs-lookup"><span data-stu-id="ebc4c-391">See Also</span></span>  
 [<span data-ttu-id="ebc4c-392">Desarrollo y configuración de soluciones AS2 de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="ebc4c-392">Developing and Configuring BizTalk Server AS2 Solutions</span></span>](../core/developing-and-configuring-biztalk-server-as2-solutions.md)