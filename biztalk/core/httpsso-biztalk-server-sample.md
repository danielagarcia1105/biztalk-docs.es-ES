---
title: HTTPSSO (ejemplo de BizTalk Server) | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- HTTP adapters, examples
- SSO, examples
- SSO, HTTP adapters
- examples, HTTP adapters
- HTTP adapters, SSO
- examples, SSO
ms.assetid: 322360df-81d2-4a73-9512-bda9382351a2
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 41956d9e10cba87e0e1a1f44d49dd8ec8b6039bc
ms.sourcegitcommit: 36350889f318e1f7e0ac9506dc8df794d475bda6
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/20/2018
ms.locfileid: "25974274"
---
# <a name="httpsso-biztalk-server-sample"></a><span data-ttu-id="44df7-102">HTTPSSO (ejemplo de BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="44df7-102">HTTPSSO (BizTalk Server Sample)</span></span>
<span data-ttu-id="44df7-103">El ejemplo TTPSSO muestra cómo usar la característica Inicio de sesión único empresarial (SSO) con el adaptador de HTTP de Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="44df7-103">The HTTPSSO sample demonstrates how to use the Enterprise Single Sign-On (SSO) feature with the Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] HTTP adapter.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="44df7-104">Este ejemplo no es compatible en sistemas operativos de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="44df7-104">This sample is not supported on 64-bit operating systems.</span></span>  
  
## <a name="what-this-sample-does"></a><span data-ttu-id="44df7-105">Descripción del ejemplo</span><span class="sxs-lookup"><span data-stu-id="44df7-105">What This Sample Does</span></span>  
 <span data-ttu-id="44df7-106">En este ejemplo se muestra un escenario completo que usa SSO y los adaptadores de envío y de recepción HTTP de BizTalk para simular cómo SSO permite que un usuario evite tener que proporcionar credenciales adicionales para iniciar sesión en sistemas que no sean de Microsoft Windows después de que Windows los haya autenticado.</span><span class="sxs-lookup"><span data-stu-id="44df7-106">This sample demonstrates an end-to-end scenario that uses SSO and the BizTalk HTTP Send and Receive adapters to simulate how SSO allows a user to avoid supplying additional credentials to log on to non-Microsoft Windows systems after Windows authenticates them.</span></span>  
  
 <span data-ttu-id="44df7-107">Este ejemplo también usa los módulos de administración y asignación de SSO para crear aplicaciones y asignaciones de SSO afiliadas mediante el uso de DLL clientes de interoperabilidad de SSO.</span><span class="sxs-lookup"><span data-stu-id="44df7-107">The sample also uses the administration and mapping modules of SSO to create affiliate application and SSO mappings using the interop client DLL of SSO.</span></span>  
  
 <span data-ttu-id="44df7-108">El ejemplo muestra el uso de SSO mediante la implementación de los siguientes aspectos de un escenario de un extremo a otro:</span><span class="sxs-lookup"><span data-stu-id="44df7-108">The sample demonstrates the use of SSO by implementing the following aspects of an end-to-end scenario:</span></span>  
  
-   <span data-ttu-id="44df7-109">La interfaz de usuario, representada por un directorio virtual de Microsoft Internet Information Services (IIS) configurado para usar la autenticación integrada de Windows.</span><span class="sxs-lookup"><span data-stu-id="44df7-109">User interface, represented by a Microsoft Internet Information Services (IIS) virtual directory configured to use Windows integrated authentication.</span></span>  
  
-   <span data-ttu-id="44df7-110">El sistema de servidor, representado por un directorio virtual de IIS configurado para usar la autenticación básica.</span><span class="sxs-lookup"><span data-stu-id="44df7-110">Back-end system, represented by an IIS virtual directory configured to use basic authentication.</span></span>  
  
-   <span data-ttu-id="44df7-111">La base de datos de servidor, representada por la base de datos de ejemplo de SQL Northwind.</span><span class="sxs-lookup"><span data-stu-id="44df7-111">Back-end database, represented by the SQL sample database Northwind.</span></span>  
  
 <span data-ttu-id="44df7-112">Este ejemplo da por supuesto que tiene instalado [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] y SSO.</span><span class="sxs-lookup"><span data-stu-id="44df7-112">This sample assumes that you have installed [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and SSO.</span></span> <span data-ttu-id="44df7-113">Debe tener privilegios de administrador para [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], IIS, SSO y COM + en Windows XP Professional.</span><span class="sxs-lookup"><span data-stu-id="44df7-113">You must have administrator privileges for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], IIS, SSO, and COM+ on Windows XP Professional.</span></span> <span data-ttu-id="44df7-114">También debe ser miembro de los grupos de Windows Administradores de SSO, Administradores de servidor BizTalk Server y Usuarios de hosts aislados de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="44df7-114">You must also be a member of SSO Administrators, BizTalk Server Administrators, and BizTalk Isolated Host Users Windows groups.</span></span>  
  
 <span data-ttu-id="44df7-115">El uso eficaz de este ejemplo presupone que tiene los suficientes conocimientos de SSO y del adaptador de HTTP de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="44df7-115">Effective use of this sample assumes that you have sufficient knowledge of SSO and the BizTalk HTTP adapter.</span></span> <span data-ttu-id="44df7-116">Por ejemplo, debe saber lo que es una aplicación afiliada en el contexto de SSO.</span><span class="sxs-lookup"><span data-stu-id="44df7-116">For example, you should know what an affiliate application is in the context of SSO.</span></span> <span data-ttu-id="44df7-117">Para obtener información acerca de estos temas, vea [mediante SSO](../core/using-sso.md).</span><span class="sxs-lookup"><span data-stu-id="44df7-117">For information about these topics, see [Using SSO](../core/using-sso.md).</span></span> <span data-ttu-id="44df7-118">Consulte también [adaptador de HTTP](../core/http-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="44df7-118">Also see [HTTP Adapter](../core/http-adapter.md).</span></span>  
  
 <span data-ttu-id="44df7-119">Una vez completada la configuración, este ejemplo funciona de la siguiente forma:</span><span class="sxs-lookup"><span data-stu-id="44df7-119">After you complete the configuration, this sample works as follows:</span></span>  
  
1.  <span data-ttu-id="44df7-120">Al hacer clic en **finalizar** en la aplicación del asistente que compone la interfaz de usuario para este ejemplo, se inicia una instancia de Internet Explorer y pasa la dirección URL de la DLL de recepción HTTP de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="44df7-120">When you click **Finish** in the wizard application that comprises the user interface for this sample, an instance of Internet Explorer starts and passes the URL of the BizTalk HTTP Receive DLL.</span></span>  
  
2.  <span data-ttu-id="44df7-121">BizTalk Server, con la ayuda de SSO, reenvía de forma eficaz la solicitud de HTTP al archivo EmployeeData.aspx en un directorio virtual de IIS que se ha configurado con la autenticación básica.</span><span class="sxs-lookup"><span data-stu-id="44df7-121">BizTalk Server, with the help of SSO, effectively forwards the HTTP request to the file EmployeeData.aspx in an IIS virtual directory that has been configured with basic authentication.</span></span> <span data-ttu-id="44df7-122">Este archivo ASPX simula el punto de entrada en un sistema de servidor que no sea de Windows.</span><span class="sxs-lookup"><span data-stu-id="44df7-122">This ASPX file simulates the entry point into a non-Windows back-end system.</span></span> <span data-ttu-id="44df7-123">Puesto que está usando SSO, la solicitud HTTP incluye las credenciales configuradas que simulan una cuenta de inicio de sesión en el sistema de servidor simulado.</span><span class="sxs-lookup"><span data-stu-id="44df7-123">Because you are using SSO, the HTTP request includes the configured credentials that simulate a logon account to the simulated back-end system.</span></span>  
  
3.  <span data-ttu-id="44df7-124">El archivo ASPX obtiene acceso a la versión modificada de la base de datos de ejemplo de SQL Northwind para recuperar los datos de empleados correspondientes a las credenciales del sistema de servidor simuladas.</span><span class="sxs-lookup"><span data-stu-id="44df7-124">The ASPX file accesses a modified version of the SQL sample database Northwind to retrieve employee data corresponding to the simulated back-end system credentials.</span></span>  
  
4.  <span data-ttu-id="44df7-125">En una respuesta HTTP, el archivo ASPX devuelve los datos de empleados recuperados.</span><span class="sxs-lookup"><span data-stu-id="44df7-125">The ASPX file returns the retrieved employee data in an HTTP response.</span></span>  
  
5.  <span data-ttu-id="44df7-126">BizTalk Server enruta la respuesta HTTP a Internet Explorer, que muestra los datos de empleados devueltos al usuario.</span><span class="sxs-lookup"><span data-stu-id="44df7-126">BizTalk Server routes the HTTP response to Internet Explorer, which displays the returned employee data to the user.</span></span>  
  
 <span data-ttu-id="44df7-127">Si se salta los pasos de BizTalk Server y SSO, y se desplaza directamente al archivo EmployeeData.aspx, un cuadro de diálogo de Windows se solicitará sus credenciales.</span><span class="sxs-lookup"><span data-stu-id="44df7-127">If you bypass BizTalk Server and SSO, and browse directly to the file EmployeeData.aspx, a Windows dialog box will prompt you for your credentials.</span></span>  
  
 <span data-ttu-id="44df7-128">Para obtener un ejemplo que muestra cómo utilizar la utilidad de línea de comandos ssomanage.exe para configurar SSO, como la creación de aplicaciones afiliadas y asignaciones de usuario, consulte [administrar (ejemplo de BizTalk Server)](../core/manage-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="44df7-128">For a sample that shows how to use the command-line utility ssomanage.exe to configure SSO, such as creating affiliate applications and user mappings, see [Manage (BizTalk Server Sample)](../core/manage-biztalk-server-sample.md).</span></span>  
  
## <a name="where-to-find-this-sample"></a><span data-ttu-id="44df7-129">Ubicación del ejemplo</span><span class="sxs-lookup"><span data-stu-id="44df7-129">Where to Find This Sample</span></span>  
 <span data-ttu-id="44df7-130">\<*Ejemplos de ruta de acceso*\>\SSO\HTTPSSO\\</span><span class="sxs-lookup"><span data-stu-id="44df7-130">\<*Samples Path*\>\SSO\HTTPSSO\\</span></span>  
  
 <span data-ttu-id="44df7-131">En la tabla siguiente se enumeran los archivos del ejemplo y se describe su propósito.</span><span class="sxs-lookup"><span data-stu-id="44df7-131">The following table shows the files in this sample and describes their purpose.</span></span>  
  
|<span data-ttu-id="44df7-132">Archivos</span><span class="sxs-lookup"><span data-stu-id="44df7-132">File(s)</span></span>|<span data-ttu-id="44df7-133">Description</span><span class="sxs-lookup"><span data-stu-id="44df7-133">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="44df7-134">AssemblyInfo.cs, SsoSample.csproj</span><span class="sxs-lookup"><span data-stu-id="44df7-134">AssemblyInfo.cs, SsoSample.csproj</span></span>|<span data-ttu-id="44df7-135">Archivos de proyectos y archivos relacionados para este ejemplo de SSO de HTTP.</span><span class="sxs-lookup"><span data-stu-id="44df7-135">Project and related files for this HTTP SSO sample.</span></span>|  
|<span data-ttu-id="44df7-136">SsoSample.cs</span><span class="sxs-lookup"><span data-stu-id="44df7-136">SsoSample.cs</span></span>|<span data-ttu-id="44df7-137">Archivo de origen de nivel superior Microsoft Visual C# para la aplicación gráfica de SSO de HTTP, que constituye gran parte de este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="44df7-137">Top-level Microsoft Visual C# source file for the HTTP SSO graphical application that constitutes much of this sample.</span></span> <span data-ttu-id="44df7-138">Este archivo contiene el código de configuración de SSO, en una clase denominada **SsoConfigurator** que en última instancia es el punto de este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="44df7-138">This file contains the SSO configuration code, in a class named **SsoConfigurator** that is ultimately the point of this sample.</span></span>|  
|<span data-ttu-id="44df7-139">En la carpeta \Scripts:</span><span class="sxs-lookup"><span data-stu-id="44df7-139">In the \Scripts folder:</span></span><br /><br /> <span data-ttu-id="44df7-140">EmployeeData.aspx</span><span class="sxs-lookup"><span data-stu-id="44df7-140">EmployeeData.aspx</span></span>|<span data-ttu-id="44df7-141">Se usa para obtener acceso a la base de datos de servidor y consultarla (en este caso, se trata de la base de datos Northwind de SQL) cuando un empleado inicia una solicitud para ver datos personales, ya sea de forma directa o mediante el uso de SSO.</span><span class="sxs-lookup"><span data-stu-id="44df7-141">Used to access and query the back-end database (in this case, the SQL Northwind database) when an employee initiates a request to view personal data, either directly or by using SSO.</span></span>|  
|<span data-ttu-id="44df7-142">En la carpeta \Scripts:</span><span class="sxs-lookup"><span data-stu-id="44df7-142">In the \Scripts folder:</span></span><br /><br /> <span data-ttu-id="44df7-143">ValidateUser.aspx</span><span class="sxs-lookup"><span data-stu-id="44df7-143">ValidateUser.aspx</span></span>|<span data-ttu-id="44df7-144">Prueba sencilla para validar un usuario e informar si el usuario está validado, ya sea de forma directa o mediante el uso de SSO.</span><span class="sxs-lookup"><span data-stu-id="44df7-144">Simple test to validate a user and report if that user was validated, either directly or by using SSO.</span></span>|  
|<span data-ttu-id="44df7-145">En la carpeta \UI:</span><span class="sxs-lookup"><span data-stu-id="44df7-145">In the \UI folder:</span></span><br /><br /> <span data-ttu-id="44df7-146">AddApplication.cs, AddApplication.resx, AddMapping.cs, AddMapping.resx, App.ico, BtsPage.cs, BtsPage.resx, ExecutePage.cs, ExecutePage.resx, FinishPage.cs, FinishPage.resx, IisPage.cs, IisPage.resx, InfoPage.cs, InfoPage.resx, PageBase.cs, PageBase.resx, SsoPage.cs, SsoPage.resx, SsoSampleWizard.cs, SsoSampleWizard.resx, WelcomePage.cs, WelcomePage.resx, WorkPage.cs, WorkPage.resx</span><span class="sxs-lookup"><span data-stu-id="44df7-146">AddApplication.cs, AddApplication.resx, AddMapping.cs, AddMapping.resx, App.ico, BtsPage.cs, BtsPage.resx, ExecutePage.cs, ExecutePage.resx, FinishPage.cs, FinishPage.resx, IisPage.cs, IisPage.resx, InfoPage.cs, InfoPage.resx, PageBase.cs, PageBase.resx, SsoPage.cs, SsoPage.resx, SsoSampleWizard.cs, SsoSampleWizard.resx, WelcomePage.cs, WelcomePage.resx, WorkPage.cs, WorkPage.resx</span></span>|<span data-ttu-id="44df7-147">Archivos de origen auxiliares de Visual C#, y sus archivos asociados de recurso con formato XML, para la aplicación gráfica de SSO de HTTP, que constituye gran parte de este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="44df7-147">Auxiliary Visual C# source files, and their associated XML-formatted resource files, for the HTTP SSO graphical application that constitutes much of this sample.</span></span>|  
  
## <a name="building-and-initializing-this-sample"></a><span data-ttu-id="44df7-148">Crear e inicializar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="44df7-148">Building and Initializing This Sample</span></span>  
  
#### <a name="to-build-and-initialize-the-httpsso-sample"></a><span data-ttu-id="44df7-149">Para crear e inicializar el ejemplo HTTPSSO</span><span class="sxs-lookup"><span data-stu-id="44df7-149">To build and initialize the HTTPSSO sample</span></span>  
  
1.  <span data-ttu-id="44df7-150">Cree una cuenta local de Windows que pueda usar Microsoft Internet Information Services (IIS) para la autenticación básica.</span><span class="sxs-lookup"><span data-stu-id="44df7-150">Create a local Windows account that Microsoft Internet Information Services (IIS) can use for basic authentication.</span></span> <span data-ttu-id="44df7-151">SSO asigna la cuenta de dominio de Windows para esta cuenta local de Windows.</span><span class="sxs-lookup"><span data-stu-id="44df7-151">SSO maps the Windows domain account to this local Windows account.</span></span> <span data-ttu-id="44df7-152">Por ejemplo, use sus apellidos para crear una cuenta local de Windows.</span><span class="sxs-lookup"><span data-stu-id="44df7-152">For example, use your last name to create a local Windows account.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="44df7-153">Si se está ejecutando en un controlador de dominio, puede crear una cuenta de dominio y asignar su cuenta de dominio con la que ha iniciado sesión a esta cuenta.</span><span class="sxs-lookup"><span data-stu-id="44df7-153">If you are running on a domain controller, you can create domain accounts and map your logged on domain account to this account.</span></span>  
  
2.  <span data-ttu-id="44df7-154">Mediante el Administrador corporativo de Microsoft SQL Server, abra el **empleados** tabla en la base de datos de ejemplo Northwind y, a continuación, agregue una fila que corresponda a la cuenta de Windows local que acaba de crear, incluidos los datos de ejemplo para los distintos columnas.</span><span class="sxs-lookup"><span data-stu-id="44df7-154">Using Microsoft SQL Server Enterprise Manager, open the **Employees** table in the Northwind sample database, and then add a row corresponding to the local Windows account that you just created, including sample data for the various columns.</span></span> <span data-ttu-id="44df7-155">El valor que agregue a la columna Apellido en la tabla Empleados debe ser el mismo que el del nombre de usuario de la cuenta local de Windows agregada en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="44df7-155">The value you add to the LastName column in the Employees table must be the same as the user name of the local Windows account you added in step 1.</span></span>  
  
3.  <span data-ttu-id="44df7-156">Asegúrese de que la cuenta ASP.NET (ASPNET) tiene privilegios de lectura para la base de datos Northwind.</span><span class="sxs-lookup"><span data-stu-id="44df7-156">Ensure the ASP.NET account (ASPNET) has read privileges to the Northwind database.</span></span>  
  
4.  <span data-ttu-id="44df7-157">Abra el archivo de proyecto SsoSample.csproj con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="44df7-157">Open the project file SsoSample.csproj using Visual Studio.</span></span>  
  
5.  <span data-ttu-id="44df7-158">En el menú **Compilar** , haga clic en **Compilar solución**.</span><span class="sxs-lookup"><span data-stu-id="44df7-158">On the **Build** menu, click **Build Solution**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="44df7-159">Puede que se le solicite que guarde un archivo de solución antes de que se pueda proceder a la creación.</span><span class="sxs-lookup"><span data-stu-id="44df7-159">You may be asked to save a solution file before the build can proceed.</span></span>  
  
     <span data-ttu-id="44df7-160">Si no encuentra las siguientes referencias de ensamblado de BizTalk del proyecto, elimínelas, vuelva a agregarlas desde las ubicaciones indicadas y créelas de nuevo:</span><span class="sxs-lookup"><span data-stu-id="44df7-160">If you cannot find the following BizTalk assembly references for the project, delete them, re-add them from the indicated locations, and build again:</span></span>  
  
    -   <span data-ttu-id="44df7-161">**Microsoft.BizTalk.ExplorerOM**.</span><span class="sxs-lookup"><span data-stu-id="44df7-161">**Microsoft.BizTalk.ExplorerOM**.</span></span> <span data-ttu-id="44df7-162">De forma predeterminada, el archivo Microsoft.BizTalk.ExplorerOM.dll se encuentra en la carpeta [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]Developer Tools\\.</span><span class="sxs-lookup"><span data-stu-id="44df7-162">By default, the Microsoft.BizTalk.ExplorerOM.dll file is located in the folder [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]Developer Tools\\.</span></span>  
  
    -   <span data-ttu-id="44df7-163">**Microsoft.BizTalk.SSOClient.Interop**.</span><span class="sxs-lookup"><span data-stu-id="44df7-163">**Microsoft.BizTalk.SSOClient.Interop**.</span></span> <span data-ttu-id="44df7-164">De forma predeterminada, el archivo Microsoft.BizTalk.Interop.SSOClient.dll se encuentra en la carpeta \< *ProgramFiles*\>\Common Files\Enterprise Single Sign-On\\.</span><span class="sxs-lookup"><span data-stu-id="44df7-164">By default, the Microsoft.BizTalk.Interop.SSOClient.dll file is located in the folder \<*ProgramFiles*\>\Common Files\Enterprise Single Sign-On\\.</span></span>  
  
     <span data-ttu-id="44df7-165">Con esto, se produce el archivo ejecutable SsoSample.exe en la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="44df7-165">This produces the executable file SsoSample.exe in the following folder:</span></span>  
  
     <span data-ttu-id="44df7-166">\<*Ejemplos de ruta de acceso*\>\SSO\HTTPSSO\bin\Debug\\</span><span class="sxs-lookup"><span data-stu-id="44df7-166">\<*Samples Path*\>\SSO\HTTPSSO\bin\Debug\\</span></span>  
  
## <a name="running-this-sample"></a><span data-ttu-id="44df7-167">Ejecución del ejemplo</span><span class="sxs-lookup"><span data-stu-id="44df7-167">Running This Sample</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="44df7-168">Si ejecuta este ejemplo en IIS 6.0 en el modo aislado del proceso de trabajo, los grupos de aplicaciones se crean para ambos directorios virtuales.</span><span class="sxs-lookup"><span data-stu-id="44df7-168">If you run this sample on IIS 6.0 in Worker Process Isolation Mode, application pools are created for both virtual directories.</span></span> <span data-ttu-id="44df7-169">Debe configurar manualmente la identidad de estos dos grupos de aplicaciones en su cuenta de Windows (puede configurar la identidad en el Administrador de servicios de Internet Information Server).</span><span class="sxs-lookup"><span data-stu-id="44df7-169">You must manually configure identity for these two application pools in your Windows account (you can configure identity in Internet Information Services Manager).</span></span>  
  
#### <a name="to-run-the-httpsso-sample"></a><span data-ttu-id="44df7-170">Para ejecutar el ejemplo de HTTPSSO</span><span class="sxs-lookup"><span data-stu-id="44df7-170">To run the HTTPSSO sample</span></span>  
  
1.  <span data-ttu-id="44df7-171">Ejecute el archivo ejecutable SsoSample.exe, que se encuentra en la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="44df7-171">Run the executable file SsoSample.exe, found in the following folder:</span></span>  
  
     <span data-ttu-id="44df7-172">\<*Ejemplos de ruta de acceso*\>\SSO\HTTPSSO\bin\Debug\\</span><span class="sxs-lookup"><span data-stu-id="44df7-172">\<*Samples Path*\>\SSO\HTTPSSO\bin\Debug\\</span></span>  
  
     <span data-ttu-id="44df7-173">La aplicación del asistente de este ejemplo se abre.</span><span class="sxs-lookup"><span data-stu-id="44df7-173">The wizard application for this sample opens.</span></span>  
  
2.  <span data-ttu-id="44df7-174">En la página de bienvenida, acepte la configuración predeterminada para configurar IIS, SSO y BizTalk y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="44df7-174">On the Welcome page, accept the default setting for configuring IIS, SSO, and BizTalk, and then click **Next**.</span></span>  
  
3.  <span data-ttu-id="44df7-175">En la página de configuración de IIS, acepte la configuración predeterminada para los dos directorios virtuales de IIS que desea crear y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="44df7-175">On the IIS Configuration page, accept the default settings for the two IIS virtual directories you want to create, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="44df7-176">En la página de configuración de SSO, acepte la configuración predeterminada para la aplicación afiliada, que se puede obtener acceso mediante la **Agregar aplicación** botón.</span><span class="sxs-lookup"><span data-stu-id="44df7-176">On the SSO Configuration page, accept the default settings for the affiliate application, which is accessible using the **Add application** button.</span></span>  
  
5.  <span data-ttu-id="44df7-177">En la página de configuración de SSO, acepte la mayor parte de la configuración predeterminada para las asignaciones de usuario, puede obtener acceso mediante la **Agregar asignación** botón.</span><span class="sxs-lookup"><span data-stu-id="44df7-177">On the SSO Configuration page, accept most of the default settings for the user mappings, accessible using the **Add mapping** button.</span></span> <span data-ttu-id="44df7-178">Proporciona valores para las siguientes dos configuraciones basándose en la cuenta local de Windows agregada durante la creación e inicialización de este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="44df7-178">Provide values for the following two settings based on the local Windows account you added when building and initializing this sample.</span></span>  
  
    |<span data-ttu-id="44df7-179">Configuración</span><span class="sxs-lookup"><span data-stu-id="44df7-179">Setting</span></span>|<span data-ttu-id="44df7-180">Value</span><span class="sxs-lookup"><span data-stu-id="44df7-180">Value</span></span>|  
    |-------------|-----------|  
    |<span data-ttu-id="44df7-181">Nombre de usuario externo</span><span class="sxs-lookup"><span data-stu-id="44df7-181">External user name</span></span>|<span data-ttu-id="44df7-182">Establecido como el nombre de la cuenta de usuario de Windows local agregado.</span><span class="sxs-lookup"><span data-stu-id="44df7-182">Set to the added local Windows user account name.</span></span>|  
    |<span data-ttu-id="44df7-183">Contraseña de usuario externa</span><span class="sxs-lookup"><span data-stu-id="44df7-183">External user password</span></span>|<span data-ttu-id="44df7-184">Establecida como la contraseña de la cuenta de usuario de Windows local agregada.</span><span class="sxs-lookup"><span data-stu-id="44df7-184">Set to the added local Windows user account password.</span></span>|  
  
6.  <span data-ttu-id="44df7-185">En la página de configuración de SSO, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="44df7-185">On the SSO Configuration page, click **Next**.</span></span>  
  
7.  <span data-ttu-id="44df7-186">En la página de configuración de BizTalk, acepte la configuración predeterminada para el envío y puertos de recepción y así sucesivamente y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="44df7-186">On the BizTalk Configuration page, accept the default settings for the send and receive ports, and so on, and then click **Next**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="44df7-187">Puede cambiar la configuración del puerto de envío predeterminada de **EmployeeData.aspx** a **ValidateUser.aspx** si desea ver la validación de usuario simple en lugar de datos de ejemplo que se extraigan de la tabla de empleados de la Base de datos Northwinds de SQL.</span><span class="sxs-lookup"><span data-stu-id="44df7-187">You can change the default send port setting from **EmployeeData.aspx** to **ValidateUser.aspx** if you want to see simple user validation rather than sample data pulled from the Employee table of the Northwinds SQL database.</span></span> <span data-ttu-id="44df7-188">Al realizar este cambio modifica la naturaleza del resultado que aparece en el explorador después de hacer clic **finalizar** en el paso 9.</span><span class="sxs-lookup"><span data-stu-id="44df7-188">Making this change changes the nature of the output displayed in the browser after clicking **Finish** in step 9.</span></span>  
  
8.  <span data-ttu-id="44df7-189">Revise los mensajes de estado correspondientes a la configuración de IIS, SSO y BizTalk que se está realizando.</span><span class="sxs-lookup"><span data-stu-id="44df7-189">Review the status messages corresponding to the IIS, SSO, and BizTalk configuration being performed.</span></span> <span data-ttu-id="44df7-190">Puede encontrar el código que se ejecuta durante esta fase en la **IisConfigurator**, **SsoConfigurator**, y **BtsConfigurator** clases definidas en el archivo SsoSample.cs.</span><span class="sxs-lookup"><span data-stu-id="44df7-190">You can find the code that is run during this phase in the **IisConfigurator**, **SsoConfigurator**, and **BtsConfigurator** classes defined in the file SsoSample.cs.</span></span> <span data-ttu-id="44df7-191">Una vez finalizada la configuración, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="44df7-191">After configuration has completed, click **Next**.</span></span>  
  
9. <span data-ttu-id="44df7-192">En la página final de la aplicación del asistente, acepte la configuración predeterminada de **Iniciar explorador en** (la casilla está activada y un cuadro de texto con la dirección URL http://localhost/SsoSampleBizTalkHttpReceive/BTSHttpReceive.dll? <message/>) y, a continuación, haga clic en **finalizar**.</span><span class="sxs-lookup"><span data-stu-id="44df7-192">On the final page of the wizard application, accept the default settings for **Start browser at** (a selected check box and a text box with the URL http://localhost/SsoSampleBizTalkHttpReceive/BTSHttpReceive.dll?<message/>), and then click **Finish**.</span></span>  
  
     <span data-ttu-id="44df7-193">Se abrirá una instancia de Internet Explorer, y pronto aparecerán los datos del empleado de ejemplo que ha agregado a la tabla Empelado de la base de datos Northwinds de SQL.</span><span class="sxs-lookup"><span data-stu-id="44df7-193">An instance of Internet Explorer will open, and soon display the sample employee data that you added to the Employee table of the Northwinds SQL database.</span></span>  
  
 <span data-ttu-id="44df7-194">Para realizar una comparación, puede pasar por alto BizTalk y SSO y dirigirse directamente a alguno de los archivos ASPX:</span><span class="sxs-lookup"><span data-stu-id="44df7-194">For comparison purposes, you can bypass BizTalk and SSO and browse directly to either of the ASPX files:</span></span>  
  
-   http://localhost/SsoSampleServerApplication/ValidateUser.aspx  
  
-   http://localhost/SsoSampleServerApplication/EmployeeData.aspx  
  
 <span data-ttu-id="44df7-195">En ambos casos, dado que se ha saltado los pasos de BizTalk y SSO, IIS le solicitará la información de su autenticación (use la información de la cuenta local de Windows creada anteriormente).</span><span class="sxs-lookup"><span data-stu-id="44df7-195">In both cases, because you bypass BizTalk and SSO, you are prompted for your authentication information by IIS (use the local Windows account information you created previously).</span></span>  
  
## <a name="comments"></a><span data-ttu-id="44df7-196">Comentarios</span><span class="sxs-lookup"><span data-stu-id="44df7-196">Comments</span></span>  
 <span data-ttu-id="44df7-197">La aplicación del asistente de SsoSample.exe configura dos directorios virtuales de IIS:</span><span class="sxs-lookup"><span data-stu-id="44df7-197">The SsoSample.exe wizard application configures two IIS virtual directories:</span></span>  
  
-   <span data-ttu-id="44df7-198">El primer directorio virtual está configurado con la autenticación integrada de Windows, y corresponde a la extensión ISAPI de recepción HTTP de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="44df7-198">The first virtual directory is configured with Windows integrated authentication and corresponds to the BizTalk HTTP Receive ISAPI extension.</span></span> <span data-ttu-id="44df7-199">Debe estar asociado al archivo BTSHTTPReceive.dll, que se encuentra en la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="44df7-199">It must be associated with the .dll file BTSHTTPReceive.dll located in the following folder:</span></span>  
  
     <span data-ttu-id="44df7-200">\<*La ruta de instalación*\>\HttpReceive</span><span class="sxs-lookup"><span data-stu-id="44df7-200">\<*Install Path*\>\HttpReceive</span></span>  
  
-   <span data-ttu-id="44df7-201">El segundo directorio virtual está configurado con la autenticación básica, y simula un sistema de servidor que acepta una contraseña y un Id. de usuario para que el usuario se autentique.</span><span class="sxs-lookup"><span data-stu-id="44df7-201">The second virtual directory is configured with basic authentication and simulates a back-end system that accepts a user ID and password to authenticate the user.</span></span> <span data-ttu-id="44df7-202">Debe estar asociado a uno de los archivos ASPX: ValidateUser.aspx o EmployeeData.aspx que se encuentran en la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="44df7-202">It must be associated with one or the other of the ASPX files, ValidateUser.aspx or EmployeeData.aspx, located in the following folder:</span></span>  
  
     <span data-ttu-id="44df7-203">\<*Ejemplos de ruta de acceso*\>\SSO\HTTPSSO\Scripts</span><span class="sxs-lookup"><span data-stu-id="44df7-203">\<*Samples Path*\>\SSO\HTTPSSO\Scripts</span></span>  
  
 <span data-ttu-id="44df7-204">Puede usar la aplicación del asistente de SsoSample.exe para configurar una o varias aplicaciones afiliadas.</span><span class="sxs-lookup"><span data-stu-id="44df7-204">You can use the SsoSample.exe wizard application to configure one or more affiliate applications.</span></span> <span data-ttu-id="44df7-205">Para cada una de estas aplicaciones afiliadas, puede crear una o varias asignaciones de usuario.</span><span class="sxs-lookup"><span data-stu-id="44df7-205">For each of these affiliate applications, you can create one or more user mappings.</span></span> <span data-ttu-id="44df7-206">Cada una de estas asignaciones de usuario asigna una cuenta de usuario de Windows a una cuenta que se use para obtener acceso a un sistema de servidor específico.</span><span class="sxs-lookup"><span data-stu-id="44df7-206">Each of these user mappings maps a Windows user account to an account that you use to access a specific back-end system.</span></span> <span data-ttu-id="44df7-207">En este ejemplo, se trata de una cuenta local de Windows que se usa para la autenticación con el segundo directorio virtual de IIS, que está simulando un sistema de servidor original.</span><span class="sxs-lookup"><span data-stu-id="44df7-207">In this sample, that account is a local Windows account that you use to authenticate with the second IIS virtual directory that is simulating a genuine back-end system.</span></span>  
  
 <span data-ttu-id="44df7-208">Para volver a ejecutar este ejemplo, puede realizar lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="44df7-208">To rerun this sample, you have several choices:</span></span>  
  
-   <span data-ttu-id="44df7-209">En Internet Explorer, desplácese directamente a la siguiente URL:</span><span class="sxs-lookup"><span data-stu-id="44df7-209">Browse directly to the following URL in Internet Explorer:</span></span>  
  
     http://localhost/SsoSampleBizTalkHttpReceive/BTSHttpReceive.dll?<message/>  
  
-   <span data-ttu-id="44df7-210">Ejecute de nuevo la aplicación del asistente, pero borre todas las casillas de verificación de configuración de la primera página.</span><span class="sxs-lookup"><span data-stu-id="44df7-210">Run the wizard application again, but clear all of the configuration check boxes on the first page.</span></span>  
  
-   <span data-ttu-id="44df7-211">Vuelva a ejecutar la aplicación del asistente, deje las casillas de verificación de configuración seleccionadas en la primera página, pero configure cuidadosamente y de forma adecuada los elementos adicionales de BizTalk, las aplicaciones afiliadas, etc., para que no se produzcan errores de configuración.</span><span class="sxs-lookup"><span data-stu-id="44df7-211">Run the wizard application again, leave the configuration check boxes selected in the first page, but carefully and appropriately configure additional BizTalk items, affiliate applications, and so on, so that configuration errors do not occur.</span></span>  
  
 <span data-ttu-id="44df7-212">Para borrar desde este ejemplo, use el siguiente procedimiento.</span><span class="sxs-lookup"><span data-stu-id="44df7-212">To clean up from this sample, use the following procedure.</span></span>  
  
#### <a name="to-clean-up-from-this-sample"></a><span data-ttu-id="44df7-213">Para limpiar desde este ejemplo</span><span class="sxs-lookup"><span data-stu-id="44df7-213">To clean up from this sample</span></span>  
  
1.  <span data-ttu-id="44df7-214">Según corresponda, invierta la configuración manual realizada, por ejemplo, quitando la cuenta local de Windows.</span><span class="sxs-lookup"><span data-stu-id="44df7-214">As appropriate, reverse the manual configuration that you performed, such as removing the local Windows account.</span></span>  
  
2.  <span data-ttu-id="44df7-215">Quite las aplicaciones de IIS que correspondan a los directorios virtuales y, a continuación, elimine los directorios virtuales de IIS creados por este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="44df7-215">Remove IIS applications that correspond to the virtual directories, and then delete the IIS virtual directories created by this sample.</span></span>  
  
3.  <span data-ttu-id="44df7-216">Con la consola de administración de BizTalk, puede dar de baja y eliminar el puerto de envío asociado a este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="44df7-216">Using BizTalk Administration console, unenlist and then delete the send port associated with this sample.</span></span> <span data-ttu-id="44df7-217">Después, elimine el puerto de recepción (y su ubicación de recepción) asociado a este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="44df7-217">Then delete the receive port (and its receive location) associated with this sample.</span></span>  
  
4.  <span data-ttu-id="44df7-218">Use la aplicación Ssomanage (ubicada en \Program Files\Common Files\Enterprise Single Sign-On\\) para eliminar la aplicación de SSO para este ejemplo:</span><span class="sxs-lookup"><span data-stu-id="44df7-218">Use the Ssomanage application (located in \Program Files\Common Files\Enterprise Single Sign-On\\) to delete the SSO application for this sample:</span></span>  
  
    ```  
    Ssomanage –deleteapp SsoSampleApplication  
    ```  
  
## <a name="see-also"></a><span data-ttu-id="44df7-219">Vea también</span><span class="sxs-lookup"><span data-stu-id="44df7-219">See Also</span></span>  
 [<span data-ttu-id="44df7-220">SSO (carpeta de ejemplos de BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="44df7-220">SSO (BizTalk Server Samples Folder)</span></span>](../core/sso-biztalk-server-samples-folder.md)