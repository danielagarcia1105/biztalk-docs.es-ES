---
title: "Cómo crear un servidor vinculado | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- servers, linking for backups
- backing up, linking servers
ms.assetid: 7d4aba3d-77c0-4cdf-8547-71e821ce34a1
caps.latest.revision: "26"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f3ae08df9b522e1a772d7c8a9ad7d02c36dcb999
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-create-a-linked-server"></a><span data-ttu-id="43be6-102">Crear un servidor vinculado</span><span class="sxs-lookup"><span data-stu-id="43be6-102">How to Create a Linked Server</span></span>
<span data-ttu-id="43be6-103">Si [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] está instalado en una topología distribuida, las bases de datos que pertenecen a un grupo de BizTalk existen en varios servidores [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43be6-103">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is installed in a distributed topology, the databases that belong to a BizTalk Group exist on multiple [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="43be6-104">Debe configurar una conexión de servidor vinculada con cada uno de los servidores remotos para poder realizar una copia de seguridad de todo el entorno BizTalk desde el servidor de administración de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="43be6-104">You must configure a linked server connection to each of the remote servers before you can back up the entire BizTalk environment from the BizTalk Management server.</span></span> <span data-ttu-id="43be6-105">Un servidor vinculado es un origen de datos OLE DB que se usa en consultas de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] distribuidas.</span><span class="sxs-lookup"><span data-stu-id="43be6-105">A linked server is an OLE DB data source that is used in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] distributed queries.</span></span>  
  
 <span data-ttu-id="43be6-106">Como parte del proceso de restauración y de copia de seguridad, el trabajo Copia de seguridad de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] crea de forma automática servidores vinculados.</span><span class="sxs-lookup"><span data-stu-id="43be6-106">As a part of the backup and restore process, the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] job automatically creates linked servers.</span></span> <span data-ttu-id="43be6-107">No obstante, si resulta necesario, podrá crear servidores vinculados de forma manual mediante este procedimiento.</span><span class="sxs-lookup"><span data-stu-id="43be6-107">If necessary, however, you can manually create linked servers using this procedure.</span></span>  
  
 <span data-ttu-id="43be6-108">También se pueden crear servidores vinculados mediante el *sp_addlinkedserver* procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="43be6-108">Linked servers can also be created using the *sp_addlinkedserver* stored procedure.</span></span> <span data-ttu-id="43be6-109">Hay consideraciones de seguridad asociadas con esta operación.</span><span class="sxs-lookup"><span data-stu-id="43be6-109">There are security considerations associated with this operation.</span></span> <span data-ttu-id="43be6-110">Cuando se crea un servidor vinculado mediante sp_addlinkedserver, todos los inicios de sesión locales se asignarán al nuevo servidor vinculado de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="43be6-110">When a linked server is created using sp_addlinkedserver, all local logins will be mapped to the new linked server by default.</span></span> <span data-ttu-id="43be6-111">Para controlar el acceso al servidor vinculado, el *sp_droplinkedsvrlogin* debe utilizarse el procedimiento para quitar la asignación de inicio de sesión global, seguida de *sp_addlinkedsvrlogin* para asignar las cuentas de inicio de sesión deseado a el nuevo servidor vinculado.</span><span class="sxs-lookup"><span data-stu-id="43be6-111">To control access to the linked server, the *sp_droplinkedsvrlogin* procedure should be used to drop the global login mapping, followed by *sp_addlinkedsvrlogin* to map the desired login account(s) to the new linked server.</span></span> <span data-ttu-id="43be6-112">Al usar sp_addlinkedsvrlogin, se recomienda establecer el @useself parámetro = TRUE.</span><span class="sxs-lookup"><span data-stu-id="43be6-112">When using sp_addlinkedsvrlogin, it is recommended that you set the @useself parameter = TRUE.</span></span> <span data-ttu-id="43be6-113">Esto evita la necesidad de incorporar un nombre de usuario y una contraseña en el script SQL.</span><span class="sxs-lookup"><span data-stu-id="43be6-113">This avoids the need to embed a user name and password into your SQL script.</span></span>  

> [!TIP]
> <span data-ttu-id="43be6-114">Estos pasos pueden cambiar con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="43be6-114">These steps may change over time.</span></span> <span data-ttu-id="43be6-115">Se recomienda que hace referencia a la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] documentación en [crear servidores vinculados](https://docs.microsoft.com/sql/relational-databases/linked-servers/create-linked-servers-sql-server-database-engine).</span><span class="sxs-lookup"><span data-stu-id="43be6-115">We recommend referring to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] documentation at [Create Linked Servers](https://docs.microsoft.com/sql/relational-databases/linked-servers/create-linked-servers-sql-server-database-engine).</span></span>
  
## <a name="prerequisites"></a><span data-ttu-id="43be6-116">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="43be6-116">Prerequisites</span></span>  
  
-   <span data-ttu-id="43be6-117">Inicie sesión con una cuenta que sea miembro de la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] **sysadmin** rol fijo de servidor</span><span class="sxs-lookup"><span data-stu-id="43be6-117">Sign in with an account that is a member of the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] **sysadmin** fixed server role</span></span>  
  
-   <span data-ttu-id="43be6-118">Crear una variable local [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="43be6-118">Create a local [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] login.</span></span> <span data-ttu-id="43be6-119">En los pasos siguientes, esta cuenta se asigna a un inicio de sesión en el [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] se vinculará a.</span><span class="sxs-lookup"><span data-stu-id="43be6-119">In the following steps, this account is mapped to a login on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] you will link to.</span></span> 
  
## <a name="create-a-linked-server"></a><span data-ttu-id="43be6-120">Crear un servidor vinculado</span><span class="sxs-lookup"><span data-stu-id="43be6-120">Create a linked server</span></span>
  
1.  <span data-ttu-id="43be6-121">Abra **SQL Server Management Studio**, escriba el nombre de la variable local [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]y, a continuación, seleccione **conectar**.</span><span class="sxs-lookup"><span data-stu-id="43be6-121">Open **SQL Server Management Studio**, enter the name of your local [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)], and then select **Connect**.</span></span>  
  
2.  <span data-ttu-id="43be6-122">Expanda **objetos Server**, haga clic en **servidores vinculados**y, a continuación, seleccione **nuevo servidor vinculado**.</span><span class="sxs-lookup"><span data-stu-id="43be6-122">Expand **Server Objects**, right-click **Linked Servers**, and then select **New Linked Server**.</span></span>  

    <span data-ttu-id="43be6-123">Para ver **objetos Server**, conectarse a un instalaciones locales [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43be6-123">To see **Server Objects**, connect to a local on-premises [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="43be6-124">A continuación, **objetos de servidor** debe mostrarse.</span><span class="sxs-lookup"><span data-stu-id="43be6-124">Then, **Server Objects** should be displayed.</span></span>
  
3.  <span data-ttu-id="43be6-125">En el **servidor vinculado** texto cuadro, escriba el nombre completo de la red de la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] desea vincularse.</span><span class="sxs-lookup"><span data-stu-id="43be6-125">In the **Linked server** text box, enter the full network name of the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] you want to link to.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="43be6-126">Este procedimiento suele referirse al servidor al que se está vinculando como servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="43be6-126">This procedure often refers to the server you are linking to as the remote server.</span></span> <span data-ttu-id="43be6-127">Se hace así por motivos prácticos, para indicar la relación del servidor vinculado (“remoto”) con el servidor local.</span><span class="sxs-lookup"><span data-stu-id="43be6-127">This is for convenience only, to indicate the relationship of the linked (“remote”) server to the local server.</span></span>  
  
4.  <span data-ttu-id="43be6-128">En **tipo de servidor**, seleccione **SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="43be6-128">Under **Server type**, select **SQL Server**.</span></span>  
  
5.  <span data-ttu-id="43be6-129">En el panel izquierdo, seleccione **Seguridad**.</span><span class="sxs-lookup"><span data-stu-id="43be6-129">In the left pane, select **Security**.</span></span> 

    <span data-ttu-id="43be6-130">En este paso, se asignará la cuenta local creada para el inicio de sesión de servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="43be6-130">In this step, you map the local account you created to the remote server login.</span></span> <span data-ttu-id="43be6-131">Las opciones:</span><span class="sxs-lookup"><span data-stu-id="43be6-131">Your options:</span></span> 
    
    | | | 
    |---|---|
    | <span data-ttu-id="43be6-132">**Se realiza mediante el contexto de seguridad actual del inicio de sesión**</span><span class="sxs-lookup"><span data-stu-id="43be6-132">**Be made using the login’s current security context**</span></span> | <span data-ttu-id="43be6-133">En entornos de dominio, los usuarios normalmente se conectan con sus inicios de sesión de dominio.</span><span class="sxs-lookup"><span data-stu-id="43be6-133">In domain environments, users typically connect with their domain logins.</span></span> <span data-ttu-id="43be6-134">Esta opción puede ser preferible puesto que el contexto de seguridad de la cuenta de dominio de inicio de sesión iniciada está asignado a la cuenta local que creó.</span><span class="sxs-lookup"><span data-stu-id="43be6-134">This option may be best since the security context of the signed-in domain account is mapped to the local account you created.</span></span>|
    | <span data-ttu-id="43be6-135">**Se establecerán usando este contexto de seguridad**</span><span class="sxs-lookup"><span data-stu-id="43be6-135">**Be made using this security context**</span></span> | <span data-ttu-id="43be6-136">Cuando los usuarios se conectan al servidor SQL local mediante un inicio de sesión de SQL Server, esta opción puede ser preferible.</span><span class="sxs-lookup"><span data-stu-id="43be6-136">When users connect to the local SQL Server using a SQL Server login, then this option may be best.</span></span> <span data-ttu-id="43be6-137">A continuación, escriba el inicio de sesión y la contraseña de la cuenta en el servidor vinculado.</span><span class="sxs-lookup"><span data-stu-id="43be6-137">Then enter the login and password for the account on the linked server.</span></span> |


6. <span data-ttu-id="43be6-138">Seleccione **agregar**y escriba lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="43be6-138">Select **Add**, and enter the following:</span></span> 

    1. <span data-ttu-id="43be6-139">En **inicio de sesión Local**, seleccione la cuenta local que creó.</span><span class="sxs-lookup"><span data-stu-id="43be6-139">Under **Local Login**, select the local account you created.</span></span> 
    2. <span data-ttu-id="43be6-140">Comprobar **Impersonate** si el inicio de sesión local también existe en el servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="43be6-140">Check **Impersonate** if the local login also exists on the remote server.</span></span> 
    3. <span data-ttu-id="43be6-141">O bien, si el inicio de sesión local se asignará a un servidor remoto [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] inicio de sesión, escriba el **usuario remoto** nombre y **contraseña remota** para el inicio de sesión de servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="43be6-141">Alternatively, if the local login will be mapped to a remote [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] login you, enter the **Remote User** name and **Remote Password** for the remote server login.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="43be6-142">Para usar la suplantación, la configuración de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] y las cuentas de inicio de sesión deben cumplir los requisitos de delegación.</span><span class="sxs-lookup"><span data-stu-id="43be6-142">To use impersonation, your [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] configuration and login accounts must meet the requirements for delegation.</span></span> <span data-ttu-id="43be6-143">Vea [configurar servidores vinculados para la delegación](https://msdn.microsoft.com/library/ms189580.aspx) para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="43be6-143">See [Configuring Linked Servers for Delegation](https://msdn.microsoft.com/library/ms189580.aspx) for more details.</span></span>  

7. <span data-ttu-id="43be6-144">En el panel izquierdo, elija **opciones de servidor**.</span><span class="sxs-lookup"><span data-stu-id="43be6-144">In the left pane, choose **Server Options**.</span></span> <span data-ttu-id="43be6-145">Establecer el **RPC** y **RPC Out** parámetros **True**y, a continuación, seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="43be6-145">Set the **RPC** and **RPC Out** parameters to **True**, and then select **OK**.</span></span> 
 
> [!TIP]
> <span data-ttu-id="43be6-146">Para obtener más detalles y recomendaciones al crear servidores vinculados, includig utilizando la `sp_addlinkedserver` almacenado procedcure, consulte [crear servidores vinculados](https://docs.microsoft.com/sql/relational-databases/linked-servers/create-linked-servers-sql-server-database-engine).</span><span class="sxs-lookup"><span data-stu-id="43be6-146">For more details and recommendations when creating linked servers, includig using the `sp_addlinkedserver` stored procedcure, see [Create Linked Servers](https://docs.microsoft.com/sql/relational-databases/linked-servers/create-linked-servers-sql-server-database-engine).</span></span>

  
## <a name="see-also"></a><span data-ttu-id="43be6-147">Vea también</span><span class="sxs-lookup"><span data-stu-id="43be6-147">See Also</span></span>  
 [<span data-ttu-id="43be6-148">Información avanzada sobre la copia de seguridad y restauración</span><span class="sxs-lookup"><span data-stu-id="43be6-148">Advanced Information About Backup and Restore</span></span>](../core/advanced-information-about-backup-and-restore1.md)