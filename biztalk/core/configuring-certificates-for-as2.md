---
title: Configurar certificados para AS2 | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c160f294-7529-4e0a-876c-5827feaed067
caps.latest.revision: 20
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 916f3f633e9311d970121cd3f41a03fbae8b8259
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37011181"
---
# <a name="configuring-certificates-for-as2"></a><span data-ttu-id="4e73a-102">Configurar certificados para AS2</span><span class="sxs-lookup"><span data-stu-id="4e73a-102">Configuring Certificates for AS2</span></span>
<span data-ttu-id="4e73a-103">Para asegurar la transferencia de datos AS2 usando el cifrado y las firmas digitales, debe haber instalado los certificados adecuados, además de la configuración de AS2 adecuada en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4e73a-103">To help secure AS2 data transfer using encryption and digital signatures, you must have the appropriate certificates installed, in addition to the appropriate AS2 configuration on [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="4e73a-104">En este tema se describen los certificados necesarios, el modo de configurarlos y los problemas comunes que pueden plantear.</span><span class="sxs-lookup"><span data-stu-id="4e73a-104">This topic describes the certificates required, how to configure them, and common issues with them.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="4e73a-105">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="4e73a-105">Prerequisites</span></span>  
 <span data-ttu-id="4e73a-106">Debe iniciar sesión como miembro del grupo Administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4e73a-106">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  

## <a name="certificates-required-for-as2-transport"></a><span data-ttu-id="4e73a-107">Certificados necesarios para el transporte AS2</span><span class="sxs-lookup"><span data-stu-id="4e73a-107">Certificates Required for AS2 Transport</span></span>  
 <span data-ttu-id="4e73a-108">Para contribuir a la protección de la transferencia de datos AS2, debe agregar el certificado adecuado al almacén de certificados correspondiente y asociar los certificados a los artefactos apropiados de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4e73a-108">To help secure AS2 data transfer, you must add the appropriate certificate to the appropriate certificate store, and associate the certificates with the appropriate BizTalk artifacts.</span></span> <span data-ttu-id="4e73a-109">Los siguientes certificados se usan para contribuir a la protección de los mensajes AS2:</span><span class="sxs-lookup"><span data-stu-id="4e73a-109">The following certificates are used to help secure AS2 messages:</span></span>  


|        <span data-ttu-id="4e73a-110">Uso de certificados</span><span class="sxs-lookup"><span data-stu-id="4e73a-110">Certificate Usage</span></span>         |          <span data-ttu-id="4e73a-111">Tipo de certificado</span><span class="sxs-lookup"><span data-stu-id="4e73a-111">Certificate Type</span></span>           | <span data-ttu-id="4e73a-112">Componente de canalización</span><span class="sxs-lookup"><span data-stu-id="4e73a-112">Pipeline Component</span></span> |                              <span data-ttu-id="4e73a-113">Contexto de usuario</span><span class="sxs-lookup"><span data-stu-id="4e73a-113">User Context</span></span>                              |                                                                                           <span data-ttu-id="4e73a-114">Almacén de certificados</span><span class="sxs-lookup"><span data-stu-id="4e73a-114">Certificate Store</span></span>                                                                                           |                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="4e73a-115">Ubicación de definición</span><span class="sxs-lookup"><span data-stu-id="4e73a-115">Where Defined</span></span>                                                                                                                                                                                                                                                                                                                                                             |
|----------------------------------|-------------------------------------|--------------------|------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       <span data-ttu-id="4e73a-116">Firma (salida)</span><span class="sxs-lookup"><span data-stu-id="4e73a-116">Signature (outbound)</span></span>       |       <span data-ttu-id="4e73a-117">Clave privada propia (.pfx)</span><span class="sxs-lookup"><span data-stu-id="4e73a-117">Own private key (.pfx)</span></span>        |    <span data-ttu-id="4e73a-118">Codificador AS2</span><span class="sxs-lookup"><span data-stu-id="4e73a-118">AS2 encoder</span></span>     |  <span data-ttu-id="4e73a-119">Cuenta usada por la instancia de host asociada al controlador de envío.</span><span class="sxs-lookup"><span data-stu-id="4e73a-119">Account used by the host instance associated with the send handler.</span></span>   |    <span data-ttu-id="4e73a-120">Usuario actual y almacén personal de cada [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] que aloja una canalización de codificador AS2 como cada cuenta de servicio de instancia de host</span><span class="sxs-lookup"><span data-stu-id="4e73a-120">Current User\Personal store of each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that hosts an AS2 encoder pipeline as each host instance service account</span></span>    | <span data-ttu-id="4e73a-121">-   **Certificado** página de la **propiedades del grupo** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="4e73a-121">-   **Certificate** page of the **Group Properties** dialog box.</span></span> <span data-ttu-id="4e73a-122">Es el certificado de firmas predeterminado que se usa al enviar documentos firmados.</span><span class="sxs-lookup"><span data-stu-id="4e73a-122">This is the default signing certificate used when sending signed documents.</span></span><br /><span data-ttu-id="4e73a-123">-Puede invalidar la configuración del certificado predeterminado y usar certificados diferentes para distintas entidades.</span><span class="sxs-lookup"><span data-stu-id="4e73a-123">-   You can override the default certificate setting and instead use different certificates for different parties.</span></span> <span data-ttu-id="4e73a-124">Puede hacerlo seleccionando **invalidar certificado de firma de grupo** en el **certificado de firma** página de la ficha de acuerdo unidireccional del **las propiedades del acuerdo** cuadro de diálogo cuadro y especifique un certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="4e73a-124">You can do so by selecting **Override Group Signature Certificate** in the **Signature Certificate** page of the one-way agreement tab of the **Agreement Properties** dialog box, and specify a signing certificate.</span></span> <span data-ttu-id="4e73a-125">Si se establece esta propiedad, cualquier mensaje de AS2 se resuelve en el acuerdo estará firmado con el certificado proporcionado en el **certificado de firma** página y no por el certificado proporcionado como parte de las propiedades del grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4e73a-125">If this property is set, whichever AS2 message resolves to the agreement will be signed using the certificate provided in the **Signature Certificate** page and not by the certificate provided as part of the BizTalk Group properties.</span></span> |
| <span data-ttu-id="4e73a-126">Comprobación de firma (entrada)</span><span class="sxs-lookup"><span data-stu-id="4e73a-126">Signature verification (inbound)</span></span> | <span data-ttu-id="4e73a-127">Clave pública de socio comercial (.cer)</span><span class="sxs-lookup"><span data-stu-id="4e73a-127">Trading partner's public key (.cer)</span></span> |    <span data-ttu-id="4e73a-128">Descodificador AS2</span><span class="sxs-lookup"><span data-stu-id="4e73a-128">AS2 decoder</span></span>     | <span data-ttu-id="4e73a-129">Cuenta usada por la instancia de host asociada al controlador de recepción.</span><span class="sxs-lookup"><span data-stu-id="4e73a-129">Account used by the host instance associated with the receive handler.</span></span> | <span data-ttu-id="4e73a-130">Equipo local y almacén de otras personas de cada [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] que aloja una canalización de descodificador AS2 como cada cuenta de servicio de instancia de host</span><span class="sxs-lookup"><span data-stu-id="4e73a-130">Local computer\Other People store of each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that hosts an AS2 decoder pipeline as each host instance service account</span></span> |                                                                                                                                                                                                                                                           <span data-ttu-id="4e73a-131">**Certificado** página de la **las propiedades de entidad** cuadro de diálogo **Nota:** el certificado usado para comprobar una firma de una entidad debe ser única entre los certificados usados para comprobar las firmas para otros partes.</span><span class="sxs-lookup"><span data-stu-id="4e73a-131">**Certificate** page of the **Party Properties** dialog box **Note:**  The certificate used to verify a signature for a party must be unique from the certificates used to verify signatures for other parties.</span></span>                                                                                                                                                                                                                                                            |
|      <span data-ttu-id="4e73a-132">Cifrado (salida)</span><span class="sxs-lookup"><span data-stu-id="4e73a-132">Encryption (outbound)</span></span>       | <span data-ttu-id="4e73a-133">Clave pública de socio comercial (.cer)</span><span class="sxs-lookup"><span data-stu-id="4e73a-133">Trading partner's public key (.cer)</span></span> |    <span data-ttu-id="4e73a-134">Codificador AS2</span><span class="sxs-lookup"><span data-stu-id="4e73a-134">AS2 encoder</span></span>     |  <span data-ttu-id="4e73a-135">Cuenta usada por la instancia de host asociada al controlador de envío.</span><span class="sxs-lookup"><span data-stu-id="4e73a-135">Account used by the host instance associated with the send handler.</span></span>   |                    <span data-ttu-id="4e73a-136">Equipo local y almacén de otras personas de cada [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] que aloja una canalización de codificador AS2</span><span class="sxs-lookup"><span data-stu-id="4e73a-136">Local computer\Other People store of each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that hosts an AS2 encoder pipeline</span></span>                    |                                                                                                                                                                                                                                                                                                                                   <span data-ttu-id="4e73a-137">**Certificado** página de la **propiedades de puerto de envío** cuadro de diálogo</span><span class="sxs-lookup"><span data-stu-id="4e73a-137">**Certificate** page of the **Send Port Properties** dialog box</span></span>                                                                                                                                                                                                                                                                                                                                    |
|       <span data-ttu-id="4e73a-138">Descifrado (entrada)</span><span class="sxs-lookup"><span data-stu-id="4e73a-138">Decryption (inbound)</span></span>       |       <span data-ttu-id="4e73a-139">Clave privada propia (.pfx)</span><span class="sxs-lookup"><span data-stu-id="4e73a-139">Own private key (.pfx)</span></span>        |    <span data-ttu-id="4e73a-140">Descodificador AS2</span><span class="sxs-lookup"><span data-stu-id="4e73a-140">AS2 decoder</span></span>     | <span data-ttu-id="4e73a-141">Cuenta usada por la instancia de host asociada al controlador de recepción.</span><span class="sxs-lookup"><span data-stu-id="4e73a-141">Account used by the host instance associated with the receive handler.</span></span> |    <span data-ttu-id="4e73a-142">Usuario actual y almacén personal de cada [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] que aloja una canalización de descodificador AS2 como cada cuenta de servicio de instancia de host</span><span class="sxs-lookup"><span data-stu-id="4e73a-142">Current User\Personal store of each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that hosts an AS2 decoder pipeline as each host instance service account</span></span>    |                                                                                                                                                                                                                        <span data-ttu-id="4e73a-143">El descodificador AS2 determinará el certificado según la información del certificado presente en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="4e73a-143">The AS2 Decoder will determine the certificate based upon certificate information in the message.</span></span><br /><br /> <span data-ttu-id="4e73a-144">Para el descodificador de MIME de BizTalk, el certificado debe estar en el **certificado** página del host usado para recibir el mensaje.</span><span class="sxs-lookup"><span data-stu-id="4e73a-144">For the BizTalk MIME Decoder, the certificate must be in the **Certificate** page of the host used for receiving the message.</span></span> <span data-ttu-id="4e73a-145">Todo ello no resulta necesario para el descodificador AS2.</span><span class="sxs-lookup"><span data-stu-id="4e73a-145">This is not necessary for the AS2 Decoder.</span></span>                                                                                                                                                                                                                        |

## <a name="certificate-signing-for-outgoing-messages"></a><span data-ttu-id="4e73a-146">Firma de certificados para mensajes salientes</span><span class="sxs-lookup"><span data-stu-id="4e73a-146">Certificate Signing for Outgoing Messages</span></span>  
 <span data-ttu-id="4e73a-147">Los mensajes AS2 salientes se firman con un certificado predeterminado definido como parte de las propiedades del Grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4e73a-147">Outgoing AS2 messages are signed using a default certificate defined as part of the BizTalk Group properties.</span></span> <span data-ttu-id="4e73a-148">Sin embargo, puede haber escenarios en los que la entidad que recibe los mensajes desee que éstos estén firmados con un certificado privado que ellos proporcionan o esperan que se use un certificado diferente al firmar mensajes salientes para ellos.</span><span class="sxs-lookup"><span data-stu-id="4e73a-148">However, there could be scenarios where the party receiving the messages wants the messages to be signed with a private certificate that they provide or expect a different certificate to be used when signing outgoing messages for them.</span></span> <span data-ttu-id="4e73a-149">Este escenario de firma de mensajes salientes con otros certificados se habilita si selecciona el **invalidar certificado de firma de grupo** en el **certificado de firma** página de la ficha de acuerdo unidireccional de la **las propiedades del acuerdo** diálogo cuadro y especifique un certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="4e73a-149">This scenario of signing outgoing messages using other certificates is enabled if you select the **Override Group Signature Certificate** in the **Signature Certificate** page of the one-way agreement tab of the **Agreement Properties** dialog box, and specify a signing certificate.</span></span> <span data-ttu-id="4e73a-150">Si se especifica un certificado como parte del acuerdo AS2 para una entidad, ese certificado se usa para firmar mensajes salientes.</span><span class="sxs-lookup"><span data-stu-id="4e73a-150">If a certificate is specified as part of the AS2 agreement for a party, that certificate is used for signing outgoing messages.</span></span> <span data-ttu-id="4e73a-151">Si no se define ningún certificado para la entidad, se usa el certificado predeterminado especificado como parte de las propiedades del Grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4e73a-151">If no certificate is defined for the party, the default certificate specified as part of the BizTalk Group properties is used.</span></span>  

## <a name="adding-certificates-to-the-certificate-stores"></a><span data-ttu-id="4e73a-152">Agregar certificados a los almacenes de certificados</span><span class="sxs-lookup"><span data-stu-id="4e73a-152">Adding Certificates to the Certificate Stores</span></span>  
 <span data-ttu-id="4e73a-153">Para obtener más información, vea la sección "Mostrar la consola de administración de certificados" de [instalar certificados para los adaptadores de WCF](../core/installing-certificates-for-the-wcf-adapters.md), así como el [utilidad de Asistente de certificado](../core/certificate-wizard-utility.md) tema.</span><span class="sxs-lookup"><span data-stu-id="4e73a-153">For more information, see the "Displaying the Certificates Management Console" section of [Installing Certificates for the WCF Adapters](../core/installing-certificates-for-the-wcf-adapters.md), as well as the [Certificate Wizard Utility](../core/certificate-wizard-utility.md) topic.</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="4e73a-154">El almacén de certificados personales sólo estará disponible para el procesamiento de mensajes si el perfil del usuario está cargado para el usuario cuyas credenciales de inicio de sesión están asociadas a la instancia del host.</span><span class="sxs-lookup"><span data-stu-id="4e73a-154">The Personal certificate store will be available for message processing only if the user profile is loaded for the user whose logon credentials are associated with the host instance.</span></span> <span data-ttu-id="4e73a-155">El almacén personal se usa para los certificados de firma y descifrado (la clave privada propia del usuario).</span><span class="sxs-lookup"><span data-stu-id="4e73a-155">The Personal store is used for signing and decryption certificates (the user's own private key).</span></span> <span data-ttu-id="4e73a-156">El perfil del usuario se carga de forma predeterminada para la instancia del host de tipo En curso; sin embargo, el perfil del usuario no se carga de forma predeterminada para la instancia del host aislado.</span><span class="sxs-lookup"><span data-stu-id="4e73a-156">The user profile is loaded by default for the in-process host instance; however, the user profile is not loaded by default for the isolated host instance.</span></span> <span data-ttu-id="4e73a-157">Puede hacer que una aplicación cargue el perfil del usuario para el host aislado.</span><span class="sxs-lookup"><span data-stu-id="4e73a-157">You can have an application load the user profile for the isolated host.</span></span> <span data-ttu-id="4e73a-158">Como alternativa, puede solucionar este problema usando el mismo inicio de sesión para la instancia del host de tipo En curso y la instancia del host aislado.</span><span class="sxs-lookup"><span data-stu-id="4e73a-158">Alternatively, you can work around this issue by using the same logon for the in-process host instance and the isolated host instance.</span></span>  

## <a name="generating-certificates"></a><span data-ttu-id="4e73a-159">Generar certificados</span><span class="sxs-lookup"><span data-stu-id="4e73a-159">Generating Certificates</span></span>  
 <span data-ttu-id="4e73a-160">Los certificados se pueden obtener de una Entidad de certificación (CA); sin embargo, los pasos para solicitar un certificado pueden variar entre las CA.</span><span class="sxs-lookup"><span data-stu-id="4e73a-160">Certificates can be obtained from a Certificate Authority (CA); however the steps to request a certificate can vary between CAs.</span></span> <span data-ttu-id="4e73a-161">Revise la información proporcionada en el sitio web de la Autoridad de certificación antes de enviar la solicitud de certificado.</span><span class="sxs-lookup"><span data-stu-id="4e73a-161">Review the information provided on the Certificate Authority’s Web site before submitting any certificate requests.</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="4e73a-162">Los certificados usados para el transporte AS2 deben tener los atributos necesarios para su uso previsto.</span><span class="sxs-lookup"><span data-stu-id="4e73a-162">Certificates used for AS2 transport must have the attributes required for their intended use.</span></span> <span data-ttu-id="4e73a-163">Para firmar y comprobar la firma, el **uso clave** atributo del certificado debe ser **firma Digital**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-163">For signing and signature verification, the **Key Usage** attribute of the certificate must be **Digital Signature**.</span></span> <span data-ttu-id="4e73a-164">Para el cifrado y descifrado, el **uso clave** atributo del certificado debe ser **cifrado de datos** o **cifrado de clave**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-164">For encryption and decryption, the **Key Usage** attribute of the certificate must be **Data Encipherment** or **Key Encipherment**.</span></span> <span data-ttu-id="4e73a-165">Puede comprobar el **uso clave** atributo haciendo doble clic en el certificado, haga clic en el **detalles** pestaña en el **certificado** cuadro de diálogo y comprobando la **Uso clave** campo.</span><span class="sxs-lookup"><span data-stu-id="4e73a-165">You can verify the **Key Usage** attribute by double-clicking the certificate, clicking the **Details** tab in the **Certificate** dialog box, and checking the **Key Usage** field.</span></span>  

 <span data-ttu-id="4e73a-166">Puede generar certificados en Windows Server 2008 usando Servicios de servidor de certificados; sin embargo, es posible que el socio solo acepte estos certificados para las pruebas ya que su firma es automática en lugar de estar firmados por una CA pública.</span><span class="sxs-lookup"><span data-stu-id="4e73a-166">You can also generate certificates in Windows Server 2008 by using Certificate Services, however your partner may only accept these certificates for test purposes as they are self-signed instead of signed by a public CA.</span></span> <span data-ttu-id="4e73a-167">Para obtener más información sobre el uso de servicios de certificados para solicitar certificados, descargue **guía Windows Server 2008 Active Directory Certificate Services paso a paso** desde [guías paso a paso de Windows Server 2008 ](http://go.microsoft.com/fwlink/?LinkId=187916) ([http://go.microsoft.com/fwlink/?LinkId=187916](http://go.microsoft.com/fwlink/?LinkId=187916)).</span><span class="sxs-lookup"><span data-stu-id="4e73a-167">For more information on using Certificate Services to request certificates, download **Windows Server 2008 Active Directory Certificate Services Step-By-Step Guide** from [Windows Server 2008 Step-by-Step Guides](http://go.microsoft.com/fwlink/?LinkId=187916) ([http://go.microsoft.com/fwlink/?LinkId=187916](http://go.microsoft.com/fwlink/?LinkId=187916)).</span></span>  

### <a name="to-configure-a-certificate-for-signing-outgoing-as2-messages"></a><span data-ttu-id="4e73a-168">Procedimiento para configurar un certificado para firmar mensajes AS2 salientes</span><span class="sxs-lookup"><span data-stu-id="4e73a-168">To configure a certificate for signing outgoing AS2 messages</span></span>  

1. <span data-ttu-id="4e73a-169">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, haga clic en el **grupo de BizTalk** nodo y, a continuación, haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-169">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click the **BizTalk Group** node, and then click **Properties**.</span></span>  

2. <span data-ttu-id="4e73a-170">En el árbol de consola de la **propiedades del grupo** cuadro de diálogo, haga clic en **certificado**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-170">In the console tree of the **Group Properties** dialog box, click **Certificate**.</span></span>  

3. <span data-ttu-id="4e73a-171">En el **certificado** panel, haga clic en **examinar**, busque el certificado que desea usar para la firma y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-171">In the **Certificate** pane, click **Browse**, find the certificate you want to use for signing, and then click **OK**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="4e73a-172">En lugar de escribir el nombre común del certificado, se puede especificar sólo la huella digital.</span><span class="sxs-lookup"><span data-stu-id="4e73a-172">Instead of entering the common name of the certificate, you can enter just the thumbprint.</span></span> <span data-ttu-id="4e73a-173">Puede obtener la huella digital haciendo doble clic en el certificado en el almacén de certificados en MMC o en el sistema de archivos, haga clic en el **detalles** ficha, haga clic en el **huella digital** campo y copiar la huella digital .</span><span class="sxs-lookup"><span data-stu-id="4e73a-173">You can get the thumbprint by double-clicking the certificate in the certificate store in MMC or in the file system, clicking the **Details** tab, clicking the **Thumbprint** field, and copying the thumbprint.</span></span>  

4. <span data-ttu-id="4e73a-174">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-174">Click **OK**.</span></span>  

### <a name="to-configure-a-certificate-for-signing-outgoing-as2-messages-for-a-specific-party"></a><span data-ttu-id="4e73a-175">Procedimiento para configurar un certificado para la firma de mensajes AS2 salientes para una entidad específica</span><span class="sxs-lookup"><span data-stu-id="4e73a-175">To configure a certificate for signing outgoing AS2 messages for a specific party</span></span>  

1. <span data-ttu-id="4e73a-176">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, haga clic en el **partes** nodo.</span><span class="sxs-lookup"><span data-stu-id="4e73a-176">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, click the **Parties** node.</span></span> <span data-ttu-id="4e73a-177">Desde el **entidades y perfiles empresariales** panel, desde el **acuerdos** sección, haga clic en el acuerdo que se crea para intercambiar mensajes con una entidad específica y haga clic en  **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-177">From the **Parties and Business Profiles** pane, from the **Agreements** section, right-click the agreement that is created for exchanging messages with a specific party, and click **Properties**.</span></span>  

2. <span data-ttu-id="4e73a-178">En una ficha de acuerdo unidireccional, haga clic en **los certificados de firma**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-178">On a one-way agreement tab, click **Signature Certificates**.</span></span>  

3. <span data-ttu-id="4e73a-179">Seleccione el **certificado de firma de grupo de invalidación** casilla de verificación para usar el certificado proporcionado en esta página para firmar mensajes AS2 salientes y MDN.</span><span class="sxs-lookup"><span data-stu-id="4e73a-179">Select the **Override group signing certificate** check box to use the certificate provided in this page for signing outgoing AS2 messages and MDN.</span></span>  

4. <span data-ttu-id="4e73a-180">Haga clic en **examinar** para mostrar el **Seleccionar certificado** cuadro de diálogo, donde podrá seleccionar el certificado de firma para aplicar a los mensajes transmitidos por esta entidad.</span><span class="sxs-lookup"><span data-stu-id="4e73a-180">Click **Browse** to display the **Select Certificate** dialog box, where you select the signature certificate to apply to messages transmitted by this party.</span></span>  

5. <span data-ttu-id="4e73a-181">El **nombre común** cuadro de texto muestra una descripción del certificado seleccionado.</span><span class="sxs-lookup"><span data-stu-id="4e73a-181">The **Common Name** text box displays a description of the selected certificate.</span></span>  

6. <span data-ttu-id="4e73a-182">El **huella digital** cuadro de texto muestra la huella digital del certificado.</span><span class="sxs-lookup"><span data-stu-id="4e73a-182">The **Thumbprint** text box displays the thumbprint of certificate.</span></span> <span data-ttu-id="4e73a-183">La huella digital del certificado tiene el formato HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH, donde H es un dígito hexadecimal (un número entre 0 y 9) o una letra de la a F.</span><span class="sxs-lookup"><span data-stu-id="4e73a-183">The certificate thumbprint has the format HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH, where H is a hexadecimal digit (a number from 0 through 9 or a letter from A through F).</span></span>  

7. <span data-ttu-id="4e73a-184">Haga clic en **quitar certificado** para quitar el certificado seleccionado.</span><span class="sxs-lookup"><span data-stu-id="4e73a-184">Click **Remove Certificate** to remove the selected certificate.</span></span>  

8. <span data-ttu-id="4e73a-185">Haga clic en **Aceptar** para validar los cambios y, a continuación, cierre el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="4e73a-185">Click **OK** to validate the changes and then close the dialog box.</span></span>  

### <a name="to-configure-a-certificate-for-verifying-the-digital-signature-of-an-incoming-as2-messages"></a><span data-ttu-id="4e73a-186">Para configurar un certificado para la verificación de la firma digital de mensajes AS2 entrantes</span><span class="sxs-lookup"><span data-stu-id="4e73a-186">To configure a certificate for verifying the digital signature of an incoming AS2 messages</span></span>  

1. <span data-ttu-id="4e73a-187">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, abra el **grupo de BizTalk** nodo y, a continuación, haga clic en el **partes** nodo.</span><span class="sxs-lookup"><span data-stu-id="4e73a-187">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, open the **BizTalk Group** node, and then click the **Parties** node.</span></span>  

2. <span data-ttu-id="4e73a-188">En el **entidades y perfiles empresariales** panel, haga la entidad que va a recibir los mensajes firmados y, a continuación, haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-188">In the **Parties and Business Profiles** pane, right-click the party that you will be receiving signed messages from, and then click **Properties**.</span></span>  

3. <span data-ttu-id="4e73a-189">En el árbol de consola, haga clic en **certificado**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-189">In the console tree, click **Certificate**.</span></span>  

4. <span data-ttu-id="4e73a-190">En el **certificado** panel, haga clic en **examinar**, busque el certificado que desea usar para comprobar la firma digital y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-190">In the **Certificate** pane, click **Browse**, find the certificate you want to use for verifying the digital signature, and then click **OK**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="4e73a-191">En lugar de escribir el nombre común del certificado, se puede especificar sólo la huella digital.</span><span class="sxs-lookup"><span data-stu-id="4e73a-191">Instead of entering the common name of the certificate, you can enter just the thumbprint.</span></span> <span data-ttu-id="4e73a-192">Puede obtener la huella digital haciendo doble clic en el certificado en el almacén de certificados en MMC o en el sistema de archivos, haga clic en el **detalles** ficha, haga clic en el **huella digital** campo y copiar la huella digital .</span><span class="sxs-lookup"><span data-stu-id="4e73a-192">You can get the thumbprint by double-clicking the certificate in the certificate store in MMC or in the file system, clicking the **Details** tab, clicking the **Thumbprint** field, and copying the thumbprint.</span></span>  

5. <span data-ttu-id="4e73a-193">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-193">Click **OK**.</span></span>  

### <a name="to-configure-a-certificate-for-encrypting-an-outgoing-as2-messages"></a><span data-ttu-id="4e73a-194">Para configurar un certificado para el cifrado de mensajes AS2 salientes</span><span class="sxs-lookup"><span data-stu-id="4e73a-194">To configure a certificate for encrypting an outgoing AS2 messages</span></span>  

1. <span data-ttu-id="4e73a-195">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, abra el **grupo de BizTalk** nodo, abra el **aplicaciones** nodo y abra el nodo de la **aplicación** que contiene el puerto de envío que va a enviar el mensaje cifrado en.</span><span class="sxs-lookup"><span data-stu-id="4e73a-195">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, open the **BizTalk Group** node, open the **Applications** node, and open the node of the **application** that contains the send port that you will be sending the encrypted message on.</span></span>  

2. <span data-ttu-id="4e73a-196">Abra el **puertos de envío** nodo, haga clic en el puerto de envío y, a continuación, haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-196">Open the **Send Ports** node, right-click the send port, and then click **Properties**.</span></span>  

3. <span data-ttu-id="4e73a-197">En el árbol de consola, haga clic en **certificado**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-197">In the console tree, click **Certificate**.</span></span>  

4. <span data-ttu-id="4e73a-198">En el **certificado** panel, haga clic en **examinar**, busque el certificado que desea usar para el cifrado y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-198">In the **Certificate** pane, click **Browse**, find the certificate that you want to use for encryption, and then click **OK**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="4e73a-199">En lugar de escribir el nombre común del certificado, se puede especificar sólo la huella digital.</span><span class="sxs-lookup"><span data-stu-id="4e73a-199">Instead of entering the common name of the certificate, you can enter just the thumbprint.</span></span> <span data-ttu-id="4e73a-200">Puede obtener la huella digital haciendo doble clic en el certificado en el almacén de certificados en MMC o en el sistema de archivos, haga clic en el **detalles** ficha, haga clic en el **huella digital** campo y copiar la huella digital .</span><span class="sxs-lookup"><span data-stu-id="4e73a-200">You can get the thumbprint by double-clicking the certificate in the certificate store in MMC or in the file system, clicking the **Details** tab, clicking the **Thumbprint** field, and copying the thumbprint.</span></span>  

5. <span data-ttu-id="4e73a-201">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4e73a-201">Click **OK**.</span></span>  

## <a name="see-also"></a><span data-ttu-id="4e73a-202">Vea también</span><span class="sxs-lookup"><span data-stu-id="4e73a-202">See Also</span></span>  
 <span data-ttu-id="4e73a-203">[Seguridad de AS2](../core/as2-security.md) </span><span class="sxs-lookup"><span data-stu-id="4e73a-203">[AS2 Security](../core/as2-security.md) </span></span>  
 <span data-ttu-id="4e73a-204">[Configuración de la firma, compresión y cifrado en el transporte AS2](../core/configuring-signing-compression-and-encryption-in-as2-transport.md) </span><span class="sxs-lookup"><span data-stu-id="4e73a-204">[Configuring Signing, Compression, and Encryption in AS2 Transport](../core/configuring-signing-compression-and-encryption-in-as2-transport.md) </span></span>  
 <span data-ttu-id="4e73a-205">[AS2 Arquitectura de la solución](../core/as2-solution-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="4e73a-205">[AS2 Solution Architecture](../core/as2-solution-architecture.md) </span></span>  
 [<span data-ttu-id="4e73a-206">Instalación de certificados para los adaptadores de WCF</span><span class="sxs-lookup"><span data-stu-id="4e73a-206">Installing Certificates for the WCF Adapters</span></span>](../core/installing-certificates-for-the-wcf-adapters.md)