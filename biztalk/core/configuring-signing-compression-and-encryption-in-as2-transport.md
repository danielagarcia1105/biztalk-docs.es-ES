---
title: "Configuración de firma, compresión y cifrado en el transporte de AS2 | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: bc3537a7-c065-4a33-a375-29e7902b5ffa
caps.latest.revision: "15"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 88309f17e335708b6e73109972c6c02d75ee483c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="configuring-signing-compression-and-encryption-in-as2-transport"></a><span data-ttu-id="25a6b-102">Configurar la firma, la compresión y el cifrado en el transporte AS2</span><span class="sxs-lookup"><span data-stu-id="25a6b-102">Configuring Signing, Compression, and Encryption in AS2 Transport</span></span>
<span data-ttu-id="25a6b-103">Puede configurar las firmas digitales, así como la verificación, el cifrado y el descifrado de firmas desde la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="25a6b-103">You can configure digital signatures, signature verification, encryption, and decryption from within the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span> <span data-ttu-id="25a6b-104">Para llevar a cabo esta configuración, es preciso establecer las propiedades adecuadas para las canalizaciones AS2 y las entidades de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="25a6b-104">This configuration requires that you set the appropriate properties for the AS2 pipelines and BizTalk parties.</span></span>  
  
## <a name="using-as2-pipelines"></a><span data-ttu-id="25a6b-105">Usar canalizaciones AS2</span><span class="sxs-lookup"><span data-stu-id="25a6b-105">Using AS2 Pipelines</span></span>  
 <span data-ttu-id="25a6b-106">Para contribuir a proteger un mensaje AS2 entrante, use una canalización de recepción AS2 (AS2EdiReceive o AS2Receive) en la ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="25a6b-106">To help secure an inbound AS2 message, use an AS2 receive pipeline (AS2EdiReceive or AS2Receive) in your receive location.</span></span> <span data-ttu-id="25a6b-107">El descodificador AS2 descifra, descomprime y realiza la verificación de la firma en mensajes AS2.</span><span class="sxs-lookup"><span data-stu-id="25a6b-107">The AS2 Decoder decrypts, decompresses, and/or performs signature verification on AS2 messages.</span></span> <span data-ttu-id="25a6b-108">Para obtener más información sobre cómo lo hace, vea la sección "Descodificador AS2" de [componentes de recepción de AS2](../core/as2-receive-components.md).</span><span class="sxs-lookup"><span data-stu-id="25a6b-108">For more information on how it does so, see the "AS2 Decoder" section of [AS2 Receive Components](../core/as2-receive-components.md).</span></span>  
  
 <span data-ttu-id="25a6b-109">Para contribuir a proteger un mensaje AS2 saliente, use una canalización de envío AS2 (AS2EdiSend o AS2Send) en el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="25a6b-109">To help secure an outbound AS2 message, use an AS2 send pipeline (AS2EdiSend or AS2Send) in your send port.</span></span> <span data-ttu-id="25a6b-110">El descodificador AS2 firma, comprime y cifra los mensajes AS2 salientes.</span><span class="sxs-lookup"><span data-stu-id="25a6b-110">The AS2 Encoder signs, compresses, and encrypts outbound AS2 messages.</span></span> <span data-ttu-id="25a6b-111">Para obtener más información sobre cómo lo hace, vea la sección "Codificador AS2" de [componentes de envío de AS2](../core/as2-send-components.md).</span><span class="sxs-lookup"><span data-stu-id="25a6b-111">For more information on how it does so, see the "AS2 Encoder" section of [AS2 Send Components](../core/as2-send-components.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="25a6b-112">Una vez que se ha firmado un mensaje, el blob de firma no se debe cambiar.</span><span class="sxs-lookup"><span data-stu-id="25a6b-112">Once a message has been signed, the signature blob must not be changed.</span></span> <span data-ttu-id="25a6b-113">De hacerlo, la firma se dañaría.</span><span class="sxs-lookup"><span data-stu-id="25a6b-113">If changed, the signature would be corrupted.</span></span> <span data-ttu-id="25a6b-114">El encabezado de límite, o cualquier elemento fuera de los encabezados de límite, puede modificarse, pero no se debe cambiar nada que se encuentre dentro de estos encabezados.</span><span class="sxs-lookup"><span data-stu-id="25a6b-114">The boundary header, or anything outside the boundary headers, can be changed, but anything within the boundary headers must not be changed.</span></span>  
  
## <a name="setting-as2-agreement-properties"></a><span data-ttu-id="25a6b-115">Configuración de las propiedades del acuerdo AS2</span><span class="sxs-lookup"><span data-stu-id="25a6b-115">Setting AS2 Agreement Properties</span></span>  
 <span data-ttu-id="25a6b-116">Para configurar el procesamiento de firmas y el cifrado puede establecer las propiedades del acuerdo AS2 de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="25a6b-116">You configure signature and encryption processing by setting AS2 agreement properties as follows:</span></span>  
  
-   <span data-ttu-id="25a6b-117">Para firmar, comprimir o cifrar un mensaje saliente, compruebe el **debe firmarse el mensaje**, **debe comprimirse el mensaje**, y **debe cifrarse el mensaje** propiedades de la **validación** página de la ficha de acuerdo unidireccional (para el mensaje saliente de AS2) en el **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="25a6b-117">To sign, compress, and/or encrypt an outbound message, check the **Message should be signed**, **Message should be compressed**, and **Message should be encrypted** properties on the **Validation** page of the one-way agreement tab (for the outgoing AS2 message) in the **Agreement Properties** dialog box.</span></span>  
  
-   <span data-ttu-id="25a6b-118">Para solicitar un MDN firmado en respuesta a un mensaje saliente, compruebe el **solicitar MDN** y **solicitar MDN firmado** propiedades en el **confirmaciones (MDN)** página de la ficha de acuerdo unidireccional del **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="25a6b-118">To request a signed MDN in response to an outbound message, check the **Request MDN** and **Request signed MDN** properties on the **Acknowledgements (MDNs)** page of the one-way agreement tab of the **Agreement Properties** dialog box.</span></span>  
  
-   <span data-ttu-id="25a6b-119">Para especificar que un mensaje entrante está firmado, comprimido, o cifrado, compruebe el **usar la configuración de acuerdo para validación y MDN en lugar del encabezado de mensaje** propiedad, el **debe firmarse el mensaje** propiedad, el **debe comprimirse el mensaje** propiedad y el **debe cifrarse el mensaje** propiedad en el **validación** página del acuerdo unidireccional pestaña (para el mensaje entrante de AS2) en el **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="25a6b-119">To specify that an inbound message is signed, compressed, and/or encrypted, check the **Use agreement settings for validation and MDN instead of message header** property, the **Message should be signed** property, the **Message should be compressed** property, and the **Message should be encrypted** property on the **Validation** page of the one-way agreement tab (for the incoming AS2 message) in the **Agreement Properties** dialog box.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="25a6b-120">Cuando el **usar la configuración de acuerdo para validación y MDN en lugar del encabezado de mensaje** propiedad está activada, se omiten todos los detalles del encabezado del mensaje entrante y el mensaje se procesa en función de la configuración del acuerdo.</span><span class="sxs-lookup"><span data-stu-id="25a6b-120">When the **Use agreement settings for validation and MDN instead of message header** property is selected, all header details of the incoming message are ignored and the message is processed based on the agreement settings.</span></span>  
  
-   <span data-ttu-id="25a6b-121">Para especificar un MDN firmado en respuesta a un mensaje entrante, cuando se invalidan las propiedades de mensajes entrantes seleccionando la **usar la configuración de acuerdo para validación y MDN en lugar del encabezado de mensaje** propiedad, compruebe el **Solicitar MDN firmado** propiedad **confirmaciones (MDN)** página de la **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="25a6b-121">To specify a signed MDN in response to an inbound message, when the inbound message properties are overridden by selecting the **Use agreement settings for validation and MDN instead of message header** property, check the **Request Signed MDN** property on **Acknowledgements (MDNs)** page of the **Agreement Properties** dialog box.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="25a6b-122">Cuando el **usar la configuración de acuerdo para validación y MDN en lugar del encabezado de mensaje** propiedad está activada, se omiten todos los detalles del encabezado del mensaje entrante y el mensaje se procesa en función de la configuración del acuerdo.</span><span class="sxs-lookup"><span data-stu-id="25a6b-122">When the **Use agreement settings for validation and MDN instead of message header** property is selected, all header details of the incoming message are ignored and the message is processed based on the agreement settings.</span></span>  
  
-   <span data-ttu-id="25a6b-123">Para especificar un MDN firmado en respuesta a un mensaje entrante, cuando no se invalidan las propiedades de mensaje entrante (el **usar la configuración de acuerdo para validación y MDN en lugar del encabezado de mensaje** está desactivada), pero no así los encabezados del mensaje especifican la firma, compruebe el **firmar el MDN solicitado si el encabezado Disposition-Notification-Option no está presente o si el encabezado Signed-Receipt-Protocol está establecido en opcional** propiedad en el **configuración de MDN de receptor**página de la **propiedades del acuerdo de** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="25a6b-123">To specify a signed MDN in response to an inbound message, when the inbound message properties are not overridden (the **Use agreement settings for validation and MDN instead of message header** is cleared), but the message headers do not specify signing, check the **Sign requested MDN if Disposition-Notification-Option header is not present or if Signed-Receipt-Protocol header is set to optional** property on the **Receiver MDN Settings** page of the **Agreement Properties** dialog box.</span></span>  
  
-   <span data-ttu-id="25a6b-124">Para especificar un certificado de firmado diferente a la especificada en las propiedades del grupo de BizTalk para mensajes AS2 salientes, seleccione **invalidar certificado de firma de grupo** en el **el certificado de firma**página de la ficha de acuerdo unidireccional del **propiedades del acuerdo** diálogo cuadro y especifique un certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="25a6b-124">To specify a different signing certificate than the one specified in the BizTalk Group properties for outgoing AS2 messages, select **Override Group Signature Certificate** in the **Signature Certificate** page of the one-way agreement tab of the **Agreement Properties** dialog box, and specify a signing certificate.</span></span> <span data-ttu-id="25a6b-125">Si se establece esta propiedad, se firmará el mensaje AS2 que se resuelve en el acuerdo con el certificado proporcionado en el **certificado de firma** página y no por el certificado proporcionado como parte de las propiedades del grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="25a6b-125">If this property is set, whichever AS2 message that resolves to the agreement will be signed using the certificate provided in the **Signature Certificate** page and not by the certificate provided as part of the BizTalk Group properties.</span></span>  
  
 <span data-ttu-id="25a6b-126">Para obtener más información acerca de cómo configurar las propiedades de entidad, vea [configurar propiedades de AS2](../core/configuring-as2-properties.md).</span><span class="sxs-lookup"><span data-stu-id="25a6b-126">For more information about setting up party properties, see [Configuring AS2 Properties](../core/configuring-as2-properties.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="25a6b-127">Vea también</span><span class="sxs-lookup"><span data-stu-id="25a6b-127">See Also</span></span>  
 <span data-ttu-id="25a6b-128">[Seguridad de AS2](../core/as2-security.md) </span><span class="sxs-lookup"><span data-stu-id="25a6b-128">[AS2 Security](../core/as2-security.md) </span></span>  
 <span data-ttu-id="25a6b-129">[Configurar certificados para AS2](../core/configuring-certificates-for-as2.md) </span><span class="sxs-lookup"><span data-stu-id="25a6b-129">[Configuring Certificates for AS2](../core/configuring-certificates-for-as2.md) </span></span>  
 <span data-ttu-id="25a6b-130">[Mensajes de AS2](../core/as2-messages.md) </span><span class="sxs-lookup"><span data-stu-id="25a6b-130">[AS2 Messages](../core/as2-messages.md) </span></span>  
 <span data-ttu-id="25a6b-131">[AS2 Componentes de recepción](../core/as2-receive-components.md) </span><span class="sxs-lookup"><span data-stu-id="25a6b-131">[AS2 Receive Components](../core/as2-receive-components.md) </span></span>  
 <span data-ttu-id="25a6b-132">[AS2 Componentes de envío](../core/as2-send-components.md) </span><span class="sxs-lookup"><span data-stu-id="25a6b-132">[AS2 Send Components](../core/as2-send-components.md) </span></span>  
 [<span data-ttu-id="25a6b-133">Configurar propiedades de AS2</span><span class="sxs-lookup"><span data-stu-id="25a6b-133">Configuring AS2 Properties</span></span>](../core/configuring-as2-properties.md)