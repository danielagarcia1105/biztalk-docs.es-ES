---
title: Cómo importar una directiva | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- policies, requirements
- importing, policies
- policies, importing
- managing [policies], importing
ms.assetid: 92f6ef18-279f-416d-b13e-8b9642539d27
caps.latest.revision: 29
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c70038d23dc43a865a5fe30d80543f0d1a47149a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37000301"
---
# <a name="how-to-import-a-policy"></a><span data-ttu-id="77a95-102">Cómo importar una directiva</span><span class="sxs-lookup"><span data-stu-id="77a95-102">How to Import a Policy</span></span>
<span data-ttu-id="77a95-103">En este tema se describe cómo usar la consola de administración de BizTalk Server para importar una directiva en un grupo de BizTalk o la herramienta de la línea de comandos BTSTask para importar una directiva en una aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77a95-103">This topic describes how to use the BizTalk Server Administration console to import a policy into a BizTalk group or the BTSTask command-line tool to import a policy into a BizTalk application.</span></span>  
  
 <span data-ttu-id="77a95-104">Puede crear una directiva mediante el uso del compositor de reglas de negocio, como se describe en [crear reglas de negocio mediante el compositor](../core/creating-business-rules-using-the-business-rule-composer.md)y, a continuación, importarla directamente, o puede exportar una directiva de otro grupo de BizTalk, como se describe en [Cómo exportar una directiva](../core/how-to-export-a-policy.md) y, a continuación, importarlo.</span><span class="sxs-lookup"><span data-stu-id="77a95-104">You can create a policy by using the Business Rule Composer, as described in [Creating Business Rules Using the Business Rule Composer](../core/creating-business-rules-using-the-business-rule-composer.md), and then import it directly, or you can export a policy from another BizTalk group, as described in [How to Export a Policy](../core/how-to-export-a-policy.md) and then import it.</span></span>  
  
 <span data-ttu-id="77a95-105">Al importar una directiva, se registra en la base de datos del motor de reglas del grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77a95-105">Importing a policy registers it in the Rule Engine database for the BizTalk group.</span></span> <span data-ttu-id="77a95-106">Una vez importada la directiva, puede verla en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="77a95-106">After you import the policy, you can view it in the BizTalk Server Administration console.</span></span> <span data-ttu-id="77a95-107">Si usa la consola de administración de BizTalk Server para importar una directiva, se mostrará en el \<todos los artefactos\> nodo para el grupo de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77a95-107">If you use the BizTalk Server Administration console to import a policy, it will display in the \<All Artifacts\> node for the BizTalk group.</span></span> <span data-ttu-id="77a95-108">A continuación, puede publicarla para que esté disponible para agregarlo a una aplicación de BizTalk, como se describe en [cómo publicar una directiva](../core/how-to-publish-a-policy.md).</span><span class="sxs-lookup"><span data-stu-id="77a95-108">You can then publish it to make it available to add it to a BizTalk application, as described in [How to Publish a Policy](../core/how-to-publish-a-policy.md).</span></span> <span data-ttu-id="77a95-109">Si usa la herramienta de la línea de comandos BTSTask para importar una directiva, ésta se publicará de forma automática y se mostrará en la carpeta Directivas de la aplicación en la que la importó.</span><span class="sxs-lookup"><span data-stu-id="77a95-109">If you use the BTSTask command-line tool to import a policy, the policy will be automatically published and will display in the Policies folder of the application into which you imported it.</span></span>  
  
 <span data-ttu-id="77a95-110">Al importar una directiva, tenga en cuenta los siguientes puntos importantes:</span><span class="sxs-lookup"><span data-stu-id="77a95-110">When importing a policy, bear in mind the following important points:</span></span>  
  
- <span data-ttu-id="77a95-111">Incluso si especifica la opción de sobrescritura de una directiva existente con la directiva importada, no podrá importar una directiva que exista ya en la base de datos del motor de reglas del grupo y que se haya implementado.</span><span class="sxs-lookup"><span data-stu-id="77a95-111">Even if you specify the option to overwrite an existing policy with the imported policy, you cannot import a policy that already exists in the Rule Engine database for the group and has been deployed.</span></span> <span data-ttu-id="77a95-112">La importación no se llevará a cabo correctamente.</span><span class="sxs-lookup"><span data-stu-id="77a95-112">The import operation will fail.</span></span>  
  
- <span data-ttu-id="77a95-113">Incluso si la directiva se encontraba en un estado implementado al exportarla de otro grupo de BizTalk, estará en un estado no implementado cuando se importe.</span><span class="sxs-lookup"><span data-stu-id="77a95-113">Even if the policy was in a deployed state when exported from another BizTalk group, it will be in an undeployed state when imported.</span></span>  
  
- <span data-ttu-id="77a95-114">BTSTask no proporciona un comando específico para la importación de directivas; sin embargo puede usar el comando ExportApp de BTSTask para exportar de forma selectiva únicamente las directivas de la aplicación que desee, sin incluir otros artefactos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="77a95-114">BTSTask does not provide a specific command for importing policies; however you can use the ExportApp command of BTSTask to selectively export only the policies in an application that you want, including no other application artifacts.</span></span> <span data-ttu-id="77a95-115">A continuación, puede usar el comando ImportApp para importar el archivo .msi a una aplicación de un grupo de BizTalk diferente.</span><span class="sxs-lookup"><span data-stu-id="77a95-115">Then you can use the ImportApp command to import the .msi file into an application in a different BizTalk group.</span></span> <span data-ttu-id="77a95-116">Éste es el enfoque que se describe en este tema.</span><span class="sxs-lookup"><span data-stu-id="77a95-116">This is the approach described in this topic.</span></span> <span data-ttu-id="77a95-117">Al hacerlo, la directiva se importa y se publica de forma automática en el grupo de BizTalk y se agrega a la aplicación especificada.</span><span class="sxs-lookup"><span data-stu-id="77a95-117">When you do this, the policy is automatically imported and published in the BizTalk group and added to the specified application.</span></span>  
  
  <span data-ttu-id="77a95-118">Para obtener más información sobre cómo trabajar con las directivas, consulte [administrar directivas](../core/managing-policies.md).</span><span class="sxs-lookup"><span data-stu-id="77a95-118">For more information about working with policies, see [Managing Policies](../core/managing-policies.md).</span></span> <span data-ttu-id="77a95-119">Para ver recomendaciones sobre cómo agregar directivas a las aplicaciones, consulte [procedimientos recomendados para implementar una aplicación de BizTalk](../core/best-practices-for-deploying-a-biztalk-application.md).</span><span class="sxs-lookup"><span data-stu-id="77a95-119">For best practices on adding policies to applications, see [Best Practices for Deploying a BizTalk Application](../core/best-practices-for-deploying-a-biztalk-application.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="77a95-120">Puede crear directivas y, a continuación, importarlos en la base de datos de motor de reglas para el grupo mediante el Asistente para la implementación del motor de reglas, como se describe en el programador de soluciones [cómo implementar y anular la implementación de directivas y vocabularios](../core/how-to-deploy-and-undeploy-policies-and-vocabularies.md).</span><span class="sxs-lookup"><span data-stu-id="77a95-120">The solution developer can create policies and then import them into the Rule Engine database for the group by using the Rule Engine Deployment Wizard, as described in [How to Deploy and Undeploy Policies and Vocabularies](../core/how-to-deploy-and-undeploy-policies-and-vocabularies.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="77a95-121">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="77a95-121">Prerequisites</span></span>  
 <span data-ttu-id="77a95-122">A continuación, se enumeran los requisitos previos para efectuar los procedimientos de este tema:</span><span class="sxs-lookup"><span data-stu-id="77a95-122">The following are prerequisites for performing the procedures in this topic:</span></span>  
  
-   <span data-ttu-id="77a95-123">Es preciso haber iniciado sesión con una cuenta que sea miembro del grupo de administradores de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="77a95-123">You must be logged on with an account that is a member of the BizTalk Server Administrators group.</span></span> <span data-ttu-id="77a95-124">Para obtener más información sobre los permisos, consulte [los permisos necesarios para implementar y administrar una aplicación de BizTalk](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span><span class="sxs-lookup"><span data-stu-id="77a95-124">For more detailed information on permissions, see [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span></span>  
  
-   <span data-ttu-id="77a95-125">El motor de reglas de negocios debe estar instalado.</span><span class="sxs-lookup"><span data-stu-id="77a95-125">The Business Rule Engine must be installed.</span></span> <span data-ttu-id="77a95-126">Para obtener más información, consulte [Introducción a la instalación de BizTalk Server 2013 y 2013 R2](http://msdn.microsoft.com/library/8041926c-cfc9-4eaf-9c28-a2c6e8015bc5).</span><span class="sxs-lookup"><span data-stu-id="77a95-126">For more information, see [Installation Overview for BizTalk Server 2013 and 2013 R2](http://msdn.microsoft.com/library/8041926c-cfc9-4eaf-9c28-a2c6e8015bc5).</span></span>  
  
-   <span data-ttu-id="77a95-127">Si desea usar la consola de administración de BizTalk Server para importar una directiva, debe tener disponible un archivo .xml que contenga la directiva que desea importar.</span><span class="sxs-lookup"><span data-stu-id="77a95-127">If you want to use the BizTalk Server Administration console to import a policy, you must have available an .xml file containing the policy that you want to import.</span></span> <span data-ttu-id="77a95-128">Puede generar este archivo .xml si exporta una directiva de otro grupo de BizTalk o la aplicación, como se describe en [cómo exportar una directiva](../core/how-to-export-a-policy.md), o mediante el Compositor de reglas de negocio, como se describe en [cómo importar y exportar Directivas y vocabularios](../core/how-to-import-and-export-policies-and-vocabularies.md).</span><span class="sxs-lookup"><span data-stu-id="77a95-128">You can generate such an .xml file by exporting a policy from another BizTalk group or application, as described in [How to Export a Policy](../core/how-to-export-a-policy.md), or by using the Business Rule Composer, as described in [How to Import and Export Policies and Vocabularies](../core/how-to-import-and-export-policies-and-vocabularies.md).</span></span>  
  
-   <span data-ttu-id="77a95-129">Si desea usar BTSTask para importar una directiva, debe tener un archivo .msi que contenga la directiva que desea importar.</span><span class="sxs-lookup"><span data-stu-id="77a95-129">If you want to use BTSTask to import a policy, you must have an .msi file containing the policy to import.</span></span> <span data-ttu-id="77a95-130">Para obtener instrucciones, consulte [cómo exportar una directiva](../core/how-to-export-a-policy.md).</span><span class="sxs-lookup"><span data-stu-id="77a95-130">For instructions, see [How to Export a Policy](../core/how-to-export-a-policy.md).</span></span>  
  
## <a name="to-import-a-policy"></a><span data-ttu-id="77a95-131">Para importar una directiva</span><span class="sxs-lookup"><span data-stu-id="77a95-131">To import a policy</span></span>  
  
#### <a name="using-the-biztalk-server-administration-console"></a><span data-ttu-id="77a95-132">Mediante la consola de administración de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="77a95-132">Using the BizTalk Server Administration console</span></span>  
  
1. <span data-ttu-id="77a95-133">Haga clic en **iniciar**, haga clic en **todos los programas**, haga clic en [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]y, a continuación, haga clic en **administración de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="77a95-133">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2. <span data-ttu-id="77a95-134">En el árbol de consola, expanda [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expanda el grupo de BizTalk en la que desea importar la directiva, expanda **aplicaciones**y, a continuación, expanda **\<todos los artefactos\>**.</span><span class="sxs-lookup"><span data-stu-id="77a95-134">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand the BizTalk group into which you want to import the policy, expand **Applications**, and then expand **\<All Artifacts\>**.</span></span>  
  
3. <span data-ttu-id="77a95-135">Haga clic en **directivas**y, a continuación, haga clic en **importación**.</span><span class="sxs-lookup"><span data-stu-id="77a95-135">Right-click **Policies**, and then click **Import**.</span></span>  
  
4. <span data-ttu-id="77a95-136">Busque el archivo .xml que contiene la directiva y haga clic en **abierto**.</span><span class="sxs-lookup"><span data-stu-id="77a95-136">Browse to the .xml file containing the policy and click **Open**.</span></span>  
  
    <span data-ttu-id="77a95-137">La directiva se importa en el grupo y se muestra en el **directivas** carpeta de  **\<todos los artefactos\>**.</span><span class="sxs-lookup"><span data-stu-id="77a95-137">The policy is imported into the group and displays in the **Policies** folder of **\<All Artifacts\>**.</span></span>  
  
#### <a name="using-the-command-line"></a><span data-ttu-id="77a95-138">Utilizar la línea de comandos</span><span class="sxs-lookup"><span data-stu-id="77a95-138">Using the command line</span></span>  
  
1. <span data-ttu-id="77a95-139">Abra un símbolo del sistema como sigue: haga clic en **iniciar**, haga clic en **ejecutar**, tipo `cmd`y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="77a95-139">Open a command prompt as follows: Click **Start**, click **Run**, type `cmd`, and then click **OK**.</span></span>  
  
2. <span data-ttu-id="77a95-140">Escriba el siguiente comando, sustituyendo los valores según corresponda, como se describe en la tabla que se presenta a continuación:</span><span class="sxs-lookup"><span data-stu-id="77a95-140">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
    <span data-ttu-id="77a95-141">**ImportApp de BTSTask/Package:** *valor* [**/ApplicationName:**<em>valor</em>] [**/Overwrite**] [**/ Servidor:**<em>valor</em>] [**/Database:**<em>valor</em>]</span><span class="sxs-lookup"><span data-stu-id="77a95-141">**BTSTask ImportApp /Package:** *value* [**/ApplicationName:**<em>value</em>] [**/Overwrite**] [**/Server:**<em>value</em>] [**/Database:**<em>value</em>]</span></span>  
  
    <span data-ttu-id="77a95-142">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="77a95-142">Example:</span></span>  
  
    <span data-ttu-id="77a95-143">**/ Package ImportApp de BTSTask: "C:\MSI msi\miaplicación. msi" /Environment:Test /ApplicationName:MyApplication / Overwrite**</span><span class="sxs-lookup"><span data-stu-id="77a95-143">**BTSTask ImportApp /Package:"C:\MSI Files\MyApplication.msi"  /Environment:Test /ApplicationName:MyApplication /Overwrite**</span></span>  
  
   |<span data-ttu-id="77a95-144">Parámetro</span><span class="sxs-lookup"><span data-stu-id="77a95-144">Parameter</span></span>|<span data-ttu-id="77a95-145">Valor</span><span class="sxs-lookup"><span data-stu-id="77a95-145">Value</span></span>|  
   |---------------|-----------|  
   |<span data-ttu-id="77a95-146">**/ Paquete**</span><span class="sxs-lookup"><span data-stu-id="77a95-146">**/Package**</span></span>|<span data-ttu-id="77a95-147">Ruta completa del archivo .msi que contenga la directiva que se va a importar.</span><span class="sxs-lookup"><span data-stu-id="77a95-147">Full path of the .msi file containing the policy to import.</span></span> <span data-ttu-id="77a95-148">Si la ruta de acceso incluye espacios, debe encerrarlo entre comillas (").</span><span class="sxs-lookup"><span data-stu-id="77a95-148">If the path includes spaces, you must enclose it in quotation marks (").</span></span>|  
   |<span data-ttu-id="77a95-149">**/ ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="77a95-149">**/ApplicationName**</span></span>|<span data-ttu-id="77a95-150">Nombre de la aplicación de BizTalk en la que se importa la directiva.</span><span class="sxs-lookup"><span data-stu-id="77a95-150">Name of the BizTalk application into which to import the policy.</span></span> <span data-ttu-id="77a95-151">Si no se especifica, se utiliza el nombre de aplicación especificado al exportar el archivo .msi.</span><span class="sxs-lookup"><span data-stu-id="77a95-151">If not specified, the application name that was specified when exporting the .msi file is used.</span></span> <span data-ttu-id="77a95-152">Si la aplicación especificada no existe, se creará.</span><span class="sxs-lookup"><span data-stu-id="77a95-152">If the specified application does not exist, it will be created.</span></span> <span data-ttu-id="77a95-153">Los nombres de aplicación que incluyen espacios deben flanquearse con comillas dobles (").</span><span class="sxs-lookup"><span data-stu-id="77a95-153">Application names that include spaces must be enclosed with double quotation marks (").</span></span>|  
   |<span data-ttu-id="77a95-154">**/ Sobrescribir**</span><span class="sxs-lookup"><span data-stu-id="77a95-154">**/Overwrite**</span></span>|<span data-ttu-id="77a95-155">Opción para sobrescribir directivas en la aplicación con artefactos del archivo .msi que tienen el mismo nombre y número de versión.</span><span class="sxs-lookup"><span data-stu-id="77a95-155">Option to overwrite policies in the application with artifacts in the .msi file that have the same name and version number.</span></span> <span data-ttu-id="77a95-156">Si no se especifica esta opción y hay una o varias directivas en la aplicación que tienen el mismo nombre y número de versión que las directivas del archivo .msi, se produce un error en la importación.</span><span class="sxs-lookup"><span data-stu-id="77a95-156">If this option is not specified, and there are one or more policies in the application that have the same name and version number as policies in the .msi file, the import fails.</span></span> <span data-ttu-id="77a95-157">Puede ver el nombre y número de versión de las directivas en una aplicación mediante el [comando ListApp](../core/listapp-command.md).</span><span class="sxs-lookup"><span data-stu-id="77a95-157">You can view the name and version number of the policies in an application by using the [ListApp Command](../core/listapp-command.md).</span></span>|  
   |<span data-ttu-id="77a95-158">**/ Servidor**</span><span class="sxs-lookup"><span data-stu-id="77a95-158">**/Server**</span></span>|<span data-ttu-id="77a95-159">Nombre del servidor SQL Server que aloja la base de datos de administración de BizTalk en el formato Nombredelservidor\Nombredeinstancia,Puerto.</span><span class="sxs-lookup"><span data-stu-id="77a95-159">Name of the SQL Server instance hosting the BizTalk Management database, in the form ServerName\InstanceName,Port.</span></span><br /><br /> <span data-ttu-id="77a95-160">Sólo se necesita el nombre de instancia cuando el nombre de instancia es diferente del nombre de servidor.</span><span class="sxs-lookup"><span data-stu-id="77a95-160">Instance name is only required when the instance name is different than the server name.</span></span> <span data-ttu-id="77a95-161">Sólo se necesita el puerto cuando el servidor SQL Server utiliza un nombre de puerto diferente al predeterminado (1433)</span><span class="sxs-lookup"><span data-stu-id="77a95-161">Port is only required when SQL Server uses a port number other than the default (1433).</span></span><br /><br /> <span data-ttu-id="77a95-162">Ejemplos:</span><span class="sxs-lookup"><span data-stu-id="77a95-162">Examples:</span></span><br /><br /> <span data-ttu-id="77a95-163">Servidor = MyServer</span><span class="sxs-lookup"><span data-stu-id="77a95-163">Server=MyServer</span></span><br /><br /> <span data-ttu-id="77a95-164">Servidor = MyServer\MySQLServer,1533</span><span class="sxs-lookup"><span data-stu-id="77a95-164">Server=MyServer\MySQLServer,1533</span></span><br /><br /> <span data-ttu-id="77a95-165">Si no se proporciona, se utiliza el nombre de la instancia de SQL Server que se ejecuta en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="77a95-165">If not provided, the name of the SQL Server instance running on the local computer is used.</span></span>|  
   |<span data-ttu-id="77a95-166">**/ Base de datos**</span><span class="sxs-lookup"><span data-stu-id="77a95-166">**/Database**</span></span>|<span data-ttu-id="77a95-167">Nombre de la base de datos de administración de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77a95-167">Name of the BizTalk Management database.</span></span> <span data-ttu-id="77a95-168">Si no se especifica, se utiliza la base de datos de administración de BizTalk que se ejecuta en la instancia local de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77a95-168">If not specified, the BizTalk Management database running in the local instance of SQL Server is used.</span></span>|  
  
   > [!NOTE]
   >  <span data-ttu-id="77a95-169">En un sistema que admita el Control de cuentas de usuario (UAC), es posible que deba ejecutar la herramienta con privilegios administrativos.</span><span class="sxs-lookup"><span data-stu-id="77a95-169">On a system that supports User Account Control (UAC), you may need to run the tool with Administrative privileges.</span></span> <span data-ttu-id="77a95-170">Para ello, haga clic en la aplicación y, a continuación, seleccione **ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="77a95-170">To do this, right-click the application, and then select **Run as administrator**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="77a95-171">Vea también</span><span class="sxs-lookup"><span data-stu-id="77a95-171">See Also</span></span>  
 <span data-ttu-id="77a95-172">[Importación de directivas, enlaces y las aplicaciones de BizTalk](../core/importing-biztalk-applications-bindings-and-policies.md) </span><span class="sxs-lookup"><span data-stu-id="77a95-172">[Importing BizTalk Applications, Bindings, and Policies](../core/importing-biztalk-applications-bindings-and-policies.md) </span></span>  
 <span data-ttu-id="77a95-173">[Exportar aplicaciones de BizTalk, enlaces y directivas](../core/exporting-biztalk-applications-bindings-and-policies.md) </span><span class="sxs-lookup"><span data-stu-id="77a95-173">[Exporting BizTalk Applications, Bindings, and Policies](../core/exporting-biztalk-applications-bindings-and-policies.md) </span></span>  
 [<span data-ttu-id="77a95-174">Administración de directivas</span><span class="sxs-lookup"><span data-stu-id="77a95-174">Managing Policies</span></span>](../core/managing-policies.md)