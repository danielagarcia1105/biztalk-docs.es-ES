---
title: Solución de problemas de latencia de cuadro de mensajes | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e9eb5789-80bd-40d4-8c27-7ae117fd9232
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0e37fc970230bf218bcfd820611fb6b87322e535
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22279876"
---
# <a name="troubleshooting-messagebox-latency-issues"></a><span data-ttu-id="eb8bb-102">Solucionar problemas de latencia del cuadro de mensajes</span><span class="sxs-lookup"><span data-stu-id="eb8bb-102">Troubleshooting MessageBox Latency Issues</span></span>
<span data-ttu-id="eb8bb-103">En un mundo perfecto, todos los mensajes se deberían procesar y entregar en el momento de publicarse en la base de datos de cuadro de mensajes, y ésta nunca debería alcanzar un tamaño excesivo.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-103">In a perfect world, all messages would be processed and delivered as soon as they were published to the MessageBox database and the MessageBox database would never grow to an excessive size.</span></span> <span data-ttu-id="eb8bb-104">Asimismo, los trabajos del Agente SQL que limpian periódicamente las tablas de la base de datos de cuadro de mensajes deberían quitar inmediatamente los mensajes del cuadro de mensajes a los que ya no se haga referencia.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-104">Any messages in the MessageBox that were no longer referenced would immediately be removed by the SQL agent jobs that periodically clean up the MessageBox database tables.</span></span>  
  
 <span data-ttu-id="eb8bb-105">Sin embargo, en el mundo real, los mensajes no se reciben normalmente de una forma predecible y lineal, y los trabajos del Agente SQL necesitan tiempo para limpiar las tablas de la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-105">In real world scenarios, however, messages are not typically received in a predictable, linear fashion and the SQL agent jobs require time to clean up the MessageBox database tables.</span></span>  
  
 <span data-ttu-id="eb8bb-106">Por lo tanto, en algunas situaciones, el cuadro de mensajes puede alcanzar un tamaño bastante grande muy rápidamente.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-106">Therefore, in some scenarios; the MessageBox can grow fairly large very quickly.</span></span>  
  
 <span data-ttu-id="eb8bb-107">Lo siguiente puede provocar un crecimiento excesivo del cuadro de mensajes y afectar al rendimiento general:</span><span class="sxs-lookup"><span data-stu-id="eb8bb-107">The following items can cause the MessageBox to grow excessively large and hinder overall performance:</span></span>  
  
-   <span data-ttu-id="eb8bb-108">**Se ha detenido la instancia de Host de Biztalk que tiene la opción "Permitir seguimiento de Host" establecida**.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-108">**The Biztalk Host instance that has the "allow Host tracking" option set is stopped**.</span></span> <span data-ttu-id="eb8bb-109">Se trata del host responsable de mover los datos de seguimiento de la base de datos de cuadro de mensajes a la base de datos de seguimiento de BizTalk (BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="eb8bb-109">This is the host that is responsible for moving the tracking data from the MessageBox database to the Biztalk Tracking database(BizTalkDTADb).</span></span>  
  
-   <span data-ttu-id="eb8bb-110">**No se está ejecutando el Agente SQL Server** Esto puede ocurrir si no se ejecutan los trabajos SQL responsables de mover datos de la base de datos de cuadro de mensajes a la base de datos de BizTalkDTADb [posterior purga los datos movidos en el cuadro de mensajes].</span><span class="sxs-lookup"><span data-stu-id="eb8bb-110">**SQL Server Agent is not running** This can happen if the SQL jobs responsible for moving data from the MessageBox database to the BizTalkDTADb database [subsequently purging the moved data in the MessageBox] are not running.</span></span> <span data-ttu-id="eb8bb-111">Es necesario que el servicio del Agente SQL esté en ejecución todo el tiempo para evitar este problema.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-111">It is imperative the SQL Agent Service be running all the time to avoid this problem.</span></span>  
  
-   <span data-ttu-id="eb8bb-112">**Trabajos de SQL Server están deshabilitados** aunque se esté ejecutando el Agente SQL Server, es imperativo que ninguno de los trabajos de SQL Server predeterminado esté deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-112">**SQL Server Jobs are disabled** Even if the SQL Server Agent is running, it is imperative that none of the default SQL Server jobs be disabled.</span></span>  
  
-   <span data-ttu-id="eb8bb-113">**Base de datos BizTalkDTADb crece en exceso** Esto puede ocurrir si la base de datos de BizTalkDTADb crece mucho, lo que la inserción en la base de datos de BizTalkDTADb tarden más tiempo.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-113">**BizTalkDTADb database grows excessively** This can happen if the BizTalkDTADb database grows very large, causing inserts into the BizTalkDTADb database to take longer.</span></span> <span data-ttu-id="eb8bb-114">En tal caso, el servicio de entrega de datos de seguimiento (TDDS) moverá los datos más lentamente y se creará un trabajo acumulado en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-114">When this happens the movement of data by Tracking Data Delivery Service (TDDS) slows down, causing a backlog build up in the MessageBox database.</span></span> <span data-ttu-id="eb8bb-115">Para evitar este problema, es importante ejecutar periódicamente los trabajos de archivo y purga de SQL Server en las bases de datos BizTalkDTADb.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-115">To avoid this problem it is important to run the SQL server archive and purge jobs periodically on the BizTalkDTADb databases.</span></span>  
  
-   <span data-ttu-id="eb8bb-116">**Latencia de E/S de disco excesiva** si la velocidad de entrada de datos en la base de datos de cuadro de mensajes es más rápido que lo que puede procesar el sistema y mover los datos a la base de datos de BizTalkDTADb, puede acumular trabajo en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-116">**Excessive Disk I/O Latency** If the incoming rate of data into the MessageBox database is faster than which the system can process and move the data to the BizTalkDTADb database, backlog can build up in the MessageBox database.</span></span> <span data-ttu-id="eb8bb-117">Si el trabajo se sigue acumulando sin cesar, se trata de un problema muy grave y el rendimiento del sistema se verá afectado con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-117">If the backlog continues to grow unabated, this is a very serious problem and system performance will degrade over time.</span></span> <span data-ttu-id="eb8bb-118">Una forma de solucionar este problema consiste en instalar discos más rápidos o actualizar el hardware para garantizar que el sistema pueda recuperarse si se detecta que los mensajes se acumulan a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-118">One way to alleviate this problem is to install faster disks and/or upgrade the hardware to help ensure that the system is capable of recovering from any message backlogs experienced over time.</span></span>  
  
## <a name="plan-for-the-future"></a><span data-ttu-id="eb8bb-119">Planear con vistas al futuro</span><span class="sxs-lookup"><span data-stu-id="eb8bb-119">Plan for the Future</span></span>  
 <span data-ttu-id="eb8bb-120">Aunque se sigan todas las recomendaciones anteriores, el volumen de datos de seguimiento movidos a la base de datos BizTalkDTADb crecerá mucho con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-120">Even though all the best practices above are followed, over time the volume of tracking data moved to the BizTalkDTADb database will grow very large.</span></span> <span data-ttu-id="eb8bb-121">Es importante implementar un plan de mantenimiento de bases de datos para archivar los datos de seguimiento de forma periódica de modo que el rendimiento del sistema pueda seguir siendo óptimo.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-121">It is important to implement a database maintenance plan to periodically archive tracking data so that the system can continue to perform optimally.</span></span>  
  
 <span data-ttu-id="eb8bb-122">La cantidad de datos históricos que se pueden conservar en la base de datos BizTalkDTADb depende del volumen de mensajes que pasen por el sistema.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-122">The amount of historical data that can be retained in the BizTalkDTADb database depends on the volume of messages pushed through the system.</span></span> <span data-ttu-id="eb8bb-123">En el caso de los sistemas no sometidos a una elevada carga y procesamiento, esta base de datos crecerá a una velocidad inferior y se podrán conservar más datos históricos en la base de datos BizTalkDTADb.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-123">For systems that are not subjected to high stress and throughput this database will grow at a slower rate and it will be possible to retain more historical data in the BizTalkDTADb database.</span></span>  
  
 <span data-ttu-id="eb8bb-124">Se recomienda conservar el mínimo de datos en la base de datos BizTalkDTADb para que el rendimiento en tiempo de ejecución no se vea afectado.</span><span class="sxs-lookup"><span data-stu-id="eb8bb-124">It is recommended to retain minimal data in the BizTalkDTADb database so that runtime performance is not sacrificed.</span></span>