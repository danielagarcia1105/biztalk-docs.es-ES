---
title: Control de excepciones | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 00a9125c-7c7c-4d2a-ae04-c923cd89683c
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 520f4eb47fb98bf497753a8348031f7c2ab93d29
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22245932"
---
# <a name="exception-handling"></a><span data-ttu-id="1dfba-102">Control de excepciones</span><span class="sxs-lookup"><span data-stu-id="1dfba-102">Exception Handling</span></span>
<span data-ttu-id="1dfba-103">El **RuleEngine** clase tiene la propiedad **CompensationHandlerInfo**, que a su vez tiene dos propiedades: **CompensationHandler** y **UserData**.</span><span class="sxs-lookup"><span data-stu-id="1dfba-103">The **RuleEngine** class has the property **CompensationHandlerInfo**, which in turn has two properties: **CompensationHandler** and **UserData**.</span></span> <span data-ttu-id="1dfba-104">El **CompensationHandler** propiedad es de tipo **RuleEngineCompensationHandler**y el **UserData** propiedad es de tipo **objeto** .</span><span class="sxs-lookup"><span data-stu-id="1dfba-104">The **CompensationHandler** property is of type **RuleEngineCompensationHandler**, and the **UserData** property is of type **Object**.</span></span> <span data-ttu-id="1dfba-105">La definición de la **RuleEngineCompensationHandler** es como sigue:</span><span class="sxs-lookup"><span data-stu-id="1dfba-105">The definition for the **RuleEngineCompensationHandler** is as follows:</span></span>  
  
```  
public delegate bool RuleEngineCompensationHandler(  
   Exception ex,  
   object userData  
);  
```  
  
 <span data-ttu-id="1dfba-106">El consumidor del motor de reglas especifica el controlador y los datos de usuario al motor de reglas mediante el **CompensationHandlerInfo** propiedad de la **RuleEngine** clase.</span><span class="sxs-lookup"><span data-stu-id="1dfba-106">The rule engine consumer specifies the handler and the user data to the rule engine by using the **CompensationHandlerInfo** property of the **RuleEngine** class.</span></span> <span data-ttu-id="1dfba-107">El controlador debe tener la misma firma que el **RuleEngineCompensationHandler** delegar.</span><span class="sxs-lookup"><span data-stu-id="1dfba-107">The handler must have the same signature as the **RuleEngineCompensationHandler** delegate.</span></span> <span data-ttu-id="1dfba-108">Si se produce una excepción de tiempo de ejecución, el motor llama al controlador, y le pasa la excepción y los datos de usuario predefinidos como parámetros.</span><span class="sxs-lookup"><span data-stu-id="1dfba-108">If there is a run-time exception, the engine calls the handler and passes the exception and the predefined user data as parameters to the handler.</span></span> <span data-ttu-id="1dfba-109">Si el controlador devuelve `true`, a continuación, el motor de reglas continúa el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="1dfba-109">If the handler returns `true`, then the rule engine continues processing.</span></span> <span data-ttu-id="1dfba-110">De lo contrario, el motor de reglas anula el procesamiento y devuelve la excepción original al usuario.</span><span class="sxs-lookup"><span data-stu-id="1dfba-110">Otherwise, the rule engine aborts processing and returns to the user with the original exception.</span></span> <span data-ttu-id="1dfba-111">Como puede ver, puede utilizar este mecanismo de control de excepciones únicamente si se invoca la directiva mediante el uso de la **RuleEngine.Execute** método.</span><span class="sxs-lookup"><span data-stu-id="1dfba-111">As you can see, you can use this exception-handling mechanism only if you invoke the policy by using the **RuleEngine.Execute** method.</span></span>  
  
 <span data-ttu-id="1dfba-112">Si usas el **Policy.Execute** método para ejecutar una directiva, debe usar un bloque try-catch para detectar las excepciones generadas por el motor de reglas al ejecutar la directiva.</span><span class="sxs-lookup"><span data-stu-id="1dfba-112">If you use the **Policy.Execute** method to execute a policy, you will need to use a try-catch block to catch any exceptions generated by the rule engine while executing the policy.</span></span>  
  
 <span data-ttu-id="1dfba-113">Si usas el **reglas de llamada** forma para ejecutar una directiva, use la **excepción de filtrado** bloquear para el **ámbito** forma para detectar una excepción producida por el motor de reglas al ejecutar la directiva.</span><span class="sxs-lookup"><span data-stu-id="1dfba-113">If you use the **Call Rules** shape to execute a policy, use the **Catch Exception** block for the **Scope** shape to catch an exception raised by the rule engine while executing the policy.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1dfba-114">Vea también</span><span class="sxs-lookup"><span data-stu-id="1dfba-114">See Also</span></span>  
 [<span data-ttu-id="1dfba-115">Cómo agregar un bloque de excepción de filtrado</span><span class="sxs-lookup"><span data-stu-id="1dfba-115">How to Add a Catch Exception Block</span></span>](../core/how-to-add-a-catch-exception-block3.md)