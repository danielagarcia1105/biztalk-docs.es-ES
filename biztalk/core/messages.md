---
title: Mensajes | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- messages, headers
- messages, acknowledgements
- messages, persisting
- messages
- examples, message headers
- properties
- message headers
- EMS messages
ms.assetid: 65bb3431-7186-4d4c-b004-932cdf070e73
caps.latest.revision: "11"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8f7313e93029ca75d345aa4e9603699c50399230
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="messages"></a><span data-ttu-id="a00b1-102">Mensajes</span><span class="sxs-lookup"><span data-stu-id="a00b1-102">Messages</span></span>
<span data-ttu-id="a00b1-103">Un mensaje de Enterprise Message Service (EMS), como un mensaje JMS, contiene tres partes independientes: encabezado, propiedades y cuerpo.</span><span class="sxs-lookup"><span data-stu-id="a00b1-103">An Enterprise Message Service (EMS) message, like a JMS message, contains three separate parts: header, properties, and body.</span></span> <span data-ttu-id="a00b1-104">El encabezado es la única parte obligatoria de un mensaje de EMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-104">The header is the only required part of an EMS message.</span></span> <span data-ttu-id="a00b1-105">En este tema se describe cómo se tratan los mensajes en el Adaptador de Microsoft BizTalk para TIBCO Enterprise Message Service.</span><span class="sxs-lookup"><span data-stu-id="a00b1-105">This topic describes how messages are treated in Microsoft BizTalk Adapter for TIBCO Enterprise Message Service.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a00b1-106">Para establecer o recuperar un campo de encabezado (por ejemplo, establezca la prioridad del mensaje o el Id. de correlación) o una propiedad de mensaje desde la orquestación, debe agregar una referencia a la **Microsoft.BizTalk.Adapters.TIBCOEMSProperties.dll** en el proyecto mediante el Explorador de soluciones.</span><span class="sxs-lookup"><span data-stu-id="a00b1-106">To set or retrieve a header field (for example, set the Message Priority or Correlation ID) or a message property from the orchestration, you must add a reference to the **Microsoft.BizTalk.Adapters.TIBCOEMSProperties.dll** in your project using Solution Explorer.</span></span>  
  
## <a name="message-header"></a><span data-ttu-id="a00b1-107">Encabezado de mensaje</span><span class="sxs-lookup"><span data-stu-id="a00b1-107">Message Header</span></span>  
 <span data-ttu-id="a00b1-108">El encabezado de mensaje tiene una serie de campos predefinidos que contienen valores.</span><span class="sxs-lookup"><span data-stu-id="a00b1-108">The message header contains a series of predefined fields that contain values.</span></span> <span data-ttu-id="a00b1-109">El adaptador de BizTalk para TIBCO Enterprise Message Service sabe lo que puede y lo que no puede establecer en el encabezado.</span><span class="sxs-lookup"><span data-stu-id="a00b1-109">BizTalk Adapter for TIBCO Enterprise Message Service knows what it can and cannot set in the header.</span></span> <span data-ttu-id="a00b1-110">Si intenta establecer un valor de sólo lectura, el adaptador redirecciona o establece el valor en la sección Propiedades{}.</span><span class="sxs-lookup"><span data-stu-id="a00b1-110">If you try to set a read-only value, the adapter redirects or sets your value in the Properties{} section.</span></span>  
  
### <a name="header-example"></a><span data-ttu-id="a00b1-111">Ejemplo de encabezado</span><span class="sxs-lookup"><span data-stu-id="a00b1-111">Header Example</span></span>  
 <span data-ttu-id="a00b1-112">En el ejemplo siguiente, observe que **propiedades = {destino = {String: Queue [Q2]}}**.</span><span class="sxs-lookup"><span data-stu-id="a00b1-112">In the following example, notice that **Properties= { Destination={String:Queue[Q2]} }**.</span></span> <span data-ttu-id="a00b1-113">`Properties`es una propiedad que contiene una cadena y el contenido de la cadena es **Q2**.</span><span class="sxs-lookup"><span data-stu-id="a00b1-113">`Properties` is a property that contains a string, and the contents of the string is **Q2**.</span></span> <span data-ttu-id="a00b1-114">Esto no tiene nada que ver con la sección Destino; contiene cadenas de valores establecidas que no pueden colocarse en ningún otro lugar, por lo que el adaptador las ha almacenado en esta ubicación de la sección.</span><span class="sxs-lookup"><span data-stu-id="a00b1-114">This has nothing to do with the Destination section; it contains strings of values that you set that could not go anywhere else, so the adapter has held them here in this section.</span></span>  
  
 <span data-ttu-id="a00b1-115">Se puede establecer la propiedad `ReplyTo` en la orquestación para indicar a un cliente final dónde debe enviar una respuesta.</span><span class="sxs-lookup"><span data-stu-id="a00b1-115">The `ReplyTo` property can be set in the orchestration to tell an eventual consumer where to send a response.</span></span> <span data-ttu-id="a00b1-116">EMS establece la propiedad `Destination` cuando el mensaje se recibe de TIBCOEMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-116">EMS sets the `Destination` property when the message is received from TIBCOEMS.</span></span> <span data-ttu-id="a00b1-117">Esta segunda propiedad es de sólo lectura en la orquestación que recibe el mensaje de TIBCOEMS y no se puede editar en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="a00b1-117">This second property is read-only in the orchestration receiving the message from TIBCOEMS and cannot be edited in the orchestration.</span></span>  
  
 <span data-ttu-id="a00b1-118">Por ejemplo, una orquestación no puede distribuir mensajes ni establecer el destino de forma dinámica dentro de una orquestación.</span><span class="sxs-lookup"><span data-stu-id="a00b1-118">For example, an orchestration cannot dispatch messages and set the destination dynamically inside an orchestration.</span></span> <span data-ttu-id="a00b1-119">El valor de Destination viene establecido por el puerto al que se va a transmitir el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-119">The value of Destination is set by the port to which the message is being transmitted.</span></span>  
  
 <span data-ttu-id="a00b1-120">Si desea distribuir mensajes en distintas colas, debe crear puertos de envío para cada una de ellas.</span><span class="sxs-lookup"><span data-stu-id="a00b1-120">If you want to dispatch messages to different queues, you must create send ports for each queue.</span></span> <span data-ttu-id="a00b1-121">La orquestación puede decidir a qué puerto se va a asignar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-121">The orchestration can then decide which port to assign the message.</span></span>  
  
 <span data-ttu-id="a00b1-122">En el siguiente ejemplo de mensaje, Destination= `{Queue[Q1]}` es de sólo lectura.</span><span class="sxs-lookup"><span data-stu-id="a00b1-122">In the following message example, the Destination= `{Queue[Q1]}` is read-only.</span></span> <span data-ttu-id="a00b1-123">TIBCOEMS establece este valor cuando el servidor recibe el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-123">This value is set by TIBCOEMS when the server receives the message.</span></span> <span data-ttu-id="a00b1-124">El valor de Destination, Q1, proviene de las propiedades de transporte.</span><span class="sxs-lookup"><span data-stu-id="a00b1-124">The value for Destination, Q1, comes from the Transport Properties.</span></span>  
  
#### <a name="example"></a><span data-ttu-id="a00b1-125">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="a00b1-125">Example</span></span>  
  
```  
TextMessage={   
    Header={ MessageID={ID:EMS-SERVER.824437A58B11C75F4:1}   
    Destination={Queue[Q1]}   
  
        ' This is READONLY. It gets set by the server when the  
        ' message is received by the server (EMS). It is set in the  
        ' Transport Properties when you specify that you want to  
        ' listen for messages on Q1.  
    ReplyTo={}   
    DeliveryMode={Persistent}   
    Redelivered={False}   
    CorrelationID={}   
    MsgType={}   
    Timestamp={12/1/2005 11:59:01 PM}   
    Expiration={0}   
    Priority={1} }   
    Properties={ Destination={String:Queue[Q2]} }   
  
        ' This is a property that contains a string, and the   
        ' contents of the string is Q2. This has nothing to do with  
        ' the Destination section above – it is just another   
        ' property that is set.   
        ' This is in the schema. The adapter knows what it can and   
        ' cannot set in an EMS header. The values that the adapter   
        ' cannot set are put in the Properties section.   
    text={<?xml version="1.0" encoding="utf-16"?>  
    <ns0:Employees xmlns:ns0="http://BizTalk_Server_Project1.Employee">  
        <Emp Id="Id_0">  
            Name>Name_0</Name>  
        </Emp>  
    </ns0:Employees>  
    }  
```  
  
 <span data-ttu-id="a00b1-126">El encabezado contiene una serie de campos predefinidos que contienen valores, que el adaptador promueve al contexto del mensaje de BizTalk Server para usarlos en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="a00b1-126">The header contains a series of predefined fields that contain values, which the adapter promotes to the BizTalk Server message context for use in the orchestration.</span></span> <span data-ttu-id="a00b1-127">Las propiedades promocionadas son idénticas en su definición a las propiedades de encabezado estándar, de acuerdo con la definición de la especificación JMS y las extensiones de TIBCO Enterprise Message Service.</span><span class="sxs-lookup"><span data-stu-id="a00b1-127">The promoted properties are identical in definition to the standard header properties as defined by the JMS specification and the TIBCO Enterprise Message Service extensions.</span></span> <span data-ttu-id="a00b1-128">Todas las propiedades excepto dos están disponibles en la orquestación como recibidas de EMS: `Destination` y `ReplyTo` describen un destino que no se puede asignar correctamente para su uso en una orquestación como una única propiedad.</span><span class="sxs-lookup"><span data-stu-id="a00b1-128">All properties except for two are available to the orchestration as received from EMS: `Destination` and `ReplyTo` describe a destination that cannot be correctly mapped for use in an orchestration as a single property.</span></span>  
  
 <span data-ttu-id="a00b1-129">El adaptador de BizTalk para TIBCO EMS asigna la propiedad TIBCOEMS a un tipo de cadena y usa la representación de la cadena Destination.</span><span class="sxs-lookup"><span data-stu-id="a00b1-129">BizTalk Adapter for TIBCO EMS maps the TIBCOEMS property to a string type and uses the Destination string representation.</span></span> <span data-ttu-id="a00b1-130">Es similar a `StaticQueue[queuename]` o `StatisTopic[topicname]`.</span><span class="sxs-lookup"><span data-stu-id="a00b1-130">This looks like `StaticQueue[queuename]` or `StatisTopic[topicname]`.</span></span> <span data-ttu-id="a00b1-131">La orquestación puede establecer el valor de `ReplyTo` y el adaptador lo sustituye con un objeto de destino válido en el encabezado.</span><span class="sxs-lookup"><span data-stu-id="a00b1-131">The orchestration can set the value for `ReplyTo`, and the adapter replaces it with a valid destination object in the header.</span></span>  
  
 <span data-ttu-id="a00b1-132">El adaptador proporciona un ensamblado de esquema y referencia que describe todas las propiedades de encabezado TIBCO EMS que pueden usar las orquestaciones.</span><span class="sxs-lookup"><span data-stu-id="a00b1-132">The adapter provides a schema and reference assembly describing all TIBCO EMS header properties that can be used by orchestrations.</span></span> <span data-ttu-id="a00b1-133">Estas propiedades se pueden usar para filtrar mensajes entrantes o agregarlas al mensaje saliente.</span><span class="sxs-lookup"><span data-stu-id="a00b1-133">These properties can be used to either filter incoming messages or to add to the outgoing message.</span></span> <span data-ttu-id="a00b1-134">Las reglas que dirigen el filtro de orquestación son distintas de aquéllas del selector de mensajes para el servidor EMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-134">The rules governing the orchestration filter differs from those for the message selector for the EMS server.</span></span> <span data-ttu-id="a00b1-135">Por ejemplo, las orquestaciones pueden filtrar según `TibcoEMS.ReplyTo` o la propiedad `TibcoEMS.Destination`, pero no se admite en la especificación JMS para permitir el selector de mensajes en esta misma propiedad.</span><span class="sxs-lookup"><span data-stu-id="a00b1-135">For example, orchestrations can filter on the `TibcoEMS.ReplyTo` or the `TibcoEMS.Destination` property, but there is no support in the JMS specification to allow message selector on this same property.</span></span>  
  
 <span data-ttu-id="a00b1-136">Si la orquestación define estas propiedades, éstas se incluyen en las propiedades de encabezado del mensaje de JMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-136">When these properties are defined by the orchestration, they are included in the header properties of the JMS message.</span></span> <span data-ttu-id="a00b1-137">De forma alternativa, si se recibe el mensaje de EMS, estas propiedades de encabezado se copian en el contexto del mensaje de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="a00b1-137">Alternatively, when the EMS message is received, these header properties are copied to the BizTalk Server message context.</span></span>  
  
 <span data-ttu-id="a00b1-138">En caso de que una propiedad coincida con la configuración del puerto, el valor de la propiedad del mensaje tiene prioridad en la configuración del puerto.</span><span class="sxs-lookup"><span data-stu-id="a00b1-138">When a property matches the port configuration, the value of the property on the message takes precedence on the port’s configuration.</span></span> <span data-ttu-id="a00b1-139">Por ejemplo, si la prioridad se establece como 4 en el puerto, pero la prioridad del mensaje se establece como 9 en la lógica de la orquestación, TIBCO EMS recibe el mensaje con una prioridad de 9.</span><span class="sxs-lookup"><span data-stu-id="a00b1-139">For example, if the priority is set to 4 in the port, but you set the priority of the message to 9 in the logic of the orchestration, the message is received by TIBCO EMS as having a priority of 9.</span></span>  
  
### <a name="property-descriptions"></a><span data-ttu-id="a00b1-140">Descripciones de propiedades</span><span class="sxs-lookup"><span data-stu-id="a00b1-140">Property Descriptions</span></span>  
 <span data-ttu-id="a00b1-141">En la siguiente tabla se describe cómo el adaptador de BizTalk usa cada una de estas propiedades para TIBCO Enterprise Message Service.</span><span class="sxs-lookup"><span data-stu-id="a00b1-141">The following table describes how each property is used by BizTalk Adapter for TIBCO Enterprise Message Service.</span></span>  
  
|<span data-ttu-id="a00b1-142">Nombre</span><span class="sxs-lookup"><span data-stu-id="a00b1-142">Name</span></span>|<span data-ttu-id="a00b1-143">Tipo</span><span class="sxs-lookup"><span data-stu-id="a00b1-143">Type</span></span>|<span data-ttu-id="a00b1-144">Description</span><span class="sxs-lookup"><span data-stu-id="a00b1-144">Description</span></span>|  
|----------|----------|-----------------|  
|<span data-ttu-id="a00b1-145">TibcoEMS.MessageID</span><span class="sxs-lookup"><span data-stu-id="a00b1-145">TibcoEMS.MessageID</span></span>|<span data-ttu-id="a00b1-146">string</span><span class="sxs-lookup"><span data-stu-id="a00b1-146">string</span></span>|<span data-ttu-id="a00b1-147">El envío de llamadas asigna un Id. único a los mensajes y lo registra en el encabezado.</span><span class="sxs-lookup"><span data-stu-id="a00b1-147">Sending calls assign a unique ID to each message and record it in the header.</span></span><br /><br /> <span data-ttu-id="a00b1-148">Todos los valores de Id. de mensaje empiezan con un Id. de prefijo de tres caracteres (que se reserva con este propósito).</span><span class="sxs-lookup"><span data-stu-id="a00b1-148">All message ID values start with the three-character prefix ID (which is reserved for this purpose).</span></span><br /><br /> <span data-ttu-id="a00b1-149">Solo lectura.</span><span class="sxs-lookup"><span data-stu-id="a00b1-149">Read-only.</span></span> <span data-ttu-id="a00b1-150">Cambiar el valor no influye en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-150">Changing the value does not affect the message.</span></span>|  
|<span data-ttu-id="a00b1-151">TibcoEMS.Timestamp</span><span class="sxs-lookup"><span data-stu-id="a00b1-151">TibcoEMS.Timestamp</span></span>|<span data-ttu-id="a00b1-152">long</span><span class="sxs-lookup"><span data-stu-id="a00b1-152">long</span></span>|<span data-ttu-id="a00b1-153">El envío de llamadas registra una marca de tiempo UTC en el encabezado.</span><span class="sxs-lookup"><span data-stu-id="a00b1-153">Sending calls record a UTC timestamp in the header.</span></span> <span data-ttu-id="a00b1-154">Indica el tiempo aproximado que tarda el servidor en aceptar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-154">This indicates the approximate time that the server accepted the message.</span></span><br /><br /> <span data-ttu-id="a00b1-155">El valor está en milisegundos desde el 1 de enero de 1970.</span><span class="sxs-lookup"><span data-stu-id="a00b1-155">The value is in milliseconds since January 1, 1970</span></span><br /><br /> <span data-ttu-id="a00b1-156">Solo lectura.</span><span class="sxs-lookup"><span data-stu-id="a00b1-156">Read-only.</span></span> <span data-ttu-id="a00b1-157">Cambiar el valor no influye en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-157">Changing the value does not affect the message.</span></span>|  
|<span data-ttu-id="a00b1-158">TibcoEMS.Redelivered</span><span class="sxs-lookup"><span data-stu-id="a00b1-158">TibcoEMS.Redelivered</span></span>|<span data-ttu-id="a00b1-159">boolean</span><span class="sxs-lookup"><span data-stu-id="a00b1-159">boolean</span></span>|<span data-ttu-id="a00b1-160">El servidor establece el encabezado para indicar si un mensaje puede duplicar un mensaje entregado anteriormente:</span><span class="sxs-lookup"><span data-stu-id="a00b1-160">The server sets the header to indicate whether a message might duplicate a previously delivered message:</span></span><br /><br /> <span data-ttu-id="a00b1-161">-false: el servidor no ha intentado anteriormente entregar este mensaje al consumidor.</span><span class="sxs-lookup"><span data-stu-id="a00b1-161">-   false—The server has not previously tried to deliver this message to the consumer.</span></span><br /><span data-ttu-id="a00b1-162">-true: es probable que, aunque no está garantizado, que el servidor haya intentado anteriormente entregar este mensaje al consumidor, pero el cliente no devolvió la confirmación a tiempo.</span><span class="sxs-lookup"><span data-stu-id="a00b1-162">-   true—It is likely, but not guaranteed, that the server has previously tried to deliver this message to the consumer, but the consumer did not return timely acknowledgement.</span></span><br /><br /> <span data-ttu-id="a00b1-163">Solo lectura.</span><span class="sxs-lookup"><span data-stu-id="a00b1-163">Read-only.</span></span> <span data-ttu-id="a00b1-164">Cambiar el valor no influye en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-164">Changing the value does not affect the message.</span></span>|  
|<span data-ttu-id="a00b1-165">TibcoEMS.Destination</span><span class="sxs-lookup"><span data-stu-id="a00b1-165">TibcoEMS.Destination</span></span>|<span data-ttu-id="a00b1-166">string</span><span class="sxs-lookup"><span data-stu-id="a00b1-166">string</span></span>|<span data-ttu-id="a00b1-167">El envío de llamadas registra el destino (cola o tema) del mensaje en el encabezado.</span><span class="sxs-lookup"><span data-stu-id="a00b1-167">Sending calls record the destination (queue or topic) of the message in this header.</span></span> <span data-ttu-id="a00b1-168">El formato se adapta de un destino a una cadena.</span><span class="sxs-lookup"><span data-stu-id="a00b1-168">The format is adapted from a destination to a string.</span></span> <span data-ttu-id="a00b1-169">El formato se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a00b1-169">The format is previously described.</span></span><br /><br /> <span data-ttu-id="a00b1-170">Solo lectura.</span><span class="sxs-lookup"><span data-stu-id="a00b1-170">Read-only.</span></span> <span data-ttu-id="a00b1-171">Cambiar el valor no influye en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-171">Changing the value does not affect the message.</span></span>|  
|<span data-ttu-id="a00b1-172">TibcoEMS.DeliveryMode</span><span class="sxs-lookup"><span data-stu-id="a00b1-172">TibcoEMS.DeliveryMode</span></span>|<span data-ttu-id="a00b1-173">string</span><span class="sxs-lookup"><span data-stu-id="a00b1-173">string</span></span>|<span data-ttu-id="a00b1-174">Tiene dos valores posibles: PERSISTENTE y no PERSISTENTE.</span><span class="sxs-lookup"><span data-stu-id="a00b1-174">Has two possible values: PERSISTENT and NON-PERSISTENT.</span></span> <span data-ttu-id="a00b1-175">El valor predeterminado es el modo PERSISTENT.</span><span class="sxs-lookup"><span data-stu-id="a00b1-175">Default value is PERSISTENT mode.</span></span><br /><br /> <span data-ttu-id="a00b1-176">El adaptador espera una confirmación del servidor EMS antes de confirmar el mensaje enviado al servidor BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="a00b1-176">The adapter waits for an acknowledgement from the EMS server before acknowledging the message sent to BizTalk Server.</span></span> <span data-ttu-id="a00b1-177">Esta propiedad de encabezado y el elemento de configuración del puerto controla el tiempo que tarda EMS en enviar esta confirmación al adaptador así como la confiabilidad de la transmisión del mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-177">This header property and port configuration item controls the time EMS takes to send this acknowledgement to the adapter and control the reliability of message transmission.</span></span><br /><br /> <span data-ttu-id="a00b1-178">Usar el modo de entrega PERSISTENT: el servidor EMS espera hasta que el mensaje se almacena correctamente en el servidor EMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-178">Using PERSISTENT delivery mode—the EMS server waits until the message is successfully persisted in the EMS server.</span></span> <span data-ttu-id="a00b1-179">Esta acción garantiza que el mensaje ha llegado a la cola.</span><span class="sxs-lookup"><span data-stu-id="a00b1-179">This action guarantees that the message has arrived in the queue.</span></span> <span data-ttu-id="a00b1-180">Si usa el modo de entrega PERSISTENT, tenga en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a00b1-180">When you use PERSISTENT mode delivery, consider the following:</span></span><br /><br /> <span data-ttu-id="a00b1-181">Cuanto más grandes sean los mensajes, más tiempo tardará BizTalk Server en considerar el mensaje como enviado.</span><span class="sxs-lookup"><span data-stu-id="a00b1-181">The larger the messages, the longer it takes for BizTalk Server to consider the message as sent.</span></span><br /><br /> <span data-ttu-id="a00b1-182">Usar el modo NON-PERSISTENT: el servidor EMS devuelve la confirmación antes de almacenar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-182">Using NON-PERSISTENT mode—the EMS server returns the acknowledgement before persisting the message.</span></span> <span data-ttu-id="a00b1-183">En caso de que se produzca algún error en el servidor EMS, el mensaje se puede perder si se considera que BizTalk Server lo ha enviado correctamente.</span><span class="sxs-lookup"><span data-stu-id="a00b1-183">If a failure were to occur with the EMS server, the message might be lost when it is considered successfully sent by BizTalk Server.</span></span>|  
|<span data-ttu-id="a00b1-184">TibcoEMS.Expiration</span><span class="sxs-lookup"><span data-stu-id="a00b1-184">TibcoEMS.Expiration</span></span>|<span data-ttu-id="a00b1-185">long</span><span class="sxs-lookup"><span data-stu-id="a00b1-185">long</span></span>|<span data-ttu-id="a00b1-186">Tiempo de validez del mensaje antes de que caduque.</span><span class="sxs-lookup"><span data-stu-id="a00b1-186">Length of time that the message will live before expiration.</span></span> <span data-ttu-id="a00b1-187">Si se establece como 0, el mensaje no caduca.</span><span class="sxs-lookup"><span data-stu-id="a00b1-187">If set to 0, message does not expire.</span></span><br /><br /> <span data-ttu-id="a00b1-188">El tiempo de validez se especifica en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="a00b1-188">The time-to-live is specified in milliseconds.</span></span>|  
|<span data-ttu-id="a00b1-189">TibcoEMS.Priority</span><span class="sxs-lookup"><span data-stu-id="a00b1-189">TibcoEMS.Priority</span></span>|<span data-ttu-id="a00b1-190">int</span><span class="sxs-lookup"><span data-stu-id="a00b1-190">int</span></span>|<span data-ttu-id="a00b1-191">Usa un ranking numérico, entre 0 y 9, para definir la prioridad del mensaje como normal o expedida.</span><span class="sxs-lookup"><span data-stu-id="a00b1-191">Uses a numeric ranking, between 0 and 9, to define message priority as normal or expedited.</span></span> <span data-ttu-id="a00b1-192">Los números más altos representan mayor prioridad.</span><span class="sxs-lookup"><span data-stu-id="a00b1-192">Larger numbers represent higher priority.</span></span>|  
|<span data-ttu-id="a00b1-193">TibcoEMS.CorrolationID</span><span class="sxs-lookup"><span data-stu-id="a00b1-193">TibcoEMS.CorrolationID</span></span>|<span data-ttu-id="a00b1-194">string</span><span class="sxs-lookup"><span data-stu-id="a00b1-194">string</span></span>|<span data-ttu-id="a00b1-195">Se puede usar para vincular mensajes, por ejemplo, vincular un mensaje de respuesta a una mensaje de solicitud.</span><span class="sxs-lookup"><span data-stu-id="a00b1-195">Can be used to link messages, such as linking a response message to a request message.</span></span><br /><br /> <span data-ttu-id="a00b1-196">Por lo general, es el mismo valor que `EMS.JMSMessageID`.</span><span class="sxs-lookup"><span data-stu-id="a00b1-196">Usually this is the same value as the `EMS.JMSMessageID`.</span></span> <span data-ttu-id="a00b1-197">Se suele utilizar junto con la propiedad `EMS.JMSReplyTo`.</span><span class="sxs-lookup"><span data-stu-id="a00b1-197">This is usually used together with the `EMS.JMSReplyTo` property.</span></span>|  
|<span data-ttu-id="a00b1-198">TibcoEMS.ReplyTo</span><span class="sxs-lookup"><span data-stu-id="a00b1-198">TibcoEMS.ReplyTo</span></span>|<span data-ttu-id="a00b1-199">string</span><span class="sxs-lookup"><span data-stu-id="a00b1-199">string</span></span>|<span data-ttu-id="a00b1-200">Destino al que se debe enviar la respuesta del mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-200">A destination to which a message reply should be sent.</span></span> <span data-ttu-id="a00b1-201">El formato es idéntico a `EMS.JMSDestination` y también a la configuración del puerto.</span><span class="sxs-lookup"><span data-stu-id="a00b1-201">Format is identical to the `EMS.JMSDestination` and also the port's configuration.</span></span>|  
|<span data-ttu-id="a00b1-202">TibcoEMS.Type</span><span class="sxs-lookup"><span data-stu-id="a00b1-202">TibcoEMS.Type</span></span>|<span data-ttu-id="a00b1-203">string</span><span class="sxs-lookup"><span data-stu-id="a00b1-203">string</span></span>|<span data-ttu-id="a00b1-204">No describe el tipo de mensaje (texto, byte, cadena …).</span><span class="sxs-lookup"><span data-stu-id="a00b1-204">Does not describe the message type (text, byte, string …).</span></span><br /><br /> <span data-ttu-id="a00b1-205">Algunos proveedores de JMS usan un repositorio de mensajes para almacenar definiciones de tipo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-205">Some JMS providers use a message repository to store message type definitions.</span></span> <span data-ttu-id="a00b1-206">Los programas cliente pueden almacenar un valor en este campo para hacer referencia a una definición del repositorio.</span><span class="sxs-lookup"><span data-stu-id="a00b1-206">Client programs can store a value in this field to reference a definition in the repository.</span></span> <span data-ttu-id="a00b1-207">EMS admite este encabezado pero no lo usa.</span><span class="sxs-lookup"><span data-stu-id="a00b1-207">EMS supports this header but does not use it.</span></span><br /><br /> <span data-ttu-id="a00b1-208">La especificación JMS no define un repositorio de definición de mensajes estándar, ni define una directiva de cambio de nombre para definiciones de tipo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-208">The JMS specification does not define a standard message definition repository, nor does it define a naming policy for message type definitions.</span></span><br /><br /> <span data-ttu-id="a00b1-209">Algunos proveedores requieren definiciones de tipo de mensaje para los mensajes de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a00b1-209">Some providers require message type definitions for each application message.</span></span> <span data-ttu-id="a00b1-210">Para garantizar la compatibilidad con dichos proveedores, los programas cliente pueden establecer este encabezado, incluso si la aplicación cliente no lo usa.</span><span class="sxs-lookup"><span data-stu-id="a00b1-210">To guarantee compatibility with such providers, client programs can set this header, even if the client application does not use it.</span></span><br /><br /> <span data-ttu-id="a00b1-211">Para garantizar la portabilidad, los clientes pueden establecer este encabezado con valores simbólicos (en lugar de literales) y configurarlos para coincidir con el repositorio del proveedor.</span><span class="sxs-lookup"><span data-stu-id="a00b1-211">To guarantee portability, clients can set this header with symbolic values (instead of literals), and configure them to match the provider's repository.</span></span>|  
  
## <a name="properties"></a><span data-ttu-id="a00b1-212">Propiedades</span><span class="sxs-lookup"><span data-stu-id="a00b1-212">Properties</span></span>  
 <span data-ttu-id="a00b1-213">El integrador puede definir un conjunto de propiedades para promocionarlas en el contexto del mensaje de BizTalk Server, tras lo cual las propiedades se agregan a la parte de propiedades del mensaje de JMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-213">The integrator can define a set of properties to promote to the BizTalk Server message context, after which the properties are added to the properties part of the JMS message.</span></span> <span data-ttu-id="a00b1-214">El integrador tiene cuidado al definir el tipo de la propiedad mientras se crea el esquema.</span><span class="sxs-lookup"><span data-stu-id="a00b1-214">The integrator takes care when defining the type of the property while it is creating the schema.</span></span> <span data-ttu-id="a00b1-215">Si este valor de propiedad se usa en un selector de mensajes, determinadas operaciones son válidas según el tipo de propiedad.</span><span class="sxs-lookup"><span data-stu-id="a00b1-215">If this property value is used in a message selector, certain operations are valid depending on the type of the property.</span></span> <span data-ttu-id="a00b1-216">Por ejemplo, si un selector de mensajes **myMessageProperty > 5** es usa, la propiedad debe definirse como un valor entero y el adaptador coloca el valor en el mensaje como un valor entero.</span><span class="sxs-lookup"><span data-stu-id="a00b1-216">For example, if a message selector **myMessageProperty > 5** is used, the property must be defined as an integer value, and the adapter puts the value in the message as an integer value.</span></span> <span data-ttu-id="a00b1-217">En cuanto a las propiedades que se van a promocionar, los nombres de propiedades deben empezar con EMSX.</span><span class="sxs-lookup"><span data-stu-id="a00b1-217">For the properties to be promoted, the property names must start with EMSX.</span></span> <span data-ttu-id="a00b1-218">Además, deben tener el mismo nombre que las propiedades predefinidas.</span><span class="sxs-lookup"><span data-stu-id="a00b1-218">They must also not have the same name as the predefined properties.</span></span>  
  
 <span data-ttu-id="a00b1-219">El adaptador de BizTalk para TIBCO Enterprise Message Service proporciona un esquema y un ensamblado, que declaran las propiedades específicas de EMS y JMS que pueden aparecer en esta sección.</span><span class="sxs-lookup"><span data-stu-id="a00b1-219">BizTalk Adapter for TIBCO Enterprise Message Service provides a schema and assembly, which declare the EMS- and JMS-specific properties that can appear in this section.</span></span> <span data-ttu-id="a00b1-220">Éstas se pueden aumentar para incluir algunas omisiones.</span><span class="sxs-lookup"><span data-stu-id="a00b1-220">These can be augmented to include any omissions.</span></span> <span data-ttu-id="a00b1-221">Todas las propiedades EMSX a las que se hace referencia en el contexto del mensaje se colocan en la sección de propiedades del mensaje de EMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-221">All EMSX properties referenced in the message context are put in the message property section of the EMS message.</span></span> <span data-ttu-id="a00b1-222">Para obtener más información, vea la Guía de usuario de TIBCO EMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-222">For more information, see the TIBCO EMS Users Guide.</span></span>  
  
## <a name="body"></a><span data-ttu-id="a00b1-223">Cuerpo</span><span class="sxs-lookup"><span data-stu-id="a00b1-223">Body</span></span>  
 <span data-ttu-id="a00b1-224">EMS admite todos los mensajes enumerados en la especificación JMS: texto, byte, secuencia, asignación y objeto.</span><span class="sxs-lookup"><span data-stu-id="a00b1-224">EMS supports all messages enumerated in the JMS specification: text, byte, stream, map, and object.</span></span> <span data-ttu-id="a00b1-225">El adaptador de BizTalk para TIBCO EMS admite únicamente el tipo de mensaje de texto.</span><span class="sxs-lookup"><span data-stu-id="a00b1-225">The BizTalk Adapter for TIBCO EMS supports only the text message type.</span></span>  
  
 <span data-ttu-id="a00b1-226">JMS no requiere que los mensajes de tipo de texto contengan cuerpos con formato XML.</span><span class="sxs-lookup"><span data-stu-id="a00b1-226">JMS does not require that messages of type text contain XML-formatted bodies.</span></span> <span data-ttu-id="a00b1-227">El adaptador no procesa el cuerpo del mensaje; se proporciona para [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] como recibidos.</span><span class="sxs-lookup"><span data-stu-id="a00b1-227">The adapter does not process the body of the message; it is provided to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] as received.</span></span>  <span data-ttu-id="a00b1-228">Por lo tanto, los mensajes enviados a BizTalk por el adaptador no pueden analizar siempre como datos XML.</span><span class="sxs-lookup"><span data-stu-id="a00b1-228">Therefore, messages submitted to BizTalk by the adapter may not always parse as XML data.</span></span>  
  
## <a name="persistent-messages"></a><span data-ttu-id="a00b1-229">Mensajes persistentes</span><span class="sxs-lookup"><span data-stu-id="a00b1-229">Persistent Messages</span></span>  
 <span data-ttu-id="a00b1-230">Los mensajes se pueden almacenar en el servidor EMS para garantizar exactamente una entrega única a un suscriptor. No obstante, esto puede tener una influencia significativa en el rendimiento del adaptador.</span><span class="sxs-lookup"><span data-stu-id="a00b1-230">Messages can be persisted on the EMS server to guarantee exactly one-time delivery to a subscriber; however, this can have a significant impact on the adapter's performance.</span></span> <span data-ttu-id="a00b1-231">Cuando envía mensajes, EMS almacena el mensaje en un almacenamiento local antes de que confirmar la recepción del mensaje en el adaptador.</span><span class="sxs-lookup"><span data-stu-id="a00b1-231">When you send messages, EMS stores the message in local storage before acknowledging reception of the message to the adapter.</span></span> <span data-ttu-id="a00b1-232">Puede establecer esta propiedad en cada uno de los mensajes de la orquestación o para todos los mensajes procesados por el puerto.</span><span class="sxs-lookup"><span data-stu-id="a00b1-232">You can set this property on a per-message basis in the orchestration or for all messages processed by the port.</span></span>  
  
 <span data-ttu-id="a00b1-233">Desde el punto de vista de la recepción, el adaptador puede perder mensajes cuando no se suscribe al tema.</span><span class="sxs-lookup"><span data-stu-id="a00b1-233">From the receiving aspect, the adapter can miss messages when it is not subscribed to the topic.</span></span> <span data-ttu-id="a00b1-234">Los mensajes enviados a temas cuando no hay suscriptores, no se almacenan en EMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-234">Messages posted to topics when there are no subscriptions are not persisted by EMS.</span></span> <span data-ttu-id="a00b1-235">El adaptador necesita un mecanismo para recibir mensajes que se envían incluso cando no se han suscrito actualmente. No obstante, al igual que el uso de mensajes persistentes, esto tiene una influencia significativa en el rendimiento de EMS y no siempre es necesario.</span><span class="sxs-lookup"><span data-stu-id="a00b1-235">The adapter needs a mechanism to receive message postings even when not currently subscribed; however, like the use of persistent messages, this has a significant impact on the EMS performance, and it is not always required.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a00b1-236">Hay un mecanismo para la recepción desde el punto de vista de EMS, pero no se implementa si no se desea realmente.</span><span class="sxs-lookup"><span data-stu-id="a00b1-236">There is a mechanism for receive from the point of view of EMS, but it is not implemented, nor is it really desired.</span></span> <span data-ttu-id="a00b1-237">Este es sólo un problema del tema. No afecta a las colas.</span><span class="sxs-lookup"><span data-stu-id="a00b1-237">This is only an issue with topic; queues are not affected.</span></span> <span data-ttu-id="a00b1-238">Por lo general, un tema se usa para los datos específicos de tiempo -- cotizaciones de acciones, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="a00b1-238">A topic is generally used for time-specific data -- stock quotes, for example.</span></span> <span data-ttu-id="a00b1-239">Si se pierde el precio de una acción, sabrá que deberá enviarlo de nuevo posteriormente.</span><span class="sxs-lookup"><span data-stu-id="a00b1-239">If the price of a stock is missed, you know that it will be posted again later.</span></span>  
  
 <span data-ttu-id="a00b1-240">Por estos motivos, la configuración de puerto le permite habilitar o deshabilitar la persistencia del mensaje en el servidor EMS.</span><span class="sxs-lookup"><span data-stu-id="a00b1-240">For these reasons the port configuration lets you enable or disable message persistence on the EMS server.</span></span>  
  
## <a name="message-acknowledgement"></a><span data-ttu-id="a00b1-241">Reconocimiento de mensajes</span><span class="sxs-lookup"><span data-stu-id="a00b1-241">Message Acknowledgement</span></span>  
 <span data-ttu-id="a00b1-242">El adaptador de BizTalk para TIBCO Enterprise Message Service siempre confirma la recepción de un mensajes cuando dicho mensaje se ha distribuido correctamente en el servidor BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="a00b1-242">BizTalk Adapter for TIBCO Enterprise Message Service always acknowledges reception of a message when that message was correctly dispatched to BizTalk Server.</span></span> <span data-ttu-id="a00b1-243">Esto significa que los mensajes sin confirmar se vuelven a enviar de EMS al adaptador.</span><span class="sxs-lookup"><span data-stu-id="a00b1-243">This means that unacknowledged messages are resent from EMS to the adapter.</span></span> <span data-ttu-id="a00b1-244">El adaptador no puede controlar el número de veces que se vuelve a enviar el mensaje mediante EMS ya que se trata de una configuración de destino. No obstante, el adaptador puede controlar si el mensaje se envía o no al cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="a00b1-244">The adapter cannot control the number of times the message is resent by EMS because this is a configuration of the destination itself; however, the adapter can control if the message is sent to the MessageBox or not.</span></span> <span data-ttu-id="a00b1-245">El servidor EMS controla el número máximo de veces que se envía un mensaje erróneo a una cola.</span><span class="sxs-lookup"><span data-stu-id="a00b1-245">The EMS server controls the maximum number of times a failed message is sent to a queue.</span></span>  
  
 <span data-ttu-id="a00b1-246">Para mensajes que se van a volver a entregar, el servidor EMS establece la propiedad `JMSRedelivered` como True e incrementa `JMSXDeliveryCount`.</span><span class="sxs-lookup"><span data-stu-id="a00b1-246">For messages that are redelivered, the EMS server sets the `JMSRedelivered` property to True and increments the `JMSXDeliveryCount`.</span></span> <span data-ttu-id="a00b1-247">Ambos valores de propiedad se encuentran disponibles en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="a00b1-247">Both property values are available to the orchestration.</span></span> <span data-ttu-id="a00b1-248">No puede mover un mensaje a la cola sin entregar EMS sin entregarlo allí.</span><span class="sxs-lookup"><span data-stu-id="a00b1-248">You cannot move a message to the EMS un-delivered queue without delivering it there.</span></span> <span data-ttu-id="a00b1-249">Hacerlo cambiaría las propiedades del mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-249">Doing this would change the message properties.</span></span>  
  
 <span data-ttu-id="a00b1-250">Cuando un mensaje alcanza el recuento máximo de reentregas configurado, el servidor EMS determina si el mensaje se debe eliminar o colocar en la cola sin entregar $sys.</span><span class="sxs-lookup"><span data-stu-id="a00b1-250">When a message reaches its configured maximum redelivery count, the EMS server determines whether the message should be deleted or put on the $sys.undelivered queue.</span></span> <span data-ttu-id="a00b1-251">El servidor EMS toma la decisión basándose en la propiedad `JMS_TIBCO_PRESERVE_UNDELIVERED`; si se establece como True, el mensaje se envía a la cola sin entregar o se elimina.</span><span class="sxs-lookup"><span data-stu-id="a00b1-251">The EMS server makes the decision based on the `JMS_TIBCO_PRESERVE_UNDELIVERED` property; if True, the message goes to the undelivered queue, or it is deleted.</span></span> <span data-ttu-id="a00b1-252">Esta propiedad se puede establecer en la orquestación antes de enviar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-252">This property can be set in the orchestration before sending the message.</span></span> <span data-ttu-id="a00b1-253">Tras la entrega, no se puede cambiar la propiedad del mensaje.</span><span class="sxs-lookup"><span data-stu-id="a00b1-253">After delivery, the message property cannot be changed.</span></span> <span data-ttu-id="a00b1-254">Los mensajes enviados a EMS se confirman en BizTalk Server cuando se reciben correctamente.</span><span class="sxs-lookup"><span data-stu-id="a00b1-254">Messages sent to EMS are acknowledged to BizTalk Server when they are successful.</span></span> <span data-ttu-id="a00b1-255">Si hay un error en el envío de temas a EMS, se suspenden y se marcan como recuperables.</span><span class="sxs-lookup"><span data-stu-id="a00b1-255">If there is a failure sending theme to EMS, they are suspended and marked as retryable.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a00b1-256">Vea también</span><span class="sxs-lookup"><span data-stu-id="a00b1-256">See Also</span></span>  
 [<span data-ttu-id="a00b1-257">Introducción</span><span class="sxs-lookup"><span data-stu-id="a00b1-257">Getting Started</span></span>](../core/getting-started-with-biztalk-adapter-for-tibco-enterprise-message-service.md)