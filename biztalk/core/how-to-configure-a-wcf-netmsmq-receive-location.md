---
title: Cómo configurar ubicación de recepción de un WCF-NetMsmq | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f82b323b-9870-42fb-9992-c23dca909b4d
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6e4659b7ff551127bb085d01125eb0e9e5ff7489
ms.sourcegitcommit: be6273d612669adfbb9dc9208aaae0a8437d4017
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/04/2018
ms.locfileid: "52826444"
---
# <a name="how-to-configure-a-wcf-netmsmq-receive-location"></a>Cómo configurar una ubicación de recepción WCF-NetMsmq
Puede configurar una ubicación de recepción WCF-NetMsmq mediante programación o con la consola de administración de BizTalk.  

## <a name="configuration-properties"></a>Propiedades de configuración

 El modelo de objetos del Explorador de BizTalk permite crear y configurar ubicaciones de recepción mediante programación. El modelo de objetos del explorador de BizTalk expone la**IReceiveLocation** recibir de la interfaz de configuración de ubicación que tenga un **TransportTypeData** propiedad de lectura/escritura. Esta propiedad acepta una bolsa de propiedades de configuración de ubicación de recepción WCF-NetMsmq con formato de un par de nombre y valor de cadenas XML. Para establecer esta propiedad en el modelo de objetos del explorador de BizTalk, debe establecer el **InboundTransportLocation** propiedad de la **IReceiveLocation** interfaz.  

 El **TransportTypeData** propiedad de la **IReceiveLocation** interfaz no tiene que establecerse. Si no se establece, el adaptador de WCF-NetMsmq usa los valores predeterminados para la configuración de la ubicación de recepción WCF-NetMsmq, como se indica en la siguiente tabla.  

 La siguiente tabla enumera las propiedades de configuración que se pueden establecer en el modelo de objetos para el Explorador de BizTalk para la ubicación de recepción WCF-NetMsmq.  


|           Nombre de propiedad            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Tipo                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                Descripción                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            **Identidad**            |                                                                                                                                                                                                                                                                                                                                                                                               Blob XML<br /><br /> Ejemplo:<br /><br /> &lt;identidad&gt;<br /><br /> &lt;valor de userPrincipalName = "username@contoso.com" /&gt;<br /><br /> &lt;/Identity&gt;                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                         Especificar la identidad de servicio que proporciona esta ubicación de recepción. Los valores que se pueden especificar para el **identidad** propiedad difieren según la configuración de seguridad. Esta configuración hace posible que el cliente autentique la ubicación de recepción. En el proceso de negociación entre el cliente y el servicio, la infraestructura de Windows Communication Foundation (WCF) asegurará que la identidad del servicio esperado coincide con los valores de este elemento.<br /><br /> El valor predeterminado es una cadena vacía.                                                                                          |
|          **OpenTimeout**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    **System.TimeSpan**                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                           Especificar un valor de marco temporal que indica el intervalo de tiempo proporcionado para que se complete una operación de apertura del canal.<br /><br /> Valor predeterminado: 00:01:00                                                                                                                                                                                                                                                                            |
|          **SendTimeout**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    **System.TimeSpan**                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                               Especificar un valor de marco temporal que indica el intervalo de tiempo proporcionado para que se complete una operación de envío.<br /><br /> Valor predeterminado: 00:01:00                                                                                                                                                                                                                                                                                |
|          **CloseTimeout**          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    **System.TimeSpan**                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                           Especificar un valor de marco temporal que indica el intervalo de tiempo proporcionado para que se complete una operación de cierre del canal.<br /><br /> Valor predeterminado: 00:01:00                                                                                                                                                                                                                                                                           |
|     **MaxReceivedMessageSize**     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Integer                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                             Especificar el tamaño máximo, en bytes, para mensajes (con encabezados incluidos) que se pueden recibir a través de la red. El tamaño de los mensajes se limita mediante la cantidad de memoria asignada a cada mensaje. Puede usar esta propiedad para limitar la exposición a ataques por denegación de servicio (DoS).<br /><br /> Valor predeterminado: 65536                                                                                                                                                                                              |
|       **EnableTransaction**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                              Especifica el tipo de cola de mensajes: transaccional o no transaccional. Si se selecciona esta propiedad, cada mensaje se entrega solo una vez y el remitente recibe una notificación sobre los errores de entrega. Para enviar mensajes a través de envío transaccional de puertos, ambos el **duradero** y **exactlyOnce** elementos del cliente de enlace deben establecerse en **True**. Si esta propiedad está desactivada, los mensajes se transfieren sin garantía de entrega. **Nota:** si utiliza una cola transaccional de esta ubicación de recepción, esta propiedad debe estar seleccionada. <br /><br /> Valor predeterminado: **False**                                                               |
|       **OrderedProcessing**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Especifica si los mensajes se procesan en serie. Cuando se selecciona esta propiedad, esta ubicación de recepción permite la entrega de mensajes ordenada cuando se usa junto con un puerto de envío de orquestación o mensajería de BizTalk que tiene el **entrega ordenada** opción establecida en `True`. Puede seleccionar esta solo cuando el **EnableTransaction** propiedad está establecida en **True**.<br /><br /> Para obtener más información sobre la **entrega ordenada** opción, vea los temas correspondientes en la sección Vea también.<br /><br /> Cuando esta propiedad se establece en **True**, ubicación de recepción WCF-NetMsmq optimiza el uso de recursos cuando se administran los mensajes de gran tamaño convirtiendo el adaptador en un único subproceso.<br /><br /> Valor predeterminado: **False** |
|       **MaxConcurrentCalls**       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Integer                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                 Especificar el número de llamadas concurrentes en una instancia de servicio única. Las llamadas que superan el límite se ponen en cola. El intervalo de esta propiedad es de 0 a **Int32.MaxValue**.<br /><br /> Valor predeterminado: 200                                                                                                                                                                                                                                                  |
|          **SecurityMode**          |                                                                                                                                                                                                                                                                           Enum<br /><br /> -   **Ninguno**<br />-   **Mensaje**<br />-   **Transporte**<br />-   **Ambos**<br /><br /> Para obtener más información acerca de los nombres de miembro para el **SecurityMode** propiedad, vea el **modo de seguridad** propiedad en el **cuadro de diálogo de propiedades de transporte WCF-NetMsmq, recepción, seguridad**  ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                            Especificar el tipo de seguridad que se usa.<br /><br /> Valor predeterminado: **transporte**                                                                                                                                                                                                                                                                                                            |
|     **MsmqAuthenticationMode**     |                                                                                                                                                                                                                                                                     Enum<br /><br /> -   **Ninguno**<br />-   **WindowsDomain**<br />-   **Certificado**<br /><br /> Para obtener más información acerca de los nombres de miembro para el **MsmqAuthenticationMode** propiedad, vea el **MsmqAuthenticationMode** propiedad en el **el cuadro de diálogo de propiedades de transporte de WCF-NetMsmq Recibir, seguridad** ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                             Especificar cómo el transporte de MSMQ debe autenticar el mensaje.<br /><br /> Valor predeterminado: **WindowsDomain**                                                                                                                                                                                                                                                                                             |
|      **MsmqProtectionLevel**       |                                                                                                                                                                                                                                                                                                                                                     Enum<br /><br /> -   **Ninguno**: sin protección.<br />-   **Inicio de sesión**: los mensajes se firman.<br />-   **EncryptAndSign**: los mensajes se cifran y firman. Para usar este nivel de protección, debe habilitar **integración de Active Directory** para **MSMQ**.                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                       Especificar el modo en que los mensajes están protegidos en el nivel de transporte de MSMQ. El cifrado garantiza la integridad del mensaje, mientras que la firma y el cifrado garantizan la integridad del mensaje y evita el rechazo.<br /><br /> Valor predeterminado: **inicio de sesión**                                                                                                                                                                                                                                       |
|    **MsmqSecureHashAlgorithm**     |                                                                                                                                                                                                                                                                                                                                                                                                                                   Enum<br /><br /> -   **MD5**<br />-   **SHA1**<br />-   **SHA25**<br />-   **SHA512**                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                  Especificar el algoritmo hash que se usará para calcular la síntesis del mensaje. Esta propiedad no está disponible si el **MsmqProtectionLevel** propiedad está establecida en **ninguno**.<br /><br /> Valor predeterminado: **SHA1**                                                                                                                                                                                                                                                   |
|    **MsmqEncryptionAlgorithm**     |                                                                                                                                                                                                                                                                                                                                                                                                                                                    Enum<br /><br /> -   **RC4Stream**<br />-   **AES**                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                               Especificar el algoritmo que se usará para el cifrado de mensajes a través de la red al transferir mensajes entre los administradores de cola de mensajes. Esta propiedad está disponible solo si el **MsmqProtectionLevel** propiedad está establecida en **EncryptAndSign**.<br /><br /> Valor predeterminado: **RC4Stream**                                                                                                                                                                                                               |
|  **MessageClientCredentialType**   |                                                                                                                                                                                                                                                        Enum<br /><br /> -   **Ninguno**<br />-   **Windows**<br />-   **Nombre de usuario**<br />-   **Certificado**<br /><br /> Para obtener más información acerca de los nombres de miembro para el **MessageClientCredentialType** propiedad, vea el **tipo de credencial de cliente de mensajes** propiedad en el **propiedades de transporte WCF-NetMsmq Seguridad de diálogo cuadro, recepción,** ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                           Especificar el tipo de credenciales que se va a usar a la hora de realizar la autenticación de cliente mediante la seguridad basada en mensajes.<br /><br /> Valor predeterminado: **Windows**                                                                                                                                                                                                                                                                            |
|         **AlgorithmSuite**         |                                                                                                                                                                                                                                                                                                                    Enum<br /><br /> Para obtener más información acerca de los nombres de miembro para el **AlgorithmSuite** propiedad, vea el **algorithmsuite** propiedad en el **cuadro de diálogo de propiedades de transporte WCF-NetMsmq, recepción, seguridad**  ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                Especificar el cifrado de mensajes y los algoritmos de encapsulado de claves. Estos algoritmos se asignan a los que se indican en la especificación Security Policy Language (WS-SecurityPolicy).<br /><br /> Valor predeterminado: **Basic256**                                                                                                                                                                                                                                                 |
|       **ServiceCertificate**       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           String                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                     Especificar la huella digital del certificado X.509 para esta ubicación de recepción que los clientes utilizan para autenticar el servicio. El certificado que se usará para esta propiedad debe estar instalado en el **mi** almacenar en el **usuario actual** ubicación. **Nota:** debe instalar el certificado de servicio en la **usuario actual** ubicación de la cuenta de usuario para el controlador de recepción que aloja esta ubicación de recepción. <br /><br /> El valor predeterminado es una cadena vacía.                                                                                                                     |
|      **InboundBodyLocation**       | Enum<br /><br /> -   **UseBodyElement** -usar el contenido del mensaje SOAP **cuerpo** elemento de un mensaje entrante para crear la parte del cuerpo de mensaje de BizTalk. Si el elemento **Body** tiene varios elementos secundarios, sólo el primero de ellos será la parte del cuerpo del mensaje de BizTalk.<br />-   **UseEnvelope** -crear la parte del cuerpo de mensaje de BizTalk de SOAP completo **sobres** de un mensaje entrante.<br />-   **UseBodyPath** -usar la expresión de ruta de cuerpo en el **InboundBodyPathExpression** propiedad para crear la parte del cuerpo de mensaje de BizTalk. Esta expresión se evalúa con respecto al elemento secundario inmediato del elemento **Cuerpo** de SOAP de un mensaje entrante. Esta propiedad sólo es válida para puertos de petición-respuesta.<br /><br /> Para obtener más información sobre cómo usar el **InboundBodyLocation** propiedad, vea [especificando el cuerpo del mensaje para los adaptadores de WCF](../core/specifying-the-message-body-for-the-wcf-adapters.md). |                                                                                                                                                                                                                                                                                     Especifique la selección de datos de SOAP **cuerpo** elemento de mensajes WCF entrantes.<br /><br /> Valor predeterminado: **UseBodyElement**                                                                                                                                                                                                                                                                                      |
|   **InboundBodyPathExpression**    |                                                                                                                                                                                                                                                                                                                                                                      String<br /><br /> Para obtener más información sobre cómo usar el **InboundBodyPathExpression** propiedad, vea [propiedades y esquema de propiedades de adaptadores de WCF](../core/wcf-adapters-property-schema-and-properties.md).                                                                                                                                                                                                                                                                                                                                                                       |                                                                                     Especificar la expresión de ruta de cuerpo para identificar una parte específica de un mensaje entrante utilizada para crear la parte del cuerpo del mensaje de BizTalk. Esta expresión se evalúa con respecto al elemento secundario inmediato del SOAP **cuerpo** nodo de un mensaje entrante. Si esta expresión de ruta de cuerpo devuelve varios nodos, solo se elegirá el primero de ellos para la parte del cuerpo del mensaje de BizTalk. Esta propiedad es necesaria si la **InboundBodyLocation** propiedad está establecida en **UseBodyPath**.<br /><br /> El valor predeterminado es una cadena vacía.                                                                                     |
|      **InboundNodeEncoding**       |                                                                                                                                                                                                                                                                                                                     Enum<br /><br /> -   **Base64** -codificación Base64.<br />-   **Hex** : Hexadecimal codificación.<br />-   **Cadena** : codificación de texto - UTF-8.<br />-   **XML** -los adaptadores WCF crean el cuerpo del mensaje de BizTalk con el XML externo del nodo seleccionado por la expresión de ruta de cuerpo en **InboundBodyPathExpression**.                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                               Especifique el tipo de codificación que WCF-NetMsmq adaptador de recepción utiliza para descodificar el nodo identificado por la expresión de ruta de cuerpo especificada en **InboundBodyPathExpression**. Esta propiedad es necesaria si la **InboundBodyLocation** propiedad está establecida en **UseBodyPath**.<br /><br /> Valor predeterminado: **XML**                                                                                                                                                                                                |
|    **DisableLocationOnFailure**    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                   Especificar si se va a deshabilitar la ubicación de recepción cuyo procesamiento de entrada no se puede realizar correctamente debido a un error de canalización de recepción o de enrutamiento.<br /><br /> Valor predeterminado: **False**                                                                                                                                                                                                                                                                    |
|    **SuspendMessageOnFailure**     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                 Especificar si se va a suspender el mensaje de solicitud cuyo procesamiento de entrada no se puede realizar correctamente debido a un error de canalización de recepción o de enrutamiento.<br /><br /> Valor predeterminado: **True**                                                                                                                                                                                                                                                                  |
| **IncludeExceptionDetailInFaults** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                    Especificar si se va a incluir información de excepción administrada en el detalle de los errores SOAP devueltos al cliente para fines de depuración.<br /><br /> Valor predeterminado: **False**                                                                                                                                                                                                                                                                    |

## <a name="configure-a-wcf-netmsmq-receive-location-with-the-biztalk-administration-console"></a>Configurar un WCF-NetMsmq ubicación de recepción con la consola de administración de BizTalk

 Se pueden establecer variables de adaptador de ubicación de recepción WCF-NetMsmq en la consola de administración de BizTalk. Si no se definen propiedades en la ubicación de recepción, se utilizarán los valores predeterminados del controlador de recepción establecidos en la consola de administración de BizTalk.  

> [!NOTE]
>  Antes de completar este procedimiento, debe haber agregado un puerto de recepción. Para más información, consulte [Cómo crear un puerto de recepción](../core/how-to-create-a-receive-port.md).  

> [!NOTE]
>  Las configuraciones de enlace de clientes WCF y ubicaciones de recepción WCF-NetMsmq deben coincidir. Si no es así, las ubicaciones de recepción WCF-NetMsmq pueden perder mensajes entrantes.  

## <a name="configure-variables-for-a-wcf-netmsmq-receive-location"></a>Configurar variables para la ubicación de recepción de un WCF-NetMsmq  

1. En la consola de administración de BizTalk, expanda [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)] **administración**, expanda **grupo de BizTalk**, expanda **aplicaciones**y, a continuación, expanda la aplicación desea crear una ubicación de recepción.  

2. En la consola de administración de BizTalk, en el panel izquierdo, haga clic en el nodo **Puerto de recepción** . A continuación, en el panel de la derecha, haga clic con el botón secundario en el puerto de recepción asociado con una ubicación de recepción existente o que desee asociar con una nueva ubicación de recepción. A continuación, haga clic en **Propiedades**.  

3. En el **propiedades de puerto de recepción** cuadro de diálogo, en el panel izquierdo, seleccione **ubicaciones de recepción**y, a continuación, en el panel derecho, haga doble clic en una existente, ubicación de recepción o haga clic en **New**para crear una nueva ubicación de recepción.  

4. En el **propiedades de ubicación de recepción** cuadro de diálogo el **transporte** junto a la sección **tipo**, seleccione **WCF-NetMsmq** desde el lista desplegable y, a continuación, haga clic en **configurar**.  

5. En el **propiedades de transporte WCF-NetMsmq** cuadro de diálogo el **General** pestaña, configure la dirección del punto de conexión y ubicación de recepción de la identidad del servicio de WCF-NetMsmq. Para obtener más información sobre la **General** pestaña en el **propiedades de transporte WCF-NetMsmq** cuadro de diálogo, vea el **cuadro cuadro de diálogo de propiedades de transporte WCF-NetMsmq, recepción, General**ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].  

6. En el **propiedades de transporte WCF-NetMsmq** cuadro de diálogo el **enlace** pestaña, configure las propiedades de tiempo de espera y transacción. Para obtener más información sobre la **enlace** pestaña en el **propiedades de transporte WCF-NetMsmq** cuadro de diálogo, vea el **delcuadrodediálogodepropiedadesdetransporteWCF-NetMsmq,recepción,enlace**ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].  

7. En el **propiedades de transporte WCF-NetMsmq** cuadro de diálogo el **seguridad** pestaña, definir la seguridad de la ubicación de recepción de las capacidades de WCF-NetMsmq. Para obtener más información sobre la **seguridad** pestaña en el **propiedades de transporte WCF-NetMsmq** cuadro de diálogo, vea el **delcuadrodediálogodepropiedadesdetransporteWCF-NetMsmq,recepción,seguridad**ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].  

8. En el **propiedades de transporte WCF-NetMsmq** cuadro de diálogo el **mensajes** ficha, especifique la selección de datos de SOAP **cuerpo** elemento. Para obtener más información sobre la **mensajes** pestaña en el **propiedades de transporte WCF-NetMsmq** cuadro de diálogo, vea el **mensajes del cuadro de diálogo de propiedades de transporte WCF-NetMsmq, recepción,** ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]. 

## <a name="configure-a-wcf-netmsmq-receive-location-programmatically"></a>Configurar un WCF-NetMsmq mediante programación de la ubicación de recepción

 Puede usar el siguiente formato para establecer las propiedades:  

```xml
<CustomProps>  
  <ServiceCertificate vt="8" />  
  <InboundBodyLocation vt="8">UseBodyElement</InboundBodyLocation>  
  <InboundBodyPathExpression vt="8" />  
  <MessageClientCredentialType vt="8">Windows</MessageClientCredentialType>  
  <SendTimeout vt="8">00:01:00</SendTimeout>  
  <IncludeExceptionDetailInFaults vt="11">0</IncludeExceptionDetailInFaults>  
  <OpenTimeout vt="8">00:01:00</OpenTimeout>  
  <AlgorithmSuite vt="8">Basic256</AlgorithmSuite>  
  <MaxConcurrentCalls vt="3">16</MaxConcurrentCalls>  
  <SecurityMode vt="8">Transport</SecurityMode>  
  <OrderedProcessing vt="11">0</OrderedProcessing>  
  <CloseTimeout vt="8">00:01:00</CloseTimeout>  
  <MsmqEncryptionAlgorithm vt="8">RC4Stream</MsmqEncryptionAlgorithm>  
  <MaxReceivedMessageSize vt="3">2097152</MaxReceivedMessageSize>  
  <MsmqProtectionLevel vt="8">Sign</MsmqProtectionLevel>  
  <DisableLocationOnFailure vt="11">0</DisableLocationOnFailure>  
  <MsmqSecureHashAlgorithm vt="8">Sha1</MsmqSecureHashAlgorithm>  
  <SuspendMessageOnFailure vt="11">-1</SuspendMessageOnFailure>  
  <EnableTransaction vt="11">-1</EnableTransaction>  
  <InboundNodeEncoding vt="8">Xml</InboundNodeEncoding>  
  <MsmqAuthenticationMode vt="8">WindowsDomain</MsmqAuthenticationMode>  
</CustomProps>  

```  

 El siguiente fragmento de código muestra la creación de una ubicación de recepción WCF-NetMsmq:  

```csharp
// Use BizTalk Explorer object model to create new WCF-NetMsmq receive location   
string server = System.Environment.MachineName;  
string database = "BizTalkMgmtDb";  
string connectionString = string.Format("Server={0};Database={1};Integrated Security=true", server, database);  
string transportConfigData = @"<CustomProps>  
  <InboundBodyLocation vt=""8"">UseBodyElement</InboundBodyLocation>  
  <UseSSO vt=""11"">0</UseSSO>  
  <Identity vt=""8"">  
    <identity>  
    <userPrincipalName value=""username@contoso.com"" />  
    </identity>  
  </Identity>  
</CustomProps>";  
//requires project reference to \Program Files\Microsoft BizTalk Server 2009\Developer Tools\Microsoft.BizTalk.ExplorerOM.dll  
BtsCatalogExplorer explorer = new Microsoft.BizTalk.ExplorerOM.BtsCatalogExplorer();  
explorer.ConnectionString = connectionString;  
// Add a new BizTalk application  
Application application = explorer.AddNewApplication();  
application.Name = "SampleBizTalkApplication";  
// Save  
explorer.SaveChanges();  

// Add a new one-way receive port  
IReceivePort receivePort = application.AddNewReceivePort(false);  
receivePort.Name = "SampleReceivePort";  
// Add a new one-way receive location  
IReceiveLocation receiveLocation = receivePort.AddNewReceiveLocation();  
receiveLocation.Name = "SampleReceiveLocation";  
// Find a receive handler for WCF-NetMsmq   
int i = 0;  
for(i=0; i < explorer.ReceiveHandlers.Count; ++i)   
{  
    if("WCF-NetMsmq" == explorer.ReceiveHandlers[i].TransportType.Name)  
        break;  
}  
receiveLocation.ReceiveHandler = explorer.ReceiveHandlers[i];  
receiveLocation.Address = "net.msmq://mycomputer/private/sampleQueue";  
receiveLocation.ReceivePipeline = explorer.Pipelines["Microsoft.BizTalk.DefaultPipelines.PassThruReceive"];  
receiveLocation.TransportType = explorer.ProtocolTypes["WCF-NetMsmq"];  
receiveLocation.TransportTypeData = transportConfigData;  
// Save  
explorer.SaveChanges();   
```  

## <a name="see-also"></a>Vea también  
 [Adaptadores de recepción de la publicación de metadatos de servicio de WCF](../core/publishing-service-metadata-for-the-wcf-receive-adapters.md)   
 [Administración de Hosts de BizTalk y las instancias de Host](../core/managing-biztalk-hosts-and-host-instances.md)   
 [Cómo cambiar contraseñas y cuentas de servicio](../core/how-to-change-service-accounts-and-passwords.md)   
 [Instalación de certificados para los adaptadores de WCF](../core/installing-certificates-for-the-wcf-adapters.md)   
 [Especificar el cuerpo del mensaje para los adaptadores de WCF](../core/specifying-the-message-body-for-the-wcf-adapters.md)   
 [Configuración del adaptador de WCF-NetMsmq](../core/configuring-the-wcf-netmsmq-adapter.md)   
 [Entrega ordenada de mensajes](../core/ordered-delivery-of-messages.md)   
 [Enviar y recuperar mensajes dentro de una transacción](http://go.microsoft.com/fwlink/?LinkID=75752)   
 [Message Queue Server y Active Directory](http://go.microsoft.com/fwlink/?LinkID=75769)   
 [Colas públicas y privadas](http://go.microsoft.com/fwlink/?LinkId=196673)
