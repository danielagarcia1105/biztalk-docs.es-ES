---
title: EnvelopeProcessing (ejemplo de BizTalk Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- messages, envelopes
- flat files, processing
- examples, flat files
- examples, messages
- examples, envelopes
- envelopes, messages
- flat files, examples
- envelopes, examples
ms.assetid: b4cd979b-c7b4-446c-be29-c9f3169afa1f
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4206d46ec3a14d269f14d977133fb7211db694c6
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36994533"
---
# <a name="envelopeprocessing-biztalk-server-sample"></a><span data-ttu-id="f9a73-102">EnvelopeProcessing (ejemplo de BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="f9a73-102">EnvelopeProcessing (BizTalk Server Sample)</span></span>
<span data-ttu-id="f9a73-103">El ejemplo EnvelopeProcessing muestra cómo se procesan los mensajes y los sobres de mensaje en las canalizaciones de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f9a73-103">The EnvelopeProcessing sample demonstrates how to process messages and message envelopes in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pipelines.</span></span> <span data-ttu-id="f9a73-104">Además, muestra cómo procesar mensajes de archivos sin formato en mensajes XML.</span><span class="sxs-lookup"><span data-stu-id="f9a73-104">Further, it shows how to process flat file messages into XML messages.</span></span>  

## <a name="what-this-sample-does"></a><span data-ttu-id="f9a73-105">Descripción del ejemplo</span><span class="sxs-lookup"><span data-stu-id="f9a73-105">What This Sample Does</span></span>  
 <span data-ttu-id="f9a73-106">Este ejemplo configura la carpeta EnvInput como ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="f9a73-106">This sample configures the folder EnvInput as a receive location.</span></span> <span data-ttu-id="f9a73-107">Cuando se coloca un archivo, como el archivo de ejemplo EnvelopeProcessing_in.txt, en esta carpeta, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] procesa los mensajes de este archivo siguiendo estos pasos:</span><span class="sxs-lookup"><span data-stu-id="f9a73-107">When you place a file, such as the sample file EnvelopeProcessing_in.txt, in this folder, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] processes the messages in this file using the following steps:</span></span>  

1. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="f9a73-108"> recupera el archivo de mensajes de la carpeta de ubicación de recepción EnvInput.</span><span class="sxs-lookup"><span data-stu-id="f9a73-108"> retrieves the message file from the receive location folder EnvInput.</span></span>  

2. <span data-ttu-id="f9a73-109">En la canalización de recepción, el componente de canalización Desensamblador de archivos sin formato quita el encabezado y el finalizador de los mensajes de archivos sin formato, y los analiza en mensajes individuales.</span><span class="sxs-lookup"><span data-stu-id="f9a73-109">In the receive pipeline, the Flat File Disassembler pipeline component removes the header and trailer from the flat file messages, and parses them into individual messages.</span></span>  

3. <span data-ttu-id="f9a73-110">En la base de datos de cuadro de mensajes, los mensajes se enrutan al puerto de envío mediante filtros de suscripción.</span><span class="sxs-lookup"><span data-stu-id="f9a73-110">In the MessageBox database, the messages are routed to the send port using subscription filters.</span></span>  

4. <span data-ttu-id="f9a73-111">En la canalización de envío del puerto de envío, el componente de canalización Ensamblador de XML incluye los sobres XML y después los incluye en la carpeta del adaptador de envío EnvOutput.</span><span class="sxs-lookup"><span data-stu-id="f9a73-111">In the send pipeline of the send port, XML Assembler pipeline component wraps the messages in XML envelopes and then places them into the send adapter folder EnvOutput.</span></span>  

## <a name="how-this-sample-is-designed-and-why"></a><span data-ttu-id="f9a73-112">Cómo se ha diseñado este ejemplo y por qué</span><span class="sxs-lookup"><span data-stu-id="f9a73-112">How This Sample is Designed and Why</span></span>  
 <span data-ttu-id="f9a73-113">El diseño de este ejemplo tenía que adaptarse a dos requisitos básicos:</span><span class="sxs-lookup"><span data-stu-id="f9a73-113">The design of this sample had to accommodate two basic requirements:</span></span>  

- <span data-ttu-id="f9a73-114">Recibir y procesar un mensaje de archivo sin formato que contenga uno o varios pedidos.</span><span class="sxs-lookup"><span data-stu-id="f9a73-114">Receive and process a flat file message containing one or more purchase orders.</span></span>  

- <span data-ttu-id="f9a73-115">Enviar un mensaje XML que contenga un pedido e información del remitente a un directorio para que un sistema de procesamiento de servidor lo recoja.</span><span class="sxs-lookup"><span data-stu-id="f9a73-115">Send one XML message containing one purchase order and sender information to a directory for pickup by a back-end processing system.</span></span>  

  <span data-ttu-id="f9a73-116">Para cumplir estos requisitos, se utilizó una combinación de esquemas de archivos sin formato y XML, así como canalizaciones personalizadas.</span><span class="sxs-lookup"><span data-stu-id="f9a73-116">To meet these requirements, a combination of flat file/XML schemas and custom pipelines were used.</span></span> <span data-ttu-id="f9a73-117">Estos y otros elementos de diseño se resumen en la siguiente tabla.</span><span class="sxs-lookup"><span data-stu-id="f9a73-117">These and other design elements are summarized in the following table.</span></span>  

|<span data-ttu-id="f9a73-118">Elemento de diseño</span><span class="sxs-lookup"><span data-stu-id="f9a73-118">Design element</span></span>|<span data-ttu-id="f9a73-119">Razones seleccionadas</span><span class="sxs-lookup"><span data-stu-id="f9a73-119">Reason(s) selected</span></span>|  
|--------------------|--------------------------|  
|<span data-ttu-id="f9a73-120">Canalización de recepción personalizada</span><span class="sxs-lookup"><span data-stu-id="f9a73-120">Custom receive pipeline</span></span>|<span data-ttu-id="f9a73-121">-Utiliza el Desensamblador de archivo sin formato y esquemas de archivo sin formato para traducir los mensajes de pedido de compra de entrada.</span><span class="sxs-lookup"><span data-stu-id="f9a73-121">-   Uses the Flat File Disassembler and flat file schemas to translate inbound purchase order messages.</span></span>|  
|<span data-ttu-id="f9a73-122">Esquemas de archivos sin formato para el encabezado, el cuerpo y el finalizador del mensaje.</span><span class="sxs-lookup"><span data-stu-id="f9a73-122">Flat file schemas for message header, body, and trailer</span></span>|<span data-ttu-id="f9a73-123">-Define todas las mismas características registros y campos (incluida la estructura) como esquemas XML y proporcionan un mecanismo para definir todas las características de archivo sin formato que se necesitan para traducir un mensaje de instancia de archivo sin formato en una instancia XML equivalente mensaje (o viceversa).</span><span class="sxs-lookup"><span data-stu-id="f9a73-123">-   Defines all of the same record and field characteristics (including structure) as XML schemas and provide a mechanism for defining all of the flat file characteristics that are required to translate a flat file instance message into an equivalent XML instance message (or vice versa).</span></span><br /><span data-ttu-id="f9a73-124">-Encabezado, cuerpo y finalizador esquemas se utilizan para dividir el cuerpo en fragmentos para su procesamiento.</span><span class="sxs-lookup"><span data-stu-id="f9a73-124">-   Header, body, and trailer schemas are used to split the body into discrete chunks for processing.</span></span>|  
|<span data-ttu-id="f9a73-125">Esquema de sobre</span><span class="sxs-lookup"><span data-stu-id="f9a73-125">Envelope schema</span></span>|<span data-ttu-id="f9a73-126">: Se usa para envolver pedidos individuales con información del encabezado.</span><span class="sxs-lookup"><span data-stu-id="f9a73-126">-   Used to wrap individual purchase orders with information from the header.</span></span>|  
|<span data-ttu-id="f9a73-127">Filtro de suscripción</span><span class="sxs-lookup"><span data-stu-id="f9a73-127">Subscription filter</span></span>|<span data-ttu-id="f9a73-128">-El filtro de suscripción realiza el enrutamiento real mediante la captura de mensajes que cumplen los criterios de uno o varios basados en campos de propiedades.</span><span class="sxs-lookup"><span data-stu-id="f9a73-128">-   The subscription filter performs the actual routing by capturing messages that meet one or more criteria based on property fields.</span></span>|  
|<span data-ttu-id="f9a73-129">Canalización de envío personalizada</span><span class="sxs-lookup"><span data-stu-id="f9a73-129">Custom send pipeline</span></span>|<span data-ttu-id="f9a73-130">: Usa el ensamblador de XML y una combinación de los esquemas de sobre y el cuerpo para traducir los mensajes de instancia en formato XML.</span><span class="sxs-lookup"><span data-stu-id="f9a73-130">-   Uses the XML Assembler and a combination of envelope and body schemas to translate the instance messages into XML format.</span></span>|  

 <span data-ttu-id="f9a73-131">Las siguientes consideraciones se aplican al diseño de este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="f9a73-131">The following considerations apply to the design of this sample.</span></span>  

-   <span data-ttu-id="f9a73-132">El esquema de archivo sin formato (PO.xsd) contiene anotaciones ampliadas que describen la estructura del archivo de pedido sin formato.</span><span class="sxs-lookup"><span data-stu-id="f9a73-132">The flat file schema (PO.xsd) contains extended annotations describing the structure of the purchase order flat file.</span></span> <span data-ttu-id="f9a73-133">Estos archivos se pueden crear manualmente, pero muchos pueden generarse mediante el asistente para archivos sin formato.</span><span class="sxs-lookup"><span data-stu-id="f9a73-133">These files can be created by hand, but many can be generated by using the Flat File Wizard.</span></span>  

-   <span data-ttu-id="f9a73-134">El esquema de archivo sin formato del pedido (PO.xsd) usa un valor Unqualified para elementFormDefault.</span><span class="sxs-lookup"><span data-stu-id="f9a73-134">The purchase order (PO.xsd) flat file schema uses an elementFormDefault value of Unqualified.</span></span> <span data-ttu-id="f9a73-135">De este modo, se generan resultados correctos pero con calificaciones xmlns adicionales e inesperadas.</span><span class="sxs-lookup"><span data-stu-id="f9a73-135">This produces correct results but with additional and unexpected xmlns qualifications.</span></span> <span data-ttu-id="f9a73-136">Para evitar este problema, use un valor Qualified para elementFormDefault.</span><span class="sxs-lookup"><span data-stu-id="f9a73-136">Use an elementFormDefault of Qualified to avoid this issue.</span></span>  

-   <span data-ttu-id="f9a73-137">Los esquemas de archivo sin formato de encabezado y finalizador se usan para separar los datos iniciales y finales del mensaje.</span><span class="sxs-lookup"><span data-stu-id="f9a73-137">Header and trailer flat file schemas are used to separate heading and trailing data from the message.</span></span> <span data-ttu-id="f9a73-138">Las propiedades del esquema de encabezado, el documento y el finalizador del desensamblador de archivos sin formato se establecen como el esquema de encabezado, pedido y finalizador, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="f9a73-138">The Flat File Disassembler header, document, and trailer schema properties were set to the header, purchase order, and trailer schema respectively.</span></span>  

-   <span data-ttu-id="f9a73-139">El esquema de sobre XML combina elementos del encabezado y del pedido para generar un único mensaje XML.</span><span class="sxs-lookup"><span data-stu-id="f9a73-139">The XML envelope schema combines elements from the header and purchase order to produce a single XML message.</span></span> <span data-ttu-id="f9a73-140">El esquema de encabezado promociona el campo de origen en el campo SourceParty del **BTS.bts_system_properties** espacio de nombres; el esquema de sobre promociona el mismo valor, lo que hace que se puede degradar el mensaje saliente.</span><span class="sxs-lookup"><span data-stu-id="f9a73-140">The header schema promotes the Source field into the SourceParty field in the **BTS.bts_system_properties** namespace; the envelope schema promotes this same value, causing it to be demoted into the outbound message.</span></span>  

## <a name="where-to-find-this-sample"></a><span data-ttu-id="f9a73-141">Ubicación del ejemplo</span><span class="sxs-lookup"><span data-stu-id="f9a73-141">Where to Find This Sample</span></span>  
 <span data-ttu-id="f9a73-142">`<Samples Path>`\Pipelines\AssemblerDisassembler\EnvelopeProcessing\\</span><span class="sxs-lookup"><span data-stu-id="f9a73-142">`<Samples Path>`\Pipelines\AssemblerDisassembler\EnvelopeProcessing\\</span></span>  

 <span data-ttu-id="f9a73-143">En la tabla siguiente se enumeran los archivos del ejemplo y se describe su propósito.</span><span class="sxs-lookup"><span data-stu-id="f9a73-143">The following table shows the files in this sample and describes their purpose.</span></span>  


|                      <span data-ttu-id="f9a73-144">Archivos</span><span class="sxs-lookup"><span data-stu-id="f9a73-144">File(s)</span></span>                      |                                                                                               <span data-ttu-id="f9a73-145">Descripción</span><span class="sxs-lookup"><span data-stu-id="f9a73-145">Description</span></span>                                                                                               |
|---------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    <span data-ttu-id="f9a73-146">Cleanup.bat</span><span class="sxs-lookup"><span data-stu-id="f9a73-146">Cleanup.bat</span></span>                    |    <span data-ttu-id="f9a73-147">Se utiliza para anular la implementación de ensamblados y quitarlos de la caché de ensamblados global.</span><span class="sxs-lookup"><span data-stu-id="f9a73-147">Used to undeploy assemblies and remove them from the global assembly cache.</span></span> <span data-ttu-id="f9a73-148">Quita los puertos de envío y recepción.</span><span class="sxs-lookup"><span data-stu-id="f9a73-148">Removes send and receive ports.</span></span> <span data-ttu-id="f9a73-149">Quita los directorios virtuales de los Servicios de Microsoft Internet Information (IIS) según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="f9a73-149">Removes Microsoft Internet Information Services (IIS) virtual directories as needed.</span></span>     |
| <span data-ttu-id="f9a73-150">EnvelopeProcessing.btproj, EnvelopeProcessing.sln</span><span class="sxs-lookup"><span data-stu-id="f9a73-150">EnvelopeProcessing.btproj, EnvelopeProcessing.sln</span></span> |                                                                               <span data-ttu-id="f9a73-151">Archivos de proyectos y de soluciones de este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="f9a73-151">Project and solution files for this sample.</span></span>                                                                               |
|             <span data-ttu-id="f9a73-152">EnvelopeProcessing_in.txt</span><span class="sxs-lookup"><span data-stu-id="f9a73-152">EnvelopeProcessing_in.txt</span></span>             |                                                                                           <span data-ttu-id="f9a73-153">Archivo de entrada de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="f9a73-153">Sample input file.</span></span>                                                                                            |
|          <span data-ttu-id="f9a73-154">Header.xsd, PO.xsd, Trailer.xsd</span><span class="sxs-lookup"><span data-stu-id="f9a73-154">Header.xsd, PO.xsd, Trailer.xsd</span></span>          |                                                                      <span data-ttu-id="f9a73-155">Esquema para el encabezado, el cuerpo y el finalizador del archivo sin formato, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="f9a73-155">Schema for flat file header, body, and trailer, respectively.</span></span>                                                                      |
|                  <span data-ttu-id="f9a73-156">XmlEnvelope.xsd</span><span class="sxs-lookup"><span data-stu-id="f9a73-156">XmlEnvelope.xsd</span></span>                  |                                                                                    <span data-ttu-id="f9a73-157">Esquema para el sobre XML saliente.</span><span class="sxs-lookup"><span data-stu-id="f9a73-157">Schema for outbound XML envelope.</span></span>                                                                                    |
|    <span data-ttu-id="f9a73-158">EnvReceivePipeline.btp, EnvSendPipeline.btp</span><span class="sxs-lookup"><span data-stu-id="f9a73-158">EnvReceivePipeline.btp, EnvSendPipeline.btp</span></span>    | <span data-ttu-id="f9a73-159">Archivos de canalización de recepción y envío de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] con los componentes de canalización Desensamblador de archivos sin formato y Ensamblador XML, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="f9a73-159">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive and send pipeline files with the Flat File Disassembler and XML Assembler pipeline components, respectively.</span></span> |
|           <span data-ttu-id="f9a73-160">EnvelopeProcessingBinding.xml</span><span class="sxs-lookup"><span data-stu-id="f9a73-160">EnvelopeProcessingBinding.xml</span></span>           |                                                                             <span data-ttu-id="f9a73-161">Se usa para la instalación automatizada, como el enlace de puerto.</span><span class="sxs-lookup"><span data-stu-id="f9a73-161">Used for automated setup such as port binding.</span></span>                                                                              |
|                     <span data-ttu-id="f9a73-162">Setup.bat</span><span class="sxs-lookup"><span data-stu-id="f9a73-162">Setup.bat</span></span>                     |                                                                                <span data-ttu-id="f9a73-163">Se utiliza para crear e iniciar este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="f9a73-163">Used to build and initialize this sample.</span></span>                                                                                |

## <a name="how-to-use-this-sample"></a><span data-ttu-id="f9a73-164">Uso del ejemplo</span><span class="sxs-lookup"><span data-stu-id="f9a73-164">How to Use This Sample</span></span>  
 <span data-ttu-id="f9a73-165">Use este ejemplo como base para su propia solución de procesamiento de archivos sin formato.</span><span class="sxs-lookup"><span data-stu-id="f9a73-165">Use this sample as the basis for your own flat file processing solution.</span></span> <span data-ttu-id="f9a73-166">Puede ampliar muchos de los elementos de diseño usados en este ejemplo para cumplir sus propios requisitos.</span><span class="sxs-lookup"><span data-stu-id="f9a73-166">You can extend many of the design elements used in this sample to fit your own requirements.</span></span> <span data-ttu-id="f9a73-167">Algunos ejemplos son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="f9a73-167">Some examples are as follows:</span></span>  

-   <span data-ttu-id="f9a73-168">Mejore el ejemplo para escribir una versión del archivo sin formato de cada pedido, además de la versión XML.</span><span class="sxs-lookup"><span data-stu-id="f9a73-168">Enhance the sample to write a flat file version of each purchase order in addition to the XML version.</span></span> <span data-ttu-id="f9a73-169">Para ello, cree una nueva canalización de envío personalizada y use el Ensamblador de archivos sin formato.</span><span class="sxs-lookup"><span data-stu-id="f9a73-169">You can do this by creating a new custom send pipeline and using the Flat File Assembler.</span></span> <span data-ttu-id="f9a73-170">En éste, especifique los esquemas de encabezado, pedido y finalizador de archivos sin formato.</span><span class="sxs-lookup"><span data-stu-id="f9a73-170">On the Flat File Assembler, specify the flat file header, purchase order, and trailer schemas.</span></span> <span data-ttu-id="f9a73-171">Si se usa en un puerto de envío, genera pedidos individuales con la información de encabezado y finalizador.</span><span class="sxs-lookup"><span data-stu-id="f9a73-171">When used in a send port, it produces individual purchase orders with header/trailer information.</span></span>  

-   <span data-ttu-id="f9a73-172">Mejore el sobre con más información procedente del pedido.</span><span class="sxs-lookup"><span data-stu-id="f9a73-172">Enhance the envelope with more information from the purchase order.</span></span> <span data-ttu-id="f9a73-173">Para escribir información adicional en el mensaje de salida, promocione el nombre de envío u otros campos mediante Promoción rápida, agregue campos al sobre y, a continuación, promocione los campos del sobre al mismo campo.</span><span class="sxs-lookup"><span data-stu-id="f9a73-173">To write additional information into the outbound message, promote the "ship to" name or other fields using Quick Promote, add fields to the envelope, and then promote the envelope fields to the same field.</span></span> <span data-ttu-id="f9a73-174">Cuando se procesa el mensaje a través del ensamblador, las propiedades promocionadas se degradan y copian en el mensaje de salida.</span><span class="sxs-lookup"><span data-stu-id="f9a73-174">When the message is processed through the assembler, promoted properties are demoted and copied into the outbound message.</span></span>  

## <a name="building-and-initializing-this-sample"></a><span data-ttu-id="f9a73-175">Crear e inicializar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="f9a73-175">Building and Initializing This Sample</span></span>  

#### <a name="to-build-and-initialize-the-envelopeprocessing-sample"></a><span data-ttu-id="f9a73-176">Para crear e inicializar el ejemplo EnvelopeProcessing</span><span class="sxs-lookup"><span data-stu-id="f9a73-176">To build and initialize the EnvelopeProcessing sample</span></span>  

1. <span data-ttu-id="f9a73-177">En una ventana de comandos, desplácese a la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="f9a73-177">In a command window, navigate to the following folder:</span></span>  

    <span data-ttu-id="f9a73-178">*\<Ejemplos de la ruta de acceso\>* \Pipelines\AssemblerDisassembler\EnvelopeProcessing</span><span class="sxs-lookup"><span data-stu-id="f9a73-178">*\<Samples Path\>* \Pipelines\AssemblerDisassembler\EnvelopeProcessing</span></span>  

2. <span data-ttu-id="f9a73-179">Ejecute el archivo Setup.bat que realiza las acciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="f9a73-179">Run the file Setup.bat, which performs the following actions:</span></span>  

   - <span data-ttu-id="f9a73-180">Crea la carpeta de entrada (EnvInput) y la carpeta de salida (EnvOutput) para este ejemplo en la carpeta:</span><span class="sxs-lookup"><span data-stu-id="f9a73-180">Creates the input (EnvInput) and output (EnvOutput) folders for this sample in the folder:</span></span>  

      <span data-ttu-id="f9a73-181">*\<Ejemplos de la ruta de acceso\>* \Pipelines\AssemblerDisassembler\EnvelopeProcessing\\</span><span class="sxs-lookup"><span data-stu-id="f9a73-181">*\<Samples Path\>* \Pipelines\AssemblerDisassembler\EnvelopeProcessing\\</span></span>  

   - <span data-ttu-id="f9a73-182">Compila e implementa el proyecto de Visual Studio para este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="f9a73-182">Compiles and deploys the Visual Studio project for this sample.</span></span>  

   - <span data-ttu-id="f9a73-183">Crea y enlaza la ubicación de recepción de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] y los puertos de envío y recepción.</span><span class="sxs-lookup"><span data-stu-id="f9a73-183">Creates and binds the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive location, and the send and receive ports.</span></span>  

      <span data-ttu-id="f9a73-184">Este ejemplo muestra las siguientes advertencias al crear y enlazar puertos:</span><span class="sxs-lookup"><span data-stu-id="f9a73-184">This sample displays the following warnings when creating and binding ports:</span></span>  

     ```  
     Warning: Receive handler not specified for receive location "EnvelopeProcessing_RL"; updating with first receive handler with matching transport type.  
     Warning: Host not specified for orchestration "EnvelopeProcessing"; updating with first available host.  
     ```  

      <span data-ttu-id="f9a73-185">Puede omitir estas advertencias de forma segura.</span><span class="sxs-lookup"><span data-stu-id="f9a73-185">You can safely ignore these warnings.</span></span> <span data-ttu-id="f9a73-186">(Para dar cabida a posibles diferencias de nombre en las instalaciones de usuario, se han omitido del archivo de enlace el nombre del host y el controlador de recepción).</span><span class="sxs-lookup"><span data-stu-id="f9a73-186">(To accommodate for possible naming differences in user installations, the host name and receive handler have been omitted from the binding file.)</span></span>  

   - <span data-ttu-id="f9a73-187">Habilita la ubicación de recepción e inicia el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="f9a73-187">Enables the receive location, and starts the send port.</span></span>  

> [!NOTE]
>  <span data-ttu-id="f9a73-188">Antes de intentar ejecutar este ejemplo, debe confirmar que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] no ha informado de ningún error durante el proceso de generación e inicialización.</span><span class="sxs-lookup"><span data-stu-id="f9a73-188">You should confirm that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] did not report any errors during the build and initialization process before attempting to run this sample.</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="f9a73-189">Si selecciona abrir y crear el proyecto de este ejemplo sin ejecutar Setup.bat, debe crear, en primer lugar, un par de claves de nombre seguro mediante la utilidad de nombre seguro de .NET Framework (sn.exe).</span><span class="sxs-lookup"><span data-stu-id="f9a73-189">If you choose to open and build the project in this sample without running Setup.bat, you must first create a strong name key pair using the .NET Framework Strong Name utility (sn.exe).</span></span> <span data-ttu-id="f9a73-190">Utilice este par de claves para firmar el ensamblado resultante.</span><span class="sxs-lookup"><span data-stu-id="f9a73-190">Use this key pair to sign the resulting assembly.</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="f9a73-191">Para deshacer los cambios realizados por Setup.bat, ejecute Cleanup.bat.</span><span class="sxs-lookup"><span data-stu-id="f9a73-191">To undo changes made by Setup.bat, run Cleanup.bat.</span></span> <span data-ttu-id="f9a73-192">Debe ejecutar Cleanup.bat antes de ejecutar Setup.bat por segunda vez.</span><span class="sxs-lookup"><span data-stu-id="f9a73-192">You must run Cleanup.bat before running Setup.bat a second time.</span></span>  

## <a name="running-this-sample"></a><span data-ttu-id="f9a73-193">Ejecución del ejemplo</span><span class="sxs-lookup"><span data-stu-id="f9a73-193">Running This Sample</span></span>  

#### <a name="to-run-the-envelopeprocessing-sample"></a><span data-ttu-id="f9a73-194">Para ejecutar el ejemplo EnvelopeProcessing</span><span class="sxs-lookup"><span data-stu-id="f9a73-194">To run the EnvelopeProcessing sample</span></span>  

1.  <span data-ttu-id="f9a73-195">Ponga una copia del archivo EnvelopeProcessing_in.txt en la carpeta EnvInput.</span><span class="sxs-lookup"><span data-stu-id="f9a73-195">Put a copy of the file EnvelopeProcessing_in.txt into the folder EnvInput.</span></span>  

2.  <span data-ttu-id="f9a73-196">Observe los tres archivos .xml creados en la carpeta EnvOutput.</span><span class="sxs-lookup"><span data-stu-id="f9a73-196">Observe the three .xml files created in the folder EnvOutput.</span></span> <span data-ttu-id="f9a73-197">Los nombres de estos archivos .xml se basan en los GUID de Id. de mensaje.</span><span class="sxs-lookup"><span data-stu-id="f9a73-197">The names of these .xml files are based on their message ID GUIDs.</span></span> <span data-ttu-id="f9a73-198">Contienen los mensajes extraídos del archivo de entrada e incluidos en sobres.</span><span class="sxs-lookup"><span data-stu-id="f9a73-198">They contain the messages extracted from the input file and wrapped in envelopes.</span></span>  

## <a name="classes-or-methods-used-in-this-sample"></a><span data-ttu-id="f9a73-199">Clases o métodos usados en el ejemplo</span><span class="sxs-lookup"><span data-stu-id="f9a73-199">Classes or Methods Used in This Sample</span></span>  
 <span data-ttu-id="f9a73-200">Las secuencias de comandos de configuración Setup.bat y Cleanup.bat se basan en las siguientes secuencias de comando administrativas del instrumental de administración de Windows (WMI):</span><span class="sxs-lookup"><span data-stu-id="f9a73-200">The configuration scripts Setup.bat and Cleanup.bat rely on the following administrative Windows Management Instrumentation (WMI) scripts:</span></span>  

- <span data-ttu-id="f9a73-201">Iniciar puerto de envío\StartSendPort.vbs</span><span class="sxs-lookup"><span data-stu-id="f9a73-201">Start Send Port\StartSendPort.vbs</span></span>  

- <span data-ttu-id="f9a73-202">Habilitar ubicación de recepción\EnableRecLoc</span><span class="sxs-lookup"><span data-stu-id="f9a73-202">Enable Receive Location\EnableRecLoc</span></span>  

- <span data-ttu-id="f9a73-203">Quitar puerto de envío\RemoveSendPort</span><span class="sxs-lookup"><span data-stu-id="f9a73-203">Remove Send Port\RemoveSendPort</span></span>  

  <span data-ttu-id="f9a73-204">Los archivos por lotes de instalación y de limpieza usan BTSTask de la siguiente forma:</span><span class="sxs-lookup"><span data-stu-id="f9a73-204">The setup and cleanup batch files use BTSTask as follows:</span></span>  

- <span data-ttu-id="f9a73-205">**BTSTask ImportBindings** para aplicar el archivo de enlace y crear la aplicación, puertos y enlaces</span><span class="sxs-lookup"><span data-stu-id="f9a73-205">**BTSTask ImportBindings** to apply the binding file and create the application, ports, and bindings</span></span>  

- <span data-ttu-id="f9a73-206">**BTSTask RemoveApp** para quitar flatfilereceiveapplication.</span><span class="sxs-lookup"><span data-stu-id="f9a73-206">**BTSTask RemoveApp** to remove the FlatFileReceiveApplication</span></span>  

## <a name="see-also"></a><span data-ttu-id="f9a73-207">Vea también</span><span class="sxs-lookup"><span data-stu-id="f9a73-207">See Also</span></span>  
 [<span data-ttu-id="f9a73-208">Pipelines\AssemblerDisassembler (carpeta de ejemplos de BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="f9a73-208">Pipelines-AssemblerDisassembler (BizTalk Server Samples Folder)</span></span>](../core/pipelines-assemblerdisassembler-biztalk-server-samples-folder.md)