---
title: "Recomendaciones de seguridad en tiempo de ejecución de BizTalk Server | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- security, runtime
- runtime, security
- discretionary access control lists (DACLs)
- DACLs
- .NET Framework Code Access Security Mechanism
ms.assetid: 1933789d-b79a-47ad-8f70-6f1e99bc2be0
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 27386b7294294088b7dcfcad1198e410e56e724d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="biztalk-server-runtime-security-recommendations"></a><span data-ttu-id="57ec3-102">Recomendaciones de seguridad en tiempo de ejecución de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="57ec3-102">BizTalk Server Runtime Security Recommendations</span></span>
<span data-ttu-id="57ec3-103">Debe instalar el tiempo de ejecución de BizTalk Server, o el motor, en todos los equipos en los que desea recibir, enviar, procesar o realizar seguimiento de mensajes.</span><span class="sxs-lookup"><span data-stu-id="57ec3-103">You must install the BizTalk Server runtime, or engine, on all the computers from which you want to receive, send, process, and track messages.</span></span> <span data-ttu-id="57ec3-104">Es decir, debe instalar los componentes de tiempo de ejecución en cualquier equipo en el que cree una instancia de host de BizTalk (servidores de procesamiento).</span><span class="sxs-lookup"><span data-stu-id="57ec3-104">In other words, you must install the run time components on any computer where you create a BizTalk Host instance (processing servers).</span></span> <span data-ttu-id="57ec3-105">Se recomienda seguir estas directrices para proteger e implementar el tiempo de ejecución de BizTalk Server en su entorno.</span><span class="sxs-lookup"><span data-stu-id="57ec3-105">It is recommended you follow these guidelines for securing and deploying the BizTalk Server runtime in your environment.</span></span>  
  
-   <span data-ttu-id="57ec3-106">Asegúrese de que tiene los derechos de usuario de seguridad mínimos para realizar tareas de tiempo de ejecución de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="57ec3-106">Ensure you have the Minimum Security User Rights to perform BizTalk runtime tasks.</span></span> <span data-ttu-id="57ec3-107">Para obtener más información acerca de los derechos de usuario mínimos de seguridad, consulte [derechos de usuario mínimos de seguridad](../core/minimum-security-user-rights.md).</span><span class="sxs-lookup"><span data-stu-id="57ec3-107">For more information about the Minimum Security User Rights, see [Minimum Security User Rights](../core/minimum-security-user-rights.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="57ec3-108">La configuración de BizTalk proporciona a las cuentas los permisos mínimos que necesitan para realizar sus tareas.</span><span class="sxs-lookup"><span data-stu-id="57ec3-108">BizTalk Configuration gives the accounts the minimum permissions they need to perform their tasks.</span></span>  
  
-   <span data-ttu-id="57ec3-109">La cuenta de servicio para cada instancia de host debe tener permisos para iniciar sesión como servicio en el equipo en el que se ejecuta la instancia de host.</span><span class="sxs-lookup"><span data-stu-id="57ec3-109">The service account for each host instance must have log on as service permissions on the computer where the host instance runs.</span></span>  
  
-   <span data-ttu-id="57ec3-110">Sólo la cuenta (o cuentas) de servicio de un host tienen acceso a los datos de cuadro de mensajes relacionados con un host y sólo esos servicios pueden exponer en el cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="57ec3-110">Only the service account(s) for a host have access to MessageBox data related to a host and only these services can post to the MessageBox.</span></span> <span data-ttu-id="57ec3-111">Para minimizar la posibilidad de ataques de revelación de información, no debería utilizar la misma cuenta de servicio para más de un host.</span><span class="sxs-lookup"><span data-stu-id="57ec3-111">To minimize the potential for information disclosure attacks, you should not use the same service account for more than one host.</span></span>  
  
-   <span data-ttu-id="57ec3-112">Los servidores de procesamiento (hosts que no realizan seguimiento) sólo necesitan conectarse a las bases de datos de cuadro de mensajes y de administración, y al servidor secreto principal.</span><span class="sxs-lookup"><span data-stu-id="57ec3-112">Processing servers (hosts that do not host tracking) only need to connect to the MessageBox and Management databases, and the master secret server.</span></span> <span data-ttu-id="57ec3-113">Si utiliza el protocolo de seguridad de Internet (IPSec), puede restringir el acceso de los servidores de procesamiento a estas dos bases de datos y al servidor secreto principal.</span><span class="sxs-lookup"><span data-stu-id="57ec3-113">If you use Internet Protocol security (IPSec), you can restrict the access of the processing servers to these two databases and the master secret server.</span></span>  
  
-   <span data-ttu-id="57ec3-114">Todos los componentes que se ejecutan dentro del mismo host de BizTalk tienen el mismo nivel de confianza que el host.</span><span class="sxs-lookup"><span data-stu-id="57ec3-114">All components running within the same BizTalk Host have the same level of trust as the host.</span></span> <span data-ttu-id="57ec3-115">Al administrador de BizTalk le corresponde determinar qué componentes deben ejecutarse en el mismo host y, por tanto, compartir el mismo nivel de confianza.</span><span class="sxs-lookup"><span data-stu-id="57ec3-115">It is up to the BizTalk administrator to determine which components should run under the same host, and therefore, share the same level of trust.</span></span> <span data-ttu-id="57ec3-116">BizTalk se asegura de que sólo se ejecuten en un host de BizTalk los ensamblados que hayan instalado los administradores de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="57ec3-116">BizTalk makes sure that only assemblies installed by BizTalk administrators run in a BizTalk Host.</span></span> <span data-ttu-id="57ec3-117">Si desea crear más restricciones con respecto a los ensamblados que usa BizTalk, por ejemplo, si desea crear una restricción para que BizTalk solo ejecute ensamblados firmados por un proveedor determinado o valide la firma de nombre seguro de una orquestación, puede usar el Mecanismo de seguridad de acceso a código de [!INCLUDE[btsDotNetFramework](../includes/btsdotnetframework-md.md)].</span><span class="sxs-lookup"><span data-stu-id="57ec3-117">If you want to create further restrictions as to what assemblies BizTalk uses, for example, if you want to restrict BizTalk only to run assemblies signed by a particular vendor or validate the strong name signature for an orchestration, you can use the [!INCLUDE[btsDotNetFramework](../includes/btsdotnetframework-md.md)] Code Access Security Mechanism.</span></span> <span data-ttu-id="57ec3-118">Para obtener más información sobre el sitio Web de Microsoft MSDN en [http://go.microsoft.com/fwlink/?LinkId=60947](http://go.microsoft.com/fwlink/?LinkId=60947).</span><span class="sxs-lookup"><span data-stu-id="57ec3-118">For more information about the Microsoft MSDN Web site at [http://go.microsoft.com/fwlink/?LinkId=60947](http://go.microsoft.com/fwlink/?LinkId=60947).</span></span>  
  
-   <span data-ttu-id="57ec3-119">El granularidad de autorización para envío de mensajes se encuentra en el nivel del host de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="57ec3-119">The authorization granularity for posting messages is at the BizTalk Host level.</span></span> <span data-ttu-id="57ec3-120">Es decir, si tiene varias orquestaciones o adaptadores que se ejecutan dentro del mismo host de BizTalk, no puede restringir que una orquestación específica reciba mensajes enviados al host.</span><span class="sxs-lookup"><span data-stu-id="57ec3-120">In other words, if you have multiple orchestrations or adapters running within the same BizTalk Host, you cannot restrict one specific orchestration to receive messages sent to the host.</span></span>  
  
-   <span data-ttu-id="57ec3-121">Cuando un host no está autorizado a recibir un mensaje, coloca ese mensaje en la cola de suspensión.</span><span class="sxs-lookup"><span data-stu-id="57ec3-121">When a host is not authorized to receive a message, the host places the message in its suspended queue.</span></span> <span data-ttu-id="57ec3-122">De forma predeterminada, cuando en el mismo host se ejecutan adaptadores de recepción y orquestaciones, la orquestación puede leer la cola de suspensión del host.</span><span class="sxs-lookup"><span data-stu-id="57ec3-122">By default, when receive adapters and orchestrations are running in the same host, the orchestration can read the suspended queue of the host.</span></span> <span data-ttu-id="57ec3-123">Entonces una orquestación puede seleccionar un mensaje que BizTalk dejó en suspenso debido a un error de autorización.</span><span class="sxs-lookup"><span data-stu-id="57ec3-123">It is then possible for an orchestration to pick up a message that BizTalk suspended due to authorization failure.</span></span> <span data-ttu-id="57ec3-124">Por lo tanto, se recomienda que no ejecute orquestaciones y adaptadores de recepción en el mismo host.</span><span class="sxs-lookup"><span data-stu-id="57ec3-124">Therefore, it is recommended you do not run orchestrations and receive adapters in the same host.</span></span>  
  
-   <span data-ttu-id="57ec3-125">Las instancias de host son servicios de Windows que se ejecutan en un equipo específico.</span><span class="sxs-lookup"><span data-stu-id="57ec3-125">Host instances are Windows services running on a specific computer.</span></span> <span data-ttu-id="57ec3-126">Para crear una instancia de host, debe ser administrador de BizTalk y administrador de Windows en el equipo en el que desea crear la instancia, dado que BizTalk crea un servicio de Windows que corresponda con la instancia de host.</span><span class="sxs-lookup"><span data-stu-id="57ec3-126">In order to create a host instance, you must be both a BizTalk administrator and a Windows administrator on the computer where you want to create the host instance, as BizTalk creates a Windows service to correspond to the host instance.</span></span>  
  
-   <span data-ttu-id="57ec3-127">Cuando Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] genera un ensamblado, usa una clave personalizada generada por el Entorno de desarrollo integrado (IDE).</span><span class="sxs-lookup"><span data-stu-id="57ec3-127">When Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] generates an assembly, it uses a custom key generated by the Integrated Developer Environment (IDE).</span></span> <span data-ttu-id="57ec3-128">Si el entorno requiere la firma de todos los ensamblados con una clave específica, debe configurar el IDE para que todos los equipos de desarrollo usen esa clave o bien debe usar la firma retrasada de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="57ec3-128">If your environment requires you to sign all assemblies with a specific key, you must either configure the IDE for all development computers to use that key or use delay signing of assemblies..</span></span>  
  
-   <span data-ttu-id="57ec3-129">Todos los componentes de las canalizaciones de recepción y envío intentan mantener la huella de memoria baja.</span><span class="sxs-lookup"><span data-stu-id="57ec3-129">All the components in the receive and send pipelines try to keep the memory footprint low.</span></span> <span data-ttu-id="57ec3-130">Cuando los datos superan un umbral determinado, estos componentes envían datos a la carpeta temporal (%TEMP%) del disco.</span><span class="sxs-lookup"><span data-stu-id="57ec3-130">When the data is larger than a particular threshold, these components stream data to disk in the temporary folder (%TEMP%).</span></span> <span data-ttu-id="57ec3-131">Debe asegurarse de que las carpetas temporales de las cuentas de servicio de las instancias de host tienen listas de control de acceso discrecional (DACL) adecuadas, de forma que sólo la cuenta de servicio pueda leer estos archivos.</span><span class="sxs-lookup"><span data-stu-id="57ec3-131">You must ensure the temporary folders for the service accounts for the host instances have proper discretionary access control lists (DACLs), so that only the service account can read these files.</span></span> <span data-ttu-id="57ec3-132">También debe asegurarse de que la carpeta temporal tiene espacio suficiente para almacenar los posibles archivos grandes.</span><span class="sxs-lookup"><span data-stu-id="57ec3-132">You must also ensure the temporary folder have room to store potentially large files.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="57ec3-133">Vea también</span><span class="sxs-lookup"><span data-stu-id="57ec3-133">See Also</span></span>  
 <span data-ttu-id="57ec3-134">[Administrar la seguridad de servidor BizTalk Server](../core/managing-biztalk-server-security.md) </span><span class="sxs-lookup"><span data-stu-id="57ec3-134">[Managing BizTalk Server Security](../core/managing-biztalk-server-security.md) </span></span>  
 <span data-ttu-id="57ec3-135">[Puertos para los servidores de procesamiento](../core/ports-for-the-processing-servers.md) </span><span class="sxs-lookup"><span data-stu-id="57ec3-135">[Ports for the Processing Servers](../core/ports-for-the-processing-servers.md) </span></span>  
 <span data-ttu-id="57ec3-136">[Recomendaciones de seguridad para una implementación de BizTalk Server](../core/security-recommendations-for-a-biztalk-server-deployment.md) </span><span class="sxs-lookup"><span data-stu-id="57ec3-136">[Security Recommendations for a BizTalk Server Deployment](../core/security-recommendations-for-a-biztalk-server-deployment.md) </span></span>  
 [<span data-ttu-id="57ec3-137">Planeación de la seguridad</span><span class="sxs-lookup"><span data-stu-id="57ec3-137">Planning for Security</span></span>](../core/planning-for-security.md)