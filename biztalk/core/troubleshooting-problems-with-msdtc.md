---
title: Solucionar problemas con MSDTC | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f39cde52-da8f-4cc1-bdc5-e4b828891a79
caps.latest.revision: "36"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c244ec27cd3e584f7fb22a34effeaf0033c3e78a
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="troubleshooting-problems-with-msdtc"></a><span data-ttu-id="5b683-102">Solucionar problemas con MSDTC</span><span class="sxs-lookup"><span data-stu-id="5b683-102">Troubleshooting Problems with MSDTC</span></span>
<span data-ttu-id="5b683-103">La mayoría de las operaciones en tiempo de ejecución de BizTalk Server necesitan ser compatibles con Microsoft Distributed Transaction Coordinator (MSDTC) para asegurar que las operaciones coincidan con respecto a las transacciones.</span><span class="sxs-lookup"><span data-stu-id="5b683-103">Most BizTalk Server runtime operations require Microsoft Distributed Transaction Coordinator (MSDTC) support to ensure that the operations are transactionally consistent.</span></span> <span data-ttu-id="5b683-104">Si la compatibilidad de la transacción MSDTC no está disponible, las operaciones en tiempo de ejecución de BizTalk Server asociadas no pueden continuar.</span><span class="sxs-lookup"><span data-stu-id="5b683-104">If MSDTC transaction support is not available, then the associated BizTalk Server runtime operations cannot proceed.</span></span> <span data-ttu-id="5b683-105">Los componentes de BizTalk que están comúnmente afectados cuando no está configurada correctamente la compatibilidad de la transacción MSDTC incluyen (aunque no son los únicos) el servicio de inicio de sesión único, las instancias de host de BizTalk y cualquier instancia de SQL Server que esté conectada por BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="5b683-105">The components of BizTalk that are commonly affected when MSDTC transaction support is not configured correctly include (but are not limited to) the Single Sign-On Service, BizTalk host instances, and any SQL Server instances that are connected to by BizTalk Server.</span></span> <span data-ttu-id="5b683-106">Esta sección contiene información que describe errores relativos a MSDTC y los pasos que se pueden realizar para diagnosticar y resolver problemas con MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5b683-106">This section contains information that describes MSDTC related errors and steps that can be followed to diagnose and resolve problems with MSDTC.</span></span>  
  
## <a name="errors-that-can-occur-if-msdtc-transaction-support-is-not-configured-correctly"></a><span data-ttu-id="5b683-107">Errores que se pueden producir si no está configurada correctamente la compatibilidad de la transacción MSDTC</span><span class="sxs-lookup"><span data-stu-id="5b683-107">Errors that can occur if MSDTC transaction support is not configured correctly</span></span>  
 <span data-ttu-id="5b683-108">Se pueden producir errores similares a los siguientes en BizTalk Server si no está configurada correctamente la compatibilidad de la transacción MSDTC en los equipos en un entorno de BizTalk:</span><span class="sxs-lookup"><span data-stu-id="5b683-108">Errors similar to the following may occur on BizTalk Server when MSDTC transaction support is not configured correctly on the computers in a BizTalk environment:</span></span>  
  
-   <span data-ttu-id="5b683-109">"Un problema en el Coordinador de transacciones distribuidas de Microsoft impidió que se efectuara la conexión con la base de datos de configuración.</span><span class="sxs-lookup"><span data-stu-id="5b683-109">"A Microsoft Distributed Transaction Coordinator problem prevented connection to the Configuration database.</span></span> <span data-ttu-id="5b683-110">El administrador de transacción ha deshabilitado su soporte para transacciones de red o remotas.</span><span class="sxs-lookup"><span data-stu-id="5b683-110">The transaction manager has disabled its support for remote/network transactions".</span></span>  
  
-   <span data-ttu-id="5b683-111">"Un problema en el Coordinador de transacciones distribuidas de Microsoft impidió que se efectuara la conexión con la base de datos de configuración.</span><span class="sxs-lookup"><span data-stu-id="5b683-111">"A Microsoft Distributed Transaction Coordinator problem prevented connection to the Configuration database.</span></span> <span data-ttu-id="5b683-112">La transacción ya se ha llevado a cabo o se ha cancelado implícita o explícitamente".</span><span class="sxs-lookup"><span data-stu-id="5b683-112">The transaction has already been implicitly or explicitly committed or aborted".</span></span>  
  
-   <span data-ttu-id="5b683-113">"Código de error: 0x8004d00a, No se puede dar de alta la nueva transacción en el coordinador de transacciones especificado".</span><span class="sxs-lookup"><span data-stu-id="5b683-113">"Error Code: 0x8004d00a, New transaction cannot enlist in the specified transaction coordinator".</span></span>  
  
-   <span data-ttu-id="5b683-114">"No se pudieron recuperar los datos de tipo de transporte para la ubicación de recepción 'MySample ReceiveLocation' del almacén de configuración.</span><span class="sxs-lookup"><span data-stu-id="5b683-114">"Could not retrieve transport type data for Receive Location 'MySample ReceiveLocation' from config store.</span></span> <span data-ttu-id="5b683-115">Error en el servidor de inicio de sesión principal 'MyServer'.</span><span class="sxs-lookup"><span data-stu-id="5b683-115">Primary SSO Server 'MyServer' failed.</span></span> <span data-ttu-id="5b683-116">"El servidor de RPC no está disponible".</span><span class="sxs-lookup"><span data-stu-id="5b683-116">The RPC server is unavailable".</span></span>  
  
-   <span data-ttu-id="5b683-117">"Código de error: 0x8004d025, El administrador de transacción asociado deshabilitó la compatibilidad con las transacciones de red o remotas".</span><span class="sxs-lookup"><span data-stu-id="5b683-117">"Error Code: 0x8004d025, The partner transaction manager has disabled its support for remote/network transactions".</span></span>  
  
-   <span data-ttu-id="5b683-118">"Código de error: 0xc0002a24, No se pudo importar una transacción DTC.</span><span class="sxs-lookup"><span data-stu-id="5b683-118">"Error Code: 0xc0002a24, Could not import a DTC transaction.</span></span> <span data-ttu-id="5b683-119">Compruebe que MSDTC está correctamente configurado para funcionamiento remoto".</span><span class="sxs-lookup"><span data-stu-id="5b683-119">Please check that MSDTC is configured correctly for remote operation".</span></span>  
  
-   <span data-ttu-id="5b683-120">"0x8004d01c</span><span class="sxs-lookup"><span data-stu-id="5b683-120">"0x8004d01c</span></span>  
  
     <span data-ttu-id="5b683-121">[0x1705] Error al crear el elemento de trabajo interno.</span><span class="sxs-lookup"><span data-stu-id="5b683-121">[0x1705] There was a failure creating the internal work item.</span></span>  
  
     <span data-ttu-id="5b683-122">Asegúrese de que el servidor SQL Server se esté ejecutando.”</span><span class="sxs-lookup"><span data-stu-id="5b683-122">Make sure that SQL Server is running."</span></span>  
  
 <span data-ttu-id="5b683-123">Para resolver los errores de configuración de MSDTC, siga los pasos que se indican a continuación.</span><span class="sxs-lookup"><span data-stu-id="5b683-123">To resolve MSDTC configuration errors, follow the steps below.</span></span>  
  
## <a name="ensure-netbios-name-resolution-between-the-biztalk-server-and-remote-servers-is-successful"></a><span data-ttu-id="5b683-124">Asegurarse de que la resolución de nombre NetBIOS entre el servidor BizTalk Server y los servidores remotos es correcta</span><span class="sxs-lookup"><span data-stu-id="5b683-124">Ensure NetBIOS name resolution between the BizTalk Server and remote servers is successful</span></span>  
 <span data-ttu-id="5b683-125">Las transacciones MSDTC correctas entre equipos necesitan que el equipo cliente pueda resolver el nombre NetBIOS del equipo servidor en la dirección IP correcta y el equipo servidor pueda resolver el nombre NetBIOS del equipo cliente en la dirección IP correcta.</span><span class="sxs-lookup"><span data-stu-id="5b683-125">Successful MSDTC transactions between computers require that the client computer is able to resolve the NetBIOS name of the server computer to the correct IP address and the server computer is able to resolve the NetBIOS name of the client computer to the correct IP address.</span></span> <span data-ttu-id="5b683-126">Para comprobar que la resolución de nombre NetBIOS funciona en ambas direcciones (cliente a servidor y servidor a cliente), siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="5b683-126">To verify that NetBIOS name resolution works in both directions (client to server and server to client) follow these steps:</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5b683-127">El nombre NetBIOS también se conoce como el **red** nombre.</span><span class="sxs-lookup"><span data-stu-id="5b683-127">The NetBIOS name is also commonly referred to as the **Network** name.</span></span>  
  
1.  <span data-ttu-id="5b683-128">Determine el nombre NetBIOS de cada equipo:</span><span class="sxs-lookup"><span data-stu-id="5b683-128">Determine the NetBIOS name of each computer:</span></span>  
  
    1.  <span data-ttu-id="5b683-129">Haga clic en **Mi PC** para mostrar la **propiedades del sistema** cuadro de diálogo y haga clic en el **nombre_equipo** pestaña para ver el **nombre completo de equipo**asignada al equipo.</span><span class="sxs-lookup"><span data-stu-id="5b683-129">Right-click **My Computer** to display the **System Properties** dialog and click the **Computer Name** tab to view the **Full computer name** assigned to the computer.</span></span>  
  
    2.  <span data-ttu-id="5b683-130">El nombre NetBIOS es la primera parte del nombre designado como el **nombre completo de equipo** así, por ejemplo si el **nombre completo de equipo** aparece como myserver.company.domain.com, a continuación, el nombre de NetBIOS de la equipo es **myserver**.</span><span class="sxs-lookup"><span data-stu-id="5b683-130">The NetBIOS name is the first portion of the name designated as the **Full computer name** so for example if the **Full computer name** is listed as myserver.company.domain.com, then the NetBIOS name of the computer is **myserver**.</span></span>  
  
2.  <span data-ttu-id="5b683-131">Determine la dirección IP o direcciones que se han asociado a cada equipo:</span><span class="sxs-lookup"><span data-stu-id="5b683-131">Determine the IP Address or addresses that are associated with each computer:</span></span>  
  
    1.  <span data-ttu-id="5b683-132">Inicie un símbolo del sistema en el equipo cliente, escriba el siguiente comando y, a continuación, presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="5b683-132">Launch a command prompt on the client computer, type the following command, and then press ENTER:</span></span>  
  
        ```  
        ipconfig /all  
        ```  
  
    2.  <span data-ttu-id="5b683-133">La dirección IP o direcciones asociadas al equipo cliente aparecen en la ventana del símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="5b683-133">The IP address or addresses associated with the client computer are listed in the command prompt window.</span></span>  
  
    3.  <span data-ttu-id="5b683-134">Inicie un símbolo del sistema en el equipo servidor, escriba el siguiente comando y, a continuación, presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="5b683-134">Launch a command prompt on the server computer, type the following command, and then press ENTER:</span></span>  
  
        ```  
        ipconfig /all  
        ```  
  
    4.  <span data-ttu-id="5b683-135">La dirección IP o direcciones asociadas al equipo servidor aparecen en la ventana del símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="5b683-135">The IP address or addresses associated with the server computer are listed in the command prompt window.</span></span>  
  
3.  <span data-ttu-id="5b683-136">Compruebe que el nombre NetBIOS de cada equipo se resuelve en una de las direcciones IP asociadas al equipo:</span><span class="sxs-lookup"><span data-stu-id="5b683-136">Verify that the NetBIOS name of each computer is resolved to one of the IP addresses associated with the computer:</span></span>  
  
    1.  <span data-ttu-id="5b683-137">Inicie un símbolo del sistema en el equipo cliente, escriba el siguiente comando y, a continuación, presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="5b683-137">Launch a command prompt on the client computer, type the following command, and then press ENTER:</span></span>  
  
        ```  
        ping <NetBIOS name of server computer>  
        ```  
  
         <span data-ttu-id="5b683-138">Los resultados del comando ping deben devolver una dirección IP asociada al equipo servidor.</span><span class="sxs-lookup"><span data-stu-id="5b683-138">The results of the ping command should return an IP address associated with the server computer.</span></span>  
  
    2.  <span data-ttu-id="5b683-139">Inicie un símbolo del sistema en el equipo servidor, escriba el siguiente comando y, a continuación, presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="5b683-139">Launch a command prompt on the server computer, type the following command, and then press ENTER:</span></span>  
  
        ```  
        ping <NetBIOS name of client computer>  
        ```  
  
         <span data-ttu-id="5b683-140">Los resultados del comando ping deben devolver una dirección IP asociada al equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="5b683-140">The results of the ping command should return an IP address associated with the client computer.</span></span>  
  
4.  <span data-ttu-id="5b683-141">Compruebe que la búsqueda inversa de nombre de la dirección IP asociada con el nombre NetBIOS de cada equipo se resuelve en el nombre de equipo correcto:</span><span class="sxs-lookup"><span data-stu-id="5b683-141">Verify that reverse name lookup of the IP address associated with the NetBIOS name on each computer resolves to the correct computer name.</span></span>  
  
    1.  <span data-ttu-id="5b683-142">Inicie un símbolo del sistema en el equipo cliente, escriba el siguiente comando y, a continuación, presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="5b683-142">Launch a command prompt on the client computer, type the following command, and then press ENTER:</span></span>  
  
        ```  
        ping -a <IP Address associated with client computer NetBIOS name>  
        ```  
  
         <span data-ttu-id="5b683-143">Los resultados del comando ping deberían devolver un nombre NetBIOS o nombre de dominio completo que corresponda al nombre NetBIOS que se usó en el paso 3a.</span><span class="sxs-lookup"><span data-stu-id="5b683-143">The results of the ping command should return a NetBIOS name or fully qualified domain name that corresponds to the NetBIOS name that was used in step 3a.</span></span> <span data-ttu-id="5b683-144">Si el nombre devuelto no coincide o corresponde con el nombre NetBIOS usado en el paso 3a, la búsqueda inversa de dirección IP producirá un error que puede hacer que las transacciones MSDTC produzcan un error.</span><span class="sxs-lookup"><span data-stu-id="5b683-144">If the name returned does not match or correspond to the NetBIOS name used in step 3a then IP address reverse lookup will fail which can cause MSDTC transactions to fail.</span></span>  
  
    2.  <span data-ttu-id="5b683-145">Inicie un símbolo del sistema en el equipo servidor, escriba el siguiente comando y, a continuación, presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="5b683-145">Launch a command prompt on the server computer, type the following command, and then press ENTER:</span></span>  
  
        ```  
        ping -a <IP Address associated with server computer NetBIOS name>  
        ```  
  
         <span data-ttu-id="5b683-146">Los resultados del comando ping deberían devolver un nombre NetBIOS o nombre de dominio completo que corresponda al nombre NetBIOS que se usó en el paso 3b.</span><span class="sxs-lookup"><span data-stu-id="5b683-146">The results of the ping command should return a NetBIOS name or fully qualified domain name that corresponds to the NetBIOS name that was used in step 3b.</span></span> <span data-ttu-id="5b683-147">Si el nombre devuelto no coincide o corresponde con el nombre NetBIOS usado en el paso 3b, la búsqueda inversa de dirección IP producirá un error que puede hacer que las transacciones MSDTC produzcan un error.</span><span class="sxs-lookup"><span data-stu-id="5b683-147">If the name returned does not match or correspond to the NetBIOS name used in step 3b then IP address reverse lookup will fail which can cause MSDTC transactions to fail.</span></span>  
  
 <span data-ttu-id="5b683-148">Si la resolución de nombre NetBIOS no es correcta en ninguna dirección o la búsqueda inversa de nombre genera un error, cree las entradas adecuadas en el servidor DNS, el servidor de nombre NetBIOS, el archivo HOSTS o LMHOSTS para solucionar el problema.</span><span class="sxs-lookup"><span data-stu-id="5b683-148">If NetBIOS name resolution is not successful in either direction or if reverse name lookup fails then make the appropriate entries in the DNS server, NetBIOS name server, HOSTS file, or LMHOSTS file to correct the problem.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5b683-149">El método de resolución de nombre utilizado por el equipo cambia según el tipo de nodo NetBIOS del equipo.</span><span class="sxs-lookup"><span data-stu-id="5b683-149">The method of name resolution used by the computer varies depending on the NetBIOS node type of the computer.</span></span> <span data-ttu-id="5b683-150">Para obtener más información acerca de los tipos de nodo NetBIOS, vea [resolución de nombres NetBIOS](http://go.microsoft.com/fwlink/?LinkId=201638).</span><span class="sxs-lookup"><span data-stu-id="5b683-150">For more information about NetBIOS node types, see [NetBIOS Name Resolution](http://go.microsoft.com/fwlink/?LinkId=201638).</span></span>  
  
## <a name="ensure-that-a-firewall-between-the-biztalk-server-and-remote-servers-is-not-blocking-ports-required-for-rpc-dynamic-port-allocation"></a><span data-ttu-id="5b683-151">Asegurarse de que un servidor de seguridad entre el servidor BizTalk Server y los servidores remotos no esté bloqueando puertos necesarios para la asignación de puerto dinámico RPC</span><span class="sxs-lookup"><span data-stu-id="5b683-151">Ensure that a firewall between the BizTalk Server and remote servers is not blocking ports required for RPC dynamic port allocation</span></span>  
 <span data-ttu-id="5b683-152">La funcionalidad MSDTC a través de la red depende de la funcionalidad RPC a través de la red.</span><span class="sxs-lookup"><span data-stu-id="5b683-152">MSDTC functionality over the network depends upon RPC functionality over the network.</span></span> <span data-ttu-id="5b683-153">La funcionalidad RPC a través de un servidor de seguridad necesita que determinados puertos estén abiertos para contener la asignación de puerto dinámico RPC.</span><span class="sxs-lookup"><span data-stu-id="5b683-153">RPC functionality through a firewall requires that specific ports are open to accommodate RPC dynamic port allocation.</span></span> <span data-ttu-id="5b683-154">Si un firewall está situado entre el servidor BizTalk Server y los servidores remotos, siga los pasos de [cómo configurar la asignación de puertos dinámicos RPC para trabajar con firewalls](http://go.microsoft.com/fwlink/?LinkId=66831) para dar cabida a la asignación de puertos dinámicos de RPC.</span><span class="sxs-lookup"><span data-stu-id="5b683-154">If a firewall is in place between the BizTalk Server and remote servers, follow the steps in [How to configure RPC dynamic port allocation to work with firewalls](http://go.microsoft.com/fwlink/?LinkId=66831) to accommodate RPC dynamic port allocation.</span></span>  
  
## <a name="set-the-appropriate-msdtc-security-configuration-options"></a><span data-ttu-id="5b683-155">Definir las opciones de configuración de seguridad de MSDTC</span><span class="sxs-lookup"><span data-stu-id="5b683-155">Set the appropriate MSDTC Security Configuration options</span></span>  
 <span data-ttu-id="5b683-156">Windows proporciona mejoras de seguridad que controlan cómo MSDTC accede a través de una red.</span><span class="sxs-lookup"><span data-stu-id="5b683-156">Windows provides security enhancements that govern how MSDTC is accessed over a network.</span></span> <span data-ttu-id="5b683-157">Al modificar los valores de seguridad de MSDTC, podrá controlar cómo MSDTC se comunica con equipos remotos a través de la red.</span><span class="sxs-lookup"><span data-stu-id="5b683-157">By modifying the MSDTC security settings, you control how MSDTC communicates with remote computers over the network.</span></span> <span data-ttu-id="5b683-158">En esta tabla se enumeran los valores recomendados para las opciones que están disponibles al configurar los valores de seguridad de MSDTC:</span><span class="sxs-lookup"><span data-stu-id="5b683-158">This table lists the recommended values for the options that are available when configuring MSDTC security settings:</span></span>  
  
|<span data-ttu-id="5b683-159">Opción de configuración</span><span class="sxs-lookup"><span data-stu-id="5b683-159">Configuration Option</span></span>|<span data-ttu-id="5b683-160">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="5b683-160">Default Value</span></span>|<span data-ttu-id="5b683-161">Valor recomendado</span><span class="sxs-lookup"><span data-stu-id="5b683-161">Recommended Value</span></span>|  
|--------------------------|-------------------|-----------------------|  
|<span data-ttu-id="5b683-162">Acceso de DTC a la red</span><span class="sxs-lookup"><span data-stu-id="5b683-162">Network DTC Access</span></span>|<span data-ttu-id="5b683-163">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-163">Disabled</span></span>|<span data-ttu-id="5b683-164">Habilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-164">Enabled</span></span>|  
|<span data-ttu-id="5b683-165">**Cliente y administración**</span><span class="sxs-lookup"><span data-stu-id="5b683-165">**Client and Administration**</span></span>|||  
|<span data-ttu-id="5b683-166">Permitir clientes remotos</span><span class="sxs-lookup"><span data-stu-id="5b683-166">Allow Remote Clients</span></span>|<span data-ttu-id="5b683-167">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-167">Disabled</span></span>|<span data-ttu-id="5b683-168">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-168">Disabled</span></span>|  
|<span data-ttu-id="5b683-169">Permitir administración remota</span><span class="sxs-lookup"><span data-stu-id="5b683-169">Allow Remote Administration</span></span>|<span data-ttu-id="5b683-170">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-170">Disabled</span></span>|<span data-ttu-id="5b683-171">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-171">Disabled</span></span>|  
|<span data-ttu-id="5b683-172">**Comunicación con el Administrador de transacciones**</span><span class="sxs-lookup"><span data-stu-id="5b683-172">**Transaction Manager Communication**</span></span>|||  
|<span data-ttu-id="5b683-173">Permitir entrantes</span><span class="sxs-lookup"><span data-stu-id="5b683-173">Allow Inbound</span></span>|<span data-ttu-id="5b683-174">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-174">Disabled</span></span>|<span data-ttu-id="5b683-175">Habilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-175">Enabled</span></span>|  
|<span data-ttu-id="5b683-176">Permitir salientes</span><span class="sxs-lookup"><span data-stu-id="5b683-176">Allow Outbound</span></span>|<span data-ttu-id="5b683-177">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-177">Disabled</span></span>|<span data-ttu-id="5b683-178">Habilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-178">Enabled</span></span>|  
|<span data-ttu-id="5b683-179">Se requiere autenticación mutua</span><span class="sxs-lookup"><span data-stu-id="5b683-179">Mutual Authentication Required</span></span>|<span data-ttu-id="5b683-180">Habilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-180">Enabled</span></span>|<span data-ttu-id="5b683-181">Está habilitada si todas las máquinas remotas ejecutan Windows Server 2003 SP1 o Windows XP SP2 o versiones posteriores y tienen configurada la opción “Se requiere autenticación mutua”.</span><span class="sxs-lookup"><span data-stu-id="5b683-181">Enabled if all remote machines are running Windows Server 2003 SP1 or Windows XP SP2 or higher, and are configured with “Mutual Authentication Required”.</span></span>|  
|<span data-ttu-id="5b683-182">Se requiere autenticación de llamada entrante</span><span class="sxs-lookup"><span data-stu-id="5b683-182">Incoming Caller Authentication Required</span></span>|<span data-ttu-id="5b683-183">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-183">Disabled</span></span>|<span data-ttu-id="5b683-184">Habilitada si se ejecuta MSDTC en el clúster.</span><span class="sxs-lookup"><span data-stu-id="5b683-184">Enabled if running MSDTC on cluster.</span></span>|  
|<span data-ttu-id="5b683-185">No se requiere autenticación</span><span class="sxs-lookup"><span data-stu-id="5b683-185">No Authentication Required</span></span>|<span data-ttu-id="5b683-186">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-186">Disabled</span></span>|<span data-ttu-id="5b683-187">Habilitada si los equipos remotos disponen de una versión anterior a Windows Server 2003 SP1 o anterior a Windows XP SP2.</span><span class="sxs-lookup"><span data-stu-id="5b683-187">Enabled if remote machines are pre-Windows Server 2003 SP1 or pre- Windows XP SP2.</span></span>|  
|<span data-ttu-id="5b683-188">Habilitar TIP</span><span class="sxs-lookup"><span data-stu-id="5b683-188">Enable TIP</span></span>|<span data-ttu-id="5b683-189">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-189">Disabled</span></span>|<span data-ttu-id="5b683-190">Habilitada si se ejecuta el Portal de BAM.</span><span class="sxs-lookup"><span data-stu-id="5b683-190">Enabled if running the BAM Portal.</span></span>|  
|<span data-ttu-id="5b683-191">Habilitar transacciones XA</span><span class="sxs-lookup"><span data-stu-id="5b683-191">Enable XA Transactions</span></span>|<span data-ttu-id="5b683-192">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="5b683-192">Disabled</span></span>|<span data-ttu-id="5b683-193">Habilitada si se comunica con un sistema transaccional basado en XA, por ejemplo, al comunicarse con IBM WebSphere MQ a través del adaptador de MQSeries.</span><span class="sxs-lookup"><span data-stu-id="5b683-193">Enabled if communicating with an XA based transactional system such as when communicating with IBM WebSphere MQ using the MQSeries adapter.</span></span>|  
  
 <span data-ttu-id="5b683-194">Tras aplicar estos cambios, se reiniciará el servicio MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5b683-194">After applying these changes, the MSDTC service will be restarted.</span></span>  
  
 <span data-ttu-id="5b683-195">Para obtener acceso a las opciones de configuración de seguridad de MSDTC, siga los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="5b683-195">To access the MSDTC security configuration options follow these steps:</span></span>  
  
1.  <span data-ttu-id="5b683-196">Haga clic en **iniciar**, haga clic en **ejecutar**y el tipo de **dcomcnfg** para iniciar el **servicios de componentes**consola de administración.</span><span class="sxs-lookup"><span data-stu-id="5b683-196">Click **Start**, click **Run**, and type **dcomcnfg** to launch the **Component Services**Management console.</span></span>  
  
2.  <span data-ttu-id="5b683-197">Haga clic para expandir **servicios de componentes** y haga clic para expandir **equipos**.</span><span class="sxs-lookup"><span data-stu-id="5b683-197">Click to expand **Component Services** and click to expand **Computers**.</span></span>  
  
3.  <span data-ttu-id="5b683-198">Haga clic para expandir **Mi PC**, haga clic para expandir **Coordinador de transacciones distribuidas**, haga clic en **DTC Local**y haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="5b683-198">Click to expand **My Computer**, click to expand **Distributed Transaction Coordinator**, right-click **Local DTC**, and click **Properties**.</span></span>  
  
4.  <span data-ttu-id="5b683-199">Haga clic en el **seguridad** pestaña de la **propiedades de DTC Local** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5b683-199">Click the **Security** tab of the **Local DTC Properties** dialog.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5b683-200">En función de los cambios que haya efectuado, es posible que deba reiniciar el equipo para aplicarlos.</span><span class="sxs-lookup"><span data-stu-id="5b683-200">Depending on the changes that were made, you may need to reboot the computer to enact the changes.</span></span> <span data-ttu-id="5b683-201">Si tras aplicar los cambios y reiniciar el servicio MSDTC todavía experimenta algún problema, reinicie el equipo en el que se han hecho los cambios para garantizar que se hayan aplicado.</span><span class="sxs-lookup"><span data-stu-id="5b683-201">If you are still encountering problems after applying changes and restarting the MSDTC service, reboot the computer on which the changes were made to ensure that the changes take effect.</span></span>  
  
 <span data-ttu-id="5b683-202">Si el **requiere autenticación mutua** o **requiere autenticación de llamada entrante** están habilitadas las opciones de configuración, a continuación, la cuenta del equipo cliente debe tener la **Tener acceso a este equipo desde la red** derecho de usuario.</span><span class="sxs-lookup"><span data-stu-id="5b683-202">If either the **Mutual Authentication Required** or the **Incoming Caller Authentication Required** configuration options are enabled then the client(s) computer account must be granted the **Access this computer from the network** user right.</span></span> <span data-ttu-id="5b683-203">Si la cuenta de equipo para un equipo cliente no se concede el **acceso a este equipo desde la red** derecho de usuario, o se incluye en el **denegar el acceso a este equipo desde la red** derecho de usuario y, a continuación, DTC se producirá un error de comunicación entre el equipo cliente y el servidor.</span><span class="sxs-lookup"><span data-stu-id="5b683-203">If the computer account for a client computer is not granted the **Access this computer from the network** user right, or is included in the **Deny access to this computer from the network** user right, then DTC communication between the client and server computer will fail.</span></span>  
  
 <span data-ttu-id="5b683-204">La configuración predeterminada es conceder al grupo todos el **acceso a este equipo desde la red** derecho de usuario.</span><span class="sxs-lookup"><span data-stu-id="5b683-204">The default setting is to grant the Everyone group the **Access this computer from the network** user right.</span></span> <span data-ttu-id="5b683-205">Por lo tanto, no será necesario cambiar este derecho de usuario a menos que se haya modificado la configuración predeterminada.</span><span class="sxs-lookup"><span data-stu-id="5b683-205">Therefore this user right will not need to be changed unless the default setting has been modified.</span></span> <span data-ttu-id="5b683-206">Si el **No se requiere autenticación** está habilitada la opción de configuración de la **acceso a este equipo desde la red** derecho de usuario no se aplica a la cuenta del equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="5b683-206">If the **No Authentication Required** configuration option is enabled then the **Access this computer from the network** user right does not apply to the client(s) computer account.</span></span>  
  
 <span data-ttu-id="5b683-207">Para cambiar los usuarios o grupos a los que se concede el permiso de usuario "Tener acceso a este equipo desde la red", realice los siguientes pasos.</span><span class="sxs-lookup"><span data-stu-id="5b683-207">To change the users or groups that are granted the "Access this computer from the network" user right, follow these steps:</span></span>  
  
1.  <span data-ttu-id="5b683-208">Haga clic en **iniciar**, haga clic en **ejecutar**, tipo **Gpedit.msc**y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="5b683-208">Click **Start**, click **Run**, type **Gpedit.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="5b683-209">Expanda los siguientes elementos en la lista Directiva de equipo local:</span><span class="sxs-lookup"><span data-stu-id="5b683-209">Expand the following items in the Local Computer Policy list:</span></span>  
  
    -   <span data-ttu-id="5b683-210">Configuración del equipo</span><span class="sxs-lookup"><span data-stu-id="5b683-210">Computer Configuration</span></span>  
  
    -   <span data-ttu-id="5b683-211">Configuración de Windows</span><span class="sxs-lookup"><span data-stu-id="5b683-211">Windows Settings</span></span>  
  
    -   <span data-ttu-id="5b683-212">Configuración de seguridad</span><span class="sxs-lookup"><span data-stu-id="5b683-212">Security Settings</span></span>  
  
    -   <span data-ttu-id="5b683-213">Directivas locales</span><span class="sxs-lookup"><span data-stu-id="5b683-213">Local Policies</span></span>  
  
3.  <span data-ttu-id="5b683-214">Haga clic en **asignación de derechos de usuario**.</span><span class="sxs-lookup"><span data-stu-id="5b683-214">Click **User Rights Assignment**.</span></span>  
  
4.  <span data-ttu-id="5b683-215">Haga doble clic en **acceso a este equipo desde la red**y, a continuación, haga clic en **Agregar usuario o grupo**.</span><span class="sxs-lookup"><span data-stu-id="5b683-215">Double-click **Access this computer from the network**, and then click **Add User or Group**.</span></span>  
  
5.  <span data-ttu-id="5b683-216">Haga clic en **tipos de objeto**, seleccione **equipos** y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="5b683-216">Click **Object Types**, select **Computers** and click **OK**.</span></span>  
  
6.  <span data-ttu-id="5b683-217">Agregue el nombre de equipo o el nombre del grupo en el **escriba los nombres de objeto para seleccionar** área.</span><span class="sxs-lookup"><span data-stu-id="5b683-217">Add the computer name or the group name in the **Enter the object names to select** area.</span></span>  
  
7.  <span data-ttu-id="5b683-218">Haga clic en **comprobar nombres** para comprobar la entrada.</span><span class="sxs-lookup"><span data-stu-id="5b683-218">Click **Check Names** to verify the entry.</span></span>  
  
8.  <span data-ttu-id="5b683-219">Haga clic en **Aceptar** dos veces.</span><span class="sxs-lookup"><span data-stu-id="5b683-219">Click **OK** twice.</span></span>  
  
 <span data-ttu-id="5b683-220">Para cambiar los usuarios o grupos que se incluyen en el **denegar el acceso a este equipo desde la red** derecho de usuario, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="5b683-220">To change the users or groups that are included in the **Deny access to this computer from the network** user right, follow these steps:</span></span>  
  
1.  <span data-ttu-id="5b683-221">Expanda los siguientes elementos en la lista Directiva de equipo local:</span><span class="sxs-lookup"><span data-stu-id="5b683-221">Expand the following items in the Local Computer Policy list:</span></span>  
  
    -   <span data-ttu-id="5b683-222">Configuración del equipo</span><span class="sxs-lookup"><span data-stu-id="5b683-222">Computer Configuration</span></span>  
  
    -   <span data-ttu-id="5b683-223">Configuración de Windows</span><span class="sxs-lookup"><span data-stu-id="5b683-223">Windows Settings</span></span>  
  
    -   <span data-ttu-id="5b683-224">Configuración de seguridad</span><span class="sxs-lookup"><span data-stu-id="5b683-224">Security Settings</span></span>  
  
    -   <span data-ttu-id="5b683-225">Directivas locales</span><span class="sxs-lookup"><span data-stu-id="5b683-225">Local Policies</span></span>  
  
2.  <span data-ttu-id="5b683-226">Haga clic en **asignación de derechos de usuario**.</span><span class="sxs-lookup"><span data-stu-id="5b683-226">Click **User Rights Assignment**.</span></span>  
  
3.  <span data-ttu-id="5b683-227">Haga doble clic en **denegar el acceso a este equipo desde la red**y, a continuación, haga clic para seleccionar el nombre de equipo o grupo que desea quitar de este derecho de usuario.</span><span class="sxs-lookup"><span data-stu-id="5b683-227">Double-click **Deny access this computer from the network**, and then click to select the computer name or group that you want to remove from this user right.</span></span>  
  
4.  <span data-ttu-id="5b683-228">Haga clic en **quitar** y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="5b683-228">Click **Remove** and then click **OK**.</span></span>  
  
## <a name="set-the-appropriate-values-for-the-enableauthepresolution-and-restrictremoteclients-options"></a><span data-ttu-id="5b683-229">Definir los valores adecuados para las opciones EnableAuthEpResolution y RestrictRemoteClients</span><span class="sxs-lookup"><span data-stu-id="5b683-229">Set the appropriate values for the EnableAuthEpResolution and RestrictRemoteClients options</span></span>  
 <span data-ttu-id="5b683-230">Windows requiere llamadas autenticadas a la interfaz de RPC para mejorar la seguridad.</span><span class="sxs-lookup"><span data-stu-id="5b683-230">Windows enhances security by requiring authenticated calls to the RPC interface.</span></span> <span data-ttu-id="5b683-231">Esta funcionalidad es configurable a través de la **EnableAuthEpResolution** y **RestrictRemoteClients** las claves del registro.</span><span class="sxs-lookup"><span data-stu-id="5b683-231">This functionality is configurable through the **EnableAuthEpResolution** and **RestrictRemoteClients** registry keys.</span></span> <span data-ttu-id="5b683-232">Siga estos pasos para garantizar que los equipos remotos puedan obtener acceso a la interfaz de RPC:</span><span class="sxs-lookup"><span data-stu-id="5b683-232">To ensure that remote computers are able to access the RPC interface, follow these steps:</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="5b683-233">El uso incorrecto del Editor del Registro podría ocasionar problemas que hicieran necesaria una reinstalación del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="5b683-233">Incorrect use of Registry Editor may cause problems requiring you to reinstall your operating system.</span></span> <span data-ttu-id="5b683-234">Utilice el Editor del Registro bajo su propia responsabilidad.</span><span class="sxs-lookup"><span data-stu-id="5b683-234">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="5b683-235">Para obtener más información acerca de cómo realizar copias de, restaurar y modificar el registro, consulte el artículo de Microsoft Knowledge Base "Descripción del registro de Microsoft Windows" en [descripción del registro de Microsoft Windows](http://go.microsoft.com/fwlink/?LinkId=62729).</span><span class="sxs-lookup"><span data-stu-id="5b683-235">For more information about how to back up, restore, and modify the registry, see the Microsoft Knowledge Base article "Description of the Microsoft Windows registry" at [Description of the Microsoft Windows registry](http://go.microsoft.com/fwlink/?LinkId=62729).</span></span>  
  
1.  <span data-ttu-id="5b683-236">Haga clic en **iniciar**, haga clic en **ejecutar**, tipo **regedit.exe**y, a continuación, haga clic en **Aceptar** para iniciar el Editor del registro.</span><span class="sxs-lookup"><span data-stu-id="5b683-236">Click **Start**, click **Run**, type **regedit.exe**, and then click **OK** to start Registry Editor.</span></span>  
  
     <span data-ttu-id="5b683-237">Vaya a **HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows NT**</span><span class="sxs-lookup"><span data-stu-id="5b683-237">Navigate to **HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows NT**</span></span>  
  
2.  <span data-ttu-id="5b683-238">En el **RPC** clave, cree las siguientes entradas DWORD con los valores indicados.</span><span class="sxs-lookup"><span data-stu-id="5b683-238">Under the **RPC** key, create the following DWORD entries with the indicated values.</span></span> <span data-ttu-id="5b683-239">Si el **RPC** clave no existe, a continuación, debe crearse.</span><span class="sxs-lookup"><span data-stu-id="5b683-239">If the **RPC** key does not exist then it must be created.</span></span>  
  
    |<span data-ttu-id="5b683-240">Entrada DWORD</span><span class="sxs-lookup"><span data-stu-id="5b683-240">DWORD entry</span></span>|<span data-ttu-id="5b683-241">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="5b683-241">Default value</span></span>|<span data-ttu-id="5b683-242">Valor recomendado</span><span class="sxs-lookup"><span data-stu-id="5b683-242">Recommended value</span></span>|  
    |-----------------|-------------------|-----------------------|  
    |<span data-ttu-id="5b683-243">EnableAuthEpResolution</span><span class="sxs-lookup"><span data-stu-id="5b683-243">EnableAuthEpResolution</span></span>|<span data-ttu-id="5b683-244">0 (deshabilitada)</span><span class="sxs-lookup"><span data-stu-id="5b683-244">0 (disabled)</span></span>|<span data-ttu-id="5b683-245">1</span><span class="sxs-lookup"><span data-stu-id="5b683-245">1</span></span>|  
    |<span data-ttu-id="5b683-246">RestrictRemoteClients</span><span class="sxs-lookup"><span data-stu-id="5b683-246">RestrictRemoteClients</span></span>|<span data-ttu-id="5b683-247">1 (habilitada)</span><span class="sxs-lookup"><span data-stu-id="5b683-247">1 (enabled)</span></span>|<span data-ttu-id="5b683-248">0</span><span class="sxs-lookup"><span data-stu-id="5b683-248">0</span></span>|  
  
3.  <span data-ttu-id="5b683-249">Cierre el Editor del registro.</span><span class="sxs-lookup"><span data-stu-id="5b683-249">Close Registry Editor.</span></span>  
  
4.  <span data-ttu-id="5b683-250">Reinicie el servicio MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5b683-250">Restart the MSDTC Service.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5b683-251">En función de los cambios que haya efectuado, es posible que deba reiniciar el equipo para aplicarlos.</span><span class="sxs-lookup"><span data-stu-id="5b683-251">Depending on the changes that were made, you may need to reboot the computer to enact the changes.</span></span> <span data-ttu-id="5b683-252">Si tras aplicar los cambios y reiniciar el servicio MSDTC todavía experimenta algún problema, reinicie el equipo en el que se han hecho los cambios para garantizar que se hayan aplicado.</span><span class="sxs-lookup"><span data-stu-id="5b683-252">If you are still encountering problems after applying changes and restarting the MSDTC service, reboot the computer on which the changes were made to ensure that the changes take effect.</span></span>  
  
## <a name="if-windows-firewall-is-running-add-an-exception-for-the-msdtc-service"></a><span data-ttu-id="5b683-253">Si se está ejecutando Firewall de Windows, agregue una excepción para el servicio MSDTC</span><span class="sxs-lookup"><span data-stu-id="5b683-253">If Windows Firewall is running, add an exception for the MSDTC service</span></span>  
 <span data-ttu-id="5b683-254">El servicio Firewall de Windows puede bloquear las comunicaciones MSDTC entre equipos.</span><span class="sxs-lookup"><span data-stu-id="5b683-254">The Windows Firewall service may block MSDTC communications between computers.</span></span> <span data-ttu-id="5b683-255">Para garantizar que no se bloqueen las comunicaciones MSDTC entre equipos, agregue msdtc.exe a la lista de excepciones de Firewall de Windows, si se está ejecutando el servicio Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="5b683-255">To ensure that MSDTC communications are not blocked between computers, add msdtc.exe to the Windows Firewall exception list if the Windows Firewall service is running.</span></span>  
  
1.  <span data-ttu-id="5b683-256">Haga clic en **iniciar**, haga clic en **ejecutar**, tipo **firewall.cpl**y, a continuación, haga clic en **Aceptar** para mostrar la **deFirewalldeWindows** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5b683-256">Click **Start**, click **Run**, type **firewall.cpl**, and then click **OK** to display the **Windows Firewall** dialog box.</span></span>  
  
2.  <span data-ttu-id="5b683-257">Haga clic en **permitir que un programa a través del Firewall de Windows** para mostrar la **configuración de Firewall de Windows** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5b683-257">Click **Allow a program through the Windows Firewall** to display the **Windows Firewall Settings** dialog box.</span></span>  
  
3.  <span data-ttu-id="5b683-258">Haga clic en el **excepciones** pestaña de la **configuración de Firewall de Windows** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5b683-258">Click the **Exceptions** tab of the **Windows Firewall Settings** dialog box.</span></span>  
  
4.  <span data-ttu-id="5b683-259">Haga clic en **Agregar programa** para mostrar la **agregar un programa** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5b683-259">Click **Add Program** to display the **Add a Program** dialog box.</span></span>  
  
5.  <span data-ttu-id="5b683-260">Haga clic en **examinar** y vaya a *% system32%*\msdtc.exe.</span><span class="sxs-lookup"><span data-stu-id="5b683-260">Click **Browse** and navigate to *%system32%*\msdtc.exe.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="5b683-261">Abra un símbolo del sistema, escriba **echo % system32%** y presione **ENTRAR** para determinar la ubicación del directorio \System32 en este equipo.</span><span class="sxs-lookup"><span data-stu-id="5b683-261">Launch a command prompt, type **echo %system32%** and press **Enter** to determine the location of the \System32 directory on this computer.</span></span>  
  
6.  <span data-ttu-id="5b683-262">Haga clic para seleccionar **msdtc.exe** y haga clic en **abiertos**.</span><span class="sxs-lookup"><span data-stu-id="5b683-262">Click to select **msdtc.exe** and click **Open**.</span></span>  
  
7.  <span data-ttu-id="5b683-263">Haga clic en **Cambiar ámbito** para especificar el conjunto de equipos para que MSDTC deben permitirse las comunicaciones y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="5b683-263">Click **Change scope** to specify the set of computers for which MSDTC communications should be allowed and click **OK**.</span></span>  
  
8.  <span data-ttu-id="5b683-264">Haga clic en **Aceptar** en el **agregar un programa** cuadro de diálogo y haga clic en **Aceptar** en el **configuración de Firewall de Windows** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5b683-264">Click **OK** in the **Add a Program** dialog box and click **OK** in the **Windows Firewall Settings** dialog box.</span></span>  
  
9. <span data-ttu-id="5b683-265">Cerrar la **Firewall de Windows** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5b683-265">Close the **Windows Firewall** dialog box.</span></span>  
  
10. <span data-ttu-id="5b683-266">Detenga y reinicie el servicio del Coordinador de transacciones distribuidas.</span><span class="sxs-lookup"><span data-stu-id="5b683-266">Stop and restart the Distributed Transaction Coordinator service.</span></span>  
  
    -   <span data-ttu-id="5b683-267">Abra un símbolo del sistema, escriba **net stop msdtc** y presione **ENTRAR**.</span><span class="sxs-lookup"><span data-stu-id="5b683-267">Launch a command prompt, type **net stop msdtc** and press **Enter**.</span></span>  
  
    -   <span data-ttu-id="5b683-268">Después de detener el servicio Coordinador de transacciones distribuidas, escriba **del comando net start msdtc** y presione **ENTRAR**.</span><span class="sxs-lookup"><span data-stu-id="5b683-268">After the Distributed Transaction Coordinator service has stopped, type **net start msdtc** and press **Enter**.</span></span>  
  
## <a name="use-dtctester-or-dtcping-to-verify-msdtc-functionality-over-the-network"></a><span data-ttu-id="5b683-269">Utilizar DTCTester o DTCPing para comprobar la funcionalidad MSDTC a través de la red</span><span class="sxs-lookup"><span data-stu-id="5b683-269">Use DTCTester or DTCPing to verify MSDTC functionality over the network</span></span>  
 <span data-ttu-id="5b683-270">Utilice la utilidad DTCTester para comprobar la compatibilidad con transacciones entre dos equipos, si SQL Server se ha instalado en uno de los equipos.</span><span class="sxs-lookup"><span data-stu-id="5b683-270">Use the DTCTester utility to verify transaction support between two computers if SQL Server is installed on one of the computers.</span></span> <span data-ttu-id="5b683-271">La utilidad DTCTester utiliza ODBC para comprobar la compatibilidad con transacciones frente a una base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5b683-271">The DTCTester utility uses ODBC to verify transaction support against a SQL Server database.</span></span> <span data-ttu-id="5b683-272">Para obtener más información acerca de DTCTester, vea [cómo utilizar la herramienta DTCTester](http://go.microsoft.com/fwlink/?LinkId=66232).</span><span class="sxs-lookup"><span data-stu-id="5b683-272">For more information about DTCTester see [How to Use DTCTester Tool](http://go.microsoft.com/fwlink/?LinkId=66232).</span></span>  
  
 <span data-ttu-id="5b683-273">Utilice DTCPing para comprobar la compatibilidad con transacciones entre dos equipos, si SQL Server no se ha instalado en ninguno de ellos.</span><span class="sxs-lookup"><span data-stu-id="5b683-273">Use DTCPing to verify transaction support between two computers if SQL Server is not installed on either computer.</span></span> <span data-ttu-id="5b683-274">La herramienta DTCPing debe ejecutarse tanto en el equipo cliente como en el equipo servidor y se trata de una buena alternativa en la utilidad DTCTester cuando SQL Server no se ha instalado en ningún equipo.</span><span class="sxs-lookup"><span data-stu-id="5b683-274">The DTCPing tool must be run on both the client and server computer and is a good alternative to the DTCTester utility when SQL Server is not installed on either computer.</span></span> <span data-ttu-id="5b683-275">Para obtener más información acerca de DTCPing, vea [cómo solucionar problemas de firewall de MS DTC](http://go.microsoft.com/fwlink/?LinkId=61915).</span><span class="sxs-lookup"><span data-stu-id="5b683-275">For more information about DTCPing, see [How to troubleshoot MS DTC firewall issues](http://go.microsoft.com/fwlink/?LinkId=61915).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5b683-276">Si DTCPing devuelve la advertencia que "Advertencia: los valores de CID para ambos equipos de prueba son los mismos", a continuación, siga los pasos descritos en la sección **asegurarse de que MSDTC se asigna un valor de CID único** para dar cabida a la funcionalidad correcta de MSDTC entre las máquinas de prueba.</span><span class="sxs-lookup"><span data-stu-id="5b683-276">If DTCPing returns the warning that “WARNING:the CID values for both test machines are the same” then follow the steps in the section **Ensure that MSDTC is assigned a unique CID value** to accommodate proper MSDTC functionality between the test machines.</span></span>  
  
## <a name="ensure-that-msdtc-is-assigned-a-unique-cid-value"></a><span data-ttu-id="5b683-277">Asegurarse de que se asigne un valor de CID único a MSDTC</span><span class="sxs-lookup"><span data-stu-id="5b683-277">Ensure that MSDTC is assigned a unique CID value</span></span>  
 <span data-ttu-id="5b683-278">La característica MSDTC del sistema operativo Windows requiere valores de CID únicos para garantizar que la funcionalidad MSDTC funcione correctamente entre equipos.</span><span class="sxs-lookup"><span data-stu-id="5b683-278">The MSDTC feature of the Windows operating system requires unique CID values to ensure that MSDTC functionality between computers works correctly.</span></span> <span data-ttu-id="5b683-279">Las imágenes duplicadas de las instalaciones de Windows en el disco deben tener valores de CID únicos; de lo contrario, es posible que MSDTC no funcione correctamente.</span><span class="sxs-lookup"><span data-stu-id="5b683-279">Disk duplicate images of Windows installations must have unique CID values or MSDTC functionality may be impaired.</span></span> <span data-ttu-id="5b683-280">Esto puede suceder si se utilizan discos duros virtuales para implementar un sistema operativo en un equipo virtual.</span><span class="sxs-lookup"><span data-stu-id="5b683-280">This can occur when using virtual hard disks to deploy an operating system to a virtual machine.</span></span>  
  
 <span data-ttu-id="5b683-281">Para determinar si son únicos los valores de CID de MSDTC de los equipos que ejecutan el sistema operativo Windows, compruebe los valores de las entradas en la clave del Registro HKEY_CLASSES_ROOT\CID en ambos equipos.</span><span class="sxs-lookup"><span data-stu-id="5b683-281">To determine if MSDTC CID values for computers that are running the Windows operating system are unique, check the values for the entries under the HKEY_CLASSES_ROOT\CID registry key on both computers.</span></span> <span data-ttu-id="5b683-282">Si estos valores no son únicos para cada equipo, a continuación, siga los pasos descritos en la sección **considere la posibilidad de volver a instalar el servicio Coordinador de transacciones distribuidas si otros pasos de solución de problemas no son correctas** para volver a instalar MSDTC en uno los equipos, que, a continuación, generar valores únicos de CID de MSDTC para ese equipo y dar cabida a las operaciones de MSDTC adecuadas.</span><span class="sxs-lookup"><span data-stu-id="5b683-282">If these values are not unique for each computer then follow the steps in the section **Consider reinstalling the Distributed Transaction Coordinator service if other troubleshooting steps are not successful** to reinstall MSDTC on one of the computers, which will then generate unique MSDTC CID values for that computer and accommodate proper MSDTC operations.</span></span>  
  
## <a name="error-new-transaction-cannot-enlist-in-the-specified-transaction-coordinator-0x8004d00a-occurs-if-the-msdtc-connection-between-a-client-computer-and-a-server-computer-is-closed"></a><span data-ttu-id="5b683-283">Se produce el error “No se puede dar de alta una nueva transacción en el coordinador de transacciones especificado (0x8004d00a)” si la conexión de MSDTC entre un equipo cliente y un equipo servidor está cerrada</span><span class="sxs-lookup"><span data-stu-id="5b683-283">Error “New transaction cannot enlist in the specified transaction coordinator (0x8004d00a)” occurs if the MSDTC connection between a client computer and a server computer is closed</span></span>  
 <span data-ttu-id="5b683-284">En determinados escenarios, es posible que se cierra una conexión MSDTC existente entre un cliente y el servidor y los intentos subsiguientes para usar esta conexión se producirán el siguiente mensaje de error:</span><span class="sxs-lookup"><span data-stu-id="5b683-284">In certain scenarios, it is possible that an existing MSDTC connection between a client and server is closed and subsequent attempts to use this connection will result in the following error message:</span></span>  
<span data-ttu-id="5b683-285">No se puede dar de alta una nueva transacción en el Coordinador de transacciones especificado (0x8004d00a)</span><span class="sxs-lookup"><span data-stu-id="5b683-285">New transaction cannot enlist in the specified transaction coordinator (0x8004d00a)</span></span>  
<span data-ttu-id="5b683-286">Para obtener más información, consulte [recibe un mensaje de Error al intentar iniciar una transacción de MS DTC: "no se puede dar de alta una nueva transacción en el Coordinador de transacciones especificado"](http://support.microsoft.com/kb/922430).</span><span class="sxs-lookup"><span data-stu-id="5b683-286">For more information, see [Error message when you try to start a transaction in MS DTC: "New transaction cannot enlist in the specified transaction coordinator"](http://support.microsoft.com/kb/922430).</span></span>  
  
## <a name="consider-reinstalling-the-distributed-transaction-coordinator-service-if-other-troubleshooting-steps-are-not-successful"></a><span data-ttu-id="5b683-287">Considerar la posibilidad de volver a instalar el servicio del Coordinador de transacciones distribuidas si otros pasos para la solución de problemas no logran resolverlo</span><span class="sxs-lookup"><span data-stu-id="5b683-287">Consider reinstalling the Distributed Transaction Coordinator service if other troubleshooting steps are not successful</span></span>  
 <span data-ttu-id="5b683-288">Si otros intentos de solucionar problemas con MSDTC no son satisfactorios considere la posibilidad de desinstalar y volver a instalar MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5b683-288">If other attempts at troubleshooting problems with MSDTC are not successful consider uninstalling and reinstalling MSDTC.</span></span> <span data-ttu-id="5b683-289">Siga estos pasos para desinstalar y volver a instalar MSDTC:</span><span class="sxs-lookup"><span data-stu-id="5b683-289">Follow these steps to uninstall and reinstall MSDTC:</span></span>  
  
1.  <span data-ttu-id="5b683-290">Abra un símbolo del sistema como administrador.</span><span class="sxs-lookup"><span data-stu-id="5b683-290">Open a command prompt as Administrator.</span></span>  
  
2.  <span data-ttu-id="5b683-291">En el símbolo del sistema, escriba lo siguiente para desinstalar el servicio Coordinador de transacciones distribuidas:</span><span class="sxs-lookup"><span data-stu-id="5b683-291">At the command prompt, type the following to uninstall the Distributed Transaction Coordinator service:</span></span>  
    `msdtc -uninstall`  
  
3.  <span data-ttu-id="5b683-292">En el símbolo del sistema, escriba lo siguiente para instalar el servicio Coordinador de transacciones distribuidas:</span><span class="sxs-lookup"><span data-stu-id="5b683-292">At the command prompt, type the following to install the Distributed Transaction Coordinator service:</span></span>  
    `msdtc –install`  
  
> [!IMPORTANT]
>  <span data-ttu-id="5b683-293">Volver a instalar MSDTC puede cambiar el comportamiento predeterminado del servicio del coordinador de transacciones distribuidas.</span><span class="sxs-lookup"><span data-stu-id="5b683-293">Reinstalling MSDTC may change the default behavior of the Distributed Transaction Coordinator service.</span></span> <span data-ttu-id="5b683-294">Siga estos pasos después de volver a instalar MSDTC para garantizar que el servicio del Coordinador de transacciones distribuidas funciona correctamente:</span><span class="sxs-lookup"><span data-stu-id="5b683-294">Follow these steps after reinstalling MSDTC to ensure that the Distributed Transaction Coordinator service works correctly:</span></span>  
>   
>  -   <span data-ttu-id="5b683-295">Volver a instalar MSDTC puede restablecer las opciones de configuración de seguridad de MSDTC a los valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="5b683-295">Reinstalling MSDTC may reset MSDTC Security Configuration options back to default values.</span></span> <span data-ttu-id="5b683-296">Compruebe que las opciones de configuración de seguridad de MSDTC estén establecidas en los valores apropiados después de volver a instalar MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5b683-296">Verify that the MSDTC Security Configuration options are set to the appropriate values after reinstalling MSDTC.</span></span>  
> -   <span data-ttu-id="5b683-297">Volver a instalar MSDTC puede cambiar la **tipo de inicio** valor para el servicio Coordinador de transacciones distribuidas.</span><span class="sxs-lookup"><span data-stu-id="5b683-297">Reinstalling MSDTC may change the **Startup Type** value for the Distributed Transaction Coordinator service.</span></span> <span data-ttu-id="5b683-298">Compruebe que la **tipo de inicio** valor para el servicio Coordinador de transacciones distribuidas se establece en **automática** después de volver a instalar MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5b683-298">Verify that the **Startup Type** value for the Distributed Transaction Coordinator service is set to **Automatic** after reinstalling MSDTC.</span></span>  
> -   <span data-ttu-id="5b683-299">Volver a instalar MSDTC puede requerir un reinicio del equipo.</span><span class="sxs-lookup"><span data-stu-id="5b683-299">Reinstalling MSDTC may require a reboot of the computer.</span></span> <span data-ttu-id="5b683-300">Para garantizar que el servicio del Coordinador de transacciones distribuidas funciona correctamente, reinicie el equipo después de volver a instalar MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5b683-300">To ensure that the Distributed Transaction Coordinator service works correctly, reboot the computer after reinstalling MSDTC.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5b683-301">Vea también</span><span class="sxs-lookup"><span data-stu-id="5b683-301">See Also</span></span>  
 <span data-ttu-id="5b683-302">[Herramientas y utilidades que se utilizan para solucionar problemas](../core/tools-and-utilities-to-use-for-troubleshooting.md) </span><span class="sxs-lookup"><span data-stu-id="5b683-302">[Tools and Utilities to Use for Troubleshooting](../core/tools-and-utilities-to-use-for-troubleshooting.md) </span></span>  
 [<span data-ttu-id="5b683-303">Solución de problemas de un clúster de servidores de Windows</span><span class="sxs-lookup"><span data-stu-id="5b683-303">Troubleshooting a Windows Server Cluster</span></span>](../core/troubleshooting-a-windows-server-cluster.md)