---
title: Consideraciones de seguridad para el seguimiento de datos de instancias y mensajes | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- permissions, HAT
- MessageBox database, HAT
- Tracking database, HAT
- security, HAT
- HAT, permissions
- HAT, security
- Management database, HAT
ms.assetid: 83e47dc2-c8e2-42a2-9c85-d511e7dae83f
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7c342a62470fa26365f439cda242eeb119689737
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22271772"
---
# <a name="security-considerations-for-message-and-instance-data-tracking"></a><span data-ttu-id="79c24-102">Consideraciones de seguridad para el seguimiento de datos de instancias y mensajes</span><span class="sxs-lookup"><span data-stu-id="79c24-102">Security Considerations for Message and Instance Data Tracking</span></span>
<span data-ttu-id="79c24-103">Por razones de seguridad, el seguimiento de instancias de mensaje y servicio no usa exploradores ni direcciones URL como en versiones anteriores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="79c24-103">For security reasons, message and service instance tracking does not use browsers or URLs as in previous releases of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="79c24-104">Esta opción de seguimiento se incluye como parte de la página de información general del grupo en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="79c24-104">This monitoring option is included as a part of the Group Overview page in the BizTalk Server Administration Console.</span></span>  <span data-ttu-id="79c24-105">Para mantener la compatibilidad con versiones anteriores, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] sigue hospedando Microsoft Internet Explorer dentro de un shell por motivos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="79c24-105">For backward compatibility, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] still hosts Microsoft Internet Explorer inside a shell for security reasons.</span></span>  
  
 <span data-ttu-id="79c24-106">Mediante el seguimiento de datos de instancias de mensaje y servicio, puede obtener acceso a información técnica necesaria para solucionar problemas y optimizar el entorno de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="79c24-106">By tracking message and service instance data, you can access the technical details necessary to troubleshoot and optimize your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="79c24-107">Puesto que este seguimiento de datos es avanzado, debe limitar el acceso a él en el entorno de producción para que usuarios no autorizados o malintencionados no causen ningún daño.</span><span class="sxs-lookup"><span data-stu-id="79c24-107">Because this tracking data is powerful, you should limit access to it in your production environment so that malicious or unauthorized users do not cause damage.</span></span> <span data-ttu-id="79c24-108">Se recomienda seguir estas directrices para proteger y usar la consola de administración de BizTalk Server en el entorno.</span><span class="sxs-lookup"><span data-stu-id="79c24-108">It is recommended you follow these guidelines for securing and using the BizTalk Server Administration Console in your environment.</span></span>  
  
-   <span data-ttu-id="79c24-109">Debe haber iniciado sesión como miembro del grupo de operadores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para ver los datos mediante la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="79c24-109">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators group to view data using the BizTalk Server Administration Console.</span></span> <span data-ttu-id="79c24-110">Para tener acceso a cuerpos de mensaje en la sección de información general del grupo de la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], debe haber iniciado sesión como miembro del grupo de administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="79c24-110">To access message bodies in the Group Overview section of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, you must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
     <span data-ttu-id="79c24-111">Cuando se usan el seguimiento de mensajes e instancias de servicio, puede tener acceso a las siguientes bases de datos:</span><span class="sxs-lookup"><span data-stu-id="79c24-111">When you use message and service instance tracking, you can access the following databases:</span></span>  
  
    |<span data-ttu-id="79c24-112">Base de datos</span><span class="sxs-lookup"><span data-stu-id="79c24-112">Database</span></span>|<span data-ttu-id="79c24-113">Grupo de usuarios y permisos</span><span class="sxs-lookup"><span data-stu-id="79c24-113">User Group/Permissions</span></span>|  
    |--------------|-----------------------------|  
    |<span data-ttu-id="79c24-114">Administración de BizTalk (BizTalkMgmtDb)</span><span class="sxs-lookup"><span data-stu-id="79c24-114">BizTalk Management (BizTalkMgmtDb)</span></span>|<span data-ttu-id="79c24-115">Administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], operadores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="79c24-115">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators</span></span>|  
    |<span data-ttu-id="79c24-116">Cuadro de mensajes de BizTalk (BizTalkMsgBoxDb)</span><span class="sxs-lookup"><span data-stu-id="79c24-116">BizTalk MessageBox (BizTalkMsgBoxDb)</span></span>|<span data-ttu-id="79c24-117">Administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], operadores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] o permisos de lectura y escritura</span><span class="sxs-lookup"><span data-stu-id="79c24-117">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators, or read-write permissions</span></span>|  
    |<span data-ttu-id="79c24-118">Seguimiento de BizTalk (BizTalkDTADb)</span><span class="sxs-lookup"><span data-stu-id="79c24-118">BizTalk Tracking (BizTalkDTADb)</span></span>|<span data-ttu-id="79c24-119">Administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], operadores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] o permisos de solo lectura</span><span class="sxs-lookup"><span data-stu-id="79c24-119">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators, or read-only permissions</span></span>|  
  
-   <span data-ttu-id="79c24-120">El seguimiento de mensajes e instancias de servicio genera informes acerca de todos los hosts del entorno de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en función de los parámetros de una consulta.</span><span class="sxs-lookup"><span data-stu-id="79c24-120">Message and service instance tracking generates reports about all hosts in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment based on the parameters of a query.</span></span> <span data-ttu-id="79c24-121">Para minimizar el riesgo de divulgación de información, solo los miembros del grupo de administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pueden usar la consola de administración de BizTalk Server para ejecutar estas consultas.</span><span class="sxs-lookup"><span data-stu-id="79c24-121">To minimize the potential of information disclosure, only members of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group can use the BizTalk Server Administration Console to execute these querries.</span></span> <span data-ttu-id="79c24-122">Sin embargo, si no desea que todos los administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tengan acceso a los datos que produce este proceso de seguimiento, puede limitar su acceso a los datos al agregar o quitar usuarios de los roles de SQL Server HM_EVENT_WRITER y BAM_EVENT_WRITER en la base de datos de seguimiento de BizTalk (BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="79c24-122">However, if you do not want all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators to have access to the data this tracking process produces, you can limit their access to the data by adding/removing users from the HM_EVENT_WRITER and BAM_EVENT_WRITER SQL Server roles in the BizTalk Tracking (BizTalkDTADb) database.</span></span>  
  
-   <span data-ttu-id="79c24-123">BizTalk utiliza las funciones de SQL Server BAM_EVENT_WRITER y HM_EVENT_WRITER para conceder o denegar permisos a sus miembros para leer y escribir datos de seguimiento en la base de datos de seguimiento, pero no mediante la pertenencia a una función.</span><span class="sxs-lookup"><span data-stu-id="79c24-123">BizTalk uses the BAM_EVENT_WRITER and HM_EVENT_WRITER SQL Server roles to grant/deny their members permissions to read/write the tracking data in the Tracking database, but not through role membership.</span></span> <span data-ttu-id="79c24-124">No quite estas funciones de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="79c24-124">Do not remove these SQL Server roles.</span></span> <span data-ttu-id="79c24-125">Cuando se cambia un host para que aloje o no aloje datos de seguimiento, se llama al procedimiento almacenado adm_ChangeHostTrackingPrivilege.</span><span class="sxs-lookup"><span data-stu-id="79c24-125">When you change a host from hosting to not hosting tracking (or vice versa), the adm_ChangeHostTrackingPrivilege stored procedure is called.</span></span> <span data-ttu-id="79c24-126">Este procedimiento almacenado lee la definición de las funciones de SQL Server BAM_EVENT_WRITER y HM_EVENT_WRITER y aplica las correspondientes instrucciones GRANT/DENY al grupo de Windows de host.</span><span class="sxs-lookup"><span data-stu-id="79c24-126">This stored procedure reads the definition of the BAM_EVENT_WRITER and HM_EVENT_WRITER SQL Server roles and apply the corresponding GRANT/DENY statements to the Host Windows group.</span></span> <span data-ttu-id="79c24-127">Esto tiene el mismo efecto que agregar el grupo de Windows de host a estas funciones de SQL.</span><span class="sxs-lookup"><span data-stu-id="79c24-127">This achieves the same effect as adding the Host Windows group to these SQL roles.</span></span>  
  
-   <span data-ttu-id="79c24-128">Cuando se configuran las preferencias de la consola de administración de BizTalk Server para ver los datos de una base de datos archivada, las consultas de seguimiento se conectan a las bases de datos que contienen los datos archivados, y no a la base de datos de seguimiento de BizTalk (BizTalkDTADb) actualmente activa.</span><span class="sxs-lookup"><span data-stu-id="79c24-128">When you configure the BizTalk Server Administration Console preferences to view data from an archived database, In this case the tracking queries connect to the databases that hold the archived data, not to the currently active BizTalk Tracking (BizTalkDTADb) database.</span></span>  
  
-   <span data-ttu-id="79c24-129">No se pueden depurar orquestaciones activas a través de servidores de seguridad NAT (Traducción de direcciones de red).</span><span class="sxs-lookup"><span data-stu-id="79c24-129">You cannot debug live orchestrations across Network Address Translation (NAT) firewalls.</span></span> <span data-ttu-id="79c24-130">Debe tener un equipo de administración en el dominio de procesamiento con el fin de depurar orquestaciones activas.</span><span class="sxs-lookup"><span data-stu-id="79c24-130">You must have an administration computer on the Processing domain in order to debug live orchestrations.</span></span>  
  
-   <span data-ttu-id="79c24-131">Según cómo se configuren el seguimiento y las canalizaciones, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] puede almacenar información confidencial contenida en el contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="79c24-131">Depending on how you configure tracking and the pipelines, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] may store sensitive information contained in the message context.</span></span> <span data-ttu-id="79c24-132">Si usa WMI o el seguimiento para guardar el cuerpo de los mensajes en una ubicación de archivos, asegúrese de que la ubicación tiene una lista de control de acceso discrecional (DACL) segura para que solo los administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tengan permisos de lectura para el cuerpo de estos mensajes.</span><span class="sxs-lookup"><span data-stu-id="79c24-132">If you use WMI or tracking to save message bodies to a file location, ensure that the location has a strong discretionary access control list (DACL) so that only [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators have read permissions to these message bodies.</span></span> <span data-ttu-id="79c24-133">Aplique la misma lista DACL a cualquier ubicación que guarde cuerpos de mensaje, incluidas las bases de datos que no sean de BizTalk, donde pueda archivarlos y restaurarlos.</span><span class="sxs-lookup"><span data-stu-id="79c24-133">Apply the same DACL to any location you save the message bodies, including non-BizTalk databases where you may archive and restore them.</span></span>  
  
-   <span data-ttu-id="79c24-134">Debe conceder permisos manualmente al grupo de administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para obtener acceso a la base de datos del servidor de análisis de seguimiento (BizTalkAnalysisDb); de forma predeterminada, solo los administradores de OLAP tienen permisos para esta base de datos.</span><span class="sxs-lookup"><span data-stu-id="79c24-134">You must manually grant permissions to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group to access the Tracking Analysis Server (BizTalkAnalysisDb) database; by default, only OLAP administrators have permissions to it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="79c24-135">Vea también</span><span class="sxs-lookup"><span data-stu-id="79c24-135">See Also</span></span>  
 <span data-ttu-id="79c24-136">[Planeación de mensaje y seguimiento de instancias](../core/planning-for-message-and-instance-tracking.md) </span><span class="sxs-lookup"><span data-stu-id="79c24-136">[Planning for Message and Instance Tracking](../core/planning-for-message-and-instance-tracking.md) </span></span>  
 [<span data-ttu-id="79c24-137">Datos de instancia y los mensajes de seguimiento de visualización</span><span class="sxs-lookup"><span data-stu-id="79c24-137">Viewing Tracked Message and Instance Data</span></span>](../core/viewing-tracked-message-and-instance-data.md)