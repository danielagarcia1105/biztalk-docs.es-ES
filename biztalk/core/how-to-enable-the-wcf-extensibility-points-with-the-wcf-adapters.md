---
title: Habilitar los puntos de extensibilidad de WCF con adaptadores de WCF | Microsoft Docs
description: Instalar ensamblados, configurar machine.config, agregue la extensión para administradores de BizTalk, crear ubicación de recepción para habilitar puntos de extensibilidad WCF para los adaptadores de WCF en BizTalk Server
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 0c2af105-5272-4a6a-95d2-066312ab788e
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e5fe619b78bae05d373293293366cafc117c3ea8
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36980429"
---
# <a name="how-to-enable-the-wcf-extensibility-points-with-the-wcf-adapters"></a><span data-ttu-id="aa4a9-103">Cómo habilitar los puntos de extensibilidad WCF con los adaptadores de WCF</span><span class="sxs-lookup"><span data-stu-id="aa4a9-103">How to Enable the WCF Extensibility Points with the WCF Adapters</span></span>
<span data-ttu-id="aa4a9-104">Habilitar tres puntos de extensibilidad WCF, extensión de comportamiento, extensión de elemento de enlace y extensión de enlace, con los adaptadores de WCF-Custom y WCF-CustomIsolated.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-104">Enable three WCF extensibility points—behavior extension, binding element extension, and binding extension—with the WCF-Custom and WCF-CustomIsolated adapters.</span></span> <span data-ttu-id="aa4a9-105">Para ello, primero instale los ensamblados que implementan los puntos de extensibilidad WCF en la caché de ensamblado global (GAC), a continuación, modifique el archivo machine.config de su equipo y configure el adaptador de WCF-Custom o el WCF-CustomIsolated mediante la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa4a9-105">To do so, you first install the assemblies implementing the WCF extensibility points in the global assembly cache (GAC), then modify the machine.config file on your computers, and then configure the WCF-Custom or the WCF-CustomIsolated adapter by using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
<span data-ttu-id="aa4a9-106">Consulte [Extending WCF](https://docs.microsoft.com/dotnet/framework/wcf/extending/extending-wcf) para obtener más información sobre los puntos de extensibilidad WCF.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-106">See [Extending WCF](https://docs.microsoft.com/dotnet/framework/wcf/extending/extending-wcf) for more info on WCF extensibility points.</span></span>
  
 
## <a name="prerequisites"></a><span data-ttu-id="aa4a9-107">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="aa4a9-107">Prerequisites</span></span>  
<span data-ttu-id="aa4a9-108">Inicie sesión con una cuenta que sea miembro de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] grupo de administradores.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-108">Sign in with an account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span> <span data-ttu-id="aa4a9-109">[Permisos necesarios para implementar y administrar una aplicación de BizTalk](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md) proporciona más información.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-109">[Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md) provides more info.</span></span>  
  
## <a name="install-assemblies-implementing-a-wcf-extensibility-point-in-the-gac"></a><span data-ttu-id="aa4a9-110">Instalar a ensamblados que implementan un punto de extensibilidad WCF en la GAC</span><span class="sxs-lookup"><span data-stu-id="aa4a9-110">Install assemblies implementing a WCF extensibility point in the GAC</span></span>  
  
1. <span data-ttu-id="aa4a9-111">Copie los ensamblados que implementan el punto de extensibilidad WCF a una carpeta en su equipo local.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-111">Copy the assemblies implementing the WCF extensibility point to a folder on your local computer.</span></span>  
  
2. <span data-ttu-id="aa4a9-112">Copie los ensamblados que utiliza el punto de extensibilidad WCF a una carpeta en su equipo local.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-112">Copy the assemblies that the WCF extensibility point uses, if any, to a folder on your local computer.</span></span>  
  
3. <span data-ttu-id="aa4a9-113">Iniciar el **símbolo del sistema de Visual Studio**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-113">Start the **Visual Studio Command Prompt**.</span></span>  
  
4. <span data-ttu-id="aa4a9-114">Escriba el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="aa4a9-114">Type the following command:</span></span>  
  
    <span data-ttu-id="aa4a9-115">**Gacutil.exe /if "\<**  *ruta de acceso al archivo .dll del ensamblado*  **\>"**</span><span class="sxs-lookup"><span data-stu-id="aa4a9-115">**gacutil.exe /if "\<** *path to the assembly .dll file* **\>"**</span></span>  
  
5. <span data-ttu-id="aa4a9-116">Se instalará el ensamblado en la GAC, sobrescribiendo cualquier ensamblado existente con el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-116">This installs the assembly to the GAC, overwriting any existing assembly that has the same assembly name.</span></span>  
  
6. <span data-ttu-id="aa4a9-117">En el símbolo del sistema [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], repita los pasos 4 y 5 en todos los ensamblados que copió en los pasos 1 y 2 de este procedimiento.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-117">At the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] command prompt, repeat steps 4 and 5 against all the assemblies you copied in steps 1 and 2 of this procedure.</span></span>  
  
7. <span data-ttu-id="aa4a9-118">Si tiene varios [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] equipos en tiempo de ejecución y administración, repita los pasos del 1 al 6 de este procedimiento en todos los equipos.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-118">If you have multiple [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers and administration computers, repeat steps 1 through 6 of this procedure on all the computers.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="aa4a9-119">Para activar los puntos de extensibilidad WCF para los adaptadores de WCF, la instancia de host de BizTalk que ejecuta el adaptador debe poder cargar los ensambles en tiempo de ejecución en donde se implementan los puntos de extensibilidad WCF.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-119">To enable WCF extensibility points for the WCF adapters, the BizTalk Host instance running the adapter must be able to load at run time the assemblies where the WCF extensibility points are implemented.</span></span>  
  
## <a name="configure-the-machineconfig-file-for-a-wcf-binding-extension"></a><span data-ttu-id="aa4a9-120">Configurar el archivo machine.config para una extensión de enlace de WCF</span><span class="sxs-lookup"><span data-stu-id="aa4a9-120">Configure the machine.config file for a WCF binding extension</span></span>  
  
1. <span data-ttu-id="aa4a9-121">En un símbolo del sistema, vaya a la % FrameworkDir%\v4. Carpeta X.XXXXX\CONFIG y, a continuación, abra el **machine.config** un archivo utilizando el Bloc de notas.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-121">At a command prompt, go to the %FrameworkDir%\v4.X.XXXXX\CONFIG folder, and then open the **machine.config** file by using Notepad.</span></span>  
  
2. <span data-ttu-id="aa4a9-122">En el Bloc de notas, si el archivo machine.config no tiene el **\<system.serverModel\>\\< extensiones\>** elementos, agréguelos dentro del **\<configuración\>** elemento del archivo machine.config y, a continuación, agréguele el **\<bindingExtensions\>** (elemento) para una extensión de enlace WCF dentro de el **\<system.serverModel\>\\< extensiones\>** elementos.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-122">In Notepad, if the machine.config file does not have the **\<system.serverModel\>\\<extensions\>** elements, add those elements inside the **\<configuration\>** element of the machine.config file, and then add the **\<bindingExtensions\>** element for a WCF binding extension inside the **\<system.serverModel\>\\<extensions\>** elements.</span></span> <span data-ttu-id="aa4a9-123">Por ejemplo, para habilitar una extensión de enlace personalizado, netHttpBinding, agregue el código siguiente dentro de la **\<configuración\>** elemento del archivo machine.config:</span><span class="sxs-lookup"><span data-stu-id="aa4a9-123">For example, to enable a custom binding extension, netHttpBinding, add the following code inside the **\<configuration\>** element of the machine.config file:</span></span>  
  
   ```  
   <system.serviceModel>  
     <extensions>  
       <bindingExtensions>  
         <add name="netHttpBinding" type="Microsoft.Samples.Channels.NetHttpBindingCollectionElement, NetHttpBinding, Version=3.0.0.0, Culture=neutral, PublicKeyToken=5b637b51c4aaa2a8" />  
       </bindingExtensions>        
     </extensions>  
   </system.serviceModel>  
   ```  
  
   > [!NOTE]
   >  - <span data-ttu-id="aa4a9-124">Puede encontrar la información de los ensamblados que se va a registrar mediante el comando, **gacutil /lr** *< assembly_name >*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-124">You can find the information for the assemblies to register by using the command, **gacutil /lr** *<assembly_name>*.</span></span>  
   >  - <span data-ttu-id="aa4a9-125">Consulte [bindingExtensions](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/wcf/bindingextensions) en este elemento.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-125">See [bindingExtensions](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/wcf/bindingextensions) on this element.</span></span>
  
3. <span data-ttu-id="aa4a9-126">Guarde el archivo machine.config en el Bloc de notas.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-126">In Notepad, save the machine.config file.</span></span>  
  
4. <span data-ttu-id="aa4a9-127">Si dispone de varios equipos en tiempo de ejecución de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] y equipos de administración, repita los pasos del 1 al 3 de este procedimiento en todos los equipos.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-127">If you have multiple [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers and administration computers, repeat steps 1 through 3 of this procedure on all the computers.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="aa4a9-128">Debe repetir estos pasos en todos los equipos de la infraestructura WCF para procesar el punto de extensibilidad WCF para la instancia de host de BizTalk y la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa4a9-128">You have to repeat these steps on all the computers for the WCF infrastructure to process the WCF extensibility point for the BizTalk Host instance and the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
## <a name="configure-a-wcf-binding-extension-by-using-the-biztalk-administration-console"></a><span data-ttu-id="aa4a9-129">Configurar una extensión de enlace de WCF mediante la consola de administración de BizTalk</span><span class="sxs-lookup"><span data-stu-id="aa4a9-129">Configure a WCF binding extension by using the BizTalk Administration console</span></span>  
  
1. <span data-ttu-id="aa4a9-130">Abra **administración de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-130">Open **BizTalk Server Administration**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="aa4a9-131">Si la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ya está abierta, reinicie la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa4a9-131">If the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console is already opened, restart the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
2. <span data-ttu-id="aa4a9-132">Si utiliza el adaptador de WCF-Custom, en la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], expanda Configuración de plataforma e Instancias de host y, a continuación, reinicie la instancia de host de BizTalk que ejecuta el adaptador.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-132">If you use the WCF-Custom adapter, in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand Platform Settings, expand Host Instances, and then restart the BizTalk Host instance running the adapter.</span></span>  
  
3. <span data-ttu-id="aa4a9-133">Si utiliza el adaptador de WCF-CustomIsolated, en la consola de administración de IIS, reinicie el grupo de aplicación asociado a la ubicación de recepción WCF.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-133">If you use the WCF-CustomIsolated adapter, in the IIS Management console, restart the application pool associated with the WCF receive location.</span></span>  
  
4. <span data-ttu-id="aa4a9-134">Si desea configurar una ubicación de recepción para usar un punto de extensibilidad WCF, en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] administración de la consola, expanda **grupo de BizTalk**, expanda *\<aplicación de BizTalk\>*, expanda **ubicaciones de recepción**y, a continuación, en el panel derecho, haga doble clic en  *\<ubicación de recepción\>*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-134">If you want to configure a receive location to use a WCF extensibility point, in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand **BizTalk Group**, expand *\<BizTalk application\>*, expand **Receive Locations**, and then in the right pane, double-click *\<Receive location\>*.</span></span>  
  
   -   <span data-ttu-id="aa4a9-135">En el **propiedades de ubicación de recepción** cuadro de diálogo el **tipo** lista desplegable, seleccione **WCF-Custom** o **WCF-CustomIsolated** Dependiendo del adaptador de WCF que desea usar y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-135">In the **Receive Location Properties** dialog box, in the **Type** drop-down list, select **WCF-Custom** or **WCF-CustomIsolated** depending on the WCF adapter that you want to use, and then click **Configure**.</span></span>  
  
5. <span data-ttu-id="aa4a9-136">Si desea configurar un puerto de envío para utilizar un punto de extensibilidad WCF, en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] administración de la consola, expanda **grupo de BizTalk**, expanda *\<aplicación de BizTalk\>*, expanda **puertos de envío**y, a continuación, en el panel derecho, haga doble clic en  *\<puerto de envío\>*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-136">If you want to configure a send port to use a WCF extensibility point, in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand **BizTalk Group**, expand *\<BizTalk application\>*, expand **Send Ports**, and then in the right pane, double-click *\<Send port\>*.</span></span>  
  
   -   <span data-ttu-id="aa4a9-137">En el **propiedades de puerto de envío** cuadro de diálogo el **tipo** lista desplegable, seleccione **WCF-Custom**y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-137">In the **Send Port Properties** dialog box, in the **Type** drop-down list, select **WCF-Custom**, and then click **Configure**.</span></span>  
  
6. <span data-ttu-id="aa4a9-138">En el cuadro de diálogo Propiedades de transporte, en el **enlace** , seleccione la extensión de enlace y, a continuación, configure el resto de la configuración para el transporte.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-138">In the transport properties dialog box, on the **Binding** tab, select the binding extension, and then configure the rest of the settings for the transport.</span></span>  
  
7. <span data-ttu-id="aa4a9-139">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] administración de la consola, cierre todos los cuadros de diálogo abiertos haciendo clic en el **Aceptar** botones y, a continuación, asegúrese de que no hay mensajes de error y los registros de eventos erróneos aparecen.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-139">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, close all open dialog boxes by clicking the **OK** buttons, and then make sure that no error messages and erroneous event logs appear.</span></span>  
  
## <a name="configure-the-machineconfig-file-for-a-wcf-binding-element-extension"></a><span data-ttu-id="aa4a9-140">Configurar el archivo machine.config para una extensión de elemento de enlace de WCF</span><span class="sxs-lookup"><span data-stu-id="aa4a9-140">Configure the machine.config file for a WCF binding element extension</span></span>  
  
1. <span data-ttu-id="aa4a9-141">En un símbolo del sistema, vaya a la % FrameworkDir%\v4. Carpeta X.XXXXX\CONFIG y, a continuación, abra el **machine.config** un archivo utilizando el Bloc de notas.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-141">At a command prompt, go to the %FrameworkDir%\v4.X.XXXXX\CONFIG folder, and then open the **machine.config** file by using Notepad.</span></span>  
  
2. <span data-ttu-id="aa4a9-142">En el Bloc de notas, si el archivo machine.config no tiene el **\<system.serverModel\>\\< extensiones\>** elementos, agréguelos dentro del **\<configuración\>** elemento del archivo machine.config y, a continuación, agréguele el **\<bindingElementExtensions\>** (elemento) para un elemento de enlace de WCF extensión de dentro de la **\<system.serverModel\>\\< extensiones\>** elementos.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-142">In Notepad, if the machine.config file does not have the **\<system.serverModel\>\\<extensions\>** elements, add those elements inside the **\<configuration\>** element of the machine.config file, and then add the **\<bindingElementExtensions\>** element for a WCF binding element extension inside the **\<system.serverModel\>\\<extensions\>** elements.</span></span> <span data-ttu-id="aa4a9-143">Por ejemplo, para habilitar una extensión de elemento de enlace personalizado, Droppingintercepto, agregue el código siguiente dentro de la **\<configuración\>** elemento del archivo machine.config:</span><span class="sxs-lookup"><span data-stu-id="aa4a9-143">For example, to enable a custom binding element extension, droppingInterceptor, add the following code inside the **\<configuration\>** element of the machine.config file:</span></span>  
  
   ```  
   <system.serviceModel>  
     <extensions>  
       <bindingElementExtensions>  
         <add name="droppingInterceptor" type="Microsoft.ServiceModel.Samples.DroppingServerElement, MessageInterceptor, Version=0.0.0.0, Culture=neutral, PublicKeyToken=098514eef14aa34a"/>  
       </bindingElementExtensions>  
     </extensions>  
   </system.serviceModel>  
   ```  
  
   > [!NOTE]
   > - <span data-ttu-id="aa4a9-144">Puede encontrar la información de los ensamblados que se va a registrar mediante el comando, **gacutil /lr** *< assembly_name >*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-144">You can find the information for the assemblies to register by using the command, **gacutil /lr** *<assembly_name>*.</span></span>  
   > - <span data-ttu-id="aa4a9-145">Consulte [bindingElementExtensions](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/wcf/bindingelementextensions) en este elemento.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-145">See [bindingElementExtensions](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/wcf/bindingelementextensions) on this element.</span></span>
  
3. <span data-ttu-id="aa4a9-146">Guarde el archivo machine.config en el Bloc de notas.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-146">In Notepad, save the machine.config file.</span></span>  
  
4. <span data-ttu-id="aa4a9-147">Si dispone de varios equipos en tiempo de ejecución de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] y equipos de administración, repita los pasos del 1 al 3 de este procedimiento en todos los equipos.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-147">If you have multiple [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers and administration computers, repeat steps 1 through 3 of this procedure on all the computers.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="aa4a9-148">Debe repetir estos pasos en todos los equipos de la infraestructura WCF para procesar el punto de extensibilidad WCF para la instancia de host de BizTalk y la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa4a9-148">You have to repeat these steps on all the computers for the WCF infrastructure to process the WCF extensibility point for the BizTalk Host instance and the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
## <a name="configure-a-wcf-binding-element-extension-by-using-the-biztalk-administration-console"></a><span data-ttu-id="aa4a9-149">Configurar una extensión de elemento de enlace de WCF mediante la consola de administración de BizTalk</span><span class="sxs-lookup"><span data-stu-id="aa4a9-149">Configure a WCF binding element extension by using the BizTalk Administration console</span></span>  
  
1. <span data-ttu-id="aa4a9-150">Abra **administración de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-150">Open **BizTalk Server Administration**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="aa4a9-151">Si la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ya está abierta, reinicie la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa4a9-151">If the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console is already opened, restart the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
2. <span data-ttu-id="aa4a9-152">Si utiliza el adaptador de WCF-Custom, en la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], expanda Configuración de plataforma e Instancias de host y, a continuación, reinicie la instancia de host de BizTalk que ejecuta el adaptador.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-152">If you use the WCF-Custom adapter, in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand Platform Settings, expand Host Instances, and then restart the BizTalk Host instance running the adapter.</span></span>  
  
3. <span data-ttu-id="aa4a9-153">Si utiliza el adaptador de WCF-CustomIsolated, en la consola de administración de IIS, reinicie el grupo de aplicación asociado a la ubicación de recepción WCF.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-153">If you use the WCF-CustomIsolated adapter, in the IIS Management console, restart the application pool associated with the WCF receive location.</span></span>  
  
4. <span data-ttu-id="aa4a9-154">Si desea configurar una ubicación de recepción para usar un punto de extensibilidad WCF, en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] administración de la consola, expanda **grupo de BizTalk**, expanda *\<aplicación de BizTalk\>*, expanda **ubicaciones de recepción**y, a continuación, en el panel derecho, haga doble clic en  *\<ubicación de recepción\>*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-154">If you want to configure a receive location to use a WCF extensibility point, in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand **BizTalk Group**, expand *\<BizTalk application\>*, expand **Receive Locations**, and then in the right pane, double-click *\<Receive location\>*.</span></span>  
  
   -   <span data-ttu-id="aa4a9-155">En el **propiedades de ubicación de recepción** cuadro de diálogo el **tipo** lista desplegable, seleccione **WCF-Custom** o **WCF-CustomIsolated** Dependiendo del adaptador de WCF que desea usar y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-155">In the **Receive Location Properties** dialog box, in the **Type** drop-down list, select **WCF-Custom** or **WCF-CustomIsolated** depending on the WCF adapter that you want to use, and then click **Configure**.</span></span>  
  
5. <span data-ttu-id="aa4a9-156">Si desea configurar un puerto de envío para utilizar un punto de extensibilidad WCF, en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] administración de la consola, expanda **grupo de BizTalk**, expanda *\<aplicación de BizTalk\>*, expanda **puertos de envío**y, a continuación, en el panel derecho, haga doble clic en  *\<puerto de envío\>*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-156">If you want to configure a send port to use a WCF extensibility point, in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand **BizTalk Group**, expand *\<BizTalk application\>*, expand **Send Ports**, and then in the right pane, double-click *\<Send port\>*.</span></span>  
  
   -   <span data-ttu-id="aa4a9-157">En el **propiedades de puerto de envío** cuadro de diálogo el **tipo** lista desplegable, seleccione **WCF-Custom**y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-157">In the **Send Port Properties** dialog box, in the **Type** drop-down list, select **WCF-Custom**, and then click **Configure**.</span></span>  
  
6. <span data-ttu-id="aa4a9-158">En el cuadro de diálogo Propiedades de transporte, en el **enlace** ficha la **BindingType** lista desplegable, seleccione **customBinding**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-158">In the transport properties dialog box, on the **Binding** tab, in the **Binding Type** drop-down list, select **customBinding**.</span></span>  
  
7. <span data-ttu-id="aa4a9-159">En el cuadro de diálogo Propiedades de transporte, en el **enlace** pestaña, haga clic en el área cliente de la **enlace** lista y, a continuación, haga clic en **Agregar extensión**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-159">In the transport properties dialog box, on the **Binding** tab, right-click the client area of the **Binding** list, and then click **Add extension**.</span></span>  
  
8. <span data-ttu-id="aa4a9-160">En el **Seleccionar extensión de elemento de enlace** cuadro de diálogo, seleccione una extensión de elemento de enlace y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-160">In the **Select Binding Element Extension** dialog box, select a binding element extension, and then click **OK**.</span></span>  
  
9. <span data-ttu-id="aa4a9-161">En el cuadro de diálogo Propiedades de transporte, en el **enlace** pestaña, ajustar el orden de los elementos de enlace que se agregó en el **enlace** lista según el tipo de la extensión de elemento de enlace que agregó en el paso anterior como sigue:</span><span class="sxs-lookup"><span data-stu-id="aa4a9-161">In the transport properties dialog box, on the **Binding** tab, adjust the order of the binding elements added in the **Binding** list depending on the type of the binding element extension you added in the previous step as follows:</span></span>  
  
    -   <span data-ttu-id="aa4a9-162">En el **enlace** lista, haga clic en una extensión de elemento de enlace y, a continuación, haga clic en **mover extensión hacia arriba** o **mover extensión hacia abajo**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-162">In the **Binding** list, right-click a binding element extension, and then click **Move extension up** or **Move extension down**.</span></span> <span data-ttu-id="aa4a9-163">La extensión de elemento de enlace más bajo en el **enlace** lista se corresponde con el componente de la parte inferior de la pila de canales.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-163">The lowest binding element extension in the **Binding** list corresponds to the bottom component of the channel stack.</span></span> <span data-ttu-id="aa4a9-164">El elemento de enlace superior en el **enlace** lista corresponde al componente superior de la pila de comunicación.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-164">The highest binding element in the **Binding** list corresponds to the top component of the communication stack.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="aa4a9-165">Consulte [enlaces personalizados](https://docs.microsoft.com/dotnet/framework/wcf/extending/custom-bindings) para obtener más información acerca del orden de los elementos de enlace específico para el enlace personalizado.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-165">See [Custom Bindings](https://docs.microsoft.com/dotnet/framework/wcf/extending/custom-bindings) for details about the specific order of the binding elements for the custom binding.</span></span>
  
10. <span data-ttu-id="aa4a9-166">En el cuadro de diálogo de propiedades de transporte, configure el resto de la configuración del transporte.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-166">In the transport properties dialog box, configure the rest of the settings for the transport.</span></span>  
  
11. <span data-ttu-id="aa4a9-167">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] administración de la consola, cierre todos los cuadros de diálogo abiertos haciendo clic en el **Aceptar** botones y, a continuación, asegúrese de que no hay mensajes de error y los registros de eventos erróneos aparecen.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-167">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, close all open dialog boxes by clicking the **OK** buttons, and then make sure that no error messages and erroneous event logs appear.</span></span>  
  
## <a name="configure-the-machineconfig-file-for-a-wcf-behavior-extension"></a><span data-ttu-id="aa4a9-168">Configurar el archivo machine.config para una extensión de comportamiento WCF</span><span class="sxs-lookup"><span data-stu-id="aa4a9-168">Configure the machine.config file for a WCF behavior extension</span></span>  
  
1. <span data-ttu-id="aa4a9-169">En un símbolo del sistema, vaya a la % FrameworkDir%\v4. Carpeta X.XXXXX\CONFIG y, a continuación, abra el **machine.config** un archivo utilizando el Bloc de notas.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-169">At a command prompt, go to the %FrameworkDir%\v4.X.XXXXX\CONFIG folder, and then open the **machine.config** file by using Notepad.</span></span>  
  
2. <span data-ttu-id="aa4a9-170">En el Bloc de notas, si el archivo machine.config no tiene el **\<system.serverModel\>\\< extensiones\>** elementos, agréguelos dentro del **\<configuración\>** elemento del archivo machine.config y, a continuación, agréguele el **\<behaviorExtensions\>** (elemento) para una extensión de comportamiento WCF dentro de la **\<system.serverModel\>\\< extensiones\>** elementos.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-170">In Notepad, if the machine.config file does not have the **\<system.serverModel\>\\<extensions\>** elements, add those elements inside the **\<configuration\>** element of the machine.config file, and then add the **\<behaviorExtensions\>** element for a WCF behavior extension inside the **\<system.serverModel\>\\<extensions\>** elements.</span></span> <span data-ttu-id="aa4a9-171">Por ejemplo, para habilitar una extensión de comportamiento personalizado, schemaValidator, agregue el código siguiente dentro de la **\<configuración\>** elemento del archivo machine.config:</span><span class="sxs-lookup"><span data-stu-id="aa4a9-171">For example, To enable a custom behavior extension, schemaValidator, add the following code inside the **\<configuration\>** element of the machine.config file:</span></span>  
  
   ```  
   <system.serviceModel>  
     <extensions>  
       <behaviorExtensions>  
         <add name="schemaValidator" type="Microsoft.ServiceModel.Samples.SchemaValidationBehaviorExtensionElement, MessageInspectors, Version=1.0.0.0, Culture=neutral, PublicKeyToken=ad307e213604f592"/>  
       </behaviorExtensions>  
     </extensions>  
   </system.serviceModel>  
   ```  
  
   > [!NOTE]
   >  - <span data-ttu-id="aa4a9-172">Puede encontrar la información de los ensamblados que se va a registrar mediante el comando, **gacutil /lr** *< assembly_name >*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-172">You can find the information for the assemblies to register by using the command, **gacutil /lr** *<assembly_name>*.</span></span>  
   >  - <span data-ttu-id="aa4a9-173">Consulte [behaviorExtensions](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/wcf/behaviorextensions) en este elemento.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-173">See [behaviorExtensions](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/wcf/behaviorextensions) on this element.</span></span>
  
3. <span data-ttu-id="aa4a9-174">Guarde el archivo machine.config en el Bloc de notas.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-174">In Notepad, save the machine.config file.</span></span>  
  
4. <span data-ttu-id="aa4a9-175">Si dispone de varios equipos en tiempo de ejecución de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] y equipos de administración, repita los pasos del 1 al 3 de este procedimiento en todos los equipos.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-175">If you have multiple [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers and administration computers, repeat steps 1 through 3 of this procedure on all the computers.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="aa4a9-176">Debe repetir estos pasos en todos los equipos de la infraestructura WCF para procesar el punto de extensibilidad WCF para la instancia de host de BizTalk y la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa4a9-176">You have to repeat these steps on all the computers for the WCF infrastructure to process the WCF extensibility point for the BizTalk Host instance and the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
## <a name="configure-a-wcf-behavior-extension-by-using-the-biztalk-administration-console"></a><span data-ttu-id="aa4a9-177">Configurar una extensión de comportamiento WCF mediante la consola de administración de BizTalk</span><span class="sxs-lookup"><span data-stu-id="aa4a9-177">Configure a WCF behavior extension by using the BizTalk Administration console</span></span>  
  
1. <span data-ttu-id="aa4a9-178">Abra **administración de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-178">Open **BizTalk Server Administration**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="aa4a9-179">Si la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ya está abierta, reinicie la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa4a9-179">If the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console is already opened, restart the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
2. <span data-ttu-id="aa4a9-180">Si utiliza el adaptador de WCF-Custom, en la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], expanda Configuración de plataforma e Instancias de host y, a continuación, reinicie la instancia de host de BizTalk que ejecuta el adaptador.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-180">If you use the WCF-Custom adapter, in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand Platform Settings, expand Host Instances, and then restart the BizTalk Host instance running the adapter.</span></span>  
  
3. <span data-ttu-id="aa4a9-181">Si utiliza el adaptador de WCF-CustomIsolated, en la consola de administración de IIS, reinicie el grupo de aplicación asociado a la ubicación de recepción WCF.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-181">If you use the WCF-CustomIsolated adapter, in the IIS Management console, restart the application pool associated with the WCF receive location.</span></span>  
  
4. <span data-ttu-id="aa4a9-182">Si desea configurar una ubicación de recepción que utilice un punto de extensibilidad WCF, en la consola de administración de BizTalk, expanda **grupo de BizTalk**, expanda *\<aplicación de BizTalk\>*, expanda **ubicaciones de recepción**y, a continuación, en el panel derecho, haga doble clic en  *\<ubicación de recepción\>*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-182">If you want to configure a receive location to use a WCF extensibility point, in the BizTalk Administration console, expand **BizTalk Group**, expand *\<BizTalk application\>*, expand **Receive Locations**, and then in the right pane, double-click *\<Receive location\>*.</span></span>  
  
   -   <span data-ttu-id="aa4a9-183">En el **propiedades de ubicación de recepción** cuadro de diálogo el **tipo** lista desplegable, seleccione **WCF-Custom** o **WCF-CustomIsolated** Dependiendo del adaptador de WCF que desea usar y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-183">In the **Receive Location Properties** dialog box, in the **Type** drop-down list, select **WCF-Custom** or **WCF-CustomIsolated** depending on the WCF adapter that you want to use, and then click **Configure**.</span></span>  
  
5. <span data-ttu-id="aa4a9-184">Si desea configurar un puerto de envío para utilizar un punto de extensibilidad WCF, en la consola de administración de BizTalk, expanda **grupo de BizTalk**, expanda  *\<aplicación de BizTalk\>*, Expanda **puertos de envío**y, a continuación, en el panel derecho, haga doble clic en  *\<puerto de envío\>*.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-184">If you want to configure a send port to use a WCF extensibility point, in the BizTalk Administration console, expand **BizTalk Group**, expand *\<BizTalk application\>*, expand **Send Ports**, and then in the right pane, double-click *\<Send port\>*.</span></span>  
  
   -   <span data-ttu-id="aa4a9-185">En el **propiedades de puerto de envío** cuadro de diálogo el **tipo** lista desplegable, seleccione **WCF-Custom**y, a continuación, haga clic en **configurar**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-185">In the **Send Port Properties** dialog box, in the **Type** drop-down list, select **WCF-Custom**, and then click **Configure**.</span></span>  
  
6. <span data-ttu-id="aa4a9-186">En el cuadro de diálogo Propiedades de transporte, en el **comportamiento** secundario **ServiceBehavior** o **EndpointBehavior** según el tipo de la extensión de comportamiento y, a continuación, en el **Seleccionar extensión de comportamiento** cuadro de diálogo, seleccione la extensión de comportamiento y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-186">In the transport properties dialog box, on the **Behavior** tab, right-click **ServiceBehavior** or **EndpointBehavior** depending on the type of the behavior extension, and then, in the **Select Behavior Extension** dialog box, select the behavior extension, and then click **OK**.</span></span>  
  
7. <span data-ttu-id="aa4a9-187">En el cuadro de diálogo de propiedades de transporte, configure el resto de la configuración del transporte.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-187">In the transport properties dialog box, configure the rest of the settings for the transport.</span></span>  
  
8. <span data-ttu-id="aa4a9-188">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] administración de la consola, cierre todos los cuadros de diálogo abiertos haciendo clic en el **Aceptar** botones y, a continuación, asegúrese de que no hay mensajes de error y los registros de eventos erróneos aparecen.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-188">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, close all open dialog boxes by clicking the **OK** buttons, and then make sure that no error messages and erroneous event logs appear.</span></span>  
  
## <a name="configure-a-wcf-custom-receive-location-with-an-ssl-certificate"></a><span data-ttu-id="aa4a9-189">Configurar un WCF-Custom ubicación de recepción con un certificado SSL</span><span class="sxs-lookup"><span data-stu-id="aa4a9-189">Configure a WCF-Custom receive location with an SSL certificate</span></span>  
  
-   <span data-ttu-id="aa4a9-190">Si utiliza el controlador de modo de núcleo HTTP (HTTP.sys) como una ubicación de recepción WCF-Custom el **httpsTransport** elemento de enlace, para las comunicaciones de Secure Sockets Layer (SSL), la ubicación de recepción debe tener un certificado registrado para cada socket (combinación de puerto y dirección IP).</span><span class="sxs-lookup"><span data-stu-id="aa4a9-190">If a WCF-Custom receive location happens to use the HTTP kernel-mode driver (HTTP.sys) such as the **httpsTransport** binding element, for Secure Sockets Layer (SSL) communications, the receive location must have a certificate registered for each socket (IP address/port combination).</span></span> <span data-ttu-id="aa4a9-191">Utilice la herramienta HttpCfg.exe para enlazar un certificado SSL con un puerto en el equipo.</span><span class="sxs-lookup"><span data-stu-id="aa4a9-191">Use the HttpCfg.exe tool to bind an SSL certificate to a port on the computer.</span></span> <span data-ttu-id="aa4a9-192">Para obtener más información, consulte [Cómo: configurar un puerto con un certificado SSL](https://docs.microsoft.com/dotnet/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="aa4a9-192">For more information, see [How To: Configure a Port with An SSL Certificate](https://docs.microsoft.com/dotnet/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate).</span></span>