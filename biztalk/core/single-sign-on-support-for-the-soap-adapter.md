---
title: Único inicio de sesión de soporte técnico para el adaptador de SOAP | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- SSO, SOAP adapters
- SOAP adapters, SharePoint Portal Server
- SOAP adapters, SSO
- SharePoint Portal server
ms.assetid: c7bf755c-c37d-4b19-9817-a7f42e1e9656
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a95673e0f8d7f8a49ba0ad6d5ba6760a6db4b524
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36966709"
---
# <a name="single-sign-on-support-for-the-soap-adapter"></a><span data-ttu-id="62690-102">Compatibilidad de inicio de sesión único para el adaptador de SOAP</span><span class="sxs-lookup"><span data-stu-id="62690-102">Single Sign-On Support for the SOAP Adapter</span></span>
<span data-ttu-id="62690-103">Puede usar la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para configurar el inicio de sesión único (SSO) empresarial para su uso con la ubicación de recepción o el puerto de envío de SOAP.</span><span class="sxs-lookup"><span data-stu-id="62690-103">You can use the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console to configure Enterprise Single Sign-On (SSO) for use with the SOAP receive location or send port.</span></span> <span data-ttu-id="62690-104">En este tema se describe el funcionamiento de SSO con el adaptador de SOAP.</span><span class="sxs-lookup"><span data-stu-id="62690-104">This topic describes how SSO works with the SOAP adapter.</span></span>  
  
 <span data-ttu-id="62690-105">**Compatibilidad de inicio de sesión único SOAP de ubicaciones de recepción**</span><span class="sxs-lookup"><span data-stu-id="62690-105">**Single Sign-On Support for SOAP Receive Locations**</span></span>  
  
 <span data-ttu-id="62690-106">Las ubicaciones de recepción de SOAP admiten dos versiones de SSO: inicio de sesión único (SSO) empresarial de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] e inicio de sesión único (SSO) de Microsoft SharePoint Portal Server.</span><span class="sxs-lookup"><span data-stu-id="62690-106">SOAP receive locations support two versions of SSO—[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Enterprise SSO and Microsoft SharePoint Portal Server SSO.</span></span> <span data-ttu-id="62690-107">Ejecute el Asistente para publicación de servicios Web de BizTalk para habilitar la compatibilidad con inicio de sesión único (SSO) de SharePoint Portal Server.</span><span class="sxs-lookup"><span data-stu-id="62690-107">Run the BizTalk Web Services Publishing Wizard to enable support for SharePoint Portal Server SSO.</span></span> <span data-ttu-id="62690-108">Para obtener más información acerca de cómo habilitar SSO de SharePoint Portal Server, vea [publicar servicios Web](../core/publishing-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="62690-108">For more information about enabling SharePoint Portal Server SSO, see [Publishing Web Services](../core/publishing-web-services.md).</span></span> <span data-ttu-id="62690-109">Active el inicio de sesión único (SSO) empresarial utilizando las páginas de propiedades de la ubicación de recepción de SOAP.</span><span class="sxs-lookup"><span data-stu-id="62690-109">Enable BizTalk Enterprise Single Sign-On by using the property pages for the SOAP receive location.</span></span> <span data-ttu-id="62690-110">Para obtener más información acerca de cómo habilitar el inicio de sesión único empresarial para ubicación de recepción de SOAP, vea [cómo configurar una ubicación de recepción de SOAP](../core/how-to-configure-a-soap-receive-location.md).</span><span class="sxs-lookup"><span data-stu-id="62690-110">For more information about enabling Enterprise SSO for the SOAP receive location, see [How to Configure a SOAP Receive Location](../core/how-to-configure-a-soap-receive-location.md).</span></span>  
  
 <span data-ttu-id="62690-111">**Las ubicaciones de recepción de soporte técnico de inicio de sesión único empresarial para SOAP**</span><span class="sxs-lookup"><span data-stu-id="62690-111">**Enterprise SSO Support for SOAP Receive Locations**</span></span>  
  
 <span data-ttu-id="62690-112">Internet Information Server (IIS) recibe una solicitud SOAP de un cliente Web y, posteriormente, procede a autenticar al usuario y pasa el identificador de seguridad al adaptador de SOAP.</span><span class="sxs-lookup"><span data-stu-id="62690-112">Internet Information Services (IIS) receives a SOAP request from a Web client, and then IIS authenticates the user and passes the security identifier to the SOAP adapter.</span></span> <span data-ttu-id="62690-113">Si el método de autenticación de IIS es Autenticación de texto implícita, Autenticación básica o Autenticación de Windows integrada, el adaptador de SOAP llama al almacén de credenciales de SSO para obtener un vale cifrado basado en el usuario autenticado.</span><span class="sxs-lookup"><span data-stu-id="62690-113">If the IIS authentication method is Digest authentication, Basic authentication, or Integrated Windows Authentication, the SOAP adapter calls the SSO credential store to obtain an encrypted ticket based on the authenticated user.</span></span> <span data-ttu-id="62690-114">Este vale se almacena como el **SSOTicket** propiedad en la propiedad de contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="62690-114">This ticket is stored as the **SSOTicket** property in the context property of the message.</span></span>  
  
 <span data-ttu-id="62690-115">En un escenario de paso, el motor de mensajería de BizTalk dirige el mensaje a la base de datos de cuadros de mensajes.</span><span class="sxs-lookup"><span data-stu-id="62690-115">In the pass-through scenario, the BizTalk Messaging Engine directs the message to the MessageBox database.</span></span> <span data-ttu-id="62690-116">Cuando un adaptador de envío recibe el mensaje de la base de datos de cuadros de mensajes, llama al método RedeemTicket, con el vale cifrado y el nombre de la aplicación, a fin de recuperar del almacén de SSO las credenciales de seguridad de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="62690-116">When a send adapter receives the message from the MessageBox database, it calls the RedeemTicket method with the encrypted ticket along with the application name to retrieve the security credentials for the application from the SSO store.</span></span> <span data-ttu-id="62690-117">El adaptador de envío utiliza entonces las credenciales externas para conectarse a la aplicación y procesar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="62690-117">The send adapter then uses the external credentials to connect to the application and process the request.</span></span> <span data-ttu-id="62690-118">Para obtener más información sobre las aplicaciones afiliadas, vea [aplicaciones afiliadas de SSO](../core/sso-affiliate-applications.md).</span><span class="sxs-lookup"><span data-stu-id="62690-118">For more information about the affiliate applications, see [SSO Affiliate Applications](../core/sso-affiliate-applications.md).</span></span>  
  
 <span data-ttu-id="62690-119">En escenarios en los que una orquestación llama al adaptador de envío, el motor de mensajería de BizTalk envía el mensaje a la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="62690-119">In scenarios where an orchestration invokes the send adapter, the BizTalk Messaging Engine sends the message to the MessageBox database.</span></span> <span data-ttu-id="62690-120">La orquestación debe asegurarse de que tanto el **SSOTicket** propiedad de contexto y la **Microsoft.BizTalk.XLANGs.BTXEngine.OriginatorSID** son propiedad de contexto del mensaje que contiene el vale mantiene.</span><span class="sxs-lookup"><span data-stu-id="62690-120">The orchestration should ensure that both the **SSOTicket** context property and the **Microsoft.BizTalk.XLANGs.BTXEngine.OriginatorSID** context property of the message that contains the ticket are maintained.</span></span> <span data-ttu-id="62690-121">Cuando el adaptador recibe el mensaje de la base de datos de cuadro de mensajes, el adaptador llama al método RedeemTicket con el vale cifrado para recuperar las credenciales de servidor del almacén de SSO.</span><span class="sxs-lookup"><span data-stu-id="62690-121">When the adapter receives this message from the MessageBox database, the adapter calls the RedeemTicket method with the encrypted ticket to retrieve the back-end credentials from the SSO store.</span></span> <span data-ttu-id="62690-122">El usuario que diseñe la orquestación deberá copiar específicamente esta propiedad en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="62690-122">The user designing the orchestration should specifically copy this property to the message.</span></span>  
  
 <span data-ttu-id="62690-123">**Compatibilidad con inicio de sesión único de SharePoint Portal Server SOAP de ubicaciones de recepción**</span><span class="sxs-lookup"><span data-stu-id="62690-123">**SharePoint Portal Server SSO Support for SOAP Receive Locations**</span></span>  
  
 <span data-ttu-id="62690-124">Cuando se integra con SharePoint Portal, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solo admite el uso del inicio de sesión único (SSO) de Microsoft SharePoint Portal Server a través del adaptador de SOAP.</span><span class="sxs-lookup"><span data-stu-id="62690-124">When integrating with SharePoint Portal Server, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] supports the use of Microsoft SharePoint Portal Server SSO only through the SOAP adapter.</span></span> <span data-ttu-id="62690-125">SharePoint Portal Server crea vales de SSO y los envía a BizTalk Server en un encabezado SOAP de la solicitud SOAP.</span><span class="sxs-lookup"><span data-stu-id="62690-125">SharePoint Portal Server creates SSO tickets and sends them to BizTalk Server in a SOAP header of the SOAP request.</span></span> <span data-ttu-id="62690-126">Cuando el adaptador de SOAP recibe una solicitud que contiene un vale de SSO, el vale se almacena como el **SSOTicket** propiedad en la propiedad de contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="62690-126">When the SOAP adapter receives a request containing an SSO ticket, the ticket is stored as the **SSOTicket** property in the context property of the message.</span></span> <span data-ttu-id="62690-127">Esta misma propiedad contendrá un vale de SSO empresarial.</span><span class="sxs-lookup"><span data-stu-id="62690-127">This same property would contain an Enterprise SSO ticket.</span></span> <span data-ttu-id="62690-128">Cada mensaje de BizTalk solo puede tener asociado un vale de SSO.</span><span class="sxs-lookup"><span data-stu-id="62690-128">Only one SSO ticket can be associated with a BizTalk message.</span></span>  
  
 <span data-ttu-id="62690-129">En los escenarios de paso y de orquestación, el tratamiento de los vales de SSO recibidos de SharePoint Portal Server será el mismo que si el vale lo hubiese creado el adaptador de SOAP mediante SSO empresarial.</span><span class="sxs-lookup"><span data-stu-id="62690-129">In both pass-through and orchestration scenarios, the handling of an SSO ticket received from SharePoint Portal Server is the same as if the ticket were created by the SOAP adapter using Enterprise SSO.</span></span> <span data-ttu-id="62690-130">Cuando un adaptador de envío recibe un mensaje, llama a la **RedeemTicket** método con el cifrado de vale por SharePoint Portal Server generado.</span><span class="sxs-lookup"><span data-stu-id="62690-130">When a send adapter receives a message, it calls the **RedeemTicket** method with the encrypted ticket that SharePoint Portal Server generated.</span></span> <span data-ttu-id="62690-131">No es necesario notificar al adaptador de envío que existen vales de SSO distintos.</span><span class="sxs-lookup"><span data-stu-id="62690-131">The send adapter does not need to be aware that different SSO tickets exist.</span></span> <span data-ttu-id="62690-132">El **RedeemTicket** método determinará qué sistema de SSO generó el vale y lo canjeará en el lugar adecuado.</span><span class="sxs-lookup"><span data-stu-id="62690-132">The **RedeemTicket** method will determine which SSO system generated the ticket and redeem it from the appropriate place.</span></span>  
  
 <span data-ttu-id="62690-133">**Uso combinado de Enterprise SSO de SharePoint Portal Server y SSO**</span><span class="sxs-lookup"><span data-stu-id="62690-133">**Combined Use of Enterprise SSO and SharePoint Portal Server SSO**</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="62690-134"> admite el uso simultáneo de ambos sistemas SSO.</span><span class="sxs-lookup"><span data-stu-id="62690-134"> supports the simultaneous use of both SSO systems.</span></span> <span data-ttu-id="62690-135">La interfaz API podrá distinguir los vales generados por cada SSO, y procederá a canjearlos en la base de datos de SSO que corresponda.</span><span class="sxs-lookup"><span data-stu-id="62690-135">The API can differentiate between the tickets generated by each SSO and will redeem them from the appropriate SSO database.</span></span> <span data-ttu-id="62690-136">Si utiliza ambos sistemas SSO al mismo tiempo, las siguientes reglas determinan qué vale de SSO de recepción SOAP promueve la ubicación a la **SSOTicket** propiedad de contexto:</span><span class="sxs-lookup"><span data-stu-id="62690-136">If you use both SSO systems at the same time, the following rules determine which SSO ticket the SOAP receive location promotes to the **SSOTicket** context property:</span></span>  
  
- <span data-ttu-id="62690-137">Si no se habilita ningún sistema de SSO, no se promocionará el vale.</span><span class="sxs-lookup"><span data-stu-id="62690-137">If neither SSO is enabled, do not promote a ticket.</span></span>  
  
- <span data-ttu-id="62690-138">Cuando el sistema de SSO empresarial está habilitado, pero el SSO de SharePoint Portal Server no lo está, se recupera y promociona el vale de SSO empresarial.</span><span class="sxs-lookup"><span data-stu-id="62690-138">If the Enterprise SSO is enabled, but the SharePoint Portal Server SSO is not enabled, retrieve and promote the Enterprise SSO ticket.</span></span>  
  
- <span data-ttu-id="62690-139">Cuando el SSO de SharePoint Portal Server está habilitado, pero el SSO empresarial no lo está, se promociona el vale de SSO de SharePoint Portal Server existente.</span><span class="sxs-lookup"><span data-stu-id="62690-139">If the SharePoint Portal Server SSO is enabled, but the Enterprise SSO is not enabled, promote the existing SharePoint Portal Server SSO ticket.</span></span>  
  
- <span data-ttu-id="62690-140">Si se ha habilitado el SSO empresarial y el SSO de SharePoint Portal Server:</span><span class="sxs-lookup"><span data-stu-id="62690-140">If both the Enterprise and SharePoint Portal Server SSO are enabled:</span></span>  
  
  -   <span data-ttu-id="62690-141">Si se recibe el vale de SSO de SharePoint Portal Server, se promociona dicho vale.</span><span class="sxs-lookup"><span data-stu-id="62690-141">If the SharePoint Portal Server SSO ticket is received, promote that ticket.</span></span>  
  
  -   <span data-ttu-id="62690-142">Si no se recibe el vale de SSO de SharePoint Portal Server, se recupera y promociona el vale de SSO empresarial.</span><span class="sxs-lookup"><span data-stu-id="62690-142">If the SharePoint Portal Server SSO ticket is not received, retrieve and promote the Enterprise SSO ticket.</span></span>  
  
  <span data-ttu-id="62690-143">**Compatibilidad de inicio de sesión único para el adaptador de envío SOAP**</span><span class="sxs-lookup"><span data-stu-id="62690-143">**Single Sign-On Support for the SOAP Send Adapter**</span></span>  
  
  <span data-ttu-id="62690-144">Si está habilitado el inicio de sesión único, cuando un puerto de envío SOAP recibe un mensaje con el **Secure** propiedad (**SSOTicket**), llama al servidor SSO para validar y canjear el vale para una aplicación afiliada.</span><span class="sxs-lookup"><span data-stu-id="62690-144">If SSO is enabled, when a SOAP send port receives a message with the **Secure** property (**SSOTicket**), it calls the SSO server to validate and redeem the ticket for an affiliate application.</span></span> <span data-ttu-id="62690-145">La aplicación de administración, los administradores afiliados o los administradores de SSO de la aplicación afiliada pueden llamar a SSO para canjear un vale.</span><span class="sxs-lookup"><span data-stu-id="62690-145">The administration application, affiliate administrators, or SSO administrators for the affiliate application can call SSO to redeem a ticket.</span></span> <span data-ttu-id="62690-146">SSO se encarga entonces de descifrar el vale y de obtener las credenciales de servidor.</span><span class="sxs-lookup"><span data-stu-id="62690-146">SSO then decrypts the ticket and obtains the back-end credentials.</span></span> <span data-ttu-id="62690-147">Los escenarios de paso a través y la orquestación son los mismos para el puerto de envío SOAP, como se describe en la sección "Enterprise SSO soporte técnico para SOAP ubicaciones de recepción" del tema [único inicio de sesión de soporte técnico para el adaptador de SOAP](../core/single-sign-on-support-for-the-soap-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="62690-147">The pass-through and orchestration scenarios are the same for the SOAP send port, as described in the "Enterprise SSO Support for SOAP Receive Locations" section of the topic [Single Sign-On Support for the SOAP Adapter](../core/single-sign-on-support-for-the-soap-adapter.md).</span></span>  
  
  <span data-ttu-id="62690-148">De manera predeterminada, el puerto de envío de SOAP no habilita el SSO.</span><span class="sxs-lookup"><span data-stu-id="62690-148">By default, the SOAP send port does not enable SSO.</span></span> <span data-ttu-id="62690-149">Para obtener más información acerca de cómo habilitar el inicio de sesión único para el puerto de envío SOAP, vea [cómo configurar un puerto de envío SOAP](../core/how-to-configure-a-soap-send-port.md).</span><span class="sxs-lookup"><span data-stu-id="62690-149">For more information about enabling SSO for the SOAP send port, see [How to Configure a SOAP Send Port](../core/how-to-configure-a-soap-send-port.md).</span></span>