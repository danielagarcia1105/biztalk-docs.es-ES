---
title: Recomendaciones de seguridad de inicio de sesión único | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- SSO, deploying
- Kerberos protocol, SSO
- deploying, SSO
- user accounts, SSO
- deploying, security
- SQL Server, SSO
- security, SSO
- SSO, Kerberos protocol
- SSO, auditing
- best practices, deploying
- SSO, Windows groups
- SSO, best practices
- SSO, perimeter network
- Windows groups, SSO
- SSO, SQL Server access
- best practices, security
- Master Secret server, clustering
- perimeter networks
- auditing [SSO]
- SSO, security
- SSO, user accounts
- Master Secret server, best practices
ms.assetid: 7ae922b4-fd48-41f4-aaab-419a5e22c753
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4877bdb4ea7f19a1ff8ec93dcee2e6910ef8891f
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37007125"
---
# <a name="sso-security-recommendations"></a><span data-ttu-id="324b6-102">Recomendaciones de seguridad de inicio de sesión único</span><span class="sxs-lookup"><span data-stu-id="324b6-102">SSO Security Recommendations</span></span>
<span data-ttu-id="324b6-103">Con el sistema SSO (Inicio de sesión único), los usuarios se pueden conectar a diferentes sistemas con un solo conjunto de credenciales.</span><span class="sxs-lookup"><span data-stu-id="324b6-103">With the Enterprise Single Sign-On (SSO) system, users can connect to different systems by using only one set of credentials.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="324b6-104"> aprovecha el sistema SSO como almacén de información confidencial.</span><span class="sxs-lookup"><span data-stu-id="324b6-104"> leverages the SSO system as a store for sensitive information.</span></span> <span data-ttu-id="324b6-105">Aunque [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] se instala automáticamente al instalar el tiempo de ejecución de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], también puede instalar el inicio de sesión único empresarial como componente autónomo, independiente del entorno [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="324b6-105">Although [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] automatically installs whenever you install the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime, you can also install Enterprise Single Sign-On as a stand-alone component, independent of your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="324b6-106">Para obtener más información acerca de Enterprise Single Sign-On, vea [SSO utilizando](../core/using-sso.md).</span><span class="sxs-lookup"><span data-stu-id="324b6-106">For more information about Enterprise Single Sign-On, see [Using SSO](../core/using-sso.md).</span></span> <span data-ttu-id="324b6-107">Se recomienda seguir estas instrucciones para proteger e implementar los servicios y recursos de inicio de sesión único (SSO) en su entorno.</span><span class="sxs-lookup"><span data-stu-id="324b6-107">It is recommended you follow these guidelines for securing and deploying the Enterprise Single Sign-On (SSO) services and resources in your environment.</span></span>  
  
## <a name="general-deployment-recommendations-for-sso"></a><span data-ttu-id="324b6-108">Recomendaciones generales para implementar SSO</span><span class="sxs-lookup"><span data-stu-id="324b6-108">General Deployment Recommendations for SSO</span></span>  
  
-   <span data-ttu-id="324b6-109">Debe haber un único servidor secreto principal y una única base de datos de SSO en todo el entorno, incluso si tiene varios grupos BizTalk en el entorno.</span><span class="sxs-lookup"><span data-stu-id="324b6-109">There must be only one master secret server and only one SSO database in the entire environment, even if you have multiple BizTalk groups in your environment.</span></span> <span data-ttu-id="324b6-110">Debe configurar estos dos servidores antes de configurar otros servidores BizTalk y SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-110">You must configure these two servers before you configure any other BizTalk and SSO servers.</span></span>  
  
-   <span data-ttu-id="324b6-111">Debe tener un servidor de hora en el entorno para garantizar que todos los servidores SSO estén sincronizados.</span><span class="sxs-lookup"><span data-stu-id="324b6-111">You must have a time server in your environment to ensure all SSO servers are synchronized.</span></span> <span data-ttu-id="324b6-112">Si los relojes de los servidores SSO no están sincronizados, se podría poner en peligro la seguridad del entorno.</span><span class="sxs-lookup"><span data-stu-id="324b6-112">If the clocks on the SSO servers are not synchronized, the security of your environment could be compromised.</span></span>  
  
-   <span data-ttu-id="324b6-113">Suponiendo que haya un solo servidor secreto principal en todo el entorno, se recomienda usar una configuración de clúster activo-pasivo para el servidor secreto principal.</span><span class="sxs-lookup"><span data-stu-id="324b6-113">Considering there is only one master secret server in your entire environment, it is recommended to use an active-passive cluster configuration for the master secret server.</span></span> <span data-ttu-id="324b6-114">Para obtener más información acerca de la agrupación en el servidor secreto principal, consulte [cómo agrupar el servidor secreto principal](../core/how-to-cluster-the-master-secret-server1.md).</span><span class="sxs-lookup"><span data-stu-id="324b6-114">For more information about clustering the master secret server, see [How to Cluster the Master Secret Server](../core/how-to-cluster-the-master-secret-server1.md).</span></span>  
  
-   <span data-ttu-id="324b6-115">El servidor secreto principal contiene la clave de cifrado que usa el sistema SSO para cifrar la información de la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-115">The master secret server holds the encryption key that the SSO system uses to encrypt the information in the SSO database.</span></span> <span data-ttu-id="324b6-116">Se recomienda no instalar ni configurar otros productos o servicios en este equipo.</span><span class="sxs-lookup"><span data-stu-id="324b6-116">It is recommended that you do not install or configure any other products or services on this computer.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="324b6-117">El equipo donde instale y configure el servidor secreto principal no tiene que ser un servidor.</span><span class="sxs-lookup"><span data-stu-id="324b6-117">The computer where you install and configure the master secret server does not have to be a server.</span></span>  
  
-   <span data-ttu-id="324b6-118">El servidor secreto principal debe tener acceso a un medio extraíble o a la carpeta del sistema de archivos NTFS para poder realizar copias de seguridad y restaurar el secreto principal.</span><span class="sxs-lookup"><span data-stu-id="324b6-118">The master secret server should have access to a removable media or NTFS file system folder in order to back up and restore the master secret.</span></span> <span data-ttu-id="324b6-119">Si usa un medio extraíble, asegúrese de tomar las medidas pertinentes para protegerlo.</span><span class="sxs-lookup"><span data-stu-id="324b6-119">If you use removable media, ensure you take appropriate measures to protect the removable media.</span></span> <span data-ttu-id="324b6-120">Si realiza una copia de seguridad del secreto principal en un sistema de archivos NTFS, asegúrese de proteger el archivo y la carpeta.</span><span class="sxs-lookup"><span data-stu-id="324b6-120">If you back up the master secret to an NTFS file system, ensure you protect the file and the folder.</span></span> <span data-ttu-id="324b6-121">Sólo el administrador de SSO debería tener acceso a este archivo.</span><span class="sxs-lookup"><span data-stu-id="324b6-121">Only the SSO Administrator should have access to this file.</span></span>  
  
-   <span data-ttu-id="324b6-122">Debe realizar una copia de seguridad del secreto principal en cuanto lo genera el servidor secreto principal,</span><span class="sxs-lookup"><span data-stu-id="324b6-122">You should back up the master secret as soon as the master secret server generates it.</span></span> <span data-ttu-id="324b6-123">con el fin de poder recuperar los datos de la base de datos de SSO en el caso de que haya problemas con el servidor secreto principal.</span><span class="sxs-lookup"><span data-stu-id="324b6-123">This is so that you may recover the data in the SSO database in the event the master secret server fails.</span></span> <span data-ttu-id="324b6-124">Para obtener más información sobre la seguridad del secreto principal de seguridad, consulte [administrar el secreto principal](../core/managing-the-master-secret.md).</span><span class="sxs-lookup"><span data-stu-id="324b6-124">For more information about backing up the master secret, see [Managing the Master Secret](../core/managing-the-master-secret.md).</span></span>  
  
-   <span data-ttu-id="324b6-125">Realice una copia de seguridad del secreto actual o genere un secreto nuevo con regularidad, por ejemplo, uno al mes.</span><span class="sxs-lookup"><span data-stu-id="324b6-125">Back up your current secret, or generate a new secret on a regular basis, for example, once a month.</span></span> <span data-ttu-id="324b6-126">Sin el secreto, no puede recuperar la información de la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-126">Without the secret, you cannot retrieve information from the SSO database.</span></span> <span data-ttu-id="324b6-127">Para obtener más información acerca de la copia de seguridad y restaurar el secreto principal, consulte [administrar el secreto principal](../core/managing-the-master-secret.md).</span><span class="sxs-lookup"><span data-stu-id="324b6-127">For more information about backing up and restoring the master secret, see [Managing the Master Secret](../core/managing-the-master-secret.md).</span></span>  
  
## <a name="security-recommendations-for-sso-groups-and-accounts"></a><span data-ttu-id="324b6-128">Recomendaciones de seguridad para grupos y cuentas de SSO</span><span class="sxs-lookup"><span data-stu-id="324b6-128">Security Recommendations for SSO Groups and Accounts</span></span>  
  
-   <span data-ttu-id="324b6-129">Se recomienda utilizar grupos de Windows y no cuentas de un solo usuario, especialmente para el administrador de SSO y los grupos de administradores afiliados de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-129">It is recommended to use Windows groups, and not single user accounts, especially for the SSO Administrator and SSO Affiliate administrator groups.</span></span> <span data-ttu-id="324b6-130">Estos grupos deben tener al menos dos cuentas de usuario como miembros del grupo en todo momento.</span><span class="sxs-lookup"><span data-stu-id="324b6-130">These groups must have at least two user accounts as members of the group at all times.</span></span>  
  
-   <span data-ttu-id="324b6-131">Las cuentas de servicio de tiempo de ejecución de SSO y las cuentas de usuario de administrador de SSO deben ser diferentes, incluso si son miembros del mismo grupo de administradores de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-131">The SSO runtime service accounts and the SSO administrator user accounts should be different accounts, even when they are members of the same SSO Administrators group.</span></span> <span data-ttu-id="324b6-132">Los usuarios administradores de SSO que realicen tareas administrativas como, por ejemplo, generar y crear copias de seguridad del secreto, deben ser administradores de Windows, mientras que las cuentas de servicio de tiempo de ejecución de SSO no tienen por qué ser administradores de Windows.</span><span class="sxs-lookup"><span data-stu-id="324b6-132">The SSO administrator users performing administrative tasks such as generating and backing up the secret must be Windows administrators, while the SSO runtime service accounts do not need to be Windows administrators.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="324b6-133">Los derechos de usuario del administrador de Windows no reemplazan los derechos de usuario del administrador de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-133">Windows administrator user rights do not supersede the user rights of the SSO administrator.</span></span> <span data-ttu-id="324b6-134">Para realizar cualquier tarea de administración de SSO, debe ser miembro del grupo de administradores de SSO, incluso si ya es administrador de Windows.</span><span class="sxs-lookup"><span data-stu-id="324b6-134">To perform any SSO administration-level task you must be a member of SSO administrators group even if you already are a Windows administrator.</span></span>  
  
-   <span data-ttu-id="324b6-135">Si utiliza la característica de vales de SSO, debe usar cuentas de dominio que reconozcan los equipos del dominio de procesamiento (donde están los servidores de SSO).</span><span class="sxs-lookup"><span data-stu-id="324b6-135">If you use the SSO ticketing feature, you must use domain accounts that the computers in the processing domain (domain where the SSO servers are) recognize.</span></span>  
  
-   <span data-ttu-id="324b6-136">Se recomienda usar una cuenta de servicio única para el servicio SSO que corresponda al servidor secreto principal.</span><span class="sxs-lookup"><span data-stu-id="324b6-136">It is recommended to use a unique service account for the SSO service corresponding to the master secret server.</span></span>  
  
-   <span data-ttu-id="324b6-137">La cuenta de administrador de SSO es una cuenta con amplios privilegios en el sistema SSO y, a su vez, es la cuenta de administrador del servidor SQL que tiene la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-137">The SSO administrator account is a highly privileged account in the SSO system, which also is the SQL Server administrator account for the SQL server that has the SSO database.</span></span> <span data-ttu-id="324b6-138">Debe tener cuentas dedicadas para administradores de SSO y no debe usar estas cuentas para otros fines.</span><span class="sxs-lookup"><span data-stu-id="324b6-138">You should have dedicated accounts for SSO administrators, and should not use these accounts for any other purposes.</span></span> <span data-ttu-id="324b6-139">Debe limitar la pertenencia al grupo de administradores de SSO sólo a aquellas cuentas responsables de ejecutar y mantener el sistema SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-139">You should limit the membership to the SSO administrators group only to those accounts responsible for running and maintaining the SSO system.</span></span>  
  
-   <span data-ttu-id="324b6-140">Debe agregar manualmente el grupo de administradores de BizTalk al grupo de administradores afiliados de SSO, de manera que los administradores de BizTalk puedan aprovechar el sistema SSO para guardar los datos de configuración de los adaptadores de la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-140">You must manually add the BizTalk administrators group to the SSO Affiliate Administrators group so that the BizTalk administrators can leverage the SSO system to save the configuration information for the adapters in the SSO database.</span></span> <span data-ttu-id="324b6-141">Sólo los administradores de BizTalk que administran adaptadores deben ser miembros del grupo de administradores afiliados de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-141">Only the BizTalk administrators managing adapters need to be members of the SSO Affiliate Administrators group.</span></span> <span data-ttu-id="324b6-142">No es necesario que los administradores de BizTalk sean administradores de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-142">BizTalk administrators do not need to be SSO administrators.</span></span>  
  
## <a name="security-recommendations-for-an-sso-deployment"></a><span data-ttu-id="324b6-143">Recomendaciones de seguridad para una implementación de SSO</span><span class="sxs-lookup"><span data-stu-id="324b6-143">Security Recommendations for an SSO Deployment</span></span>  
  
- <span data-ttu-id="324b6-144">Si la red admite la autenticación de Kerberos, debería registrar todos los servidores SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-144">If your network supports Kerberos authentication, you should register all SSO servers.</span></span> <span data-ttu-id="324b6-145">Si usa la autenticación de Kerberos entre el servidor secreto principal y la base de datos de SSO, debe configurar nombres principales de servicio (SPN) en el servidor SQL donde se encuentra la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-145">When you use Kerberos authentication between the master secret server and the SSO database, you must configure Service Principal Names (SPN) on the SQL server where the SSO database is located.</span></span> <span data-ttu-id="324b6-146">Para obtener más información acerca de cómo configurar nombres principales de servicio, vea el sitio Web de descarga de Microsoft en [ http://go.microsoft.com/fwlink/?LinkId=195797 ](http://go.microsoft.com/fwlink/?LinkId=195797).</span><span class="sxs-lookup"><span data-stu-id="324b6-146">For more information about configuring Service Principal Names, see Microsoft Download Web site at [http://go.microsoft.com/fwlink/?LinkId=195797](http://go.microsoft.com/fwlink/?LinkId=195797).</span></span>  
  
- <span data-ttu-id="324b6-147">Si ejecuta [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] o [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] y el servidor secreto principal está en un dominio diferente que los demás servidores de SSO y la base de datos de SSO, debe deshabilitar la seguridad RPC [como se usa para la autenticación DTC (Coordinador de transacciones de datos) entre equipos] en el servidor secreto principal, en los servidores de SSO (equipos del dominio de procesamiento) y en la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-147">When running [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] or [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)], if the master secret server is on a different domain from the other SSO servers and from the SSO database, you must disable RPC security (as used for Data Transaction Coordinator (DTC) authentication between computers) on the master secret server, on the SSO servers (processing computers in the processing domain), and on the SSO database.</span></span> <span data-ttu-id="324b6-148">La seguridad RPC es una característica de DTC en [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] y [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="324b6-148">RPC security is a DTC feature in [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] and [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span></span> <span data-ttu-id="324b6-149">Al deshabilitar la seguridad RPC, el nivel de seguridad de autenticación de DTC para llamadas a RPC vuelve al que está disponible en Microsoft Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="324b6-149">When you disable RPC security, the DTC authentication security level for RPC calls goes back to one available in Microsoft Windows Server 2003.</span></span>  
  
- <span data-ttu-id="324b6-150">Los administradores de SSO deberían supervisar con regularidad el registro de sucesos del servidor secreto principal y los sucesos de auditoria de SSO del servidor de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-150">SSO administrators should regularly monitor the event log in the master secret server and the SSO server for SSO auditing events.</span></span>  
  
- <span data-ttu-id="324b6-151">Además de los firewall, se recomienda usar el protocolo de seguridad de Internet (IPSec) o la Capa de sockets seguros (SSL) entre todos los servidores de SSO y la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-151">In addition to firewalls, it is recommended to use Internet Protocol security (IPSec) or Secure Sockets Layer (SSL) between all the SSO servers and the SSO database.</span></span> <span data-ttu-id="324b6-152">Para obtener más información acerca de SSL, consulte el sitio Web de soporte técnico y Microsoft Help en [ http://go.microsoft.com/fwlink/?LinkId=195798 ](http://go.microsoft.com/fwlink/?LinkId=195798).</span><span class="sxs-lookup"><span data-stu-id="324b6-152">For more information about SSL, see Microsoft Help and Support Web site at [http://go.microsoft.com/fwlink/?LinkId=195798](http://go.microsoft.com/fwlink/?LinkId=195798).</span></span> <span data-ttu-id="324b6-153">Para obtener más información acerca del uso de SSL entre todos los servidores de inicio de sesión único y la base de datos SSO, vea [cómo habilitar SSL para SSO](../core/how-to-enable-ssl-for-sso.md).</span><span class="sxs-lookup"><span data-stu-id="324b6-153">For more information about using SSL between all the SSO servers and the SSO database, see [How to Enable SSL for SSO](../core/how-to-enable-ssl-for-sso.md).</span></span>  
  
## <a name="perimeter-network"></a><span data-ttu-id="324b6-154">Red perimetral</span><span class="sxs-lookup"><span data-stu-id="324b6-154">Perimeter Network</span></span>  
 <span data-ttu-id="324b6-155">Si ejecuta los Servicios de Internet Information Server (IIS) e inicio de sesión único empresarial, siga estas recomendaciones:</span><span class="sxs-lookup"><span data-stu-id="324b6-155">When running Internet Information Services (IIS) and Enterprise Single Sign-On, follow these recommendations:</span></span>  
  
-   <span data-ttu-id="324b6-156">Si IIS está en una red perimetral (también conocida como zona desmilitarizada, DMZ, y subred filtrada), proporcione otro servidor IIS detrás del servidor de seguridad para conectarse al sistema SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-156">If IIS is in a perimeter network (also known as demilitarized zone, DMZ, and screened subnet), provide another IIS server behind the firewall to connect to the SSO system.</span></span>  
  
-   <span data-ttu-id="324b6-157">No abra el puerto de llamadas a procedimiento remoto (RPC) en IIS.</span><span class="sxs-lookup"><span data-stu-id="324b6-157">Do not open the remote procedure calls (RPC) port on IIS.</span></span>  
  
## <a name="sql-server-access"></a><span data-ttu-id="324b6-158">Obtener acceso a SQL Server</span><span class="sxs-lookup"><span data-stu-id="324b6-158">SQL Server Access</span></span>  
 <span data-ttu-id="324b6-159">Todos los servidores de SSO tienen acceso a la base de datos de SSO de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="324b6-159">All SSO servers access the SQL Server SSO database.</span></span> <span data-ttu-id="324b6-160">Para obtener más información acerca de cómo proteger bases de datos de SQL Server, vea [ http://go.microsoft.com/fwlink/?LinkId=33175 ](http://go.microsoft.com/fwlink/?LinkId=33175).</span><span class="sxs-lookup"><span data-stu-id="324b6-160">For more information about how to secure SQL Server databases, see [http://go.microsoft.com/fwlink/?LinkId=33175](http://go.microsoft.com/fwlink/?LinkId=33175).</span></span>  
  
 <span data-ttu-id="324b6-161">Se recomienda usar Capa de sockets seguros (SSL) y/o el protocolo de seguridad de Internet (IPSec) para proteger la transmisión de datos entre los servidores de SSO y la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-161">It is recommended that you use Secure Sockets Layer (SSL) and/or Internet Protocol security (IPSec) to secure the transmission of data between the SSO servers and the SSO database.</span></span> <span data-ttu-id="324b6-162">Para obtener más información sobre el uso de SSL, consulte [ http://go.microsoft.com/fwlink/?LinkId=195798 ](http://go.microsoft.com/fwlink/?LinkId=195798).</span><span class="sxs-lookup"><span data-stu-id="324b6-162">For more information about using SSL, see [http://go.microsoft.com/fwlink/?LinkId=195798](http://go.microsoft.com/fwlink/?LinkId=195798).</span></span>  
  
 <span data-ttu-id="324b6-163">Para habilitar SSL sólo para la conexión entre el servidor de SSO y la base de datos de SSO, puede establecer la funcionalidad SSL en todos los servidores de SSO con la utilidad ssoconfigility.</span><span class="sxs-lookup"><span data-stu-id="324b6-163">To enable SSL for only the connection between the SSO server and the SSO database, you can set SSL support on every SSO server using the ssoconfig utility.</span></span> <span data-ttu-id="324b6-164">Esta opción habilita SSO para usar siempre SSL cuando se obtiene acceso a la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-164">This option enables SSO to always use SSL when accessing the SSO database.</span></span> <span data-ttu-id="324b6-165">Para obtener más información, consulte [cómo habilitar SSL para SSO](../core/how-to-enable-ssl-for-sso.md).</span><span class="sxs-lookup"><span data-stu-id="324b6-165">For more information, see [How to Enable SSL for SSO](../core/how-to-enable-ssl-for-sso.md).</span></span>  
  
## <a name="strong-passwords"></a><span data-ttu-id="324b6-166">Contraseñas seguras</span><span class="sxs-lookup"><span data-stu-id="324b6-166">Strong Passwords</span></span>  
 <span data-ttu-id="324b6-167">Es muy importante que use contraseñas seguras para todas las cuentas, especialmente aquellas que sean miembros del grupo de administradores de SSO, porque estos usuarios tienen control sobre todo el sistema SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-167">It is very important that you use strong passwords for all accounts, especially the accounts that are members of the SSO Administrators group, because these users have control over the entire SSO system.</span></span>  
  
## <a name="sso-administrator-accounts"></a><span data-ttu-id="324b6-168">Cuentas de administrador de SSO</span><span class="sxs-lookup"><span data-stu-id="324b6-168">SSO Administrator Accounts</span></span>  
 <span data-ttu-id="324b6-169">Se recomienda usar cuentas de servicio diferentes para servicios SSO que se ejecuten en equipos diferentes.</span><span class="sxs-lookup"><span data-stu-id="324b6-169">It is recommended that you use different service accounts for the SSO services running on different computers.</span></span> <span data-ttu-id="324b6-170">No debería usar la cuenta de administrador de SSO que realiza operaciones de administrador como generar y crear copias de seguridad del secreto para el servicio SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-170">You should not use the SSO administrator account that performs administration operations such as generating and backing up the secret for the SSO service.</span></span> <span data-ttu-id="324b6-171">Si bien las cuentas de servicio SSO no deberían ser administradores locales en ese equipo, el administrador de SSO que realiza operaciones de administración debe ser un administrador local en el equipo para algunas operaciones.</span><span class="sxs-lookup"><span data-stu-id="324b6-171">While the SSO service accounts should not be local administrators on that computer, the SSO administrator that is performing administration operations must be a local administrator on the computer for some operations.</span></span>  
  
## <a name="master-secret-server"></a><span data-ttu-id="324b6-172">Servidor secreto principal</span><span class="sxs-lookup"><span data-stu-id="324b6-172">Master Secret Server</span></span>  
 <span data-ttu-id="324b6-173">Se recomienda encarecidamente proteger y bloquear el servidor secreto principal.</span><span class="sxs-lookup"><span data-stu-id="324b6-173">It is highly recommended that you secure and lock down the master secret server.</span></span> <span data-ttu-id="324b6-174">No debe usar este servidor como servidor de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="324b6-174">You should not use this server as a processing server.</span></span> <span data-ttu-id="324b6-175">El único propósito de este servidor debe ser contener el secreto principal.</span><span class="sxs-lookup"><span data-stu-id="324b6-175">The only purpose of this server should be to hold the master secret.</span></span> <span data-ttu-id="324b6-176">Debe garantizar la seguridad física de este equipo y sólo los administradores de SSO deberían tener acceso a este equipo.</span><span class="sxs-lookup"><span data-stu-id="324b6-176">You should ensure the physical security of this computer and only SSO Administrators should have access to this computer.</span></span>  
  
## <a name="kerberos"></a><span data-ttu-id="324b6-177">Kerberos</span><span class="sxs-lookup"><span data-stu-id="324b6-177">Kerberos</span></span>  
 <span data-ttu-id="324b6-178">SSO admite Kerberos y se recomienda configurar Kerberos para SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-178">SSO supports Kerberos, and it is recommended that you set up Kerberos for SSO.</span></span> <span data-ttu-id="324b6-179">Para configurar Kerberos con SSO, debe registrar un nombre principal de servicio (SPN) para el servicio SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-179">To set up Kerberos with SSO, you must register a Secure Principal Name (SPN) for the SSO service.</span></span> <span data-ttu-id="324b6-180">De forma predeterminada, cuando se configura Kerberos, SSO utiliza ese nombre SPN para autenticar los componentes que usan el servicio SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-180">By default, when you setup Kerberos, SSO uses that SPN to authenticate the components using the SSO Service.</span></span> <span data-ttu-id="324b6-181">Se recomienda configurar la autenticación de Kerberos entre los subservicios administrativos de SSO y el servidor de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-181">It is recommended you set up Kerberos authentication between the SSO administrative subservices and the SSO server.</span></span> <span data-ttu-id="324b6-182">También puede usar la autenticación de Kerberos entre los servidores de SSO y entre éstos y el servidor SQL donde se encuentra la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-182">You can also user Kerberos authentication between the SSO servers and between the SSO servers and the SQL server where the SSO database is.</span></span>  
  
 <span data-ttu-id="324b6-183">Para configurar y comprobar Kerberos, use las utilidades setspn y kerbtray.</span><span class="sxs-lookup"><span data-stu-id="324b6-183">To set up and verify Kerberos, you use the utilities setspn and kerbtray.</span></span> <span data-ttu-id="324b6-184">Para obtener más información sobre estas utilidades, consulte [ http://go.microsoft.com/fwlink/?LinkId=33178 ](http://go.microsoft.com/fwlink/?LinkId=33178).</span><span class="sxs-lookup"><span data-stu-id="324b6-184">For more information about these utilities, see [http://go.microsoft.com/fwlink/?LinkId=33178](http://go.microsoft.com/fwlink/?LinkId=33178).</span></span>  
  
## <a name="delegation"></a><span data-ttu-id="324b6-185">Delegación</span><span class="sxs-lookup"><span data-stu-id="324b6-185">Delegation</span></span>  
 <span data-ttu-id="324b6-186">Cuando se usa [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] o [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)], se puede usar delegación restringida, pero se recomienda no usar delegación para realizar tareas de administrador de inicio de sesión único.</span><span class="sxs-lookup"><span data-stu-id="324b6-186">When using [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] or [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)], it is possible to use constrained delegation, but it is recommended that you do not use delegation to perform the tasks of the Single Sign-On Administrator.</span></span> <span data-ttu-id="324b6-187">De forma similar, se recomienda no delegar tareas adicionales ni derechos de usuario en el administrador de inicio de sesión único.</span><span class="sxs-lookup"><span data-stu-id="324b6-187">Similarly, it is recommended that you do not delegate additional tasks or user rights to the Single Sign-On administrator.</span></span>  
  
## <a name="auditing"></a><span data-ttu-id="324b6-188">Auditoría</span><span class="sxs-lookup"><span data-stu-id="324b6-188">Auditing</span></span>  
 <span data-ttu-id="324b6-189">La auditoría es un mecanismo crítico para mantener un seguimiento de la información en el entorno.</span><span class="sxs-lookup"><span data-stu-id="324b6-189">Auditing is a critical mechanism for tracking information in your environment.</span></span> <span data-ttu-id="324b6-190">El inicio de sesión único (SSO) empresarial audita todas las operaciones realizadas en la base de datos de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-190">Enterprise Single Sign-On (SSO) audits all operations performed in the SSO database.</span></span> <span data-ttu-id="324b6-191">SSO utiliza registros de sucesos y de auditoría de la propia base de datos.</span><span class="sxs-lookup"><span data-stu-id="324b6-191">SSO uses event logs and audit logs of the database itself.</span></span> <span data-ttu-id="324b6-192">SSO proporciona dos niveles de auditoría para los servidores de inicio de sesión único:</span><span class="sxs-lookup"><span data-stu-id="324b6-192">SSO provides two audit levels for the Single Sign-On servers:</span></span>  
  
- <span data-ttu-id="324b6-193">Los niveles de auditoría positivos auditan las operaciones que se han realizado correctamente</span><span class="sxs-lookup"><span data-stu-id="324b6-193">Positive auditing levels audit successful operations</span></span>  
  
- <span data-ttu-id="324b6-194">Los niveles de auditoría negativos auditan las operaciones que no se realizan correctamente</span><span class="sxs-lookup"><span data-stu-id="324b6-194">Negative auditing levels audit operations that fail</span></span>  
  
  <span data-ttu-id="324b6-195">Los administradores de SSO pueden establecer niveles de auditoría positivos y negativos que se ajusten a sus directivas corporativas.</span><span class="sxs-lookup"><span data-stu-id="324b6-195">SSO administrators can set the positive and negative audit levels that suit their corporate policies.</span></span>  
  
  <span data-ttu-id="324b6-196">Puede establecer auditorías positivas y negativas en uno de los niveles siguientes:</span><span class="sxs-lookup"><span data-stu-id="324b6-196">You can set positive and negative audits to one of the following levels:</span></span>  
  
  <span data-ttu-id="324b6-197">0 = Ninguno.</span><span class="sxs-lookup"><span data-stu-id="324b6-197">0 = None.</span></span> <span data-ttu-id="324b6-198">Este nivel no emite mensajes de auditoría</span><span class="sxs-lookup"><span data-stu-id="324b6-198">This level issues no audit messages</span></span>  
  
  <span data-ttu-id="324b6-199">1 = Bajo</span><span class="sxs-lookup"><span data-stu-id="324b6-199">1 = Low</span></span>  
  
  <span data-ttu-id="324b6-200">2 = Medio</span><span class="sxs-lookup"><span data-stu-id="324b6-200">2 = Medium</span></span>  
  
  <span data-ttu-id="324b6-201">3 = Alto.</span><span class="sxs-lookup"><span data-stu-id="324b6-201">3 = High.</span></span> <span data-ttu-id="324b6-202">Este nivel emite todos los mensajes de auditoría posibles</span><span class="sxs-lookup"><span data-stu-id="324b6-202">This level issues as many audit messages as possible</span></span>  
  
  <span data-ttu-id="324b6-203">El valor predeterminado para la auditoría positiva es 0 (ninguno) y el valor predeterminado para la auditoría negativa es 1 (bajo).</span><span class="sxs-lookup"><span data-stu-id="324b6-203">The default value for positive auditing is 0 (none), and the default value for negative auditing is 1 (low).</span></span> <span data-ttu-id="324b6-204">Puede cambiar estos valores en función del nivel de auditoría que desee para su sistema SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-204">You may want to change these values depending on the level of auditing you want for your SSO system.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="324b6-205">La auditoría de inicio de sesión único empresarial emite mensajes generados por el servicio de inicio de sesión único.</span><span class="sxs-lookup"><span data-stu-id="324b6-205">Enterprise Single Sign-On auditing issues messages generated by the Single Sign-On service.</span></span> <span data-ttu-id="324b6-206">Esto no es una auditoría de seguridad y el sistema SSO no guarda la información en el registro de seguridad del registro de sucesos.</span><span class="sxs-lookup"><span data-stu-id="324b6-206">This is not a security audit, and the SSO system does not save the information in the security log of the Event Log.</span></span> <span data-ttu-id="324b6-207">El sistema SSO guarda los mensajes de auditoría de SSO directamente en el registro de sucesos de aplicación.</span><span class="sxs-lookup"><span data-stu-id="324b6-207">The SSO system saves the SSO audit messages directly to the Application Event Log.</span></span>  
  
### <a name="database-level-auditing"></a><span data-ttu-id="324b6-208">Auditoría de la base de datos</span><span class="sxs-lookup"><span data-stu-id="324b6-208">Database-Level Auditing</span></span>  
 <span data-ttu-id="324b6-209">Para la auditoría de la base de datos, el sistema SSO realiza un seguimiento de las operaciones realizadas en la base de datos de SSO en las tablas de auditoría de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="324b6-209">For database-level auditing, the SSO system tracks the operations performed on the SSO database in the audit tables in the database.</span></span> <span data-ttu-id="324b6-210">El tamaño de estas tablas de auditoría se define en el nivel de sistema SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-210">The size of these audit tables is defined at the SSO system level.</span></span> <span data-ttu-id="324b6-211">Puede auditar aplicaciones afiliadas eliminadas, asignaciones eliminadas y búsquedas de credenciales.</span><span class="sxs-lookup"><span data-stu-id="324b6-211">You can audit for affiliate applications that are deleted, for mappings that are deleted, and for credential look-ups that are performed.</span></span> <span data-ttu-id="324b6-212">De manera predeterminada, el tamaño de auditoría se establece en 1.000 entradas.</span><span class="sxs-lookup"><span data-stu-id="324b6-212">By default, the audit size is set to 1,000 entries.</span></span> <span data-ttu-id="324b6-213">Los administradores de SSO pueden cambiar este tamaño para satisfacer sus directivas corporativas.</span><span class="sxs-lookup"><span data-stu-id="324b6-213">SSO administrators can change this size to meet their corporate policies.</span></span>  
  
## <a name="using-sso-accounts"></a><span data-ttu-id="324b6-214">Usar cuentas de SSO</span><span class="sxs-lookup"><span data-stu-id="324b6-214">Using SSO Accounts</span></span>  
 <span data-ttu-id="324b6-215">Esta sección contiene prácticas recomendadas para usar grupos de dominio y locales, y cuentas individuales en el sistema de inicio de sesión único (SSO) empresarial.</span><span class="sxs-lookup"><span data-stu-id="324b6-215">This section contains best practices when using domain and local groups and individual accounts in the Enterprise Single Sign-On (SSO) system.</span></span>  
  
### <a name="domain-windows-groups-and-accounts"></a><span data-ttu-id="324b6-216">Grupos y cuentas de dominio de Windows</span><span class="sxs-lookup"><span data-stu-id="324b6-216">Domain Windows Groups and Accounts</span></span>  
 <span data-ttu-id="324b6-217">Cuando se trabaja con grupos de dominio de Windows, se aplican las siguientes recomendaciones:</span><span class="sxs-lookup"><span data-stu-id="324b6-217">When working with domain Windows groups, the following recommendations apply:</span></span>  
  
- <span data-ttu-id="324b6-218">Use grupos y cuentas de dominio.</span><span class="sxs-lookup"><span data-stu-id="324b6-218">Use domain groups and domain accounts.</span></span>  
  
- <span data-ttu-id="324b6-219">Al usar [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] o [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)], se puede configurar la cuenta de servicio ENTSSO para que se ejecute en la cuenta de servicio de red.</span><span class="sxs-lookup"><span data-stu-id="324b6-219">When using [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] or [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]the ENTSSO service account can be configured to run under the Network Service account.</span></span> <span data-ttu-id="324b6-220">No obstante, esto no resulta recomendable por razones de seguridad, puesto que será preciso otorgar privilegios de administrador de SSO a la cuenta de servicio de red.</span><span class="sxs-lookup"><span data-stu-id="324b6-220">However, this is not recommended for security reasons, as the Network Service account will need to be given the SSO Administrators privilege.</span></span> <span data-ttu-id="324b6-221">En lugar de ello, se recomienda utilizar una única cuenta de servicio de dominio para la cuenta de servicio ENTSSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-221">It is recommended instead that you use a unique domain service account for the ENTSSO service account.</span></span>  
  
- <span data-ttu-id="324b6-222">Use un grupo de dominio para los administradores de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-222">Use a domain group for SSO administrators.</span></span> <span data-ttu-id="324b6-223">No debe especificar una cuenta de dominio individual como administrador de SSO, puesto que no puede cambiar esta cuenta de una cuenta individual a otra individual.</span><span class="sxs-lookup"><span data-stu-id="324b6-223">You should not specify an individual domain account as the SSO administrator, because you cannot change this account from one individual account to another individual account.</span></span>  
  
- <span data-ttu-id="324b6-224">Aunque puede especificar una cuenta de dominio individual como el administrador afiliado de SSO, debe usar un grupo de dominio.</span><span class="sxs-lookup"><span data-stu-id="324b6-224">Although you can specify an individual domain account as the SSO affiliate administrator, you should use a domain group.</span></span>  
  
- <span data-ttu-id="324b6-225">Si bien puede especificar una cuenta de dominio individual como administrador afiliado de SSO, debe usar un grupo de dominio.</span><span class="sxs-lookup"><span data-stu-id="324b6-225">Although you can specify an individual domain account as the application administrator, you should use a domain group.</span></span>  
  
- <span data-ttu-id="324b6-226">Debe usar grupos de dominio para la cuenta de usuarios de aplicación.</span><span class="sxs-lookup"><span data-stu-id="324b6-226">You must use domain groups for the application user account.</span></span> <span data-ttu-id="324b6-227">La cuenta de usuarios de aplicaciones de SSO no admite una cuenta individual.</span><span class="sxs-lookup"><span data-stu-id="324b6-227">The SSO applications user account does not support an individual account.</span></span>  
  
- <span data-ttu-id="324b6-228">Se pueden especificar varias cuentas para cada una de estas cuentas de acceso de SSO.</span><span class="sxs-lookup"><span data-stu-id="324b6-228">Multiple accounts can be specified for each of these SSO access accounts.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="324b6-229">Vea también</span><span class="sxs-lookup"><span data-stu-id="324b6-229">See Also</span></span>  
 <span data-ttu-id="324b6-230">[Puertos para los servidores de inicio de sesión único de Enterprise](../core/ports-for-the-enterprise-single-sign-on-servers.md) </span><span class="sxs-lookup"><span data-stu-id="324b6-230">[Ports for the Enterprise Single Sign-On Servers](../core/ports-for-the-enterprise-single-sign-on-servers.md) </span></span>  
 [<span data-ttu-id="324b6-231">Derechos de usuario mínimos de seguridad</span><span class="sxs-lookup"><span data-stu-id="324b6-231">Minimum Security User Rights</span></span>](../core/minimum-security-user-rights.md)