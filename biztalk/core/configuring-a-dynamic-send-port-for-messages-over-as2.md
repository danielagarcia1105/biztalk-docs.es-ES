---
title: Configuración de un puerto de envío dinámico para mensajes a través de AS2 | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 246d64e8-70ca-48f4-8b72-d43b0964dbb4
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9cacc1d502e258a68934ed66b8f67032f94d1620
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37005694"
---
# <a name="configuring-a-dynamic-send-port-for-messages-over-as2"></a><span data-ttu-id="343e3-102">Configurar un puerto de envío dinámico para mensajes a través de AS2</span><span class="sxs-lookup"><span data-stu-id="343e3-102">Configuring a Dynamic Send Port for Messages over AS2</span></span>
<span data-ttu-id="343e3-103">En este tema se describe cómo configurar [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para enviar mensajes AS2 a través de un puerto de envío dinámico.</span><span class="sxs-lookup"><span data-stu-id="343e3-103">This topic describes how to configure [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to send AS2 messages over a dynamic send port.</span></span> <span data-ttu-id="343e3-104">Esta configuración conlleva crear el puerto de envío dinámico y configurar una aplicación de servidor para establecer las propiedades de contexto correctas.</span><span class="sxs-lookup"><span data-stu-id="343e3-104">This configuration includes creating the dynamic send port and configuring a backend application to set the appropriate context properties.</span></span> <span data-ttu-id="343e3-105">Al crear un puerto de envío dinámico para enviar un mensaje AS2, debe promocionar determinadas propiedades para que el puerto de envío funcione.</span><span class="sxs-lookup"><span data-stu-id="343e3-105">When you create a dynamic send port to send an AS2 message, you must promote certain properties for the send port to work.</span></span> <span data-ttu-id="343e3-106">Para obtener más información, consulte [para configurar BizTalk Server para enviar AS2 puerto de envío de mensajes a través de una dinámica](../core/configuring-a-dynamic-send-port-for-messages-over-as2.md#BKMK_Proc) a continuación.</span><span class="sxs-lookup"><span data-stu-id="343e3-106">For more information, see [To configure BizTalk Server to send AS2 messages over a dynamic send port](../core/configuring-a-dynamic-send-port-for-messages-over-as2.md#BKMK_Proc) below.</span></span>  
  
 <span data-ttu-id="343e3-107">Un puerto de envío dinámico permite enviar mensajes a varias entidades sin codificar la configuración de la entidad.</span><span class="sxs-lookup"><span data-stu-id="343e3-107">A dynamic send port enables you to send messages to multiple parties without hard-coding the party configuration.</span></span> <span data-ttu-id="343e3-108">El acuerdo y el destino que van a usarse en el envío del mensaje se determinan de forma dinámica a través de las propiedades de contexto.</span><span class="sxs-lookup"><span data-stu-id="343e3-108">The agreement and destination to be used in sending the message are determined dynamically through context properties.</span></span> <span data-ttu-id="343e3-109">No es necesario crear un puerto de envío estático para cada cliente individual.</span><span class="sxs-lookup"><span data-stu-id="343e3-109">You do not have to create a static send port for each individual customer.</span></span>  
  
 <span data-ttu-id="343e3-110">Para enviar un mensaje AS2 con un mensaje EDI o no EDI o una confirmación EDI, cree un puerto de envío HTTP de respuesta dinámico con la siguiente configuración:</span><span class="sxs-lookup"><span data-stu-id="343e3-110">To send an AS2 message with an EDI or non-EDI message or an EDI acknowledgment, create a dynamic response HTTP send port with the following configuration:</span></span>  
  
|<span data-ttu-id="343e3-111">Ubicación</span><span class="sxs-lookup"><span data-stu-id="343e3-111">Location</span></span>|<span data-ttu-id="343e3-112">Property</span><span class="sxs-lookup"><span data-stu-id="343e3-112">Property</span></span>|<span data-ttu-id="343e3-113">Configuración</span><span class="sxs-lookup"><span data-stu-id="343e3-113">Setting</span></span>|  
|--------------|--------------|-------------|  
|<span data-ttu-id="343e3-114">**Propiedades de puerto de envío: General**</span><span class="sxs-lookup"><span data-stu-id="343e3-114">**Send Port Properties: General**</span></span>|<span data-ttu-id="343e3-115">Tipo de puerto</span><span class="sxs-lookup"><span data-stu-id="343e3-115">Port Type</span></span>|<span data-ttu-id="343e3-116">-Dinámico de petición-respuesta (si solicitar MDN en **confirmaciones (MDN)** está seleccionada la página de la ficha de acuerdo unidireccional)</span><span class="sxs-lookup"><span data-stu-id="343e3-116">- Dynamic Solicit Response (if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span><br /><br /> <span data-ttu-id="343e3-117">-Puerto de envío unidireccional dinámico (si solicitar MDN en **confirmaciones (MDN)** se borra la página de la ficha de acuerdo unidireccional)</span><span class="sxs-lookup"><span data-stu-id="343e3-117">- Dynamic One-way Send Port (if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is cleared)</span></span>|  
|<span data-ttu-id="343e3-118">**Propiedades de puerto de envío: General**</span><span class="sxs-lookup"><span data-stu-id="343e3-118">**Send Port Properties: General**</span></span>|<span data-ttu-id="343e3-119">Canalización de envío</span><span class="sxs-lookup"><span data-stu-id="343e3-119">Send pipeline</span></span>|<span data-ttu-id="343e3-120">-AS2EdiSend (para mensajes con codificación EDI)</span><span class="sxs-lookup"><span data-stu-id="343e3-120">- AS2EdiSend (for EDI-encoded messages)</span></span><br /><br /> <span data-ttu-id="343e3-121">-AS2Send (para mensajes no pertenecientes a EDI)</span><span class="sxs-lookup"><span data-stu-id="343e3-121">- AS2Send (for non-EDI messages)</span></span>|  
|<span data-ttu-id="343e3-122">**Propiedades de puerto de envío: General**</span><span class="sxs-lookup"><span data-stu-id="343e3-122">**Send Port Properties: General**</span></span>|<span data-ttu-id="343e3-123">Canalización de recepción</span><span class="sxs-lookup"><span data-stu-id="343e3-123">Receive pipeline</span></span><br /><br /> <span data-ttu-id="343e3-124">(si solicitar MDN en **confirmaciones (MDN)** está seleccionada la página de la ficha de acuerdo unidireccional)</span><span class="sxs-lookup"><span data-stu-id="343e3-124">(if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span>|<span data-ttu-id="343e3-125">AS2Receive (para puertos de envío dinámico de petición-respuesta)</span><span class="sxs-lookup"><span data-stu-id="343e3-125">AS2Receive (for dynamic solicit response send port)</span></span>|  
|<span data-ttu-id="343e3-126">**Propiedades de puerto de envío: filtros**</span><span class="sxs-lookup"><span data-stu-id="343e3-126">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="343e3-127">Property</span><span class="sxs-lookup"><span data-stu-id="343e3-127">Property</span></span>|<span data-ttu-id="343e3-128">BTS.MessageType</span><span class="sxs-lookup"><span data-stu-id="343e3-128">BTS.MessageType</span></span>|  
|<span data-ttu-id="343e3-129">**Propiedades de puerto de envío: filtros**</span><span class="sxs-lookup"><span data-stu-id="343e3-129">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="343e3-130">Operador</span><span class="sxs-lookup"><span data-stu-id="343e3-130">Operator</span></span>|==|  
|<span data-ttu-id="343e3-131">**Propiedades de puerto de envío: filtros**</span><span class="sxs-lookup"><span data-stu-id="343e3-131">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="343e3-132">Valor</span><span class="sxs-lookup"><span data-stu-id="343e3-132">Value</span></span>|<span data-ttu-id="343e3-133">- `http://schemas.microsoft.com/BizTalk/EDI/X12/2006#<schema name>` (para un mensaje EDI)</span><span class="sxs-lookup"><span data-stu-id="343e3-133">- `http://schemas.microsoft.com/BizTalk/EDI/X12/2006#<schema name>` (for an EDI message)</span></span><br /><br /> <span data-ttu-id="343e3-134">- `http://schemas.microsoft.com/Edi/X12#X12_<997 or TA1>_Root` (para un X12 confirmación)</span><span class="sxs-lookup"><span data-stu-id="343e3-134">- `http://schemas.microsoft.com/Edi/X12#X12_<997 or TA1>_Root` (for an X12 acknowledgment)</span></span><br /><br /> <span data-ttu-id="343e3-135">- `http://schemas.microsoft.com/Edi/Efact#Efact_Contrl_Root` (para una confirmación EDIFACT)</span><span class="sxs-lookup"><span data-stu-id="343e3-135">- `http://schemas.microsoft.com/Edi/Efact#Efact_Contrl_Root` (for an EDIFACT acknowledgment)</span></span>|  
  
## <a name="prerequisites"></a><span data-ttu-id="343e3-136">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="343e3-136">Prerequisites</span></span>  
 <span data-ttu-id="343e3-137">Debe iniciar sesión como miembro del grupo Administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="343e3-137">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
##  <a name="BKMK_Proc"></a> <span data-ttu-id="343e3-138">Para configurar BizTalk Server para enviar AS2 puerto de envío de mensajes a través de una dinámica</span><span class="sxs-lookup"><span data-stu-id="343e3-138">To configure BizTalk Server to send AS2 messages over a dynamic send port</span></span>  
  
1. <span data-ttu-id="343e3-139">En la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], cree un puerto de envío unidireccional dinámico (si no se solicita un MDN) o un puerto de envío de petición-respuesta dinámico (si se solicita un MDN) con la configuración anterior.</span><span class="sxs-lookup"><span data-stu-id="343e3-139">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, create a dynamic one-way send port (if an MDN is not requested) or a dynamic solicit response send port (if an MDN is requested) with the above configuration.</span></span>  
  
2. <span data-ttu-id="343e3-140">Para el acuerdo que se aplica a este mensaje, establezca las propiedades de AS2 y de EDI requeridas.</span><span class="sxs-lookup"><span data-stu-id="343e3-140">For the agreement that applies to this message, set the AS2 and EDI properties required.</span></span>  
  
3. <span data-ttu-id="343e3-141">Promocione las siguientes propiedades en el contexto del mensaje:</span><span class="sxs-lookup"><span data-stu-id="343e3-141">Promote the following properties to the message context:</span></span>  
  
   -   `BTS.MessageType`  
  
   -   `EdiIntAS.MessageID`  
  
4. <span data-ttu-id="343e3-142">Agregue la funcionalidad a una aplicación de servidor para escribir las siguientes propiedades en el contexto del mensaje y configurarlas con los valores adecuados:</span><span class="sxs-lookup"><span data-stu-id="343e3-142">Add functionality to a backend application to write the following properties to the message context, setting them to the appropriate values:</span></span>  
  
   -   `EdiIntAS.AS2To`  
  
   -   `BTS.OutboundTransportLocation`  
  
   -   `HTTP.EnableChunkedEncoding`  
  
   -   `BTS.EncryptionCert`  
  
   > [!NOTE]
   >  <span data-ttu-id="343e3-143">Las propiedades de contexto `AS2To` y `OutboundTransportLocation` deben escribirse en el contexto de mensaje para que el puerto de envío dinámico funcione correctamente.</span><span class="sxs-lookup"><span data-stu-id="343e3-143">The `AS2To` context property and the `OutboundTransportLocation` context property must be written to the message context for the dynamic send port to function properly.</span></span> <span data-ttu-id="343e3-144">La propiedad `AS2To` se requiere para que el puerto determine la entidad que se va a usar en el procesamiento del mensaje saliente, y la propiedad `OutboundTransportLocation` se requiere para que el puerto de envío determine el destino del mensaje.</span><span class="sxs-lookup"><span data-stu-id="343e3-144">The `AS2To` property is required for the port to determine the agreement to use in processing the outgoing message and the `OutboundTransportLocation` property is required for the send port to determine the destination of the message.</span></span> <span data-ttu-id="343e3-145">Para obtener más información, consulte [generar un mensaje AS2 saliente](../core/generating-an-outgoing-as2-message.md).</span><span class="sxs-lookup"><span data-stu-id="343e3-145">For more information, see [Generating an Outgoing AS2 Message](../core/generating-an-outgoing-as2-message.md).</span></span>  
  
## <a name="functionality"></a><span data-ttu-id="343e3-146">Funcionalidad</span><span class="sxs-lookup"><span data-stu-id="343e3-146">Functionality</span></span>  
 <span data-ttu-id="343e3-147">El puerto de envío dinámico y la canalización realizan lo siguiente para enviar un mensaje o confirmación EDI o no EDI sincrónicos a través de AS2 y procesar el MDN devuelto:</span><span class="sxs-lookup"><span data-stu-id="343e3-147">The dynamic send port and pipeline does the following to send a synchronous EDI or non-EDI message or acknowledgment over AS2 and process the returned MDN:</span></span>  
  
- <span data-ttu-id="343e3-148">Si envía un mensaje EDI, toma el mensaje EDI mediante el filtrado en la propiedad `BTS.MessageType` establecida en el esquema de mensaje en el `http://schemas.microsoft.com/BizTalk/EDI/X12/2006 namespace` (por ejemplo, X12_00401_864 para un mensaje 864).</span><span class="sxs-lookup"><span data-stu-id="343e3-148">If sending an EDI message, picks up the EDI message by filtering on the property `BTS.MessageType` set to the message schema in the `http://schemas.microsoft.com/BizTalk/EDI/X12/2006 namespace` (for example, X12_00401_864 for an 864 message).</span></span>  
  
- <span data-ttu-id="343e3-149">Si envía una confirmación EDI, toma la confirmación mediante el filtrado en la propiedad `BTS.MessageType` establecida en uno de los siguientes esquemas de control:</span><span class="sxs-lookup"><span data-stu-id="343e3-149">If sending an EDI acknowledgment, picks up the acknowledgment by filtering on the property `BTS.MessageType` set to one of the following control schema:</span></span>  
  
  -   <span data-ttu-id="343e3-150">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_997_Root` para una confirmación 997</span><span class="sxs-lookup"><span data-stu-id="343e3-150">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_997_Root` for a 997 acknowledgment</span></span>  
  
  -   <span data-ttu-id="343e3-151">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_TA1_Root` para una confirmación TA1</span><span class="sxs-lookup"><span data-stu-id="343e3-151">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_TA1_Root` for a TA1 acknowledgment</span></span>  
  
  -   <span data-ttu-id="343e3-152">`http://schemas.microsoft.com/BizTalk/EDI/Efact#Efact_Contrl_Root` para una confirmación CONTRL</span><span class="sxs-lookup"><span data-stu-id="343e3-152">`http://schemas.microsoft.com/BizTalk/EDI/Efact#Efact_Contrl_Root` for a CONTRL acknowledgment</span></span>  
  
- <span data-ttu-id="343e3-153">Si envía un mensaje no EDI, toma el mensaje mediante el uso de un filtro adecuado.</span><span class="sxs-lookup"><span data-stu-id="343e3-153">If sending a non-EDI message, picks up the message using an appropriate filter.</span></span>  
  
- <span data-ttu-id="343e3-154">Crea un mensaje AS2.</span><span class="sxs-lookup"><span data-stu-id="343e3-154">Builds an AS2 message.</span></span> <span data-ttu-id="343e3-155">Para obtener más información sobre este proceso, consulte [generar un mensaje AS2 saliente](../core/generating-an-outgoing-as2-message.md).</span><span class="sxs-lookup"><span data-stu-id="343e3-155">For more information about this process, see [Generating an Outgoing AS2 Message](../core/generating-an-outgoing-as2-message.md).</span></span>  
  
  > [!NOTE]
  >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="343e3-156"> determina el tipo de transporte que va a usarse por el puerto de envío dinámico a partir del formato de la URL, es decir, http, smtp, ftp, etc.</span><span class="sxs-lookup"><span data-stu-id="343e3-156"> determines the transport type to be used by the dynamic send port from the format of the URL, i.e., http, smtp, ftp, etc.</span></span>  
  
- <span data-ttu-id="343e3-157">Enruta el mensaje o la confirmación a la URL de destino para el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="343e3-157">Routes the message or acknowledgment to the destination URL for the send port.</span></span>  
  
- <span data-ttu-id="343e3-158">Recibe la respuesta MDN al mensaje o confirmación, si esta opción está habilitada y si se trata de un puerto de envío de petición-respuesta.</span><span class="sxs-lookup"><span data-stu-id="343e3-158">Receives the MDN response to the message or acknowledgment, if enabled and if a solicit-response send port.</span></span> <span data-ttu-id="343e3-159">Para obtener más información sobre este proceso, consulte [procesar MDN entrantes](../core/processing-an-incoming-mdn.md).</span><span class="sxs-lookup"><span data-stu-id="343e3-159">For more information about this process, see [Processing an Incoming MDN](../core/processing-an-incoming-mdn.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="343e3-160">Vea también</span><span class="sxs-lookup"><span data-stu-id="343e3-160">See Also</span></span>  
 [<span data-ttu-id="343e3-161">Configuración de puertos para una solución AS2</span><span class="sxs-lookup"><span data-stu-id="343e3-161">Configuring Ports for an AS2 Solution</span></span>](../core/configuring-ports-for-an-as2-solution.md)