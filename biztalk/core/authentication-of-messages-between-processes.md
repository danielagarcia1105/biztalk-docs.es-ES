---
title: Autenticación de mensajes entre procesos | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- PID
- security, warnings
- processing, messages
- processing, security
- messages, processing
- security, messages
- MessageBox database, authenticating
- SSID
- authenticating, warnings
ms.assetid: fa746ee3-fc22-4e63-a5cc-8bc0cbeb536b
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1c54fb463353ed6551dcbf5764fae05e63fdb778
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22231308"
---
# <a name="authentication-of-messages-between-processes"></a><span data-ttu-id="f759f-102">Autenticación de mensajes entre procesos</span><span class="sxs-lookup"><span data-stu-id="f759f-102">Authentication of Messages Between Processes</span></span>
<span data-ttu-id="f759f-103">La siguiente ilustración muestra las características de seguridad de BizTalk Server que permiten autenticar mensajes entre distintos hosts de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="f759f-103">The following figure shows the security features in BizTalk Server that enable you to authenticate messages between different BizTalk hosts.</span></span>  
  
 <span data-ttu-id="f759f-104">![Características de seguridad para autenticar mensajes](../core/media/ebiz-plan-secoverview-auth-process.gif "ebiz_plan_secoverview_auth_process")</span><span class="sxs-lookup"><span data-stu-id="f759f-104">![Security features authenticating messages](../core/media/ebiz-plan-secoverview-auth-process.gif "ebiz_plan_secoverview_auth_process")</span></span>  
<span data-ttu-id="f759f-105">Características de seguridad usadas por BizTalk Server para autenticar mensajes entre procesos.</span><span class="sxs-lookup"><span data-stu-id="f759f-105">Security features BizTalk Server uses to authenticate messages between processes.</span></span>  
  
 <span data-ttu-id="f759f-106">Una vez que BizTalk Server recibe un mensaje, lo descifra y valida, y tiene un Id. de entidad (PID) y un certificado válidos para identificar al remitente, la base de datos de cuadro de mensajes está lista para comprobar las suscripciones a las que corresponde el mensaje y enviar éste a otros hosts para su posterior procesamiento.</span><span class="sxs-lookup"><span data-stu-id="f759f-106">After BizTalk Server receives a message, decrypts and validates the message, and has a valid party ID (PID) and certificate to identity the sender of the message, the MessageBox database is ready to verify the subscriptions that the message matches, and to send this message to other hosts for further processing.</span></span>  
  
 <span data-ttu-id="f759f-107">Como un mensaje fluye de un proceso a otro, a menudo es necesario pasar la identidad de su remitente original a procesos inferiores para autorización, resolución de entidades y lógica de negocios relacionadas con el remitente.</span><span class="sxs-lookup"><span data-stu-id="f759f-107">As a message flows from one process to another, it is often necessary to pass the identity of the original sender of the message to downstream processes for authorization, party resolution, and business logic relating to the sender.</span></span> <span data-ttu-id="f759f-108">No obstante, si se permitiera que todos los hosts transmitieran esta información sin ningún tipo de mecanismo de seguridad o de confianza aumentaría drásticamente la necesidad de comprobar la fiabilidad de todo el código y los objetos de usuario (por ejemplo, las orquestaciones, los adaptadores, componentes de canalización y los functoids).</span><span class="sxs-lookup"><span data-stu-id="f759f-108">However, enabling all hosts to flow this information without some type of security or trust mechanism would greatly increase the need to verify that all user objects and code (for example, orchestrations, adapters, pipeline components, functoids) are trustworthy.</span></span>  
  
 <span data-ttu-id="f759f-109">Con el fin de proporcionar una forma de diferenciar el nivel de confianza para código y objetos de usuario, BizTalk Server ofrece Autenticación de confianza como una propiedad de host.</span><span class="sxs-lookup"><span data-stu-id="f759f-109">To provide the means to differentiate the level of trust for user objects and code, BizTalk Server provides Authentication Trust as a property of hosts.</span></span> <span data-ttu-id="f759f-110">Cuando la base de datos de cuadro de mensajes recibe un mensaje de un host que no se ha configurado con autenticación de confianza, dicha base de datos sobrescribe el PID con el Id. de invitado y el SSID con la cuenta de servicio en la que se ejecuta la instancia del host.</span><span class="sxs-lookup"><span data-stu-id="f759f-110">When the MessageBox database receives a message from a host that has not been set as authentication trusted, the MessageBox database overwrites the PID with the guest ID, and overwrites the SSID with the service account that the host instance is running as.</span></span> <span data-ttu-id="f759f-111">Cuando un host se marca como con autenticación de confianza, BizTalk le permite que especifique cualquier SID de remitente (SSID) y cualquier Id. de entidad (PID) en los mensajes que agrega a la cola de la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="f759f-111">When a host is marked as authentication trusted, BizTalk enables the host to specify any sender SID (SSID) and any party ID (PID) on messages that it queues to the MessageBox database.</span></span>  
  
 <span data-ttu-id="f759f-112">Al especificar los hosts que son o no de confianza, puede definir límites de seguridad en los que se confíe o desconfíe en el código y los objetos de usuario.</span><span class="sxs-lookup"><span data-stu-id="f759f-112">By specifying which hosts are trusted and which are not, you can define security boundaries in which user objects and code can be trusted or not trusted.</span></span> <span data-ttu-id="f759f-113">Es decir, los objetos de usuario y código implementados en hosts que se hayan configurado con Autenticación de confianza deben ser más fiables que los objetos de usuario y código implementados en hosts que no se hayan configurado así.</span><span class="sxs-lookup"><span data-stu-id="f759f-113">That is, user objects and code deployed into hosts that have been set to Authentication Trusted need to be more trustworthy than user objects and code deployed to hosts that have not been set to Authentication Trusted.</span></span> <span data-ttu-id="f759f-114">Para obtener más información sobre cómo configurar el host de confianza de autenticación, vea [cómo modificar propiedades de Host](../core/how-to-modify-host-properties.md).</span><span class="sxs-lookup"><span data-stu-id="f759f-114">For more information about how to configure authentication trusted host, see [How to Modify Host Properties](../core/how-to-modify-host-properties.md).</span></span>  
  
 <span data-ttu-id="f759f-115">Cuando la base de datos de cuadro de mensajes recibe un mensaje, BizTalk Server realiza los pasos siguientes para comprobar la autenticación de confianza de la instancia de host que envía el mensaje a dicha base de datos:</span><span class="sxs-lookup"><span data-stu-id="f759f-115">When the MessageBox database receives a message, BizTalk Server takes the following steps to enforce the authentication trust of the host instance sending the message to the MessageBox database:</span></span>  
  
1.  <span data-ttu-id="f759f-116">En primer lugar, la base de datos de cuadro de mensajes determina si el host remitente se ha configurado con autenticación de confianza comprobando que el SSID corresponde a la cuenta de servicio de instancia de host de un host de confianza.</span><span class="sxs-lookup"><span data-stu-id="f759f-116">The MessageBox database first determines whether the host sending the message has been set as authentication trusted by checking that the SSID is that of a host instance service account for a trusted host.</span></span>  
  
2.  <span data-ttu-id="f759f-117">Si el host que envía el mensaje a la base de datos de cuadro de mensajes tiene autenticación de confianza, la base de datos deja el SSID y el PID en el contexto del mensaje "tal cual" a menos que estén vacíos.</span><span class="sxs-lookup"><span data-stu-id="f759f-117">If the host that is sending the message to the MessageBox database is authentication trusted, the MessageBox database leaves the SSID and PID in the message context "as is," unless they are empty.</span></span> <span data-ttu-id="f759f-118">Si el SSID está vacío, la base de datos de cuadro de mensajes lo rellena con el SID del proceso que realiza la llamada, también denominado SID del host (HSID).</span><span class="sxs-lookup"><span data-stu-id="f759f-118">If the SSID is empty, the MessageBox database populates it with the SID of the calling process, also known as the host SID (HSID).</span></span> <span data-ttu-id="f759f-119">Si el PID está vacío, lo establece como el Id. de invitado.</span><span class="sxs-lookup"><span data-stu-id="f759f-119">If the PID is empty, it sets the PID to the guest ID.</span></span>  
  
3.  <span data-ttu-id="f759f-120">Si el host que envía el mensaje a la base de datos de cuadro de mensajes no se ha configurado con autenticación de confianza, el SSID se rellena con el HSID y el PID se define como Invitado, con independencia de si esos campos ya tenían valores.</span><span class="sxs-lookup"><span data-stu-id="f759f-120">If the host that is sending the message to the MessageBox database has not been set as authentication trusted, the SSID is populated with the HSID, and the PID is set to Guest, regardless of whether these fields were already populated.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f759f-121">Si desea que un proceso inferior conozca el SSID y el PID del remitente original del mensaje, debe establecer todos los hosts por los que pase el mensaje como con autenticación de confianza.</span><span class="sxs-lookup"><span data-stu-id="f759f-121">If you want a downstream process to know the SSID and PID of the original sender of the message, you must set all hosts that the message passes through as authentication trusted.</span></span> <span data-ttu-id="f759f-122">Además, en casos tales como cuando el mensaje se recibe y posteriormente se utiliza para construir mensajes salientes en una orquestación, el SSID y el PID recibidos en mensajes entrantes deben agregarse explícitamente como una propiedad a los mensajes salientes para transmitir estas identidades.</span><span class="sxs-lookup"><span data-stu-id="f759f-122">In addition, in cases such as when the message is received and subsequently used to construct outbound messages in an orchestration, the SSID and PID received on inbound messages must be explicitly added as a property to outbound messages in order to flow these identities.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f759f-123">Si configuró el host en que se está ejecutando una canalización con autenticación de confianza, BizTalk Server considera que la canalización es un entorno de confianza.</span><span class="sxs-lookup"><span data-stu-id="f759f-123">If you configured the host where a pipeline is running as authentication trusted, BizTalk Server considers the pipeline to be a trusted environment.</span></span> <span data-ttu-id="f759f-124">Por tanto, es muy importante que compruebe que cualquier componente personalizado que se incluya en una canalización de BizTalk ejecutada en un host con autenticación de confianza también es fiable.</span><span class="sxs-lookup"><span data-stu-id="f759f-124">Therefore, it is extremely important that you verify that any custom components that are included in a BizTalk pipeline that is running on a host that is authentication trusted are also trusted.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f759f-125">No se puede utilizar la misma cuenta de servicio para hosts de autenticación de confianza y para hosts que no son de confianza de autenticación.</span><span class="sxs-lookup"><span data-stu-id="f759f-125">You cannot use the same service account for hosts that are authentication trusted and for hosts that are not authentication trusted.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f759f-126">Vea también</span><span class="sxs-lookup"><span data-stu-id="f759f-126">See Also</span></span>  
 <span data-ttu-id="f759f-127">[Autenticación de mensajes entrantes](../core/inbound-message-authentication.md) </span><span class="sxs-lookup"><span data-stu-id="f759f-127">[Inbound Message Authentication](../core/inbound-message-authentication.md) </span></span>  
 <span data-ttu-id="f759f-128">[Protección de mensajes salientes](../core/outbound-message-protection.md) </span><span class="sxs-lookup"><span data-stu-id="f759f-128">[Outbound Message Protection](../core/outbound-message-protection.md) </span></span>  
 <span data-ttu-id="f759f-129">[Autenticación del remitente de un mensaje](../core/authenticating-the-sender-of-a-message.md) </span><span class="sxs-lookup"><span data-stu-id="f759f-129">[Authenticating the Sender of a Message](../core/authenticating-the-sender-of-a-message.md) </span></span>  
 [<span data-ttu-id="f759f-130">Autorización del receptor de un mensaje</span><span class="sxs-lookup"><span data-stu-id="f759f-130">Authorizing the Receiver of a Message</span></span>](../core/authorizing-the-receiver-of-a-message.md)