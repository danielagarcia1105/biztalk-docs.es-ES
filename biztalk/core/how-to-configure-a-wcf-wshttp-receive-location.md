---
title: Cómo configurar ubicación de recepción de un WCF-WSHttp | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: b38cce4a-9c81-4716-b847-1acada4afc15
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2e0719c54894303a0ba41323282df9e4258ff0f5
ms.sourcegitcommit: be6273d612669adfbb9dc9208aaae0a8437d4017
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/04/2018
ms.locfileid: "52826428"
---
# <a name="how-to-configure-a-wcf-wshttp-receive-location"></a>Cómo configurar una ubicación de recepción WCF-WSHttp
Puede configurar una ubicación de recepción WCF-WSHttp mediante programación o con la consola de administración de BizTalk.  

## <a name="configuration-properties"></a>Propiedades de configuración

 El modelo de objetos del Explorador de BizTalk permite crear y configurar ubicaciones de recepción mediante programación. El modelo de objetos del explorador de BizTalk expone la**IReceiveLocation** recibir de la interfaz de configuración de ubicación que tenga un **TransportTypeData** propiedad de lectura/escritura. Esta propiedad acepta una bolsa de propiedades de configuración de la ubicación de recepción WCF-WSHttp con formato de un par nombre-valor de cadenas XML. Para establecer esta propiedad en el modelo de objetos del explorador de BizTalk, debe establecer el **InboundTransportLocation** propiedad de la **IReceiveLocation** interfaz.  

 El **TransportTypeData** propiedad de la **IReceiveLocation** interfaz no tiene que establecerse. Si no se establece, el adaptador de WCF-WSHttp usa los valores predeterminados para la configuración de la ubicación de recepción WCF-WSHttp, como se indica en la siguiente tabla.  

 La siguiente tabla enumera las propiedades de configuración que se pueden establecer en el modelo de objetos para el Explorador de BizTalk para la ubicación de recepción WCF-WSHttp.  


|           Nombre de propiedad            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Tipo                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            **Identidad**            |                                                                                                                                                                                                                                                                                                                                                                                               Blob XML<br /><br /> Ejemplo:<br /><br /> &lt;identidad&gt;<br /><br /> &lt;valor de userPrincipalName = "username@contoso.com" /&gt;<br /><br /> &lt;/Identity&gt;                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                             Especificar la identidad de servicio que proporciona esta ubicación de recepción. Los valores que se pueden especificar para el **identidad** propiedad difieren según la configuración de seguridad. Esta configuración hace posible que el cliente autentique la ubicación de recepción. En el proceso de negociación entre el cliente y el servicio, la infraestructura de Windows Communication Foundation (WCF) asegurará que la identidad del servicio esperado coincide con los valores de este elemento.<br /><br /> El valor predeterminado es una cadena vacía.                                                                                                                                                                                                                                                                                                                                              |
|          **OpenTimeout**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    **System.TimeSpan**                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Especificar un valor de marco temporal que indica el intervalo de tiempo proporcionado para que se complete una operación de apertura del canal.<br /><br /> Valor predeterminado: 00:01:00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|          **SendTimeout**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    **System.TimeSpan**                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                   Especificar un valor de marco temporal que indica el intervalo de tiempo proporcionado para que se complete una operación de envío. Si usa un puerto de recepción solicitud-respuesta, este valor especifica un marco temporal para que se complete la interacción, incluso cuando el cliente devuelva un mensaje grande.<br /><br /> Valor predeterminado: 00:01:00                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|          **CloseTimeout**          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    **System.TimeSpan**                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Especificar un valor de marco temporal que indica el intervalo de tiempo proporcionado para que se complete una operación de cierre del canal.<br /><br /> Valor predeterminado: 00:01:00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|     **MaxReceivedMessageSize**     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Integer                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                 Especificar el tamaño máximo, en bytes, para mensajes (con encabezados incluidos) que se pueden recibir a través de la red. El tamaño de los mensajes se limita mediante la cantidad de memoria asignada a cada mensaje. Puede usar esta propiedad para limitar la exposición a ataques por denegación de servicio (DoS).<br /><br /> Valor predeterminado: 65536                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|        **MessageEncoding**         |                                                                                                                                                                                                                                                                                                                                                                                                   Enum<br /><br /> -   **Texto** -usar un codificador de mensajes de texto.<br />-   **MTOM** -usar un codificador Message Transmission Optimization Mechanism 1.0 (MTOM).                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Especificar el codificador que se usa para codificar el mensaje SOAP.<br /><br /> Valor predeterminado: **texto**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|          **TextEncoding**          |                                                                                                                                                                                                                                                                                                                                                                                                        Enum<br /><br /> -   **unicodeFFF** -codificación Unicode BigEndian.<br />-   **UTF-16** : 16 bits de codificación.<br />-   **UTF-8** : 8 bits codificación                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Especificar el juego que se usará para emitir los mensajes en el enlace de codificación de caracteres cuando el **MessageEncoding** propiedad está establecida en **texto**.<br /><br /> Valor predeterminado: **utf-8**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|       **EnableTransaction**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                        Especificar si un mensaje se envía a la base de datos de cuadro de mensajes mediante la transacción procedente de clientes. Si esta propiedad es `True`, los clientes deberán enviar mensajes mediante el **WS-AtomicTransaction** protocolo. Si los clientes envían mensajes fuera del ámbito transaccional, esta ubicación de recepción devolverá una excepción a los clientes y no se suspenderá ningún mensaje.<br /><br /> La opción sólo está disponible para las ubicaciones de recepción unidireccionales. Si los clientes envían mensajes en un contexto transaccional para las ubicaciones de recepción de solicitud-respuesta, se devolverá una excepción a los clientes y no se suspenderá ningún mensaje.<br /><br /> Valor predeterminado: `False`                                                                                                                                                                                                                                                         |
|       **MaxConcurrentCalls**       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Integer                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Especificar el número de llamadas concurrentes en una instancia de servicio única. Las llamadas que superan el límite se ponen en cola. El rango de esta propiedad es desde 1 a Int32.MaxValue. Valor predeterminado: 200                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|          **SecurityMode**          |                                                                                                                                                                                                                                                              Enum<br /><br /> -   **Ninguno**<br />-   **Mensaje**<br />-   **Transporte**<br />-   **TransportWithMessageCredential**<br /><br /> Para obtener más información acerca de los nombres de miembro para el **SecurityMode** propiedad, vea el **modo de seguridad** propiedad en el **delcuadrodediálogodepropiedadesdetransporteWCF-WSHttp,recepción,seguridad** ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Especificar el tipo de seguridad que se usa.<br /><br /> Valor predeterminado: **mensaje**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **TransportClientCredentialType**  |                                                                                                                                                                                                                                               Enum<br /><br /> -   **Ninguno**<br />-   **Básico**<br />-   **NTLM**<br />-   **Windows**<br />-   **Certificado**<br /><br /> Para obtener más información acerca de los nombres de miembro para el **TransportClientCredentialType** propiedad, vea el **tipo de credencial de cliente de transporte** propiedad en el **transporte WCF-WSHttp Seguridad de propiedades del cuadro de diálogo, recepción,** ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Especificar el tipo de credenciales que se va a usar a la hora de realizar la autenticación del cliente.<br /><br /> Valor predeterminado: **Windows**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|  **MessageClientCredentialType**   |                                                                                                                                                                                                                                                        Enum<br /><br /> -   **Ninguno**<br />-   **Windows**<br />-   **Nombre de usuario**<br />-   **Certificado**<br /><br /> Para obtener más información acerca de los nombres de miembro para el **MessageClientCredentialType** propiedad, vea el **tipo de credencial de cliente de mensajes** propiedad en el **propiedades de transporte WCF-WSHttp Seguridad de diálogo cuadro, recepción,** ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Especificar el tipo de credenciales que se va a usar a la hora de realizar la autenticación de cliente mediante la seguridad basada en mensajes.<br /><br /> Valor predeterminado: **Windows**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|         **AlgorithmSuite**         |                                                                                                                                                                                                                                                                                                                     Enum<br /><br /> Para obtener más información acerca de los nombres de miembro para el **AlgorithmSuite** propiedad, vea el **algorithmsuite** propiedad en el **cuadro de diálogo de propiedades de transporte WCF-WSHttp, recepción, seguridad**  ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Especificar el cifrado de mensajes y los algoritmos de encapsulado de claves. Estos algoritmos se asignan a los que se indican en la especificación Security Policy Language (WS-SecurityPolicy).<br /><br /> Valor predeterminado: **Basic256**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|   **NegotiateServiceCredential**   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Especificar si la credencial de servicio se suministra en este cliente fuera de banda o se obtiene del servicio en el cliente a través de un proceso de negociación. Dicha negociación es precursora del intercambio de mensajes habitual.<br /><br /> Si el **MessageClientCredentialType** igual a la propiedad **ninguno**, **Username**, o **certificado**, establecer esta propiedad como  **False** implica que el certificado de servicio está disponible en el cliente fuera de banda y que el cliente necesita especificar el certificado de servicio. Este modo es interoperable con pilas SOAP que implementan WS-Trust y WS-SecureConversation.<br /><br /> Si el **MessageClientCredentialType** propiedad está establecida en **Windows**, establecer esta propiedad en **False** especifica la autenticación basada en Kerberos. Esto significa que el cliente y el servicio deben formar parte del mismo dominio de Kerberos. Este modo puede interoperar con pilas de SOAP que implementan el perfil de token de Kerberos (como se define en OASIS WSS TC), así como WS-Trust y WS-SecureConversation.<br /><br /> Cuando esta propiedad es **True**, produce una negociación .NET SOAP que tuneliza el intercambio de SPNego mediante mensajes SOAP.<br /><br /> Valor predeterminado: **True** |
|    **EstablishSecurityContext**    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Especificar si el canal de seguridad establece una sesión segura. Una sesión segura establece un token de contexto de seguridad (SCR) antes de intercambiar los mensajes de la aplicación.<br /><br /> Valor predeterminado: **True**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|       **ServiceCertificate**       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           String                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                         Especificar la huella digital del certificado X.509 para esta ubicación de recepción que los clientes utilizan para autenticar el servicio. El certificado que se usará para esta propiedad debe estar instalado en el **mi** almacenar en el **usuario actual** ubicación. **Nota:** debe instalar el certificado de servicio en la **usuario actual** ubicación de la cuenta de usuario para el controlador de recepción que aloja esta ubicación de recepción. <br /><br /> El valor predeterminado es una cadena vacía.                                                                                                                                                                                                                                                                                                                                                                         |
|             **UseSSO**             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                          Especificar si se usa el inicio de sesión único (SSO) empresarial para recuperar credenciales de cliente y emitir, así, un vale de SSO. Para obtener más información acerca de las configuraciones de seguridad compatibles con SSO, vea la sección "Enterprise Single Sign-On compatibilidad el WCF-WSHttp adaptador de recepción" en el **delcuadrodediálogodepropiedadesdetransporteWCF-WSHttp,recepción,seguridad** ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                                                                                                                          |
|      **InboundBodyLocation**       | Enum<br /><br /> -   **UseBodyElement** -usar el contenido del mensaje SOAP **cuerpo** elemento de un mensaje entrante para crear la parte del cuerpo de mensaje de BizTalk. Si el elemento **Body** tiene varios elementos secundarios, sólo el primero de ellos será la parte del cuerpo del mensaje de BizTalk.<br />-   **UseEnvelope** -crear la parte del cuerpo de mensaje de BizTalk de SOAP completo **sobres** de un mensaje entrante.<br />-   **UseBodyPath** -usar la expresión de ruta de cuerpo en el **InboundBodyPathExpression** propiedad para crear la parte del cuerpo de mensaje de BizTalk. Esta expresión se evalúa con respecto al elemento secundario inmediato del elemento **Cuerpo** de SOAP de un mensaje entrante. Esta propiedad sólo es válida para puertos de petición-respuesta.<br /><br /> Para obtener más información sobre cómo usar el **InboundBodyLocation** propiedad, vea [especificando el cuerpo del mensaje para los adaptadores de WCF](../core/specifying-the-message-body-for-the-wcf-adapters.md). |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Especifique la selección de datos de SOAP **cuerpo** elemento de mensajes WCF entrantes.<br /><br /> Valor predeterminado: **UseBodyElement**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|   **InboundBodyPathExpression**    |                                                                                                                                                                                                                                                                                                                                                                      String<br /><br /> Para obtener más información sobre cómo usar el **InboundBodyPathExpression** propiedad, vea [propiedades y esquema de propiedades de adaptadores de WCF](../core/wcf-adapters-property-schema-and-properties.md).                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                         Especificar la expresión de ruta de cuerpo para identificar una parte específica de un mensaje entrante utilizada para crear la parte del cuerpo del mensaje de BizTalk. Esta expresión se evalúa con respecto al elemento secundario inmediato del SOAP **cuerpo** nodo de un mensaje entrante. Si esta expresión de ruta de cuerpo devuelve varios nodos, solo se elegirá el primero de ellos para la parte del cuerpo del mensaje de BizTalk. Esta propiedad es necesaria si la **InboundBodyLocation** propiedad está establecida en **UseBodyPath**.<br /><br /> El valor predeterminado es una cadena vacía.                                                                                                                                                                                                                                                                                                                                         |
|      **InboundNodeEncoding**       |                                                                                                                                                                                                                                                                                                                     Enum<br /><br /> -   **Base64** -codificación Base64.<br />-   **Hex** : Hexadecimal codificación.<br />-   **Cadena** : codificación de texto - UTF-8.<br />-   **XML** -los adaptadores WCF crean el cuerpo del mensaje de BizTalk con el XML externo del nodo seleccionado por la expresión de ruta de cuerpo en **InboundBodyPathExpression**.                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                    Especifique el tipo de codificación que WCF-WSHttp adaptador de recepción utiliza para descodificar el nodo identificado por la expresión de ruta de cuerpo especificada en **InboundBodyPathExpression**. Esta propiedad es necesaria si la **InboundBodyLocation** propiedad está establecida en **UseBodyPath**.<br /><br /> Valor predeterminado: **XML**                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|      **OutboundBodyLocation**      |                                                                                                                                                                                              Enum<br /><br /> -   **UseBodyElement** -usar la parte del cuerpo de mensaje de BizTalk para crear el contenido del mensaje SOAP **cuerpo** (elemento) para un mensaje de respuesta saliente.<br />-   **UseTemplate** -usar la plantilla proporcionada en el **OutboundXMLTemplate** propiedad para crear el contenido del mensaje SOAP **cuerpo** (elemento) para un mensaje de respuesta saliente.<br /><br /> Para obtener más información sobre cómo usar el **OutboundBodyLocation** propiedad, vea [especificando el cuerpo del mensaje para los adaptadores de WCF](../core/specifying-the-message-body-for-the-wcf-adapters.md).                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Especifique la selección de datos de SOAP **cuerpo** elemento de mensajes WCF salientes. Esta propiedad sólo es válida para las ubicaciones de recepción de solicitud-respuesta.<br /><br /> Valor predeterminado: **UseBodyElement**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|      **OutboundXMLTemplate**       |                                                                                                                                                                                                                                                                                                                                                                    String<br /><br /> Para obtener más información sobre cómo usar el **OutboundXMLTemplate** propiedad, vea [especificando el cuerpo del mensaje para los adaptadores de WCF](../core/specifying-the-message-body-for-the-wcf-adapters.md).                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                          Especifique la plantilla con formato XML para el contenido del mensaje SOAP **cuerpo** elemento de un mensaje de respuesta saliente. Esta propiedad es necesaria si la **OutboundBodyLocation** propiedad está establecida en **UseTemplate**. Esta propiedad sólo es válida para las ubicaciones de recepción de solicitud-respuesta.<br /><br /> El valor predeterminado es una cadena vacía.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|    **SuspendMessageOnFailure**     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Especificar si se va a suspender el mensaje de solicitud cuyo procesamiento de entrada no se puede realizar correctamente debido a un error de canalización de recepción o de enrutamiento.<br /><br /> Valor predeterminado: **True**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **IncludeExceptionDetailInFaults** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Especificar si se va a incluir información de excepción administrada en el detalle de los errores SOAP devueltos al cliente para fines de depuración.<br /><br /> Valor predeterminado: **False**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

## <a name="configure-a-wcf-wshttp-receive-location-with-the-biztalk-administration-console"></a>Configurar un WCF-WSHttp ubicación de recepción con la consola de administración de BizTalk

 Se pueden establecer variables de adaptador de ubicación de recepción WCF-WSHttp en la consola de administración de BizTalk. Si no se definen propiedades en la ubicación de recepción, se utilizarán los valores predeterminados del controlador de recepción establecidos en la consola de administración de BizTalk.  

> [!NOTE]
>  Antes de realizar los siguientes procedimientos, debe haber agregado un puerto de recepción. Para más información, consulte [Cómo crear un puerto de recepción](../core/how-to-create-a-receive-port.md).  

## <a name="configure-variables-for-a-wcf-wshttp-receive-location"></a>Configurar variables para la ubicación de recepción de un WCF-WSHttp  

1. En la consola de administración de BizTalk, expanda [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expanda **grupo de BizTalk**, expanda **aplicaciones**y, a continuación, expanda la aplicación que desea crear una ubicación de recepción.  

2. En la consola de administración de BizTalk, en el panel izquierdo, haga clic en el nodo **Puerto de recepción** . A continuación, en el panel de la derecha, haga clic con el botón secundario en el puerto de recepción asociado con una ubicación de recepción existente o que desee asociar con una nueva ubicación de recepción. A continuación, haga clic en **Propiedades**.  

3. En el **propiedades de puerto de recepción** cuadro de diálogo, en el panel izquierdo, seleccione **ubicaciones de recepción**y, a continuación, en el panel derecho, haga doble clic en una existente, ubicación de recepción o haga clic en **New**para crear una nueva ubicación de recepción.  

4. En el **propiedades de ubicación de recepción** cuadro de diálogo el **transporte** junto a la sección **tipo**, seleccione **WCF-WSHttp** en la lista desplegable lista y, a continuación, haga clic en **configurar**.  

5. En el **propiedades de transporte WCF-WSHttp** cuadro de diálogo el **General** pestaña, configure la dirección del punto de conexión y ubicación de recepción de la identidad del servicio de WCF-WSHttp. Para obtener más información sobre la **General** pestaña en el **propiedades de transporte WCF-WSHttp** cuadro de diálogo, vea el **cuadro cuadro de diálogo de propiedades de transporte WCF-WSHttp, recepción, General**ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].  

6. En el **propiedades de transporte WCF-WSHttp** cuadro de diálogo el **enlace** pestaña, configure las propiedades de tiempo de espera, codificación y transacción. Para obtener más información sobre la **enlace** pestaña en el **propiedades de transporte WCF-WSHttp** cuadro de diálogo, vea el **delcuadrodediálogodepropiedadesdetransporteWCF-WSHttp,recepción,enlace**ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].

7. En el **propiedades de transporte WCF-WSHttp** cuadro de diálogo el **seguridad** pestaña, definir la seguridad de la ubicación de recepción de las capacidades de WCF-WSHttp. Para obtener más información sobre la **seguridad** pestaña en el **propiedades de transporte WCF-WSHttp** cuadro de diálogo, vea el **delcuadrodediálogodepropiedadesdetransporteWCF-WSHttp,recepción,seguridad**ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].

8. En el **propiedades de transporte WCF-WSHttp** cuadro de diálogo el **mensajes** ficha, especifique la selección de datos de SOAP **cuerpo** elemento. Para obtener más información sobre la **mensajes** pestaña en el **propiedades de transporte WCF-WSHttp** cuadro de diálogo, vea el **mensajes del cuadro de diálogo de propiedades de transporte WCF-WSHttp, recepción,** ficha [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].

## <a name="configure-a-wcf-wshttp-receive-location-programmatically"></a>Configurar un WCF-WSHttp mediante programación de la ubicación de recepción

 Puede usar el siguiente formato para establecer las propiedades:  

```xml
<CustomProps>  
  <InboundBodyPathExpression vt="8" />  
  <InboundBodyLocation vt="8">UseBodyElement</InboundBodyLocation>  
  <UseSSO vt="11">0</UseSSO>  
  <MessageClientCredentialType vt="8">Windows</MessageClientCredentialType>  
  <SendTimeout vt="8">00:01:00</SendTimeout>  
  <OutboundXmlTemplate vt="8"><bts-msg-body xmlns="http://www.microsoft.com/schemas/bts2007" encoding="xml"/></OutboundXmlTemplate>  
  <OpenTimeout vt="8">00:01:00</OpenTimeout>  
  <AlgorithmSuite vt="8">Basic256</AlgorithmSuite>  
  <SecurityMode vt="8">Message</SecurityMode>  
  <TransportClientCredentialType vt="8">Windows</TransportClientCredentialType>  
  <NegotiateServiceCredential vt="11">-1</NegotiateServiceCredential>  
  <MaxReceivedMessageSize vt="3">2097152</MaxReceivedMessageSize>  
  <TextEncoding vt="8">utf-8</TextEncoding>  
  <CloseTimeout vt="8">00:01:00</CloseTimeout>  
  <SuspendMessageOnFailure vt="11">0</SuspendMessageOnFailure>  
  <EnableTransaction vt="11">0</EnableTransaction>  
  <InboundNodeEncoding vt="8">Xml</InboundNodeEncoding>  
  <EstablishSecurityContext vt="11">-1</EstablishSecurityContext>  
  <IncludeExceptionDetailInFaults vt="11">0</IncludeExceptionDetailInFaults>  
  <MaxConcurrentCalls vt="3">16</MaxConcurrentCalls>  
  <ServiceCertificate vt="8" />  
  <MessageEncoding vt="8">Text</MessageEncoding>  
  <OutboundBodyLocation vt="8">UseBodyElement</OutboundBodyLocation>  
</CustomProps>  

```  

 El siguiente fragmento de código muestra la creación de una ubicación de recepción WCF-WSHttp:  

```csharp
// Use BizTalk Explorer object model to create new WCF-WSHttp receive location   
string server = System.Environment.MachineName;  
string database = "BizTalkMgmtDb";  
string connectionString = string.Format("Server={0};Database={1};Integrated Security=true", server, database);  
string transportConfigData = @"<CustomProps>  
  <InboundBodyLocation vt=""8"">UseBodyElement</InboundBodyLocation>  
  <UseSSO vt=""11"">0</UseSSO>  
  <Identity vt=""8"">  
    <identity>  
    <userPrincipalName value=""username@contoso.com"" />  
    </identity>  
  </Identity>  
</CustomProps>";  
//requires project reference to \Program Files\Microsoft BizTalk Server 2009\Developer Tools\Microsoft.BizTalk.ExplorerOM.dll  
BtsCatalogExplorer explorer = new Microsoft.BizTalk.ExplorerOM.BtsCatalogExplorer();  
explorer.ConnectionString = connectionString;  
// Add a new BizTalk application  
Application application = explorer.AddNewApplication();  
application.Name = "SampleBizTalkApplication1001";  
// Save  
explorer.SaveChanges();  

// Add a new one-way receive port  
IReceivePort receivePort = application.AddNewReceivePort(false);  
receivePort.Name = "SampleReceivePort";  
// Add a new one-way receive location  
IReceiveLocation receiveLocation = receivePort.AddNewReceiveLocation();  
receiveLocation.Name = "SampleReceiveLocation";  
// Find a receive handler for WCF-WSHttp   
int i = 0;  
for(i=0; i < explorer.ReceiveHandlers.Count; ++i)   
{  
    if("WCF-WSHttp" == explorer.ReceiveHandlers[i].TransportType.Name)  
        break;  
}  
receiveLocation.ReceiveHandler = explorer.ReceiveHandlers[i];  
receiveLocation.Address = "/samplepath/sampleservice.svc";  
receiveLocation.ReceivePipeline = explorer.Pipelines["Microsoft.BizTalk.DefaultPipelines.PassThruReceive"];  
receiveLocation.TransportType = explorer.ProtocolTypes["WCF-WSHttp"];  
receiveLocation.TransportTypeData = transportConfigData;  
// Save  
explorer.SaveChanges();   
```  

## <a name="see-also"></a>Vea también  
 [Adaptadores de recepción de la publicación de servicios WCF con el WCF aislados](../core/publishing-wcf-services-with-the-isolated-wcf-receive-adapters.md)   
 [Configuración de IIS para WCF aislado adaptadores de recepción](../core/configuring-iis-for-the-isolated-wcf-receive-adapters.md)   
 [Administración de Hosts de BizTalk y las instancias de Host](../core/managing-biztalk-hosts-and-host-instances.md)   
 [Cómo cambiar contraseñas y cuentas de servicio](../core/how-to-change-service-accounts-and-passwords.md)   
 [Instalación de certificados para los adaptadores de WCF](../core/installing-certificates-for-the-wcf-adapters.md)   
 [Especificar el cuerpo del mensaje para los adaptadores de WCF](../core/specifying-the-message-body-for-the-wcf-adapters.md)   
 [Configuración del adaptador de WCF-WSHttp](../core/configuring-the-wcf-wshttp-adapter.md)