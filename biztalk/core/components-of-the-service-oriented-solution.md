---
title: Solución orientada a servicios de componentes del servicio | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- service solution tutorial, pipelines
- pipelines, service solutions
- service solution tutorial, assemblies
- service solution tutorial, components [BizTalk Server]
- service solution tutorial, client applications
- assemblies, service solutions
- orchestrations, service solutions
- client applications, service solutions
- back-end systems
- service solution tutorial, orchestrations
- service solution tutorial, back-end applications
ms.assetid: 97b7b754-abfb-48f9-87bf-7fe171121166
caps.latest.revision: 22
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a50743b178f9394c74b137e265532542af2b579c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22234260"
---
# <a name="components-of-the-service-oriented-solution"></a><span data-ttu-id="a42c8-102">Solución orientada a servicios de componentes del servicio</span><span class="sxs-lookup"><span data-stu-id="a42c8-102">Components of the Service Oriented Solution</span></span>
<span data-ttu-id="a42c8-103">En esta sección se describen los principales componentes de BizTalk Server de la solución orientada a servicios.</span><span class="sxs-lookup"><span data-stu-id="a42c8-103">This section describes the major BizTalk Server components of the Service Oriented Solution.</span></span> <span data-ttu-id="a42c8-104">El siguiente diagrama muestra los principales componentes de la solución:</span><span class="sxs-lookup"><span data-stu-id="a42c8-104">The following diagram shows the major components of the solution:</span></span>  
  
 <span data-ttu-id="a42c8-105">![Diagrama de flujo de solución orientada a servicios](../core/media/service-oriented-flow-diagram.gif "Service_Oriented_Flow_Diagram")</span><span class="sxs-lookup"><span data-stu-id="a42c8-105">![Service Oriented Solution Flow Diagram](../core/media/service-oriented-flow-diagram.gif "Service_Oriented_Flow_Diagram")</span></span>  
  
 <span data-ttu-id="a42c8-106">La solución orientada a servicios tiene tres versiones de las orquestaciones:</span><span class="sxs-lookup"><span data-stu-id="a42c8-106">The Service Oriented solution has three versions of the orchestrations:</span></span>  
  
-   <span data-ttu-id="a42c8-107">Una versión en la que las tres aplicaciones servidor son auxiliares</span><span class="sxs-lookup"><span data-stu-id="a42c8-107">A version in which all three of the back-end applications are stubbed out</span></span>  
  
-   <span data-ttu-id="a42c8-108">Una versión en la que las tres aplicaciones servidor se invocan en línea</span><span class="sxs-lookup"><span data-stu-id="a42c8-108">One in which all three back-end applications are invoked inline</span></span>  
  
-   <span data-ttu-id="a42c8-109">Una versión que utiliza adaptadores para conectarse a las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="a42c8-109">A version that uses adapters to connect to the applications.</span></span>  
  
 <span data-ttu-id="a42c8-110">Todas las versiones de las orquestaciones se muestran en el directorio SDK\Senarios\SO\BTSSoln\Orchestrations.</span><span class="sxs-lookup"><span data-stu-id="a42c8-110">All versions of the orchestrations appear in the SDK\Senarios\SO\BTSSoln\Orchestrations directory.</span></span>  
  
 <span data-ttu-id="a42c8-111">La versión en línea de las orquestaciones ofrece el tiempo más bajo de latencia entre las solicitudes y las respuestas dentro de la solución.</span><span class="sxs-lookup"><span data-stu-id="a42c8-111">The inline version of the orchestrations provides the lowest latency time within the solution between requests and responses.</span></span>  
  
 <span data-ttu-id="a42c8-112">Para obtener información acerca de los archivos de origen, consulte [inventario de archivos para la solución orientada a servicios](../core/file-inventory-for-the-service-oriented-solution.md).</span><span class="sxs-lookup"><span data-stu-id="a42c8-112">For information about the source files, see [File Inventory for the Service Oriented Solution](../core/file-inventory-for-the-service-oriented-solution.md).</span></span>  
  
## <a name="orchestrations-in-the-service-oriented-solution"></a><span data-ttu-id="a42c8-113">Orquestaciones en la solución orientada a servicios</span><span class="sxs-lookup"><span data-stu-id="a42c8-113">Orchestrations in the Service Oriented Solution</span></span>  
 <span data-ttu-id="a42c8-114">Tres orquestaciones, **CustomerServiceReceiveSend**, **CustomerServiceNativeRequestResponse**, y **CustomerService** componen la mayor parte de la solución.</span><span class="sxs-lookup"><span data-stu-id="a42c8-114">Three orchestrations, **CustomerServiceReceiveSend**, **CustomerServiceNativeRequestResponse**, and **CustomerService** compose the bulk of the solution.</span></span> <span data-ttu-id="a42c8-115">El **CustomerServiceReceiveSend** y **CustomerServiceNativeRequestResponse** orquestaciones actúan como servidores front-end que llaman a la **CustomerService** orquestación.</span><span class="sxs-lookup"><span data-stu-id="a42c8-115">The **CustomerServiceReceiveSend** and **CustomerServiceNativeRequestResponse** orchestrations act as front-ends that call the **CustomerService** orchestration.</span></span> <span data-ttu-id="a42c8-116">El **CustomerService** orquestación realiza la mayor parte del trabajo, enviar solicitudes a las aplicaciones de back-end, recopila las respuestas, combina en un único mensaje y envía el mensaje a la correspondiente front-end orquestación.</span><span class="sxs-lookup"><span data-stu-id="a42c8-116">The **CustomerService** orchestration does most of the work—sending requests to the back-end applications, gathering the replies, combining the replies into a single message, and sending the message to the appropriate front-end orchestration.</span></span> <span data-ttu-id="a42c8-117">Ya que las orquestaciones cliente llaman a la **CustomerService** las orquestaciones front-end de orquestación, esperan hasta que el **CustomerService** termine de orquestación.</span><span class="sxs-lookup"><span data-stu-id="a42c8-117">Because the front-end orchestrations call the **CustomerService** orchestration, the front-end orchestrations wait until the **CustomerService** orchestration finishes.</span></span>  
  
 <span data-ttu-id="a42c8-118">La solución expone la **CustomerServiceNativeRequestResponse** orquestaciones como servicios Web.</span><span class="sxs-lookup"><span data-stu-id="a42c8-118">The solution exposes the **CustomerServiceNativeRequestResponse** orchestration as a Web service.</span></span> <span data-ttu-id="a42c8-119">El **CustomerServiceReceiveSend** orquestación toma mensajes de una cola de MQSeries.</span><span class="sxs-lookup"><span data-stu-id="a42c8-119">The **CustomerServiceReceiveSend** orchestration takes messages from an MQSeries queue.</span></span>  
  
## <a name="back-end-applications"></a><span data-ttu-id="a42c8-120">Aplicaciones de servidor</span><span class="sxs-lookup"><span data-stu-id="a42c8-120">Back-end Applications</span></span>  
 <span data-ttu-id="a42c8-121">La solución orientada a servicios se comunica con tres aplicaciones servidor:</span><span class="sxs-lookup"><span data-stu-id="a42c8-121">The Service Oriented solution communicates with three back-end applications:</span></span>  
  
-   <span data-ttu-id="a42c8-122">El **PaymentTracker** aplicación devuelve una lista simulada de pagos recientes.</span><span class="sxs-lookup"><span data-stu-id="a42c8-122">The **PaymentTracker** application returns a simulated list of recent payments.</span></span> <span data-ttu-id="a42c8-123">**Seguimiento de pago** lee la solicitud de una cola de MQSeries y envía la respuesta a otra cola de MQSeries.</span><span class="sxs-lookup"><span data-stu-id="a42c8-123">**PaymentTracker** reads the request from an MQSeries queue and sends the response to another MQSeries queue.</span></span>  
  
-   <span data-ttu-id="a42c8-124">El **PendingTransaction** aplicación notifica la suma de las transacciones pendientes en la cuenta del cliente.</span><span class="sxs-lookup"><span data-stu-id="a42c8-124">The **PendingTransaction** application reports the sum of transactions pending against the customer account.</span></span> <span data-ttu-id="a42c8-125">La aplicación es un servicio Web que, a su vez, utiliza Microsoft Host Integration Server (HIS) para comunicarse con un programa CICS/COBOL en un gran sistema (mainframe).</span><span class="sxs-lookup"><span data-stu-id="a42c8-125">The application is a Web service that, in turn, uses Microsoft Host Integration Server (HIS) to communicate with a CICS/COBOL program on a mainframe computer.</span></span>  
  
-   <span data-ttu-id="a42c8-126">La aplicación SAP suministra información sobre el límite de crédito global del cliente.</span><span class="sxs-lookup"><span data-stu-id="a42c8-126">The SAP application provides information about the customer's overall credit limit.</span></span> <span data-ttu-id="a42c8-127">La solución se conecta a la aplicación SAP como servicio Web.</span><span class="sxs-lookup"><span data-stu-id="a42c8-127">The solution connects to the SAP application as a Web service.</span></span> <span data-ttu-id="a42c8-128">Usa el Conector para SAP en [!INCLUDE[adapterpacknoversion](../includes/adapterpacknoversion-md.md)] para comunicarse con un sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="a42c8-128">The application uses the SAP adapter in [!INCLUDE[adapterpacknoversion](../includes/adapterpacknoversion-md.md)] to communicate with a SAP system.</span></span>  
  
## <a name="pipelines"></a><span data-ttu-id="a42c8-129">Canalizaciones</span><span class="sxs-lookup"><span data-stu-id="a42c8-129">Pipelines</span></span>  
 <span data-ttu-id="a42c8-130">La solución orientada a servicios utiliza canalizaciones predeterminadas excepto en dos lugares: la canalización de recepción para el **CustomerServiceReceiveSend** orquestación y el **CustomerService** envío de orquestación canalización para la **PaymentTracker**.</span><span class="sxs-lookup"><span data-stu-id="a42c8-130">The Service Oriented solution uses default pipelines except in two places: the receive pipeline for the **CustomerServiceReceiveSend** orchestration, and the **CustomerService** orchestration's send pipeline to the **PaymentTracker**.</span></span> <span data-ttu-id="a42c8-131">Ambas canalizaciones utilizan componentes personalizados.</span><span class="sxs-lookup"><span data-stu-id="a42c8-131">Both pipelines use custom components.</span></span>  
  
 <span data-ttu-id="a42c8-132">La canalización de recepción para **CustomerServiceReceiveSend** incluye un componente de resolución de entidad personalizado, **componente de canalización de emisor de vale de SSO**.</span><span class="sxs-lookup"><span data-stu-id="a42c8-132">The receive pipeline for **CustomerServiceReceiveSend** includes a custom party resolution component, **SSO Ticket Issuer Pipeline Component**.</span></span> <span data-ttu-id="a42c8-133">Los mensajes que el **CustomerServiceReceiveSend** recibe la orquestación no tiene las credenciales.</span><span class="sxs-lookup"><span data-stu-id="a42c8-133">The messages that the **CustomerServiceReceiveSend** orchestration receives do not have credentials.</span></span> <span data-ttu-id="a42c8-134">Esto simula lo que ocurriría si los mensajes procediesen de un sistema de respuesta interactiva de voz.</span><span class="sxs-lookup"><span data-stu-id="a42c8-134">This simulates what would happen if the messages came from an Interactive Voice Response system.</span></span> <span data-ttu-id="a42c8-135">El componente de canalización personalizado agrega credenciales mediante la cuenta de servicio del host de recepción de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="a42c8-135">The custom pipeline component adds credentials using the service account of the BizTalk receive host.</span></span>  
  
 <span data-ttu-id="a42c8-136">En cambio, los mensajes de la **Customerservicenativerequestresponse** orquestación recibe ya tienen credenciales.</span><span class="sxs-lookup"><span data-stu-id="a42c8-136">In contrast, the messages the **CustomerSericeNativeRequestResponse** orchestration receives already have credentials.</span></span> <span data-ttu-id="a42c8-137">Puesto que la carpeta virtual para el servicio Web está configurada para seguridad integrada y la ubicación de recepción de SOAP está configurada para integrar el inicio de sesión único (SSO) empresarial, el adaptador de SOAP genera un vale para el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a42c8-137">Because the virtual folder for the Web service is configured for integrated security and the SOAP receive location is configured to integrate Enterprise Single Sign-On (SSO), the SOAP adapter generates a ticket for the message.</span></span>  
  
 <span data-ttu-id="a42c8-138">La otra canalización personalizada aparece en la **CustomerService** canalización de envío para la **PaymentTracker** aplicación.</span><span class="sxs-lookup"><span data-stu-id="a42c8-138">The other custom pipeline appears in the **CustomerService** send pipeline to the **PaymentTracker** application.</span></span> <span data-ttu-id="a42c8-139">El Componente de canalización establecedor de encabezado de MQSeries establece los valores para dos propiedades de encabezado de mensaje de MQSeries.</span><span class="sxs-lookup"><span data-stu-id="a42c8-139">The component, MQSeries Header Setter Pipeline Component, sets values for two MQSeries message header properties.</span></span> <span data-ttu-id="a42c8-140">El componente establece la primera, el formato de datos del mensaje (**MQMD_Format**), para indicar que el mensaje es en forma de un **MQCIH** estructura, una estructura utilizada habitualmente para comunicarse con los programas CICS.</span><span class="sxs-lookup"><span data-stu-id="a42c8-140">The component sets the first, the Message Data Format (**MQMD_Format**), to indicate the message is in the form of an **MQCIH** structure, a structure commonly used to communicate with CICS programs.</span></span> <span data-ttu-id="a42c8-141">El segundo, el formato de los propios datos dentro de la **MQCIH** estructura (**MQCIH_Format**), se establece para mostrar el mensaje es una cadena.</span><span class="sxs-lookup"><span data-stu-id="a42c8-141">The second, the format of the data itself within the **MQCIH** structure (**MQCIH_Format**),is set to show the message is a string.</span></span>  
  
 <span data-ttu-id="a42c8-142">Mediante el **MQCIH** formato le permite pasar el Id. de usuario y la contraseña en el **MQCIH** estructura.</span><span class="sxs-lookup"><span data-stu-id="a42c8-142">Using the **MQCIH** format enables you to pass the user ID and password in the **MQCIH** structure.</span></span> <span data-ttu-id="a42c8-143">Aplicaciones afiliadas de SSO asignan Id. de usuario de Windows de la aplicación de BizTalk para Id el pago del sistema de seguimiento pasado en el **MQCIH** estructura.</span><span class="sxs-lookup"><span data-stu-id="a42c8-143">SSO affiliate applications map the BizTalk application's Windows user ID to the Payment Tracking System's user IDs passed in the **MQCIH** structure.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a42c8-144">La versión en línea de la solución utiliza las mismas canalizaciones al llamarlas desde la orquestación.</span><span class="sxs-lookup"><span data-stu-id="a42c8-144">The inline version of the solution uses the same pipelines by calling them from the orchestration.</span></span> <span data-ttu-id="a42c8-145">Esto permite reutilizar el código de canalización.</span><span class="sxs-lookup"><span data-stu-id="a42c8-145">This enables re-use of the pipeline code.</span></span>  
  
## <a name="client-application"></a><span data-ttu-id="a42c8-146">Aplicación de cliente</span><span class="sxs-lookup"><span data-stu-id="a42c8-146">Client Application</span></span>  
 <span data-ttu-id="a42c8-147">La solución incluye una aplicación cliente escrita en C#.</span><span class="sxs-lookup"><span data-stu-id="a42c8-147">The solution includes a client application written in C#.</span></span> <span data-ttu-id="a42c8-148">Puede utilizarla para enviar solicitudes en forma de mensajes de SOAP o MQSeries y examinar los resultados</span><span class="sxs-lookup"><span data-stu-id="a42c8-148">You can use the application to send requests as SOAP or MQSeries messages, and examine the results.</span></span>  
  
## <a name="other-assemblies"></a><span data-ttu-id="a42c8-149">Otros ensamblados</span><span class="sxs-lookup"><span data-stu-id="a42c8-149">Other Assemblies</span></span>  
 <span data-ttu-id="a42c8-150">La aplicación incorpora varios ensamblados auxiliares que no se muestran en el diagrama de resumen anterior.</span><span class="sxs-lookup"><span data-stu-id="a42c8-150">The application includes several auxiliary assemblies not shown in the summary diagram above.</span></span> <span data-ttu-id="a42c8-151">El **utilidades** funciones de utilidad de ensamblado de la solución.</span><span class="sxs-lookup"><span data-stu-id="a42c8-151">The **Utilities** assembly utility functions for the solution.</span></span>  
  
 <span data-ttu-id="a42c8-152">El **ErrorHelper** ensamblado contiene clases para traducir los códigos de error en mensajes y para convertir los mensajes de error a códigos de error.</span><span class="sxs-lookup"><span data-stu-id="a42c8-152">The **ErrorHelper** assembly contains classes to translate error codes into messages, and to convert error messages to error codes.</span></span>  
  
 <span data-ttu-id="a42c8-153">El **ServiceLevelTracking** ensamblado incluye métodos auxiliares que utilizan la actividad supervisión económica (SAE) API para realizar un seguimiento de los datos del contrato de nivel de servicio.</span><span class="sxs-lookup"><span data-stu-id="a42c8-153">The **ServiceLevelTracking** assembly includes helper methods using the Business Activity Monitoring (BAM) API to track service-level agreement data.</span></span>  
  
 <span data-ttu-id="a42c8-154">El **ConfigHelper** ensamblado contiene métodos auxiliares para recuperar valores de configuración de la solución desde la **SSOConfigStore** aplicación.</span><span class="sxs-lookup"><span data-stu-id="a42c8-154">The **ConfigHelper** assembly contains helper methods to retrieve configuration values for the solution from the **SSOConfigStore** application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a42c8-155">Vea también</span><span class="sxs-lookup"><span data-stu-id="a42c8-155">See Also</span></span>  
 <span data-ttu-id="a42c8-156">[Desarrollar un servicio en la solución orientada a servicios](../core/developing-a-service-oriented-solution.md) </span><span class="sxs-lookup"><span data-stu-id="a42c8-156">[Developing a Service Oriented Solution](../core/developing-a-service-oriented-solution.md) </span></span>  
 [<span data-ttu-id="a42c8-157">Solución orientada a servicios de inventario de archivos para el servicio</span><span class="sxs-lookup"><span data-stu-id="a42c8-157">File Inventory for the Service Oriented Solution</span></span>](../core/file-inventory-for-the-service-oriented-solution.md)