---
title: Consideraciones para BAM de mantenimiento de código | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- BAM, code maintenance
- BAMInterceptor class
ms.assetid: e1f1d8e0-207c-47e1-b9bd-a473c86922ce
caps.latest.revision: 19
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 78ebeb83c16b16edec7ae4535f4b4ade4da061bf
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37014437"
---
# <a name="considerations-for-bam-code-maintenance"></a><span data-ttu-id="108d1-102">Consideraciones sobre el mantenimiento de códigos de BAM</span><span class="sxs-lookup"><span data-stu-id="108d1-102">Considerations for BAM Code Maintenance</span></span>
<span data-ttu-id="108d1-103">Cuando decida cómo instrumentar la aplicación para usar BAM, debe considerar la posibilidad de que las necesidades cambiarán.</span><span class="sxs-lookup"><span data-stu-id="108d1-103">When you decide how to instrument your application to use BAM, you should consider the likelihood that requirements will change.</span></span> <span data-ttu-id="108d1-104">Si llama métodos en una de las clases [Microsoft.BizTalk.Bam.EventObservation.EventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.eventstream.aspx) para escribir los datos que se supervisan, básicamente está "codificando" el modelo de observación en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="108d1-104">If you call methods on one of the [Microsoft.BizTalk.Bam.EventObservation.EventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.eventstream.aspx) classes to write the data that is being monitored, you are essentially “hard-coding” the observation model into the application.</span></span> <span data-ttu-id="108d1-105">Si necesita cambiar qué datos se supervisan, deberá desactivar la aplicación, modificar el código, recompilar la aplicación y, a continuación, volver a implementar la aplicación actualizada.</span><span class="sxs-lookup"><span data-stu-id="108d1-105">If you need to change which data is being monitored, you will have to take the application offline, change the code, recompile the application, and then redeploy the updated application.</span></span>  
  
 <span data-ttu-id="108d1-106">Como alternativa, puede instrumentar la aplicación llamando a métodos de la clase [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) .</span><span class="sxs-lookup"><span data-stu-id="108d1-106">Alternatively, you can instrument your application by calling methods on the [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) class.</span></span> <span data-ttu-id="108d1-107">La clase [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) hace referencia a un archivo de configuración para determinar qué eventos y datos se supervisan.</span><span class="sxs-lookup"><span data-stu-id="108d1-107">The [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) class refers to a configuration file to determine which events and data to monitor.</span></span> <span data-ttu-id="108d1-108">Usando la clase [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) , puede instrumentar el código una vez y, a continuación, modificar los datos que se supervisan mediante la actualización de los metadatos, sin tener que desactivar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="108d1-108">By using the [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) class, you can instrument your code once, and then change the data that is being monitored by updating the metadata, without having to take the application offline.</span></span>  
  
## <a name="instrumenting-your-application-by-using-the-eventstream-object"></a><span data-ttu-id="108d1-109">Instrumentación de la aplicación con el objeto EventStream</span><span class="sxs-lookup"><span data-stu-id="108d1-109">Instrumenting Your Application by Using the EventStream Object</span></span>  
 <span data-ttu-id="108d1-110">Esta aproximación es más sencilla y puede aplicarse cuando se construye una aplicación dedicada con requisitos de supervisión específicos y muy conocidos.</span><span class="sxs-lookup"><span data-stu-id="108d1-110">This approach is simpler and applies when you are building a dedicated application with specific, well-known monitoring requirements.</span></span> <span data-ttu-id="108d1-111">Antes de decidirse a usar esta aproximación, deberá poder responder a las siguientes preguntas:</span><span class="sxs-lookup"><span data-stu-id="108d1-111">Before deciding to use this approach, you need to know the answers to the following questions:</span></span>  
  
- <span data-ttu-id="108d1-112">¿Cuáles son los hitos de BAM y dónde se encuentran en el código?</span><span class="sxs-lookup"><span data-stu-id="108d1-112">What are the BAM milestones, and where in the code do they occur?</span></span>  
  
- <span data-ttu-id="108d1-113">¿Qué datos se supervisan y qué momento y qué lugar del código están los datos disponibles?</span><span class="sxs-lookup"><span data-stu-id="108d1-113">What data will be monitored, and when and where in the code is that data available?</span></span>  
  
  <span data-ttu-id="108d1-114">Si es probable que la respuesta una de estas preguntas cambie, debe considerar la posibilidad de instrumentar la aplicación mediante el objeto [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx)en su lugar.</span><span class="sxs-lookup"><span data-stu-id="108d1-114">If the answer to either of these questions is likely to change, you should consider instrumenting your application by using the [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx)object instead.</span></span>  
  
  <span data-ttu-id="108d1-115">Si sigue esta aproximación de "codificación", simplemente llama a métodos de la clase [Microsoft.BizTalk.Bam.EventObservation.DirectEventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.directeventstream.aspx), [Microsoft.BizTalk.Bam.EventObservation.BufferedEventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.bufferedeventstream.aspx), **MessagingEventStream** (de implementaciones de canalizaciones) o bien **OrchestrationEventStream** (de implementaciones de orquestaciones), en función de las necesidades.</span><span class="sxs-lookup"><span data-stu-id="108d1-115">When you follow this “hard-coded” approach, you simply call methods on the [Microsoft.BizTalk.Bam.EventObservation.DirectEventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.directeventstream.aspx), [Microsoft.BizTalk.Bam.EventObservation.BufferedEventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.bufferedeventstream.aspx), **MessagingEventStream** (from pipeline implementations) or **OrchestrationEventStream** (from orchestration implementations) class, depending on your requirements.</span></span>  
  
## <a name="instrumenting-your-application-by-using-the-baminterceptor-object"></a><span data-ttu-id="108d1-116">Instrumentación de la aplicación con el objeto BAMInterceptor</span><span class="sxs-lookup"><span data-stu-id="108d1-116">Instrumenting Your Application by Using the BAMInterceptor Object</span></span>  
 <span data-ttu-id="108d1-117">La aproximación es mejor cuando:</span><span class="sxs-lookup"><span data-stu-id="108d1-117">This approach is better when:</span></span>  
  
- <span data-ttu-id="108d1-118">Necesita equilibrar la visibilidad de datos con el rendimiento de la aplicación, y desea poder controlar los datos que se supervisan en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="108d1-118">You need to balance visibility of data with performance of the application, and you want to be able to control the data that is monitored at run time.</span></span>  
  
- <span data-ttu-id="108d1-119">La aplicación procesa mensajes XML de grandes dimensiones, en los que todos los datos pueden ser importantes para la supervisión.</span><span class="sxs-lookup"><span data-stu-id="108d1-119">The application processes large XML messages, in which any data may eventually become important for monitoring.</span></span>  
  
- <span data-ttu-id="108d1-120">No se admite detener la aplicación y cambiar el código para supervisar datos distintos.</span><span class="sxs-lookup"><span data-stu-id="108d1-120">It is unacceptable to stop the application and change the code to monitor different data.</span></span>  
  
  <span data-ttu-id="108d1-121">En esta aproximación, se instrumenta la aplicación de una forma genérica mediante los métodos de la clase [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx).</span><span class="sxs-lookup"><span data-stu-id="108d1-121">In this approach, you instrument the application in a generic way by using the methods of the [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx)class.</span></span> <span data-ttu-id="108d1-122">Si se pasan al interceptor distintas configuraciones, se pueden cambiar los datos que BAM supervisa.</span><span class="sxs-lookup"><span data-stu-id="108d1-122">By passing different configurations to the interceptor, you can change the data that BAM monitors.</span></span>  
  
  <span data-ttu-id="108d1-123">Puede usar el Editor de perfiles de seguimiento (TPE) para modificar los datos que BAM recopila de una orquestación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="108d1-123">You can use the Tracking Profile Editor (TPE) to change the data that BAM collects from a BizTalk orchestration.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="108d1-124">Vea también</span><span class="sxs-lookup"><span data-stu-id="108d1-124">See Also</span></span>  
 <span data-ttu-id="108d1-125">[Uso de una actividad](../core/using-an-activity.md) </span><span class="sxs-lookup"><span data-stu-id="108d1-125">[Using an Activity](../core/using-an-activity.md) </span></span>  
 <span data-ttu-id="108d1-126">[¿Qué es el Interceptor de BAM?](../core/what-is-the-bam-interceptor.md) </span><span class="sxs-lookup"><span data-stu-id="108d1-126">[What Is the BAM Interceptor?](../core/what-is-the-bam-interceptor.md) </span></span>  
 [<span data-ttu-id="108d1-127">API de BAM (ejemplo de BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="108d1-127">BAM API (BizTalk Server Sample)</span></span>](../core/bam-api-biztalk-server-sample.md)