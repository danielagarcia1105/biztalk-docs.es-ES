---
title: Lotes de mensajes transaccionales | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: b1790c05-e3f7-4667-8a9e-f6f208e55e40
caps.latest.revision: "9"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 28be423aa500ba8950b5b2100ce68dba7743bd79
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="transactional-message-batches"></a><span data-ttu-id="f5bee-102">Lotes de mensajes transaccionales</span><span class="sxs-lookup"><span data-stu-id="f5bee-102">Transactional Message Batches</span></span>
<span data-ttu-id="f5bee-103">Algunos adaptadores deben coordinar una transacción externa con un interno [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] transacciones.</span><span class="sxs-lookup"><span data-stu-id="f5bee-103">Some adapters must coordinate an external transaction with an internal [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] transaction.</span></span> <span data-ttu-id="f5bee-104">Por ejemplo, el adaptador de SQL proporcionado con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] debe coordinar una [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] transacción con un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] transacciones.</span><span class="sxs-lookup"><span data-stu-id="f5bee-104">For example, the SQL adapter supplied with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] must coordinate a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] transaction with a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] transaction.</span></span> <span data-ttu-id="f5bee-105">Para ello, el adaptador necesita tener acceso a la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] un objeto de transacción.</span><span class="sxs-lookup"><span data-stu-id="f5bee-105">To do this, the adapter needs access to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] transaction object.</span></span> <span data-ttu-id="f5bee-106">Un objeto de transacción explícitamente se crea y asociado al lote antes de que el lote se envía a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f5bee-106">A transaction object is explicitly created and associated with the batch before the batch is submitted to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="f5bee-107">Un lote que tiene asociado un objeto de transacción recibe el nombre de lote transaccional.</span><span class="sxs-lookup"><span data-stu-id="f5bee-107">A batch that has an associated transaction object is called a transactional batch.</span></span> <span data-ttu-id="f5bee-108">Si se suministra su propio objeto de transacción del Coordinador de transacciones distribuidas de Microsoft (MSDTC), puede lograr el "garantiza que, una vez y sólo una vez", la entrega de datos dentro y fuera de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f5bee-108">By supplying your own Microsoft Distributed Transaction Coordinator (MSDTC) transaction object, you can achieve the "guaranteed, once and once only", delivery of data into and out of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
 <span data-ttu-id="f5bee-109">Los adaptadores de bases de datos transaccionales, como el adaptador de SQL, tienen la posibilidad de interbloqueos en la base de datos externa, debido a que solo se usa una transacción para el lote.</span><span class="sxs-lookup"><span data-stu-id="f5bee-109">Transactional database adapters like the SQL adapter have the potential for deadlocks in the external database because of the single transaction used for the batch.</span></span> <span data-ttu-id="f5bee-110">Este es el motivo por el que el tamaño del lote del adaptador de SQL se codifica en uno.</span><span class="sxs-lookup"><span data-stu-id="f5bee-110">This is why the batch size for the SQL adapter is hard-coded to one.</span></span>  
  
 <span data-ttu-id="f5bee-111">Si el adaptador debe dar de alta los administradores de recursos adicionales, por ejemplo, otra base de datos o MSMQ, en el ámbito de dicha transacción, es necesario crear y pasar al motor de mensajería, así como explicitar una transacción externa.</span><span class="sxs-lookup"><span data-stu-id="f5bee-111">Should the adapter need to enlist additional resource managers, such as another database or MSMQ, within the scope of that transaction, it must create and pass to the Messaging Engine an explicit external transaction.</span></span> <span data-ttu-id="f5bee-112">La creación de una transacción externa y su asociación a un lote recibe el nombre de lote transaccional.</span><span class="sxs-lookup"><span data-stu-id="f5bee-112">Creating an external transaction and associating it with a batch is a called a transactional batch.</span></span> <span data-ttu-id="f5bee-113">Un adaptador transaccional es un adaptador que hace uso de los lotes transaccionales mediante la creación expresa de una transacción externa del Coordinador de transacciones distribuidas de Microsoft (MSDTC).</span><span class="sxs-lookup"><span data-stu-id="f5bee-113">A transactional adapter is an adapter that makes use of transactional batches by explicitly creating an external Microsoft Distributed Transaction Coordinator (MSDTC) transaction.</span></span>  
  
 <span data-ttu-id="f5bee-114">Uno de los motivos proporciona un adaptador [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] con una transacción consiste en asegurarse de que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] o el sistema externo tenga un registro de los datos.</span><span class="sxs-lookup"><span data-stu-id="f5bee-114">One of the reasons an adapter provides [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with a transaction is to ensure that either [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] or the external system has a record of the data.</span></span> <span data-ttu-id="f5bee-115">Este registro garantiza que el mensaje se entrega una única vez.</span><span class="sxs-lookup"><span data-stu-id="f5bee-115">This record ensures the message is delivered once and only once.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f5bee-116">Para obtener más información acerca de MSDTC, vea la documentación para el Coordinador de transacciones distribuidas en: [http://go.microsoft.com/fwlink/?LinkId=44297](http://go.microsoft.com/fwlink/?LinkId=44297).</span><span class="sxs-lookup"><span data-stu-id="f5bee-116">For more information about MSDTC, see the documentation for the Distributed Transaction Coordinator at: [http://go.microsoft.com/fwlink/?LinkId=44297](http://go.microsoft.com/fwlink/?LinkId=44297).</span></span>  
  
 <span data-ttu-id="f5bee-117">El adaptador de archivo es un ejemplo de un adaptador que no necesita obtener acceso a la transacción, porque las operaciones del archivo externo que administra no son transaccionales.</span><span class="sxs-lookup"><span data-stu-id="f5bee-117">The File adapter is an example of an adapter that does not require access to the transaction because the external file operations it manages are not transactional.</span></span> <span data-ttu-id="f5bee-118">En este caso, el adaptador no proporciona un objeto de transacción a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f5bee-118">In this case, the adapter does not provide a transaction object to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="f5bee-119">Por otro lado, el adaptador de SQL interactúa con una base de datos SQL y puede tener operaciones adicionales fuera de su [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] interacciones de mensajes.</span><span class="sxs-lookup"><span data-stu-id="f5bee-119">The SQL adapter, on the other hand, interacts with an SQL database and may have additional operations outside of its [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message interactions.</span></span> <span data-ttu-id="f5bee-120">Una transacción MSDTC externa en este caso puede tener sentido para el adaptador pasar a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f5bee-120">An external MSDTC transaction in this case may make sense for the adapter to pass to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="f5bee-121">En esta sección</span><span class="sxs-lookup"><span data-stu-id="f5bee-121">In This Section</span></span>  
  
-   [<span data-ttu-id="f5bee-122">Controlar transacciones</span><span class="sxs-lookup"><span data-stu-id="f5bee-122">Handling Transactions</span></span>](../core/handling-transactions.md)