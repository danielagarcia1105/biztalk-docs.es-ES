---
title: 'Tutorial 4: Crear una aplicación híbrida mediante BizTalk Server 2013 | Documentos de Microsoft'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 3a9de95f-7d2c-437d-be5b-0062592f32c6
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5c11b163f34a1320052de585c7ddfc79afb03db4
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22287348"
---
# <a name="tutorial-4-creating-a-hybrid-application-using-biztalk-server-2013"></a><span data-ttu-id="a36e1-102">Tutorial 4: Crear una aplicación híbrida mediante BizTalk Server 2013</span><span class="sxs-lookup"><span data-stu-id="a36e1-102">Tutorial 4: Creating a Hybrid Application Using BizTalk Server 2013</span></span>
<span data-ttu-id="a36e1-103">Esta sección proporciona procedimientos detallados sobre cómo crear una aplicación híbrida que incluya [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)] y [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a36e1-103">This section provides a step-by-step walkthrough on how to create a hybrid application involving [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)] and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="business-scenario"></a><span data-ttu-id="a36e1-104">Escenario de negocio</span><span class="sxs-lookup"><span data-stu-id="a36e1-104">Business Scenario</span></span>  
 <span data-ttu-id="a36e1-105">Northwind es una empresa que recibe pedidos de ventas de sus socios (uno de los cuales es Contoso) en forma de mensajes EDI de archivo sin formato.</span><span class="sxs-lookup"><span data-stu-id="a36e1-105">Northwind is an enterprise that receives sales orders from its partners, one of them being Contoso, in the form of a flat-file EDI message.</span></span> <span data-ttu-id="a36e1-106">Northwind quiere configurar una aplicación de extremo a extremo que realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a36e1-106">Northwind wants to set up an end-to-end application that does the following:</span></span>  
  
-   <span data-ttu-id="a36e1-107">**Administrar el procesamiento de mensajes EDI** : este módulo de la aplicación debe comprobar que el mensaje recibido de Contoso se ajusta a los formatos de mensaje EDI estándares.</span><span class="sxs-lookup"><span data-stu-id="a36e1-107">**Manage the EDI message processing** – This module of the application must verify that the message received from Contoso conforms to the standard EDI message formats.</span></span> <span data-ttu-id="a36e1-108">Este módulo también debe generar todas las confirmaciones necesarias para comprobar que el mensaje se procesa correctamente.</span><span class="sxs-lookup"><span data-stu-id="a36e1-108">This module must also generate all the required acknowledgements to verify that the message is successfully processed.</span></span>  
  
-   <span data-ttu-id="a36e1-109">**Usar lógica de negocios para procesar los datos** : una vez que el mensaje EDI está comprobado y se procesa correctamente, Northwind debe ejecutar el mensaje en la lógica de negocios para su posterior procesamiento.</span><span class="sxs-lookup"><span data-stu-id="a36e1-109">**Use business logic to process the data** – Once the EDI message is successfully verified and processed, Northwind must run the message against business logic for further processing.</span></span> <span data-ttu-id="a36e1-110">Por ejemplo, si la cantidad del pedido en el mensaje recibido es superior a la cantidad proporcionada, los datos se almacenan en una base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a36e1-110">For example, if the order quantity in the received message is more than a given amount, the data is stored in a SQL Server database.</span></span> <span data-ttu-id="a36e1-111">En caso contrario, los datos se envían a una ubicación de archivo compartida.</span><span class="sxs-lookup"><span data-stu-id="a36e1-111">Otherwise, the data is sent to a shared file location.</span></span>  
  
 <span data-ttu-id="a36e1-112">Para lograr este escenario, Northwind decide configurar una aplicación híbrida en la que el procesamiento de mensajes EDI se realice en la nube mientras el procesamiento de datos controlado por la lógica empresarial se realiza en las instalaciones.</span><span class="sxs-lookup"><span data-stu-id="a36e1-112">To achieve this scenario, Northwind decides to set up a hybrid application where the EDI message processing is done on the cloud while the business-logic-driven data processing is done within the premises.</span></span> <span data-ttu-id="a36e1-113">Para configurar esta aplicación híbrida, Northwind usa lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a36e1-113">To set up this hybrid application Northwind uses the following:</span></span>  
  
-   <span data-ttu-id="a36e1-114">**[!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)]** El Portal de Azure BizTalk disponible con [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)] permite a los clientes configurar socios comerciales y acuerdos EDI en [!INCLUDE[winazure](../includes/winazure-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a36e1-114">**[!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)]**  – The Azure BizTalk Portal available with [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)] enables customers to configure trading partners and EDI agreements on [!INCLUDE[winazure](../includes/winazure-md.md)].</span></span> <span data-ttu-id="a36e1-115">Northwind usa la versión de [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)] de abril de 2012 para crear e implementar un acuerdo que procese el mensaje EDI entrante, lo valide con el esquema de pedidos de ventas X12 840, transforme el mensaje en un esquema que necesita Northwind y lo envíe a una cola de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a36e1-115">Northwind uses the [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)] – April 2012 release to create and deploy an agreement that processes the incoming EDI message, validates it against the X12 840 sales order schema, transforms the message to a schema required by Northwind, and then sends the message to a Service Bus Queue.</span></span> <span data-ttu-id="a36e1-116">Así, para desarrollar una aplicación híbrida, los datos deberían enviarse desde la cola de Service Bus a una aplicación local.</span><span class="sxs-lookup"><span data-stu-id="a36e1-116">So, to develop a hybrid application, the data should be sent from the Service Bus Queue to an on-premises application.</span></span>  
  
-   <span data-ttu-id="a36e1-117">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]**: El nuevo adaptador de Bus de servicio (**SB-Messaging**) disponible con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] permite a las aplicaciones recibir mensajes de entidades de Service Bus como colas, temas, y así sucesivamente en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a36e1-117">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]**  – The new adapter for Service Bus (**SB-Messaging**) available with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] enables applications to receive messages from Service Bus entities like Queues, Topics, and so on into [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="a36e1-118">Como parte de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] aplicación, Northwind usa una orquestación para decidir si la cantidad solicitada en el pedido de ventas recibido es superior a 100.</span><span class="sxs-lookup"><span data-stu-id="a36e1-118">As part of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] application, Northwind uses an orchestration to decide whether the quantity requested in the received sales order is more than 100.</span></span> <span data-ttu-id="a36e1-119">Si la cantidad es mayor que 100, el mensaje se inserta en una tabla de base de datos de SQL Server denominada **SalesOrder**.</span><span class="sxs-lookup"><span data-stu-id="a36e1-119">If the quantity is more than 100, the message is inserted into a SQL Server database table called **SalesOrder**.</span></span> <span data-ttu-id="a36e1-120">Si la cantidad es inferior a 100, el mensaje se envía a una ubicación de archivo compartida.</span><span class="sxs-lookup"><span data-stu-id="a36e1-120">If the quantity is less than 100, the message is sent to a shared file location.</span></span>  
  
     <span data-ttu-id="a36e1-121">Para insertar el mensaje en una tabla de base de datos de SQL Server, Northwind usa el [!INCLUDE[adaptersql](../includes/adaptersql-md.md)] disponible como parte de [!INCLUDE[adapterpacknoversion](../includes/adapterpacknoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a36e1-121">To insert the message into a SQL Server database table, Northwind uses the [!INCLUDE[adaptersql](../includes/adaptersql-md.md)] available as part of the [!INCLUDE[adapterpacknoversion](../includes/adapterpacknoversion-md.md)].</span></span>  
  
### <a name="end-to-end-message-flow"></a><span data-ttu-id="a36e1-122">Flujo de mensajes de extremo a extremo</span><span class="sxs-lookup"><span data-stu-id="a36e1-122">End-to-end Message Flow</span></span>  
 <span data-ttu-id="a36e1-123">El mensaje fluye por la aplicación híbrida del modo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a36e1-123">This is how the message flows through the hybrid application:</span></span>  
  
1.  <span data-ttu-id="a36e1-124">Contoso envía un mensaje de pedido de ventas de X12 al extremo en el que se implementa el acuerdo de EDI en la nube.</span><span class="sxs-lookup"><span data-stu-id="a36e1-124">Contoso sends an X12 sales order message to the endpoint where the EDI agreement is deployed on the cloud.</span></span>  
  
2.  <span data-ttu-id="a36e1-125">Una vez procesado correctamente el mensaje a través del acuerdo EDI, se envía a la cola de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a36e1-125">After the message is successfully processed through the EDI agreement, it is sent to the Service Bus Queue.</span></span>  
  
3.  <span data-ttu-id="a36e1-126">El adaptador de recepción de SB-Messaging consume el mensaje desde la cola de Service Bus e instancia la orquestación implementada en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para enviar el mensaje a distintos destinos en función de la cantidad del pedido.</span><span class="sxs-lookup"><span data-stu-id="a36e1-126">SB-Messaging receive adapter consumes the message from the Service Bus Queue and instantiates the orchestration deployed in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to send the message to different destinations based on the order quantity.</span></span>  
  
4.  <span data-ttu-id="a36e1-127">Si la cantidad pedida es superior a 100, la orquestación inserta el mensaje en una **SalesOrder** tabla.</span><span class="sxs-lookup"><span data-stu-id="a36e1-127">If the quantity ordered is greater than 100, the orchestration inserts the message to a **SalesOrder** table.</span></span> <span data-ttu-id="a36e1-128">Si la cantidad solicitada es inferior o igual a 100, el mensaje se escribe en una ubicación de archivo compartida.</span><span class="sxs-lookup"><span data-stu-id="a36e1-128">If the quantity ordered is less than or equal to 100, the message is written to a shared file location.</span></span>  
  
## <a name="set-up-your-computer"></a><span data-ttu-id="a36e1-129">Configurar el PC</span><span class="sxs-lookup"><span data-stu-id="a36e1-129">Set up Your Computer</span></span>  
 <span data-ttu-id="a36e1-130">Este tutorial requiere que realice cuatro actividades.</span><span class="sxs-lookup"><span data-stu-id="a36e1-130">This tutorial requires you to perform four broad activities.</span></span> <span data-ttu-id="a36e1-131">La siguiente tabla muestra las actividades y los requisitos de software para cada una de ellas:</span><span class="sxs-lookup"><span data-stu-id="a36e1-131">The following table lists the activities and the software requirements for each activity:</span></span>  
  
|<span data-ttu-id="a36e1-132">Actividad</span><span class="sxs-lookup"><span data-stu-id="a36e1-132">Activity</span></span>|<span data-ttu-id="a36e1-133">Software necesario</span><span class="sxs-lookup"><span data-stu-id="a36e1-133">Required software</span></span>|  
|--------------|-----------------------|  
|<span data-ttu-id="a36e1-134">Crear artefactos de EDI necesarios para el acuerdo de EDI</span><span class="sxs-lookup"><span data-stu-id="a36e1-134">Create the EDI artifacts required for the EDI agreement</span></span>|<span data-ttu-id="a36e1-135">Este tutorial se ha creado con la versión de [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)] de abril de 2012 y el esquema de pedidos de ventas X12 840.</span><span class="sxs-lookup"><span data-stu-id="a36e1-135">This tutorial was created with the [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)] – April 2012 release as well as the X12 840 sales order schema.</span></span> <span data-ttu-id="a36e1-136">Puede descargarlo desde [http://go.microsoft.com/fwlink/p/?LinkId=235057](http://go.microsoft.com/fwlink/p/?LinkId=235057).</span><span class="sxs-lookup"><span data-stu-id="a36e1-136">These can be downloaded from [http://go.microsoft.com/fwlink/p/?LinkId=235057](http://go.microsoft.com/fwlink/p/?LinkId=235057).</span></span>|  
|<span data-ttu-id="a36e1-137">Crear e implementar el acuerdo de EDI</span><span class="sxs-lookup"><span data-stu-id="a36e1-137">Create and deploy the EDI agreement</span></span>|<span data-ttu-id="a36e1-138">Dado que el acuerdo de EDI se implementa en Azure, solo necesita un explorador web (por ejemplo, Internet Explorer) para iniciar sesión en el portal Azure de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="a36e1-138">Because the EDI agreement is deployed on Azure, you only need a Web browser (e.g. Internet Explorer) to log in to the Azure BizTalk Portal.</span></span>|  
|<span data-ttu-id="a36e1-139">Crear, implementar y configurar la aplicación [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="a36e1-139">Build, deploy, and configure the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] application</span></span>|<span data-ttu-id="a36e1-140">Si desea aprovisionar un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] equipo en una máquina virtual de Azure, siga las instrucciones de [http://msdn.microsoft.com/library/azure/jj248689.aspx](http://msdn.microsoft.com/library/azure/jj248689.aspx).</span><span class="sxs-lookup"><span data-stu-id="a36e1-140">If you want to provision a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer on an Azure VM, follow the instructions at [http://msdn.microsoft.com/library/azure/jj248689.aspx](http://msdn.microsoft.com/library/azure/jj248689.aspx).</span></span>|  
|<span data-ttu-id="a36e1-141">Enviar un mensaje de prueba al extremo del acuerdo de EDI</span><span class="sxs-lookup"><span data-stu-id="a36e1-141">Send a test message to the EDI agreement endpoint</span></span>|<span data-ttu-id="a36e1-142">Puede usar la herramienta MessageSender disponible en el paquete de pruebas proporcionado con [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a36e1-142">You can use the MessageSender tool available in the samples package shipped with [!INCLUDE[appfabricintegration](../includes/appfabricintegration-md.md)].</span></span> <span data-ttu-id="a36e1-143">Puede descargar el paquete de ejemplos de [http://go.microsoft.com/fwlink/p/?LinkId=235057](http://go.microsoft.com/fwlink/p/?LinkId=235057).</span><span class="sxs-lookup"><span data-stu-id="a36e1-143">You can download the samples package from [http://go.microsoft.com/fwlink/p/?LinkId=235057](http://go.microsoft.com/fwlink/p/?LinkId=235057).</span></span>|  
  
 <span data-ttu-id="a36e1-144">Puede optar por instalar todo en el mismo PC o en PCs diferentes.</span><span class="sxs-lookup"><span data-stu-id="a36e1-144">You can opt to install all these on the same computer or on different computers.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="a36e1-145">En esta sección</span><span class="sxs-lookup"><span data-stu-id="a36e1-145">In This Section</span></span>  
  
-   [<span data-ttu-id="a36e1-146">Paso 1 (para Azure): Crear el proyecto EDI</span><span class="sxs-lookup"><span data-stu-id="a36e1-146">Step 1 (For Azure): Create the EDI Project</span></span>](../core/step-1-for-azure-create-the-edi-project.md)  
  
-   [<span data-ttu-id="a36e1-147">Paso 2 (para Azure): Crear un acuerdo de EDI</span><span class="sxs-lookup"><span data-stu-id="a36e1-147">Step 2 (For Azure): Create an EDI Agreement</span></span>](../core/step-2-for-azure-create-an-edi-agreement.md)  
  
-   [<span data-ttu-id="a36e1-148">Paso 3 (para Azure): Crear una cola de Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="a36e1-148">Step 3 (For Azure): Create a Service Bus Queue</span></span>](../core/step-3-for-azure-create-a-service-bus-queue.md)  
  
-   [<span data-ttu-id="a36e1-149">Paso 4 (de forma local): Crear la tabla de SQL Server</span><span class="sxs-lookup"><span data-stu-id="a36e1-149">Step 4 (On Premises): Create the SQL Server Table</span></span>](../core/step-4-on-premises-create-the-sql-server-table.md)  
  
-   [<span data-ttu-id="a36e1-150">Paso 5 (local): Generar el esquema para insertar un mensaje en la tabla SalesOrder</span><span class="sxs-lookup"><span data-stu-id="a36e1-150">Step 5 (On Premises): Generate the Schema for Inserting a Message inito SalesOrder Table</span></span>](../core/step-5-generate-the-schema-for-inserting-a-message-into-salesorder-table.md)  
  
-   [<span data-ttu-id="a36e1-151">Paso 6 (de forma local): Crear una transformación para asignar el mensaje de la cola en el esquema de inserción</span><span class="sxs-lookup"><span data-stu-id="a36e1-151">Step 6 (On Premises): Create a Transform to Map the Message from the Queue to the Insert Schema</span></span>](../core/step-6-map-the-message-from-the-queue-to-the-insert-schema.md)  
  
-   [<span data-ttu-id="a36e1-152">Paso 7 (de forma local): Crear una orquestación</span><span class="sxs-lookup"><span data-stu-id="a36e1-152">Step 7 (On Premises): Create an Orchestration</span></span>](../core/step-7-on-premises-create-an-orchestration.md)  
  
-   [<span data-ttu-id="a36e1-153">Paso 8 (de forma local): Configurar la aplicación de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="a36e1-153">Step 8 (On Premises): Configure the BizTalk Server Application</span></span>](../core/step-8-on-premises-configure-the-biztalk-server-application.md)  
  
-   [<span data-ttu-id="a36e1-154">Paso 9: Probar la solución</span><span class="sxs-lookup"><span data-stu-id="a36e1-154">Step 9: Test the Solution</span></span>](../core/step-9-test-the-solution.md)