---
title: Cómo BizTalk Server incorpora la limitación de Host | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- host throttling, rate based throttling
- host throttling, outbound
- host throttling, algorithm
- host throttling, components
- host throttling, inbound
- host throttling, resource based throttling
- host throttling, user controlled throttling
- host throttling, strategies
ms.assetid: 46d3c3de-66b9-4c8a-8369-e68563fc9c40
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1944b61f9710b02f4e6db18a38972849847c532e
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/28/2018
---
# <a name="how-biztalk-server-implements-host-throttling"></a><span data-ttu-id="af1e1-102">Cómo implementa BizTalk Server la limitación de host</span><span class="sxs-lookup"><span data-stu-id="af1e1-102">How BizTalk Server Implements Host Throttling</span></span>
<span data-ttu-id="af1e1-103">El [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] continuamente, el mecanismo de limitación de host supervisa para una condición de limitación, calcula la gravedad de la condición de limitación y aplica progresivamente la limitación según la gravedad calculada de host.</span><span class="sxs-lookup"><span data-stu-id="af1e1-103">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host throttling mechanism continually monitors for a throttling condition, calculates the severity of the throttling condition, and applies host throttling progressively depending on the calculated severity.</span></span> <span data-ttu-id="af1e1-104">El mecanismo de limitación se ajusta automáticamente y son adecuadas para la mayoría de las opciones de configuración predeterminadas [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] escenarios de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="af1e1-104">The throttling mechanism is self tuning and the default configuration options are suitable for the majority of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] processing scenarios.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="af1e1-105"> limitación de host expone varias opciones configurables que pueden usarse para optimizar la limitación en escenarios concretos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-105"> host throttling exposes several configurable options that can be used to tune throttling for specific scenarios.</span></span> <span data-ttu-id="af1e1-106">Para obtener información acerca de cómo cambiar estas opciones de configuración, consulte [cómo modificar la configuración del Host](../core/how-to-modify-host-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-106">For information about changing these configuration options, see [How to Modify Host Settings](../core/how-to-modify-host-settings.md).</span></span>  
  
## <a name="components-of-the-host-throttling-algorithm"></a><span data-ttu-id="af1e1-107">Componentes del algoritmo de limitación de host</span><span class="sxs-lookup"><span data-stu-id="af1e1-107">Components of the host throttling algorithm</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="af1e1-108"> usa el siguiente algoritmo al aplicar la limitación de host:</span><span class="sxs-lookup"><span data-stu-id="af1e1-108"> uses the following algorithm when applying host throttling:</span></span>  
  
1.  <span data-ttu-id="af1e1-109">Supervise continuamente los parámetros siguientes para ver si exceden determinados umbrales.</span><span class="sxs-lookup"><span data-stu-id="af1e1-109">Continuously monitor the following parameters to see if they exceed certain thresholds.</span></span> <span data-ttu-id="af1e1-110">Si los valores del parámetro superan el umbral del parámetro, existe una condición de limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-110">If the values for the parameter exceed the threshold for the parameter then a throttling condition exists.</span></span>  
  
    -   <span data-ttu-id="af1e1-111">Cantidad de memoria en uso (tanto de todo el sistema como de la memoria de proceso del host)</span><span class="sxs-lookup"><span data-stu-id="af1e1-111">Amount of memory in use (both systemwide and host process memory).</span></span>  
  
    -   <span data-ttu-id="af1e1-112">Número de mensajes en curso que se están enviando o procesando (umbral de límite saliente).</span><span class="sxs-lookup"><span data-stu-id="af1e1-112">Number of in-process messages being delivered or processed (threshold for outbound throttling).</span></span>  
  
    -   <span data-ttu-id="af1e1-113">Número de subprocesos en uso.</span><span class="sxs-lookup"><span data-stu-id="af1e1-113">Number of threads in use.</span></span>  
  
    -   <span data-ttu-id="af1e1-114">Tamaño de la base de datos, medido según el número de elementos en las tablas de cola para todos los hosts y el número de elementos en las tablas de cola de impresión y de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="af1e1-114">Database size, measured by the number of items in the queue tables for all hosts and the number of items in the spool and tracking tables.</span></span>  
  
    -   <span data-ttu-id="af1e1-115">Número de conexiones simultáneas a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-115">Number of concurrent database connections.</span></span>  
  
    -   <span data-ttu-id="af1e1-116">Tasa de publicación de mensajes (entrante) y de entrega o procesamiento (saliente).</span><span class="sxs-lookup"><span data-stu-id="af1e1-116">Rate of message publishing (inbound) and delivery or processing (outbound).</span></span>  
  
2.  <span data-ttu-id="af1e1-117">Determine la gravedad de la condición de limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-117">Determine the severity of the throttling condition.</span></span> <span data-ttu-id="af1e1-118">Las condiciones de limitación se clasifican según su gravedad del siguiente modo (de más grave a menos grave).</span><span class="sxs-lookup"><span data-stu-id="af1e1-118">Throttling conditions are ranked in severity as follows (from most severe to least severe).</span></span>  
  
    -   <span data-ttu-id="af1e1-119">La memoria de proceso del host en uso supera el umbral.</span><span class="sxs-lookup"><span data-stu-id="af1e1-119">Host process memory in use exceeds threshold.</span></span>  
  
    -   <span data-ttu-id="af1e1-120">El número de mensajes en curso supera el umbral.</span><span class="sxs-lookup"><span data-stu-id="af1e1-120">Number of in-process messages exceeds threshold.</span></span>  
  
    -   <span data-ttu-id="af1e1-121">El recuento de subprocesos en uso supera el umbral.</span><span class="sxs-lookup"><span data-stu-id="af1e1-121">Count of threads in use exceeds threshold.</span></span>  
  
    -   <span data-ttu-id="af1e1-122">El tamaño de la base de datos supera el umbral.</span><span class="sxs-lookup"><span data-stu-id="af1e1-122">Database size exceeds threshold.</span></span>  
  
    -   <span data-ttu-id="af1e1-123">Todas las demás condiciones de limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-123">All other throttling conditions.</span></span>  
  
3.  <span data-ttu-id="af1e1-124">Aplique progresivamente la limitación en función de la gravedad de las condiciones de limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-124">Progressively apply throttling based upon the severity of the throttling condition(s).</span></span> <span data-ttu-id="af1e1-125">La limitación se aplica más agresivamente conforme aumenta el nivel de gravedad.</span><span class="sxs-lookup"><span data-stu-id="af1e1-125">Throttling is applied more aggressively as the severity level increases.</span></span> <span data-ttu-id="af1e1-126">La limitación progresiva se consigue del siguiente modo:</span><span class="sxs-lookup"><span data-stu-id="af1e1-126">Progressive throttling is achieved as follows:</span></span>  
  
    -   <span data-ttu-id="af1e1-127">Se detectan una o más condiciones de limitación y se les asigna una gravedad.</span><span class="sxs-lookup"><span data-stu-id="af1e1-127">One or more throttling conditions are detected and assigned a severity.</span></span>  
  
    -   <span data-ttu-id="af1e1-128">Se emite una instrucción de implementar la limitación basándose en la condición con la gravedad más alta.</span><span class="sxs-lookup"><span data-stu-id="af1e1-128">An instruction to implement throttling is issued based on the condition with the highest severity.</span></span> <span data-ttu-id="af1e1-129">Dependiendo de la condición de limitación, si el problema persiste, se puede reducir el tamaño de diversos grupos de subprocesos y se puede liberar memoria deshidratando las orquestaciones en ejecución.</span><span class="sxs-lookup"><span data-stu-id="af1e1-129">Depending on the throttling condition, if the condition persists, the size of various thread pools may be reduced and memory may be freed by dehydrating running orchestrations.</span></span>  
  
    -   <span data-ttu-id="af1e1-130">Se aplica un retraso en la publicación o en el procesamiento del mensaje en función de si el mensaje es entrante o saliente.</span><span class="sxs-lookup"><span data-stu-id="af1e1-130">A delay is applied in the publishing or processing of the message, depending on whether the message is inbound or outbound.</span></span> <span data-ttu-id="af1e1-131">El período de retraso es proporcional a la gravedad de la condición de limitación, por lo que las condiciones de limitación de mayor gravedad iniciarán un período de limitación más largo que las condiciones de limitación de menor gravedad.</span><span class="sxs-lookup"><span data-stu-id="af1e1-131">The delay period is proportional to the severity of the throttling condition, so higher severity throttling conditions will initiate a longer throttling period than lower severity throttling conditions.</span></span> <span data-ttu-id="af1e1-132">El mecanismo de limitación ajusta este período de retraso hacia arriba y hacia abajo en unos intervalos concretos a medida que cambian las condiciones.</span><span class="sxs-lookup"><span data-stu-id="af1e1-132">This delay period is adjusted up and down within certain ranges by the throttling mechanism as conditions change.</span></span> <span data-ttu-id="af1e1-133">El período de retraso actual se expone a través de la **retraso (ms) en la entrega de mensajes** y **retraso en la publicación (ms) del mensaje** contadores de rendimiento asociados con la **BizTalk: agente de**  categoría de objeto de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="af1e1-133">The current delay period is exposed through the **Message delivery delay (ms)** and the **Message publishing delay (ms)** performance counters associated with the **BizTalk:Message Agent** performance object category.</span></span> <span data-ttu-id="af1e1-134">Estos contadores del objeto de rendimiento se documentan en el tema [contadores de rendimiento de limitación de Host](../core/host-throttling-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-134">These performance object counters are documented in the topic [Host Throttling Performance Counters](../core/host-throttling-performance-counters.md).</span></span>  
  
    -   <span data-ttu-id="af1e1-135">El mecanismo de limitación sigue comprobando si hay una condición de limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-135">The throttling mechanism continues to check if a throttling condition is present.</span></span> <span data-ttu-id="af1e1-136">Si se mitigan las condiciones de limitación, se desbloquean los mensajes acelerados y se permite que funcionen el grupo de subprocesos y otros recursos en un modo no restringido.</span><span class="sxs-lookup"><span data-stu-id="af1e1-136">If the throttling conditions are mitigated then the throttled messages are unblocked and the thread pool and other resources are allowed to operate in an unrestricted mode.</span></span> <span data-ttu-id="af1e1-137">Si el sistema sigue funcionando sin que se produzcan condiciones de limitación, el período de retraso se reduce en gran medida.</span><span class="sxs-lookup"><span data-stu-id="af1e1-137">If the system continues to operate without any throttling conditions, the delay period is greatly reduced.</span></span> <span data-ttu-id="af1e1-138">Si la condición de limitación persiste, la cantidad de retraso se incrementa proporcionalmente a la gravedad de la condición y los mensajes posteriores estarán sujetos al mayor retraso.</span><span class="sxs-lookup"><span data-stu-id="af1e1-138">If the throttling condition persists, the delay amount is incremented proportional to the severity of the condition and subsequent messages are subject to the higher delay.</span></span>  
  
    -   <span data-ttu-id="af1e1-139">La limitación ya no se implementa cuando el período de retraso ha transcurrido.</span><span class="sxs-lookup"><span data-stu-id="af1e1-139">Throttling is no longer implemented when the delay period has elapsed.</span></span>  
  
## <a name="type-of-throttling-conditions"></a><span data-ttu-id="af1e1-140">Tipos de condiciones de limitación</span><span class="sxs-lookup"><span data-stu-id="af1e1-140">Type of throttling conditions</span></span>  
 <span data-ttu-id="af1e1-141">Hay tres tipos principales de las condiciones de limitación: basada en tasa, basada en recursos y orquestación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-141">There are three primary types of throttling conditions: rate based, resource based, and orchestration.</span></span>  
  
1.  <span data-ttu-id="af1e1-142">**Limitación según la velocidad** se divide en dos categorías; entrante (publicado) y saliente (entregado):</span><span class="sxs-lookup"><span data-stu-id="af1e1-142">**Rate based throttling** is divided into two categories; inbound (published) and outbound (delivered):</span></span>  
  
    -   <span data-ttu-id="af1e1-143">Mensajes entrantes (publicados), BizTalk Server limita la publicación de mensajes si el **mensaje tasa entrante de publicación** para el host instancia supera la **tasa saliente de publicación de mensajes\***  especificado **factor de sobrecarga (porcentaje)** valor.</span><span class="sxs-lookup"><span data-stu-id="af1e1-143">For inbound (published) messages, BizTalk Server throttles publishing of messages if The **Message publishing incoming rate** for the host instance exceeds the **Message publishing outgoing rate\*** the specified **Rate overdrive factor (percent)** value.</span></span> <span data-ttu-id="af1e1-144">El **factor de sobrecarga (porcentaje)** parámetro es configurable en el **configuración de limitación de publicación de mensajes** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="af1e1-144">The **Rate overdrive factor (percent)** parameter is configurable on the **Message Publishing Throttling Settings** dialog box.</span></span> <span data-ttu-id="af1e1-145">La limitación basada en tasa de los mensajes entrantes se realiza principalmente mediante la inducción de un retraso antes de publicar el lote de mensajes en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-145">Rate based throttling for inbound messages is accomplished primarily by inducing a delay before publishing the batch of messages into the MessageBox database.</span></span> <span data-ttu-id="af1e1-146">No se realiza ninguna otra acción para llevar a cabo la limitación basada en tasa en los mensajes entrantes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-146">No other action is taken to accomplish rate based throttling for inbound messages.</span></span>  
  
    -   <span data-ttu-id="af1e1-147">Para los mensajes salientes (entregados), BizTalk Server limita la entrega de mensajes si el **tasa entrante de la entrega de mensajes** para el host instancia supera la **tasa saliente de la entrega de mensajes** \*especificado **factor de sobrecarga (porcentaje)** valor.</span><span class="sxs-lookup"><span data-stu-id="af1e1-147">For outbound (delivered) messages, BizTalk Server throttles delivery of messages if The **Message delivery incoming rate** for the host instance exceeds the **Message delivery outgoing rate** \* the specified **Rate overdrive factor (percent)** value.</span></span> <span data-ttu-id="af1e1-148">El **factor de sobrecarga (porcentaje)** parámetro es configurable en el **configuración de limitación de procesamiento de mensajes** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="af1e1-148">The **Rate overdrive factor (percent)** parameter is configurable on the **Message Processing Throttling Settings** dialog box.</span></span> <span data-ttu-id="af1e1-149">La limitación basada en tasa de los mensajes salientes se realiza principalmente mediante la inducción de un retraso antes de quitar los mensajes de la cola en memoria y la entrega de los mensajes al Gestor extremo (EPM) o al motor de orquestaciones para su procesamiento.</span><span class="sxs-lookup"><span data-stu-id="af1e1-149">Rate based throttling for outbound messages is accomplished primarily by inducing a delay before removing the messages from the in-memory queue and delivering the messages to the End Point Manager (EPM) or orchestration engine for processing.</span></span> <span data-ttu-id="af1e1-150">No se realiza ninguna otra acción para llevar a cabo la limitación basada en tasa en los mensajes salientes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-150">No other action is taken to accomplish rate based throttling for outbound messages.</span></span>  
  
         <span data-ttu-id="af1e1-151">Para obtener más información sobre el factor de sobrecarga y otros valores de limitación basada en tasas, consulte [cómo modificar tasa según configuración de la limitación](../core/how-to-modify-rate-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-151">For more information about the rate overdrive factor and other rate-based throttling values, see [How to Modify Rate Based Throttling Settings](../core/how-to-modify-rate-based-throttling-settings.md).</span></span>  
  
2.  <span data-ttu-id="af1e1-152">**Limitación basada en recursos** supervisa los recursos del sistema como subprocesos, memoria y el tamaño de la base de datos y se puede aplicar a cualquier clase de servicio.</span><span class="sxs-lookup"><span data-stu-id="af1e1-152">**Resource based throttling** monitors system resources such as threads, memory, and database size and can be applied to any service class.</span></span> <span data-ttu-id="af1e1-153">Para obtener más información acerca de los valores de limitación basada en recursos, consulte [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-153">For more information about resource-based throttling values, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>  
  
3.  <span data-ttu-id="af1e1-154">**Limitación de orquestación** puede evitar la deshidratación e indicar cuándo se deben pausar y reanudar las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="af1e1-154">**Orchestration throttling** can prevent dehydration and when to pause/resume subscriptions.</span></span> <span data-ttu-id="af1e1-155">Para obtener más información acerca de los valores de limitación de orquestación, consulte [cómo modificar configuración de la limitación de orquestación](../core/how-to-modify-orchestration-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-155">For more information about orchestration throttling values, see [How to Modify Orchestration Throttling Settings](../core/how-to-modify-orchestration-throttling-settings.md).</span></span>  
  
## <a name="throttling-condition-triggers-actions-and-mitigation-strategies"></a><span data-ttu-id="af1e1-156">Desencadenadores de condiciones de limitación, acciones y estrategias de mitigación</span><span class="sxs-lookup"><span data-stu-id="af1e1-156">Throttling condition triggers, actions, and mitigation strategies</span></span>  
 <span data-ttu-id="af1e1-157">En esta sección se describen los desencadenadores para diversas condiciones de limitación, las acciones resultantes del mecanismo de limitación y las técnicas que se pueden emplear para mitigar la condición de limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-157">This section describes the triggers for various throttling conditions, the resultant actions by the throttling mechanism, and techniques that may be employed to mitigate the throttling condition.</span></span>  
  
### <a name="inbound-throttling"></a><span data-ttu-id="af1e1-158">Limitación de entrada</span><span class="sxs-lookup"><span data-stu-id="af1e1-158">Inbound Throttling</span></span>  
 <span data-ttu-id="af1e1-159">El mecanismo de limitación de BizTalk aplica limitación de entrada al motor de orquestación (XLANG) y a los adaptadores de entrada.</span><span class="sxs-lookup"><span data-stu-id="af1e1-159">The BizTalk throttling mechanism applies inbound throttling to the orchestration engine (XLANG) and to inbound adapters.</span></span>  
  
 <span data-ttu-id="af1e1-160">Use la **estado de limitación de publicación de mensajes** y **duración del estado de la limitación de publicación de mensajes** contadores asociados con **BizTalk:MessageAgent** rendimiento categoría de objetos para medir el estado de limitación actual y la duración de la limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-160">Use the **Message publishing throttling state** and **Message publishing throttling state duration** counters associated with **BizTalk:MessageAgent** performance object category to measure the current throttling state and duration of throttling.</span></span> <span data-ttu-id="af1e1-161">Para obtener más información acerca de lo contadores de rendimiento de limitación de host disponible, consulte [contadores de rendimiento de limitación de Host](../core/host-throttling-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-161">For more information about the available host throttling performance counters, see [Host Throttling Performance Counters](../core/host-throttling-performance-counters.md).</span></span>  
  
 <span data-ttu-id="af1e1-162">La limitación de entrada puede provocar que los mensajes entrantes se registren en el origen.</span><span class="sxs-lookup"><span data-stu-id="af1e1-162">Inbound throttling can cause inbound messages to backlog at the source.</span></span> <span data-ttu-id="af1e1-163">Si la limitación de entrada se aplica a un adaptador de recepción, el adaptador de recepción puede dejar de recibir mensajes hasta que se mitigue la condición de limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-163">If inbound throttling is applied to a receive adapter then the receive adapter may stop receiving messages until the throttling condition is mitigated.</span></span>  
  
|<span data-ttu-id="af1e1-164">Publicación de mensajes</span><span class="sxs-lookup"><span data-stu-id="af1e1-164">Message Publishing</span></span><br /><br /> <span data-ttu-id="af1e1-165">estado de la limitación</span><span class="sxs-lookup"><span data-stu-id="af1e1-165">throttling state</span></span>|<span data-ttu-id="af1e1-166">Desencadenador de la condición de limitación </span><span class="sxs-lookup"><span data-stu-id="af1e1-166">Trigger for throttling condition</span></span>|<span data-ttu-id="af1e1-167">Acciones de limitación realizadas</span><span class="sxs-lookup"><span data-stu-id="af1e1-167">Throttling actions taken</span></span>|<span data-ttu-id="af1e1-168">Estrategia de mitigación</span><span class="sxs-lookup"><span data-stu-id="af1e1-168">Mitigation strategy</span></span>|<span data-ttu-id="af1e1-169">Objeto de rendimiento</span><span class="sxs-lookup"><span data-stu-id="af1e1-169">Performance object</span></span>|<span data-ttu-id="af1e1-170">Contador de rendimiento</span><span class="sxs-lookup"><span data-stu-id="af1e1-170">Performance counter</span></span>|  
|---------------------------------------------|--------------------------------------|------------------------------|-------------------------|------------------------|-------------------------|  
|<span data-ttu-id="af1e1-171">2</span><span class="sxs-lookup"><span data-stu-id="af1e1-171">2</span></span>|<span data-ttu-id="af1e1-172">**Tasa entrante de publicación de mensajes** para el host instancia supera la **tasa saliente de publicación de mensajes\***  especificado **factor de sobrecarga (porcentaje)** valor.</span><span class="sxs-lookup"><span data-stu-id="af1e1-172">**Message publishing incoming rate** for the host instance exceeds the **Message publishing outgoing rate\*** the specified **Rate overdrive factor (percent)** value.</span></span> <span data-ttu-id="af1e1-173">La base de datos no puede hacer frente a la tasa de publicación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-173">The database cannot keep up with the publishing rate.</span></span>|<span data-ttu-id="af1e1-174">Bloquea el subproceso de publicación durante un período de tiempo calculado dinámicamente hasta que el **tasa entrante de publicación de mensajes** esté al mismo nivel con el **tasa saliente de publicación de mensajes** \* el especificado **Factor de sobrecarga (porcentaje)** valor.</span><span class="sxs-lookup"><span data-stu-id="af1e1-174">Block the publishing thread for a dynamically computed time period until the **Message Publishing Incoming Rate** is at par with the **Message Publishing Outgoing Rate** \* the specified **Rate overdrive factor (percent)** value.</span></span>|<span data-ttu-id="af1e1-175">Utilice contadores de rendimiento para determinar las tasas entrante y saliente de publicación de mensajes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-175">Use performance counters to determine the message publishing incoming and message publishing outgoing rate.</span></span> <span data-ttu-id="af1e1-176">Considere un factor de sobrecarga adecuado para su entorno.</span><span class="sxs-lookup"><span data-stu-id="af1e1-176">Consider an appropriate overdrive factor for your environment.</span></span><br /><br /> <span data-ttu-id="af1e1-177">Compruebe que los valores proporcionados para el **duración de la ventana de muestreo** y **número mínimo de muestras** parámetros son adecuados para su escenario.</span><span class="sxs-lookup"><span data-stu-id="af1e1-177">Verify that the values supplied for the **Sampling window duration** and **Minimum number of samples** parameters are appropriate for your scenario.</span></span><br /><br /> <span data-ttu-id="af1e1-178">Para obtener más información acerca de estos parámetros, consulte [cómo modificar tasa según configuración de la limitación](../core/how-to-modify-rate-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-178">For more information about these parameters, see [How to Modify Rate Based Throttling Settings](../core/how-to-modify-rate-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-179">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-179">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-180">Tasa entrante de publicación de mensajes</span><span class="sxs-lookup"><span data-stu-id="af1e1-180">Message publishing incoming rate</span></span><br /><br /> <span data-ttu-id="af1e1-181">Tasa saliente de publicación de mensajes</span><span class="sxs-lookup"><span data-stu-id="af1e1-181">Message publishing outgoing rate</span></span>|  
|<span data-ttu-id="af1e1-182">4</span><span class="sxs-lookup"><span data-stu-id="af1e1-182">4</span></span>|<span data-ttu-id="af1e1-183">La memoria del proceso supera el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="af1e1-183">Process memory exceeds the specified threshold.</span></span><br /><br /> <span data-ttu-id="af1e1-184">Esto puede suceder si el lote que se va a publicar tiene requisitos de memoria elevados o si hay demasiados subprocesos procesando mensajes</span><span class="sxs-lookup"><span data-stu-id="af1e1-184">This can occur if the batch to be published has steep memory requirements or too many threads are processing messages</span></span>|<span data-ttu-id="af1e1-185">Reduzca el tamaño del grupo de subprocesos utilizado por EPM.</span><span class="sxs-lookup"><span data-stu-id="af1e1-185">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="af1e1-186">Bloquee los subprocesos de EPM para evitar el procesamiento de nuevos lotes de mensajes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-186">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="af1e1-187">Si hay un requisito de memoria elevado que almacena los mensajes en un lote para la base de datos, el subproceso de publicación también puede sufrir un retraso progresivo antes de que los mensajes se almacenen en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-187">If there is a steep memory requirement to persist the messages in a batch to the database, the publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span><br /><br /> <span data-ttu-id="af1e1-188">Tanto si el lote de publicación se bloquea como si no debido a la necesidad de memoria de proceso dependerá de varios factores entre los que se incluye el número de mensajes en el lote o si hay deshidratación o comandos de eliminación de mensajes en el lote.</span><span class="sxs-lookup"><span data-stu-id="af1e1-188">Whether the publishing batch will be blocked or not due to process memory pressure depends on several factors including the number of messages in the batch or if there are dehydration or message deletion commands in the batch.</span></span>|<span data-ttu-id="af1e1-189">Considere la posibilidad de reducir la cantidad de carga mediante la reducción del grupo de subprocesos de EPM o del tamaño de los lotes del adaptador.</span><span class="sxs-lookup"><span data-stu-id="af1e1-189">Consider reducing the amount of load by reducing the EPM thread pool, and/or the size of adapter batches.</span></span><br /><br /> <span data-ttu-id="af1e1-190">Si el proceso no consume demasiada memoria, considere la posibilidad de aumentar la **virtual de proceso** umbral para el host.</span><span class="sxs-lookup"><span data-stu-id="af1e1-190">If the process is not consuming excessive memory, consider increasing the **Process virtual** threshold for the host.</span></span><br /><br /> <span data-ttu-id="af1e1-191">Para obtener más información acerca de cómo cambiar la **virtual de proceso** valor, consulte [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-191">For more information about changing the **Process virtual** value, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-192">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-192">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-193">Consumo excesivo de memoria de proceso</span><span class="sxs-lookup"><span data-stu-id="af1e1-193">High process memory</span></span><br /><br /> <span data-ttu-id="af1e1-194">Uso de memoria de proceso (MB)</span><span class="sxs-lookup"><span data-stu-id="af1e1-194">Process memory usage (MB)</span></span><br /><br /> <span data-ttu-id="af1e1-195">Umbral de uso de memoria de proceso (MB)</span><span class="sxs-lookup"><span data-stu-id="af1e1-195">Process memory usage threshold (MB)</span></span>|  
|<span data-ttu-id="af1e1-196">6</span><span class="sxs-lookup"><span data-stu-id="af1e1-196">6</span></span>|<span data-ttu-id="af1e1-197">El tamaño de la cola de mensajes del host, el tamaño de la tabla de cola de impresión o el tamaño de la tabla de seguimiento superan el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="af1e1-197">Host message queue size, the spool table size or the tracking table size exceed the specified threshold.</span></span><br /><br /> <span data-ttu-id="af1e1-198">Entre las razones posibles para esta condición se incluyen:</span><span class="sxs-lookup"><span data-stu-id="af1e1-198">Possible reasons for this condition include:</span></span><br /><br /> <span data-ttu-id="af1e1-199">-Los trabajos del Agente SQL utilizan por BizTalk Server para mantener las bases de datos de BizTalk Server no se está ejecutando o se ejecutan con lentitud.</span><span class="sxs-lookup"><span data-stu-id="af1e1-199">-   The SQL Agent jobs used by BizTalk Server to maintain the BizTalk Server databases not running or are running slowly.</span></span><br /><span data-ttu-id="af1e1-200">-Componentes de nivel inferior no procesa los mensajes de la cola en memoria de manera oportuna.</span><span class="sxs-lookup"><span data-stu-id="af1e1-200">-   Down-stream components are not processing messages from the in-memory queue in a timely manner.</span></span><br /><span data-ttu-id="af1e1-201">-Número de mensajes suspendidos es alto.</span><span class="sxs-lookup"><span data-stu-id="af1e1-201">-   Number of suspended messages is high.</span></span><br /><span data-ttu-id="af1e1-202">-Se ha alcanzado la carga máxima sostenible para el sistema.</span><span class="sxs-lookup"><span data-stu-id="af1e1-202">-   Maximum sustainable load for the system has been reached.</span></span>|<span data-ttu-id="af1e1-203">Reduzca el tamaño del grupo de subprocesos utilizado por EPM.</span><span class="sxs-lookup"><span data-stu-id="af1e1-203">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="af1e1-204">Bloquee los subprocesos de EPM para evitar el procesamiento de nuevos lotes de mensajes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-204">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="af1e1-205">El subproceso de publicación también está sujeto a un retraso progresivo antes que los mensajes se almacenen en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-205">The publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span>|<span data-ttu-id="af1e1-206">Asegúrese de que los trabajos del Agente SQL utilizados por BizTalk Server para mantener las bases de datos de BizTalk Server se están ejecutando y que no fallan.</span><span class="sxs-lookup"><span data-stu-id="af1e1-206">Ensure that the SQL Agent jobs used by BizTalk Server to maintain the BizTalk Server databases are running and are not failing.</span></span><br /><br /> <span data-ttu-id="af1e1-207">Finalice y reanude instancias suspendidas según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="af1e1-207">Terminate and resume suspended instances as needed.</span></span><br /><br /> <span data-ttu-id="af1e1-208">Aumente el valor predeterminado para la **recuento en la base de datos del mensaje** umbral teniendo en cuenta los requisitos de espacio de SQL server que aloja las bases de datos de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="af1e1-208">Increase the default value for the **Message count in DB** threshold taking into consideration the space requirements of the SQL server that houses the BizTalk databases.</span></span><br /><br /> <span data-ttu-id="af1e1-209">Si la base de datos tiene el tamaño adecuado para controlar mensajes adicional, considere la posibilidad de aumentar la **multiplicador de cola de impresión** y **multiplicador de datos de seguimiento** valores para permitir más trabajo pendiente en la cola de impresión y tablas de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="af1e1-209">If your database is sized appropriately to handle additional message backlog, consider increasing the **Spool multiplier** and **Tracking data multiplier** values to allow additional backlog in the Spool and Tracking tables.</span></span><br /><br /> <span data-ttu-id="af1e1-210">Para obtener más información acerca de cómo cambiar los valores, vea [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-210">For more information about changing the values, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-211">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-211">BizTalk:MessageAgent</span></span><br /><br /> <span data-ttu-id="af1e1-212">BizTalk:Cuadros de mensajes:Contadores generales</span><span class="sxs-lookup"><span data-stu-id="af1e1-212">BizTalk:Message Box:General Counters</span></span><br /><br /> <span data-ttu-id="af1e1-213">BizTalk:Cuadros de mensajes:Contadores de host</span><span class="sxs-lookup"><span data-stu-id="af1e1-213">BizTalk:Message Box:Host Counters</span></span>|<span data-ttu-id="af1e1-214">Agente de mensaje /Tamaño de base de datos</span><span class="sxs-lookup"><span data-stu-id="af1e1-214">MessageAgent /Database size</span></span><br /><br /> <span data-ttu-id="af1e1-215">Cuadro de mensajes:Contadores generales /Tamaño de cola de impresión</span><span class="sxs-lookup"><span data-stu-id="af1e1-215">Message Box:General Counters /Spool size</span></span><br /><br /> <span data-ttu-id="af1e1-216">Cuadro de mensajes:Contadores generales /Tamaño de datos de seguimiento</span><span class="sxs-lookup"><span data-stu-id="af1e1-216">Message Box:General Counters /Tracking data size</span></span><br /><br /> <span data-ttu-id="af1e1-217">Cuadro de mensajes:Contadores de host/Cola de host - Longitud</span><span class="sxs-lookup"><span data-stu-id="af1e1-217">Message Box:Host Counters/Host queue – length</span></span><br /><br /> <span data-ttu-id="af1e1-218">Cuadro de mensajes:Contadores de host/Cola de host - Mens. Suspendidos - Longitud</span><span class="sxs-lookup"><span data-stu-id="af1e1-218">Message Box:Host Counters/Host queue - suspended msgs – length</span></span>|  
|<span data-ttu-id="af1e1-219">8</span><span class="sxs-lookup"><span data-stu-id="af1e1-219">8</span></span>|<span data-ttu-id="af1e1-220">Las sesiones de base de datos utilizadas por la instancia de host superan el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="af1e1-220">Database sessions being used by the host instance exceed the specified threshold.</span></span>|<span data-ttu-id="af1e1-221">Reduzca el tamaño del grupo de subprocesos utilizado por EPM.</span><span class="sxs-lookup"><span data-stu-id="af1e1-221">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="af1e1-222">Bloquee los subprocesos de EPM para evitar el procesamiento de nuevos lotes de mensajes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-222">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="af1e1-223">El subproceso de publicación también está sujeto a un retraso progresivo antes que los mensajes se almacenen en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-223">The publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span>|<span data-ttu-id="af1e1-224">Considere la posibilidad de aumentar la **las conexiones de base de datos** umbral para el host.</span><span class="sxs-lookup"><span data-stu-id="af1e1-224">Consider increasing the **Database connections** threshold for the host.</span></span><br /><br /> <span data-ttu-id="af1e1-225">Para obtener más información acerca de cómo cambiar este valor, consulte [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-225">For more information on changing this value, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-226">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-226">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-227">Sesión de base de datos</span><span class="sxs-lookup"><span data-stu-id="af1e1-227">Database session</span></span>|  
|<span data-ttu-id="af1e1-228">9</span><span class="sxs-lookup"><span data-stu-id="af1e1-228">9</span></span>|<span data-ttu-id="af1e1-229">El recuento de subprocesos del proceso supera el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="af1e1-229">Process thread count exceeds the specified threshold.</span></span>|<span data-ttu-id="af1e1-230">Reduzca el tamaño del grupo de subprocesos utilizado por EPM.</span><span class="sxs-lookup"><span data-stu-id="af1e1-230">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="af1e1-231">Bloquee los subprocesos de EPM para evitar el procesamiento de nuevos lotes de mensajes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-231">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="af1e1-232">El subproceso de publicación también está sujeto a un retraso progresivo antes que los mensajes se almacenen en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-232">The publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span>|<span data-ttu-id="af1e1-233">Considere la posibilidad de ajustar los distintos tamaños de grupos de subprocesos para asegurar que el sistema no crea un número grande de subprocesos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-233">Consider adjusting the different thread pool sizes to ensure that the system does not create a large number of threads.</span></span><br /><br /> <span data-ttu-id="af1e1-234">Para obtener más información acerca de cómo modificar los tamaños de grupo de subprocesos, vea [cómo modificar la configuración General](../core/how-to-modify-general-settings.md) y [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-234">For more information about modifying the thread pool sizes, see [How to Modify General Settings](../core/how-to-modify-general-settings.md) and [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-235">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-235">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-236">Número de subprocesos</span><span class="sxs-lookup"><span data-stu-id="af1e1-236">Thread count</span></span><br /><br /> <span data-ttu-id="af1e1-237">Umbral del número de subprocesos</span><span class="sxs-lookup"><span data-stu-id="af1e1-237">Thread count threshold</span></span>|  
|<span data-ttu-id="af1e1-238">5</span><span class="sxs-lookup"><span data-stu-id="af1e1-238">5</span></span>|<span data-ttu-id="af1e1-239">La memoria del sistema supera el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="af1e1-239">System memory exceeds the specified threshold.</span></span>|<span data-ttu-id="af1e1-240">Reduzca el tamaño del grupo de subprocesos utilizado por EPM.</span><span class="sxs-lookup"><span data-stu-id="af1e1-240">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="af1e1-241">Bloquee los subprocesos de EPM para evitar el procesamiento de nuevos lotes de mensajes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-241">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="af1e1-242">Si hay un requisito de memoria elevado que almacena los mensajes en un lote para la base de datos, el subproceso de publicación también puede sufrir un retraso progresivo antes de que los mensajes se almacenen en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-242">If there is a steep memory requirement to persist the messages in a batch to the database, the publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span><br /><br /> <span data-ttu-id="af1e1-243">Tanto si el lote de publicación se bloquea como si no debido a la necesidad de memoria de proceso dependerá de varios factores entre los que se incluye el número de mensajes en el lote o si hay deshidratación o comandos de eliminación de mensajes en el lote.</span><span class="sxs-lookup"><span data-stu-id="af1e1-243">Whether the publishing batch will be blocked or not due to process memory pressure depends on several factors including the number of messages in the batch or if there are dehydration or message deletion commands in the batch.</span></span>|<span data-ttu-id="af1e1-244">Considere la posibilidad de reducir la carga mediante la reducción del tamaño predeterminado del grupo de subprocesos de EPM o del tamaño de los lotes del adaptador.</span><span class="sxs-lookup"><span data-stu-id="af1e1-244">Consider reducing load by reducing the default size of the EPM thread pool, and/or the size of adapter batches.</span></span><br /><br /> <span data-ttu-id="af1e1-245">Si el proceso no consume demasiada memoria, considere la posibilidad de aumentar la **Global física** umbral para el host.</span><span class="sxs-lookup"><span data-stu-id="af1e1-245">If the process is not consuming excessive memory, consider increasing the **Global Physical** threshold for the host.</span></span><br /><br /> <span data-ttu-id="af1e1-246">Para obtener más información acerca de cómo cambiar la **Global física** umbral, consulte [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-246">For more information on changing the **Global Physical** threshold, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-247">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-247">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-248">Uso de memoria física (MB)</span><span class="sxs-lookup"><span data-stu-id="af1e1-248">Physical memory usage (MB)</span></span><br /><br /> <span data-ttu-id="af1e1-249">Umbral de uso de memoria física (MB)</span><span class="sxs-lookup"><span data-stu-id="af1e1-249">Physical memory usage threshold (MB)</span></span>|  
  
### <a name="outbound-throttling"></a><span data-ttu-id="af1e1-250">Limitación de salida</span><span class="sxs-lookup"><span data-stu-id="af1e1-250">Outbound Throttling</span></span>  
 <span data-ttu-id="af1e1-251">El mecanismo de limitación de BizTalk aplica limitación de salida al motor de orquestación (XLANG) y a los adaptadores de salida.</span><span class="sxs-lookup"><span data-stu-id="af1e1-251">The BizTalk throttling mechanism applies outbound throttling to the orchestration engine (XLANG) and to outbound adapters.</span></span>  
  
 <span data-ttu-id="af1e1-252">Use la **estado de limitación de entrega de mensajes** y **duración del estado de la limitación de entrega de mensajes** contadores asociados con **BizTalk:MessageAgent** objeto de rendimiento categoría para medir el estado de limitación actual y la duración de la limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-252">Use the **Message delivery throttling state** and **Message delivery throttling state duration** counters associated with **BizTalk:MessageAgent** performance object category to measure the current throttling state and duration of throttling.</span></span> <span data-ttu-id="af1e1-253">Para obtener más información sobre el rendimiento de limitación de host disponible vea contadores [contadores de rendimiento de limitación de Host](../core/host-throttling-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-253">For more information about the available host throttling performance counters see [Host Throttling Performance Counters](../core/host-throttling-performance-counters.md).</span></span>  
  
 <span data-ttu-id="af1e1-254">La limitación de salida puede provocar una entrega de mensajes retrasada y puede que los mensajes se acumulen en la cola en memoria y provoquen el bloqueo de los subprocesos de eliminación de la cola hasta que se mitigue la condición de limitación.</span><span class="sxs-lookup"><span data-stu-id="af1e1-254">Outbound throttling can cause delayed message delivery and messages may build up in the in-memory queue and cause de-queue threads to be blocked until the throttling condition is mitigated.</span></span> <span data-ttu-id="af1e1-255">Cuando los subprocesos de eliminación de la cola están bloqueados no se extrae ningún mensaje adicional del cuadro de mensajes hacia la cola en memoria para la entrega saliente.</span><span class="sxs-lookup"><span data-stu-id="af1e1-255">When de-queue threads are blocked no additional messages are pulled from the MessageBox into the in-memory queue for outbound delivery.</span></span>  
  
|<span data-ttu-id="af1e1-256">Entrega de mensajes</span><span class="sxs-lookup"><span data-stu-id="af1e1-256">Message Delivery</span></span><br /><br /> <span data-ttu-id="af1e1-257">estado de la limitación</span><span class="sxs-lookup"><span data-stu-id="af1e1-257">throttling state</span></span>|<span data-ttu-id="af1e1-258">Desencadenador de la condición de limitación </span><span class="sxs-lookup"><span data-stu-id="af1e1-258">Trigger for throttling condition</span></span>|<span data-ttu-id="af1e1-259">Acciones de limitación realizadas</span><span class="sxs-lookup"><span data-stu-id="af1e1-259">Throttling actions taken</span></span>|<span data-ttu-id="af1e1-260">Estrategia de mitigación</span><span class="sxs-lookup"><span data-stu-id="af1e1-260">Mitigation Strategy</span></span>|<span data-ttu-id="af1e1-261">Objeto de rendimiento</span><span class="sxs-lookup"><span data-stu-id="af1e1-261">Performance Object</span></span>|<span data-ttu-id="af1e1-262">Contador de rendimiento</span><span class="sxs-lookup"><span data-stu-id="af1e1-262">Performance Counter</span></span>|  
|-------------------------------------------|--------------------------------------|------------------------------|-------------------------|------------------------|-------------------------|  
|<span data-ttu-id="af1e1-263">1</span><span class="sxs-lookup"><span data-stu-id="af1e1-263">1</span></span>|<span data-ttu-id="af1e1-264">**Tasa entrante de la entrega de mensajes** para el host instancia supera la **tasa saliente de la entrega de mensajes \***  especificado **factor de sobrecarga (porcentaje)** valor</span><span class="sxs-lookup"><span data-stu-id="af1e1-264">**Message delivery incoming rate** for the host instance exceeds the **Message delivery outgoing rate \*** the specified **Rate overdrive factor (percent)** value</span></span><br /><br /> <span data-ttu-id="af1e1-265">Esto puede deberse a una alta complejidad del procesamiento, a adaptadores de salida lentos o a una escasez momentánea de recursos del sistema.</span><span class="sxs-lookup"><span data-stu-id="af1e1-265">This can be caused by high processing complexity, slow outbound adapters, or a momentary shortage of system resources.</span></span>|<span data-ttu-id="af1e1-266">Bloquea el subproceso de entrega durante un período de tiempo calculado dinámicamente hasta que la entrega de mensajes tasa entrante esté al mismo nivel con el **tasa saliente de la entrega de mensajes \***  especificado **velocidad sobrecargar (factor por ciento)** valor.</span><span class="sxs-lookup"><span data-stu-id="af1e1-266">Block the delivery thread for a dynamically computed time period until the Message delivery incoming rate is at par with the **Message delivery outgoing rate \*** the specified **Rate overdrive factor (percent)** value.</span></span>|<span data-ttu-id="af1e1-267">Utilice contadores de rendimiento para determinar las tasas entrante y saliente de la entrega de mensajes.</span><span class="sxs-lookup"><span data-stu-id="af1e1-267">Use performance counters to determine the message delivery incoming and message delivery outgoing rate.</span></span> <span data-ttu-id="af1e1-268">Tenga en cuenta un adecuado a través de factor de unidad para su entorno.</span><span class="sxs-lookup"><span data-stu-id="af1e1-268">Consider an appropriate over drive factor for your environment.</span></span><br /><br /> <span data-ttu-id="af1e1-269">Compruebe que los valores proporcionados para el **duración de la ventana de muestreo** y **número mínimo de muestras** parámetros son adecuados para su escenario.</span><span class="sxs-lookup"><span data-stu-id="af1e1-269">Verify that the values supplied for the **Sampling window duration** and **Minimum number of samples** parameters are appropriate for your scenario.</span></span><br /><br /> <span data-ttu-id="af1e1-270">Para obtener más información acerca de estos parámetros, consulte [cómo modificar tasa según configuración de la limitación](../core/how-to-modify-rate-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-270">For more information about these parameters, see [How to Modify Rate Based Throttling Settings](../core/how-to-modify-rate-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-271">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-271">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-272">Tasa entrante de la entrega de mensajes</span><span class="sxs-lookup"><span data-stu-id="af1e1-272">Message delivery incoming rate</span></span><br /><br /> <span data-ttu-id="af1e1-273">Tasa saliente de publicación de mensajes</span><span class="sxs-lookup"><span data-stu-id="af1e1-273">Message publishing outgoing rate</span></span>|  
|<span data-ttu-id="af1e1-274">4</span><span class="sxs-lookup"><span data-stu-id="af1e1-274">4</span></span>|<span data-ttu-id="af1e1-275">La memoria del proceso supera el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="af1e1-275">Process memory exceeds the specified threshold.</span></span><br /><br /> <span data-ttu-id="af1e1-276">Esto puede producirse en escenarios donde el procesamiento requiere un uso intensivo de la memoria, cuando se procesan mensajes grandes o cuando los adaptadores de envío intentan procesar un gran número de mensajes simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="af1e1-276">This can occur in memory intensive processing scenarios, when processing large messages, or when send adapters are attempting to process a high number of messages simultaneously.</span></span>|<span data-ttu-id="af1e1-277">Ralentice la entrega de mensajes a los adaptadores o a XLANG.</span><span class="sxs-lookup"><span data-stu-id="af1e1-277">Slow down message delivery to adapters or XLANG.</span></span><br /><br /> <span data-ttu-id="af1e1-278">Reduzca el consumo de memoria del proceso mediante la deshidratación de instancias de servicio y la reducción de caché cuando se puedan aplicar.</span><span class="sxs-lookup"><span data-stu-id="af1e1-278">Reduce process memory consumption by dehydrating service instances and shrinking cache when applicable.</span></span><br /><br /> <span data-ttu-id="af1e1-279">Reduzca el tamaño de los grupos de subprocesos utilizados por EPM o por el Agente de mensaje.</span><span class="sxs-lookup"><span data-stu-id="af1e1-279">Reduce the size of the thread pools used by the EPM and/or the Message Agent.</span></span><br /><br /> <span data-ttu-id="af1e1-280">Fuerce de manera periódica una recolección de elementos no utilizados (GC) de .NET.</span><span class="sxs-lookup"><span data-stu-id="af1e1-280">Periodically force a .NET garbage collection (GC).</span></span>|<span data-ttu-id="af1e1-281">Si el sistema no llega a estar inactivo debido a la limitación basada en memoria del proceso, puede que no se necesite ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="af1e1-281">If the system is not becoming idle due to process memory based throttling, no action may be required.</span></span><br /><br /> <span data-ttu-id="af1e1-282">Si el **número de mensajes en curso** es alto y el uso de CPU no es excesivo incluso cuando no hay proceso limitación basada en memoria, se pueden requerir ninguna acción adicional.</span><span class="sxs-lookup"><span data-stu-id="af1e1-282">If the **In-process message count** counter is high and the CPU utilization is not excessive even when there is process memory based throttling, no additional action may be required.</span></span><br /><br /> <span data-ttu-id="af1e1-283">Si parece que el sistema sobrelimitado, considere la posibilidad de aumentar el valor asociado a la **virtual de proceso** umbral para el host y compruebe que la instancia de host no genera un error de "memoria insuficiente".</span><span class="sxs-lookup"><span data-stu-id="af1e1-283">If the system appears to be over-throttling, consider increasing the value associated with the **Process virtual** threshold for the host and verify that the host instance does not generate an "out of memory" error.</span></span> <span data-ttu-id="af1e1-284">Si se produce un error de "memoria insuficiente" al aumentar la **virtual de proceso** umbral, considere la posibilidad de reducir los valores para la **tamaño de la cola de mensajes interna** y **mensajesencurso** umbrales.</span><span class="sxs-lookup"><span data-stu-id="af1e1-284">If an "out of memory" error is raised by increasing the **Process virtual** threshold, then consider reducing the values for the **Internal message queue size** and **In-process messages** thresholds.</span></span> <span data-ttu-id="af1e1-285">Esta estrategia es especialmente importante en escenarios de procesamiento de mensajes de gran tamaño.</span><span class="sxs-lookup"><span data-stu-id="af1e1-285">This strategy is particularly relevant in large message processing scenarios.</span></span><br /><br /> <span data-ttu-id="af1e1-286">Para obtener más información acerca de estos parámetros, consulte [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-286">For more information about these parameters, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-287">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-287">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-288">Consumo excesivo de memoria de proceso</span><span class="sxs-lookup"><span data-stu-id="af1e1-288">High process memory</span></span><br /><br /> <span data-ttu-id="af1e1-289">Usage(MB) de memoria de proceso</span><span class="sxs-lookup"><span data-stu-id="af1e1-289">Process memory usage(MB)</span></span><br /><br /> <span data-ttu-id="af1e1-290">Umbral de uso de memoria de proceso (MB)</span><span class="sxs-lookup"><span data-stu-id="af1e1-290">Process memory usage threshold (MB)</span></span><br /><br /> <span data-ttu-id="af1e1-291">Número de mensajes en curso</span><span class="sxs-lookup"><span data-stu-id="af1e1-291">In-process message count</span></span><br /><br /> <span data-ttu-id="af1e1-292">Número de instancias activas</span><span class="sxs-lookup"><span data-stu-id="af1e1-292">Active instance count</span></span>|  
|<span data-ttu-id="af1e1-293">3</span><span class="sxs-lookup"><span data-stu-id="af1e1-293">3</span></span>|<span data-ttu-id="af1e1-294">El número de mensajes en curso entregados a una clase de servicio supera el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="af1e1-294">Number of in-process messages delivered to a service class exceeds the specified threshold.</span></span><br /><br /> <span data-ttu-id="af1e1-295">Esto puede deberse a una alta complejidad del procesamiento, a adaptadores de salida lentos o a una escasez momentánea de recursos del sistema.</span><span class="sxs-lookup"><span data-stu-id="af1e1-295">This can be caused by high processing complexity, slow outbound adapters, or a momentary shortage of system resources.</span></span>|<span data-ttu-id="af1e1-296">Ralentice la entrega de mensajes a los adaptadores o a XLANG.</span><span class="sxs-lookup"><span data-stu-id="af1e1-296">Slow down message delivery to adapters or XLANG.</span></span><br /><br /> <span data-ttu-id="af1e1-297">Reduzca el tamaño del grupo de subprocesos utilizado por el Agente de mensaje.</span><span class="sxs-lookup"><span data-stu-id="af1e1-297">Reduce the size of the thread pool used by the Message Agent.</span></span>|<span data-ttu-id="af1e1-298">Si se produce sobrelimitación, considere la posibilidad de aumentar el valor asociado a la **mensajes en curso** umbral.</span><span class="sxs-lookup"><span data-stu-id="af1e1-298">If over-throttling occurs, consider increasing the value associated with the **In-process messages** threshold.</span></span><br /><br /> <span data-ttu-id="af1e1-299">Para obtener más información acerca de este parámetro, vea [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md) **Nota:** al aumentar este valor puede afectar al rendimiento del adaptador de envío negativamente o aumente la cantidad de memoria uso del proceso.</span><span class="sxs-lookup"><span data-stu-id="af1e1-299">For more information about this parameter, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md) **Note:**  Increasing this value may adversely impact send adapter performance and/or increase the memory usage of the process.</span></span>|<span data-ttu-id="af1e1-300">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-300">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-301">Número de mensajes en curso</span><span class="sxs-lookup"><span data-stu-id="af1e1-301">In-process message count</span></span><br /><br /> <span data-ttu-id="af1e1-302">Umbral del número de mensajes en curso</span><span class="sxs-lookup"><span data-stu-id="af1e1-302">In-process message count threshold</span></span>|  
|<span data-ttu-id="af1e1-303">9</span><span class="sxs-lookup"><span data-stu-id="af1e1-303">9</span></span>|<span data-ttu-id="af1e1-304">El recuento de subprocesos del proceso supera el umbral especificado.</span><span class="sxs-lookup"><span data-stu-id="af1e1-304">Process thread count exceeds the specified threshold.</span></span>|<span data-ttu-id="af1e1-305">Reducir el tamaño de los grupos de subprocesos utilizados por el EPM o el agente de mensaje</span><span class="sxs-lookup"><span data-stu-id="af1e1-305">Reduce the size of the thread pools used by the EPM and/or the Message Agent</span></span>|<span data-ttu-id="af1e1-306">Considere la posibilidad de ajustar los distintos tamaños de grupos de subprocesos para asegurar que el sistema no crea un número grande de subprocesos.</span><span class="sxs-lookup"><span data-stu-id="af1e1-306">Consider adjusting the different thread pool sizes to ensure that the system does not create a large number of threads.</span></span><br /><br /> <span data-ttu-id="af1e1-307">Para obtener más información acerca de cómo modificar los tamaños de grupo de subprocesos, vea [cómo modificar la configuración General](../core/how-to-modify-general-settings.md) y [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-307">For more information about modifying the thread pool sizes, see [How to Modify General Settings](../core/how-to-modify-general-settings.md) and [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-308">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-308">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-309">Número de subprocesos</span><span class="sxs-lookup"><span data-stu-id="af1e1-309">Thread count</span></span><br /><br /> <span data-ttu-id="af1e1-310">Umbral del número de subprocesos</span><span class="sxs-lookup"><span data-stu-id="af1e1-310">Thread count threshold</span></span>|  
|<span data-ttu-id="af1e1-311">5</span><span class="sxs-lookup"><span data-stu-id="af1e1-311">5</span></span>|<span data-ttu-id="af1e1-312">La memoria del sistema supera un umbral.</span><span class="sxs-lookup"><span data-stu-id="af1e1-312">System memory exceeds a threshold.</span></span>|<span data-ttu-id="af1e1-313">Ralentice la entrega de mensajes a los adaptadores o a XLANG.</span><span class="sxs-lookup"><span data-stu-id="af1e1-313">Slow down message delivery to adapters or XLANG.</span></span><br /><br /> <span data-ttu-id="af1e1-314">Reduzca el consumo de memoria del proceso mediante la deshidratación de instancias de servicio y la reducción de caché cuando se puedan aplicar.</span><span class="sxs-lookup"><span data-stu-id="af1e1-314">Reduce process memory consumption by dehydrating service instances and shrinking cache when applicable.</span></span><br /><br /> <span data-ttu-id="af1e1-315">Reduzca el tamaño de los grupos de subprocesos utilizados por EPM o por el Agente de mensaje.</span><span class="sxs-lookup"><span data-stu-id="af1e1-315">Reduce the size of the thread pools used by the EPM and/or the Message Agent.</span></span>|<span data-ttu-id="af1e1-316">Considere la posibilidad de reducir la carga mediante la reducción del tamaño predeterminado del grupo de subprocesos de EPM o del tamaño de los lotes del adaptador.</span><span class="sxs-lookup"><span data-stu-id="af1e1-316">Consider reducing load by reducing the default size of the EPM thread pool, and/or the size of adapter batches.</span></span><br /><br /> <span data-ttu-id="af1e1-317">Si el proceso no consume demasiada memoria, considere la posibilidad de aumentar la **Global física** umbral para el host.</span><span class="sxs-lookup"><span data-stu-id="af1e1-317">If the process is not consuming excessive memory, consider increasing the **Global Physical** threshold for the host.</span></span><br /><br /> <span data-ttu-id="af1e1-318">Para obtener más información acerca de cómo cambiar la **Global física** umbral, consulte [cómo modificar recursos según configuración de la limitación](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="af1e1-318">For more information about changing the **Global Physical** threshold, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="af1e1-319">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="af1e1-319">BizTalk:MessageAgent</span></span>|<span data-ttu-id="af1e1-320">Uso de memoria física (MB)</span><span class="sxs-lookup"><span data-stu-id="af1e1-320">Physical memory usage (MB)</span></span>|