---
title: 'Tutorial 5: Invocar una interfaz REST con BizTalk Server | Documentos de Microsoft'
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 73871ca3-abd0-45ae-b379-6df76a967a80
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fce915ec277b1f73f93a9508a5dd6c92fb0a5c9d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="tutorial-5-invoking-a-rest-interface-using-biztalk-server"></a><span data-ttu-id="92712-102">Tutorial 5: Invocar una interfaz REST con BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="92712-102">Tutorial 5: Invoking a REST Interface Using BizTalk Server</span></span>
<span data-ttu-id="92712-103">En esta sección se proporciona un tutorial paso a paso sobre cómo invocar un extremo REST mediante [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="92712-103">This section provides a step-by-step walkthrough on how to invoke a REST endpoint using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="92712-104">En este tutorial invocará un extremo REST disponible en [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace que devuelve los retrasos de vuelos de las compañías aéreas de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="92712-104">In this tutorial you invoke a REST endpoint available from the [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace that returns the delays in flights of US air carriers.</span></span> <span data-ttu-id="92712-105">El tutorial usa el nuevo **WCF-WebHttp** adaptador introducidas en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para invocar el extremo REST.</span><span class="sxs-lookup"><span data-stu-id="92712-105">The tutorial uses the new **WCF-WebHttp** adapter introduced in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to invoke the REST endpoint.</span></span>  
  
##  <span data-ttu-id="92712-106"><a name="BKMK_Scenario"></a>Escenario usado en este Tutorial</span><span class="sxs-lookup"><span data-stu-id="92712-106"><a name="BKMK_Scenario"></a> Scenario Used in This Tutorial</span></span>  
 [!INCLUDE[winazure](../includes/winazure-md.md)]<span data-ttu-id="92712-107"> Marketplace proporciona la siguiente dirección URL de recurso REST para recuperar retrasos de vuelos de compañías aéreas estadounidenses:</span><span class="sxs-lookup"><span data-stu-id="92712-107"> Marketplace provides the following the REST resource URL to retrieve flight delays of US air carriers:</span></span>  
  
```  
https://api.datamarket.azure.com/oakleaf/US_Air_Carrier_Flight_Delays_Incr/On_Time_Performance  
```  
  
 <span data-ttu-id="92712-108">Si escribe esta dirección URL en la barra de direcciones de un explorador web, se le pedirán credenciales para obtener acceso al recurso.</span><span class="sxs-lookup"><span data-stu-id="92712-108">If you enter this URL in the address bar of a Web browser, you are prompted for credentials to access the resource.</span></span> <span data-ttu-id="92712-109">Una vez haya iniciado en el [Windows Azure Marketplace](http://go.microsoft.com/fwlink/p/?LinkId=257913), puede obtener las credenciales de la **mi cuenta** ficha de la página web.</span><span class="sxs-lookup"><span data-stu-id="92712-109">After you have logged into the [Windows Azure Marketplace](http://go.microsoft.com/fwlink/p/?LinkId=257913), you can get the credentials from the **My Account** tab of the web page.</span></span> <span data-ttu-id="92712-110">Las credenciales se muestran en la **Id. de cliente** (nombre de usuario) y **clave de cuenta principal** etiquetas (contraseña).</span><span class="sxs-lookup"><span data-stu-id="92712-110">The credentials are listed against the **Customer ID** (user name) and **Primary Account Key** (password) labels.</span></span>  
  
 <span data-ttu-id="92712-111">En este tutorial, usará la dirección URL del recurso y las credenciales para configurar un bidireccional **WCF-WebHttp** puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="92712-111">In this tutorial, you use the resource URL and the credentials to configure a two-way **WCF-WebHttp** send port.</span></span> <span data-ttu-id="92712-112">La canalización de recepción del puerto de envío bidireccional recibe el mensaje de respuesta con los detalles del vuelo y publica el mensaje en la base de datos de cuadro de mensajes [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="92712-112">The receive pipeline of the two-way send port receives the response message with the flight details and publishes the message to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message box database.</span></span> <span data-ttu-id="92712-113">Configurará un puerto de envío de archivos que se suscriba a todos los mensajes publicados por el puerto de envío WCF-WebHttp.</span><span class="sxs-lookup"><span data-stu-id="92712-113">You configure a FILE send port that subscribes to all the messages published by the WCF-WebHttp send port.</span></span> <span data-ttu-id="92712-114">El puerto de envío de archivos consume el mensaje de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] y lo copia en una ubicación de archivo.</span><span class="sxs-lookup"><span data-stu-id="92712-114">The FILE send port consumes the message from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and copies it to a file location.</span></span>  
  
 <span data-ttu-id="92712-115">En un escenario empresarial en tiempo real, el puerto de envío WCF-WebHttp se puede activar asociándolo a un proceso empresarial mayor, como una ubicación de recepción que recibe un mensaje de una aplicación empresarial.</span><span class="sxs-lookup"><span data-stu-id="92712-115">In a real-world business scenario, the WCF-WebHttp send port can be triggered by associating it with a larger business process such as a receive location that gets a message from a business application.</span></span> <span data-ttu-id="92712-116">No obstante, en este tutorial, dado que el objetivo es demostrar cómo invocar una interfaz REST, puede usar una ubicación de archivo simple que reciba un mensaje ficticio para activar el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="92712-116">However, in this tutorial, because the focus is on demonstrating how to invoke a REST interface, you can use a simple FILE location that receives a dummy message to trigger the send port.</span></span>  
  
 <span data-ttu-id="92712-117">De este modo, para resumir, debe realizar los siguientes pasos para configurar esta solución:</span><span class="sxs-lookup"><span data-stu-id="92712-117">So, to summarize, you must perform the following steps to configure this solution:</span></span>  
  
1.  <span data-ttu-id="92712-118">Configure una ubicación de recepción de FILE para seleccionar un mensaje de solicitud ficticio.</span><span class="sxs-lookup"><span data-stu-id="92712-118">Configure a FILE receive location to pick a dummy request message.</span></span>  
  
2.  <span data-ttu-id="92712-119">Configure un puerto de envío de WCF-WebHttp bidireccional para invocar la dirección URL del recurso REST y recibir una respuesta.</span><span class="sxs-lookup"><span data-stu-id="92712-119">Configure a two-way WCF-WebHttp send port to invoke the REST resource URL and receive a response.</span></span>  
  
3.  <span data-ttu-id="92712-120">Configurar un puerto de envío de archivos unidireccional para consumir el mensaje de respuesta con los detalles de los vuelos y copiarlo en una ubicación de archivo.</span><span class="sxs-lookup"><span data-stu-id="92712-120">Configure a one-way FILE send port to consume the response message with the flight details and copy it to a file location.</span></span>  
  
## <a name="set-up-your-includewinazureincludeswinazure-mdmd-marketplace-account"></a><span data-ttu-id="92712-121">Configurar la cuenta de [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace</span><span class="sxs-lookup"><span data-stu-id="92712-121">Set up Your [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace Account</span></span>  
 <span data-ttu-id="92712-122">Para acceder a los datos de retrasos de vuelos que se exponen a través del extremo REST, deberá suscribirse a la fuente de datos de ejemplo US Air Carrier Flight Delays.</span><span class="sxs-lookup"><span data-stu-id="92712-122">To access the flight delay data exposed through the REST endpoint, you must first subscribe to the US Air Carrier Flight Delays sample data feed.</span></span> <span data-ttu-id="92712-123">Para ello, realice los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="92712-123">Perform the following steps to do so:</span></span>  
  
#### <a name="to-subscribe-to-the-data-feed"></a><span data-ttu-id="92712-124">Procedimiento para suscribirse a la fuente de datos</span><span class="sxs-lookup"><span data-stu-id="92712-124">To subscribe to the data feed</span></span>  
  
1.  <span data-ttu-id="92712-125">Inicie sesión en [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace mediante su cuenta Microsoft.</span><span class="sxs-lookup"><span data-stu-id="92712-125">Log in to the [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace using your Microsoft account.</span></span>  
  
2.  <span data-ttu-id="92712-126">En el **datos** ficha, busque y haga clic en el **US Air Carrier Flight Delays** servicio.</span><span class="sxs-lookup"><span data-stu-id="92712-126">In the **Data** tab, locate and click the **US Air Carrier Flight Delays** service.</span></span>  
  
3.  <span data-ttu-id="92712-127">En la página de servicio de datos, haga clic en **Sign Up**.</span><span class="sxs-lookup"><span data-stu-id="92712-127">On the data service page, click **Sign Up**.</span></span> <span data-ttu-id="92712-128">En la página de suscripción, acepte los términos del contrato y, a continuación, haga clic en **registrarse** nuevo.</span><span class="sxs-lookup"><span data-stu-id="92712-128">On the Sign Up page, accept the terms of agreement and then click **Sign up** again.</span></span>  
  
4.  <span data-ttu-id="92712-129">En el **mi cuenta** ficha, recuperar las credenciales para tener acceso al servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="92712-129">In the **My Account** tab, retrieve the credentials to access the data service.</span></span> <span data-ttu-id="92712-130">Las credenciales se muestran en la **Id. de cliente** (nombre de usuario) y **clave de cuenta principal** etiquetas (contraseña).</span><span class="sxs-lookup"><span data-stu-id="92712-130">The credentials are listed against the **Customer ID** (user name) and **Primary Account Key** (password) labels.</span></span> <span data-ttu-id="92712-131">Necesitará estas credenciales al configurar la **WCF-WebHttp** puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="92712-131">You will need these credentials while configuring the **WCF-WebHttp** send port.</span></span>  
  
## <a name="set-up-your-computer"></a><span data-ttu-id="92712-132">Configurar el PC</span><span class="sxs-lookup"><span data-stu-id="92712-132">Set up Your Computer</span></span>  
 <span data-ttu-id="92712-133">Para configurar el escenario usado en este tutorial, debe tener [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] instalado y configurado en su PC.</span><span class="sxs-lookup"><span data-stu-id="92712-133">To configure the scenario used in this tutorial you must have [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] installed and configured on your computer.</span></span> <span data-ttu-id="92712-134">Si desea aprovisionar un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] equipo en una VM de Windows Azure, siga las instrucciones de [configurar BizTalk Server en una máquina virtual de Azure](http://msdn.microsoft.com/library/azure/jj248689.aspx).</span><span class="sxs-lookup"><span data-stu-id="92712-134">If you want to provision a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer on a Windows Azure VM, follow the instructions at [Configuring BizTalk Server on an Azure VM](http://msdn.microsoft.com/library/azure/jj248689.aspx).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="92712-135">En esta sección</span><span class="sxs-lookup"><span data-stu-id="92712-135">In This Section</span></span>  
  
-   [<span data-ttu-id="92712-136">Paso 1: Configurar un archivo de ubicación de recepción</span><span class="sxs-lookup"><span data-stu-id="92712-136">Step 1: Configure a FILE Receive Location</span></span>](../core/step-1-configure-a-file-receive-location.md)  
  
-   [<span data-ttu-id="92712-137">Paso 2: Configurar un puerto de envío WCF-WebHttp bidireccional</span><span class="sxs-lookup"><span data-stu-id="92712-137">Step 2: Configure a Two-way WCF-WebHttp Send Port</span></span>](../core/step-2-configure-a-two-way-wcf-webhttp-send-port.md)  
  
-   [<span data-ttu-id="92712-138">Paso 3: Configurar un puerto de envío de archivos unidireccional</span><span class="sxs-lookup"><span data-stu-id="92712-138">Step 3: Configure a One-way FILE Send Port</span></span>](../core/step-3-configure-a-one-way-file-send-port.md)  
  
-   [<span data-ttu-id="92712-139">Paso 4: Probar la solución</span><span class="sxs-lookup"><span data-stu-id="92712-139">Step 4: Test the Solution</span></span>](../core/step-4-test-the-solution.md)