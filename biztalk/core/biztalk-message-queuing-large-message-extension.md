---
title: Extensión de mensajes de BizTalk para Message Queue grandes | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- BizTalk Message Queuing Large Message Extension
- utilities, BizTalk Message Queuing Large Message Extension
ms.assetid: 5d6892d3-fda8-41a3-8111-d28c11bd71fb
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 399c8e02d59a931dbf30bfa31ca28980dfa312be
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/01/2017
ms.locfileid: "26006405"
---
# <a name="biztalk-message-queuing-large-message-extension"></a><span data-ttu-id="4df47-102">Extensión de mensajes de gran tamaño de Message Queue Server de BizTalk</span><span class="sxs-lookup"><span data-stu-id="4df47-102">BizTalk Message Queuing Large Message Extension</span></span>
<span data-ttu-id="4df47-103">Nativa de message Queue Server no puede procesar un mensaje cuyo cuerpo exceda los 4megabytes (MB).</span><span class="sxs-lookup"><span data-stu-id="4df47-103">Native message queuing cannot process a message with a body larger than 4megabytes (MB).</span></span> <span data-ttu-id="4df47-104">Sin embargo, Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] incluye un complemento para la versión nativa de Message Queue Server que permite procesar mensajes de más de 4 MB.</span><span class="sxs-lookup"><span data-stu-id="4df47-104">However, Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] includes an add-on for native message queuing that permits processing messages larger than 4 MB.</span></span> <span data-ttu-id="4df47-105">Este complemento se entrega como el archivo Mqrtlarge.dll y expone el **MQSendLargeMessage** y **MQReceiveLargeMessage** aplicación interfaces de programación (API) y el modelo COM análogo.</span><span class="sxs-lookup"><span data-stu-id="4df47-105">This add-on is delivered as the Mqrtlarge.dll file, and exposes the **MQSendLargeMessage** and **MQReceiveLargeMessage** application programming interfaces (APIs), and the analogous COM model.</span></span> <span data-ttu-id="4df47-106">Estas funciones se implementan como message Queue Server de las API, **MQSendMessage** y **MQReceiveMessage** respectivamente.</span><span class="sxs-lookup"><span data-stu-id="4df47-106">These functions are implemented as standard message queuing APIs, **MQSendMessage** and **MQReceiveMessage** respectively.</span></span>  
  
 <span data-ttu-id="4df47-107">Para participar en intercambios de mensajes de gran tamaño, el equipo de Message Queue Server debe tener instalado el archivo Mqrtlarge.dll, y la aplicación Message Queue Server debe utilizar las interfaces de API de complemento.</span><span class="sxs-lookup"><span data-stu-id="4df47-107">To participate in large message exchanges, the message queuing computer must have the Mqrtlarge.dll file installed, and the message queuing application should use the add-on APIs.</span></span> <span data-ttu-id="4df47-108">En caso contrario, se fragmentará mensajes completos.</span><span class="sxs-lookup"><span data-stu-id="4df47-108">Otherwise, complete messages will be fragmented.</span></span>  
  
 <span data-ttu-id="4df47-109">**Ubicación en SDK**</span><span class="sxs-lookup"><span data-stu-id="4df47-109">**Location in SDK**</span></span>  
  
 <span data-ttu-id="4df47-110">\<*Ruta de acceso de instalación*\>\SDK\ Mqrtlarge.dll</span><span class="sxs-lookup"><span data-stu-id="4df47-110">\<*Installation Path*\>\SDK\ Mqrtlarge.dll</span></span>  
  
 <span data-ttu-id="4df47-111">**Inventario de archivos**</span><span class="sxs-lookup"><span data-stu-id="4df47-111">**File Inventory**</span></span>  
  
 <span data-ttu-id="4df47-112">En la siguiente tabla se indica el archivo que emplea esta utilidad y se describe su finalidad.</span><span class="sxs-lookup"><span data-stu-id="4df47-112">The following table shows the file this utility uses and describes its purpose.</span></span>  
  
|<span data-ttu-id="4df47-113">Archivos</span><span class="sxs-lookup"><span data-stu-id="4df47-113">File(s)</span></span>|<span data-ttu-id="4df47-114">Description</span><span class="sxs-lookup"><span data-stu-id="4df47-114">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="4df47-115">Mqrtlarge.dll</span><span class="sxs-lookup"><span data-stu-id="4df47-115">Mqrtlarge.dll</span></span>|<span data-ttu-id="4df47-116">Una biblioteca de vínculos dinámicos Win32 que expone **MQSendLargeMessage** y **MQReceiveLargeMessage**.</span><span class="sxs-lookup"><span data-stu-id="4df47-116">A Win32 dynamic-link library that exposes **MQSendLargeMessage** and **MQReceiveLargeMessage**.</span></span><br /><br /> <span data-ttu-id="4df47-117">Los archivos de encabezado se encuentran en el  *\<ruta de acceso de instalación\>* directorio \SDK\Include.</span><span class="sxs-lookup"><span data-stu-id="4df47-117">The header files are located in the *\<Installation Path\>* \SDK\Include directory.</span></span> <span data-ttu-id="4df47-118">**Nota:** debe instalar [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en una versión de 64 bits de Windows para tener acceso a la versión de 64 bits de Mqrtlarge.dll.</span><span class="sxs-lookup"><span data-stu-id="4df47-118">**Note:**  You must install [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] onto a 64 bit version of Windows in order to access the 64 bit version of Mqrtlarge.dll.</span></span>|  
  
 <span data-ttu-id="4df47-119">**Usar esta utilidad**</span><span class="sxs-lookup"><span data-stu-id="4df47-119">**Using This Utility**</span></span>  
  
 <span data-ttu-id="4df47-120">Utilice el procedimiento siguiente para ejecutar el archivo Mqrtlarge.dll.</span><span class="sxs-lookup"><span data-stu-id="4df47-120">Use the following procedure to run the Mqrtlarge.dll file.</span></span>  
  
### <a name="to-use-the-mqrtlargedll-file"></a><span data-ttu-id="4df47-121">Para utilizar el archivo Mqrtlarge.dll</span><span class="sxs-lookup"><span data-stu-id="4df47-121">To use the Mqrtlarge.dll file</span></span>  
  
1.  > [!NOTE]
    >  <span data-ttu-id="4df47-122">Para una solución MSMQ sin BizTalk Server, la posible que MQRTLarge.dll funcione correctamente.</span><span class="sxs-lookup"><span data-stu-id="4df47-122">For an MSMQ solution without BizTalk Server, the MQRTLarge.dll may still function correctly.</span></span> <span data-ttu-id="4df47-123">Sin embargo, esto no es una configuración recomendada que admita Microsoft, y pueden producirse resultados inesperados si se usa fuera del entorno de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="4df47-123">However, this is not a recommended configuration that Microsoft supports, and unexpected results may occur if used outside of the BizTalk Server environment.</span></span>  
  
     <span data-ttu-id="4df47-124">Agregue el archivo Mqrtlarge.dll al equipo que no cuente con una instalación de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="4df47-124">Add the file Mqrtlarge.dll to the computer that does not contain an installation of BizTalk Server.</span></span> <span data-ttu-id="4df47-125">Message Queue Server utiliza el archivo Mqrtlarge.dll para enviar mensajes a BizTalk Server o recibirlos desde éste.</span><span class="sxs-lookup"><span data-stu-id="4df47-125">Message Queuing uses Mqrtlarge.dll to send or receive messages to or from BizTalk Server.</span></span>  
  
2.  <span data-ttu-id="4df47-126">Para tener acceso a las API del archivo Mqrtlarge.dll, agregue una referencia al archivo Mqrtlarge.dll en las aplicaciones que envían mensajes a otros equipos o los reciben de éstos para el extremo de Message Queue Server de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4df47-126">To access the APIs in the Mqrtlarge.dll file, add a reference to the Mqrtlarge.dll file in the applications that send or receive messages to or from other computers to the BizTalk Message Queuing endpoint.</span></span>  
  
 <span data-ttu-id="4df47-127">**Comentarios**</span><span class="sxs-lookup"><span data-stu-id="4df47-127">**Remarks**</span></span>  
  
 <span data-ttu-id="4df47-128">Los mensajes de gran tamaño se envían a las colas estándar de Message Queue Server de BizTalk (también conocido como MSMQ).</span><span class="sxs-lookup"><span data-stu-id="4df47-128">Large messages are sent to standard Message Queuing (also known as MSMQ) queues.</span></span> <span data-ttu-id="4df47-129">Sólo debería utilizar las API para mensajes de gran tamaño en dichas colas, aunque no es obligatorio.</span><span class="sxs-lookup"><span data-stu-id="4df47-129">You should use only the large message APIs on such queues, although this is not enforced.</span></span>  
  
 <span data-ttu-id="4df47-130">Todavía puede usar **MQSendMessage** para enviar mensajes a una cola a la que se envían mensajes de gran tamaño.</span><span class="sxs-lookup"><span data-stu-id="4df47-130">You can still use **MQSendMessage** to send messages to a queue to which you sent large messages.</span></span> <span data-ttu-id="4df47-131">Del mismo modo, puede usar **MQReceiveMessage** para recibir mensajes de dichas colas, aunque no se recomienda ya que puede afectar el rendimiento de la **MQReceiveLargeMessage** API.</span><span class="sxs-lookup"><span data-stu-id="4df47-131">Likewise, you can use **MQReceiveMessage** to receive messages from such queues, although it is not recommended because it may impact the performance of the **MQReceiveLargeMessage** API.</span></span>  
  
 <span data-ttu-id="4df47-132">Con fines de recuperación, se recomienda que utilice **DEAD_LETTER** diario.</span><span class="sxs-lookup"><span data-stu-id="4df47-132">For recovery purposes, it is recommended that you use **DEAD_LETTER** journaling.</span></span>  
  
 <span data-ttu-id="4df47-133">**Fragmentación**</span><span class="sxs-lookup"><span data-stu-id="4df47-133">**Fragmentation**</span></span>  
  
 <span data-ttu-id="4df47-134">Generalmente, un mensaje de gran tamaño se fragmentará en diversos mensajes, cada uno con un tamaño inferior a 4 MB.</span><span class="sxs-lookup"><span data-stu-id="4df47-134">In general, a large message will be fragmented into numerous messages, each smaller than 4 MB.</span></span> <span data-ttu-id="4df47-135">Resulta importante saber que sólo se fragmenta el cuerpo.</span><span class="sxs-lookup"><span data-stu-id="4df47-135">It is important to understand that only the body is fragmented.</span></span> <span data-ttu-id="4df47-136">Las demás propiedades se envían con cada uno de los fragmentos.</span><span class="sxs-lookup"><span data-stu-id="4df47-136">The rest of the properties are sent with each fragment.</span></span>  
  
 <span data-ttu-id="4df47-137">El número de fragmentos se define según el tamaño del mensaje y del tamaño de los fragmentos.</span><span class="sxs-lookup"><span data-stu-id="4df47-137">The number of fragments is defined by the size of the message and the size of the fragments.</span></span> <span data-ttu-id="4df47-138">El tamaño de los fragmentos puede establecerse automáticamente mediante el archivo Mqrtlarge.dll o la parte correspondiente de Message Queue Server de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4df47-138">The fragment size may be automatically determined by the file Mqrtlarge.dll or the appropriate part of BizTalk Message Queuing.</span></span> <span data-ttu-id="4df47-139">Las aplicaciones también pueden especificar explícitamente el tamaño de los fragmentos.</span><span class="sxs-lookup"><span data-stu-id="4df47-139">Applications can also explicitly specify the fragment size.</span></span>  
  
 <span data-ttu-id="4df47-140">Tenga en cuenta que la extensión de mensajes de gran tamaño requiere la extensión del mensaje mediante la adición de datos internos adicionales de un tamaño constante.</span><span class="sxs-lookup"><span data-stu-id="4df47-140">Note that the large message extension requires extending the message by adding additional internal data of a constant size.</span></span>  
  
 <span data-ttu-id="4df47-141">**PROPID_M_EXTENSION**</span><span class="sxs-lookup"><span data-stu-id="4df47-141">**PROPID_M_EXTENSION**</span></span>  
  
 <span data-ttu-id="4df47-142">Puede usar el **PROPID_M_EXTENSION/PROPID_M_EXTENSION_LEN** propiedades para firmar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="4df47-142">You can use the **PROPID_M_EXTENSION/PROPID_M_EXTENSION_LEN** properties to sign the message.</span></span> <span data-ttu-id="4df47-143">La firma se compone de 40 bytes (B).</span><span class="sxs-lookup"><span data-stu-id="4df47-143">The signature comprises 40 bytes (B).</span></span> <span data-ttu-id="4df47-144">En la tabla siguiente se muestran los fragmentos de la firma.</span><span class="sxs-lookup"><span data-stu-id="4df47-144">The following table shows signature fragments.</span></span>  
  
|<span data-ttu-id="4df47-145">Description</span><span class="sxs-lookup"><span data-stu-id="4df47-145">Description</span></span>|<span data-ttu-id="4df47-146">Tamaño</span><span class="sxs-lookup"><span data-stu-id="4df47-146">Size</span></span>|  
|-----------------|----------|  
|<span data-ttu-id="4df47-147">Identificador único global (GUID) que indica que este mensaje se envió mediante **MQSendLargeMessage**</span><span class="sxs-lookup"><span data-stu-id="4df47-147">Globally unique identifier (GUID) denoting that this message was sent using **MQSendLargeMessage**</span></span>|<span data-ttu-id="4df47-148">16 B</span><span class="sxs-lookup"><span data-stu-id="4df47-148">16 B</span></span>|  
|<span data-ttu-id="4df47-149">GUID para el mensaje: Id. único por mensaje de gran tamaño que es común a todas las partes del mensaje</span><span class="sxs-lookup"><span data-stu-id="4df47-149">GUID for the message: unique per-large message ID that is common to all parts of the message</span></span>|<span data-ttu-id="4df47-150">16 B</span><span class="sxs-lookup"><span data-stu-id="4df47-150">16 B</span></span>|  
|<span data-ttu-id="4df47-151">Tamaño total mensaje de gran tamaño</span><span class="sxs-lookup"><span data-stu-id="4df47-151">Total size of the large message</span></span>|<span data-ttu-id="4df47-152">4 B</span><span class="sxs-lookup"><span data-stu-id="4df47-152">4 B</span></span>|  
|<span data-ttu-id="4df47-153">Número de parte</span><span class="sxs-lookup"><span data-stu-id="4df47-153">Part number</span></span>|<span data-ttu-id="4df47-154">2 B</span><span class="sxs-lookup"><span data-stu-id="4df47-154">2 B</span></span>|  
|<span data-ttu-id="4df47-155">Número de partes del mensaje</span><span class="sxs-lookup"><span data-stu-id="4df47-155">Number of message parts</span></span>|<span data-ttu-id="4df47-156">2 B</span><span class="sxs-lookup"><span data-stu-id="4df47-156">2 B</span></span>|  
  
 <span data-ttu-id="4df47-157">La decisión de utilizar **PROPID_M_EXTENSION** tiene una consecuencia adicional.</span><span class="sxs-lookup"><span data-stu-id="4df47-157">The decision to use **PROPID_M_EXTENSION** has an additional implication.</span></span> <span data-ttu-id="4df47-158">El puente MSMQ-MQSeries de Microsoft Host Integration Server utiliza esta propiedad para pasar una estructura que contiene propiedades que no están asignadas directamente entre mensajes de MQSeries y de Message Queue Server.</span><span class="sxs-lookup"><span data-stu-id="4df47-158">The Microsoft Host Integration Server MSMQ-MQSeries Bridge uses this property to pass a structure that contains properties that are not mapped directly between MQSeries and Message Queuing messages.</span></span> <span data-ttu-id="4df47-159">Las aplicaciones que envían mensajes desde y hacia MQSeries, explícita o implícitamente, utilizan esta estructura.</span><span class="sxs-lookup"><span data-stu-id="4df47-159">Applications that send messages to and from MQSeries explicitly or implicitly use this structure.</span></span> <span data-ttu-id="4df47-160">Message Queue Server puede generar confirmaciones cuando se ha recibido un mensaje desde una cola mediante una aplicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="4df47-160">Message Queuing can generate acknowledgments when a message has been received from a queue by a receiving application.</span></span> <span data-ttu-id="4df47-161">Las confirmaciones se envían a una cola especificada por la aplicación de envío.</span><span class="sxs-lookup"><span data-stu-id="4df47-161">The acknowledgments are sent to a queue specified by the sending application.</span></span> <span data-ttu-id="4df47-162">En el caso de los mensajes de gran tamaño, esta confirmación se envía únicamente para la última parte del mensaje.</span><span class="sxs-lookup"><span data-stu-id="4df47-162">In the case of large messages, you send this acknowledgment only for the last part of the large message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4df47-163">Vea también</span><span class="sxs-lookup"><span data-stu-id="4df47-163">See Also</span></span>  
 [<span data-ttu-id="4df47-164">Utilidades del SDK</span><span class="sxs-lookup"><span data-stu-id="4df47-164">Utilities in the SDK</span></span>](../core/utilities-in-the-sdk.md)