---
title: EDI encabezados y finalizadores | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 5cf1dae3-9570-413d-a85d-94dcbb561906
caps.latest.revision: "20"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 655a7261da5dc66687fdf0cd623802854c0fa4ef
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="edi-headers-and-trailers"></a><span data-ttu-id="63260-102">Encabezados y finalizadores EDI</span><span class="sxs-lookup"><span data-stu-id="63260-102">EDI Headers and Trailers</span></span>
<span data-ttu-id="63260-103">Las partes de un intercambio EDI se delimitan por encabezados y finalizadores que deben cumplir los estándares de X12 o EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="63260-103">The parts of an EDI interchange are delimited by headers and trailers that must conform to the X12 or EDIFACT standards.</span></span> <span data-ttu-id="63260-104">El encabezado y el finalizador de control de intercambio se utilizan sólo una vez; el grupo funcional y los finalizadores y encabezados del conjunto de transacciones se repiten si los conjuntos de transacciones y los grupos se procesan por lotes en el intercambio.</span><span class="sxs-lookup"><span data-stu-id="63260-104">The interchange control header and trailer occur just once; the functional group and transaction set headers and trailers are repeated if the transaction sets and groups are batched within the interchange.</span></span> <span data-ttu-id="63260-105">Todos los encabezados y finalizadores se componen de una serie de elementos de datos que contienen información acerca del contenido del encabezado y del finalizador.</span><span class="sxs-lookup"><span data-stu-id="63260-105">Each of the headers and trailers consists of a series of data elements that contain information about the content that the header and trailer contain.</span></span>  
  
 <span data-ttu-id="63260-106">Los encabezados y finalizadores para X12 y EDIFACT son similares.</span><span class="sxs-lookup"><span data-stu-id="63260-106">The headers and trailers for both X12 and EDIFACT are similar.</span></span> <span data-ttu-id="63260-107">La diferencia principal es el encabezado de la notificación del servicio UNA para EDIFACT, que define los separadores usados en el intercambio.</span><span class="sxs-lookup"><span data-stu-id="63260-107">The major difference is the UNA Service String Advice header for EDIFACT, which defines the separators used in the interchange.</span></span> <span data-ttu-id="63260-108">En la codificación X12, los separadores se definen en el encabezado de control de intercambio ISA.</span><span class="sxs-lookup"><span data-stu-id="63260-108">In X12 encoding, the separators are defined in the ISA Interchange Control Header.</span></span>  
  
 <span data-ttu-id="63260-109">Los encabezados y finalizadores de control de intercambio y del grupo funcional se indican como segmentos de sobre.</span><span class="sxs-lookup"><span data-stu-id="63260-109">The interchange control and functional group headers and trailers are denoted as envelope segments.</span></span> <span data-ttu-id="63260-110">Si BizTalk Server divide un intercambio entrante en conjuntos de transacciones, guarda estos segmentos de sobre como propiedades de contexto.</span><span class="sxs-lookup"><span data-stu-id="63260-110">When BizTalk Server splits an incoming interchange as transaction sets, it saves these envelope segments as context properties.</span></span> <span data-ttu-id="63260-111">Las propiedades de sobre claves que son de ayuda para el enrutamiento se encuentran disponibles como propiedades individuales.</span><span class="sxs-lookup"><span data-stu-id="63260-111">Key envelope properties that are useful for routing are available as individual properties.</span></span> <span data-ttu-id="63260-112">Esto no se realiza si se conserva el intercambio, en cuyo caso los datos de sobre forman parte del mensaje.</span><span class="sxs-lookup"><span data-stu-id="63260-112">This does not occur when the interchange is preserved, in which case the envelope data is part of the message itself.</span></span>  
  
 <span data-ttu-id="63260-113">En caso de que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] genere un mensaje saliente, basará los encabezados y finalizadores en los acuerdos entre socios comerciales (o los acuerdos globales si no se ha determinado ninguna entidad).</span><span class="sxs-lookup"><span data-stu-id="63260-113">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] generates an outgoing message, it bases the headers and trailers on trading partner agreements (or global agreements if no party has been determined).</span></span>  
  
 <span data-ttu-id="63260-114">Los campos de encabezado y finalizador, así como los caracteres separadores que se usan para separarlos en los intercambios, se definen en el acuerdo entre las dos entidades.</span><span class="sxs-lookup"><span data-stu-id="63260-114">The header and trailer fields, and the separator characters used to separate them in interchanges, are both defined in the agreement between the two parties.</span></span> <span data-ttu-id="63260-115">Un carácter separador no se debe usar en la definición de ninguno de los campos de intercambio, grupo o finalizador o encabezado del conjunto de transacciones, según se defina para el acuerdo.</span><span class="sxs-lookup"><span data-stu-id="63260-115">A separator character must not be used in the definition of any of the interchange, group, or transaction set header or trailer fields, as defined for the agreement.</span></span> <span data-ttu-id="63260-116">Si se usan, el intercambio dará lugar a un error en el procesamiento del ensamblador EDI del servidor [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] de envío o del desensamblador de la entidad receptora.</span><span class="sxs-lookup"><span data-stu-id="63260-116">If they are, the interchange will fail processing either in the EDI Assembler of the sending [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] or in the disassembler of the receiving party.</span></span> <span data-ttu-id="63260-117">El intercambio no se llevará a cabo correctamente en el ensamblador EDI si existe un lote saliente, ya que el ensamblador validará el sobre con el esquema de control de encabezado (servicio).</span><span class="sxs-lookup"><span data-stu-id="63260-117">The interchange will fail in the EDI Assembler if it is an outbound batch, because the Assembler will validate the envelope against the header control (service) schema.</span></span> <span data-ttu-id="63260-118">Si el intercambio no se ha procesado por lotes, el ensamblador EDI lo serializará, pero se producirá un error en el procesamiento del desensamblador en el acuerdo de recepción.</span><span class="sxs-lookup"><span data-stu-id="63260-118">If the interchange is unbatched, the EDI Assembler will serialize it, but it will fail processing in the disassembler at the receiving agreement.</span></span>  
  
## <a name="x12-headers-and-trailers"></a><span data-ttu-id="63260-119">Encabezados y finalizadores X12</span><span class="sxs-lookup"><span data-stu-id="63260-119">X12 Headers and Trailers</span></span>  
 <span data-ttu-id="63260-120">Los encabezados y finalizadores de un mensaje codificado con X12 tienen el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="63260-120">The headers and trailers for an X12-encoded message are as follows:</span></span>  
  
```  
ISA Interchange Control Header  
  GS Functional Group Header  
    ST Transaction Set Header  
    SE Transaction Set Trailer  
  GE Functional Group Trailer  
IEA Interchange Control Trailer  
```  
  
 <span data-ttu-id="63260-121">Si un encabezado ISA va seguido inmediatamente de un finalizador IEA, el intercambio está vacío.</span><span class="sxs-lookup"><span data-stu-id="63260-121">If an ISA header is followed immediately by an IEA trailer, the interchange is empty.</span></span> <span data-ttu-id="63260-122">Si existe un conjunto de transacciones, deben estar presentes el encabezado GS y el finalizador GE; en caso contrario, serán condicionales.</span><span class="sxs-lookup"><span data-stu-id="63260-122">If a transaction set exists, the GS header and GE trailer must be present; otherwise, they are conditional.</span></span>  
  
 <span data-ttu-id="63260-123">Los campos de encabezado de control de intercambio ISA de un mensaje codificado con X12 son de longitud fija.</span><span class="sxs-lookup"><span data-stu-id="63260-123">The ISA interchange control header fields in an X12-encoded message are of fixed length.</span></span> <span data-ttu-id="63260-124">En algunos de los campos, puede especificar un valor inferior a la longitud fija del campo.</span><span class="sxs-lookup"><span data-stu-id="63260-124">For some of the fields, you can enter a value less than the fixed length of the field.</span></span> <span data-ttu-id="63260-125">Si lo hace, el intercambio debe contener espacios finales (para un campo de cadena) o ceros iniciales (para un campo numérico) de modo que cada campo tenga la longitud requerida.</span><span class="sxs-lookup"><span data-stu-id="63260-125">If you do so, the interchange must contain trailing spaces (for a string field) or leading zeroes (for a numerical field) so that each field is of the required length.</span></span> <span data-ttu-id="63260-126">Al crear un intercambio saliente, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] especificará los espacios finales o ceros iniciales para crear un encabezado de control de intercambio de la longitud adecuada.</span><span class="sxs-lookup"><span data-stu-id="63260-126">When creating an outbound interchange, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will enter trailing spaces or leading zeroes to create an interchange control header of the right length.</span></span> <span data-ttu-id="63260-127">Los campos de encabezado del grupo GS y los campos de encabezado del conjunto de transacciones ST no tienen una longitud fija.</span><span class="sxs-lookup"><span data-stu-id="63260-127">The GS group header fields and the ST transaction set header fields are not of fixed length.</span></span>  
  
 <span data-ttu-id="63260-128">En la codificación X12, el encabezado de seguridad funcional y de control funcional, el segmento del valor de seguridad funcional y los segmentos de finalizador de seguridad funcional exceden el ámbito de EDI y AS2 de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="63260-128">In X12 encoding, the functional security header, functional assurance header, functional security value segment, and functional security trailer segments are beyond the scope of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] EDI and AS2.</span></span> <span data-ttu-id="63260-129">Si se recibe un intercambio con estos segmentos, se suspenderá con un registro de error que indica que los segmentos están sin identificar.</span><span class="sxs-lookup"><span data-stu-id="63260-129">If an interchange with these segments is received, it will be suspended with an error log indicating that these are unidentified segments.</span></span>  
  
 <span data-ttu-id="63260-130">El campo ST01 el código de Id. del conjunto de transacciones; el campo ST02 es el número de control del conjunto de transacciones.</span><span class="sxs-lookup"><span data-stu-id="63260-130">The ST01 field is the transaction set ID Code; the ST02 field is the transaction set control number.</span></span> <span data-ttu-id="63260-131">El campo ST03 es el identificador de la versión de esquema.</span><span class="sxs-lookup"><span data-stu-id="63260-131">The ST03 field is the schema version identifier.</span></span> <span data-ttu-id="63260-132">El campo SE01 indica el número de segmentos incluido en el conjunto de transacciones; el del campo SE02 es el mismo que el del campo ST02 (número de control de conjuntos de transacciones).</span><span class="sxs-lookup"><span data-stu-id="63260-132">The SE01 field indicates the number of segments included in the transaction set; the SE02 field is the same as the ST02 field (the transaction set control number).</span></span> <span data-ttu-id="63260-133">Al analizar un mensaje entrante, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] comprobará que el número de segmentos del conjunto de transacciones corresponde al valor del campo SE01.</span><span class="sxs-lookup"><span data-stu-id="63260-133">When parsing an incoming message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will verify that the number of segments in the transaction set corresponds to the value of the SE01 field.</span></span> <span data-ttu-id="63260-134">Al generar un mensaje saliente, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] definirá el campo SE01 en el número correcto de segmentos en el conjunto de transacciones.</span><span class="sxs-lookup"><span data-stu-id="63260-134">When generating an outgoing message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will set the SE01 field to the correct number of segments in the transaction set.</span></span>  
  
 <span data-ttu-id="63260-135">Un conjunto de transacciones XML que se va a serializar en un intercambio EDI saliente debe tener un encabezado y finalizador del conjunto de transacciones.</span><span class="sxs-lookup"><span data-stu-id="63260-135">An XML transaction set being serialized into an outgoing EDI interchange should have a transaction set header and trailer.</span></span> <span data-ttu-id="63260-136">No obstante, el ensamblador EDI procesará el mensaje si no tiene un encabezado o finalizador del conjunto de transacciones.</span><span class="sxs-lookup"><span data-stu-id="63260-136">However, the EDI Assembler will process the message if it does not have a transaction set header or trailer.</span></span> <span data-ttu-id="63260-137">Los segmentos de encabezado y finalizador del conjunto de transacciones en esquemas X12 y EDIFACT son opcionales para los conjuntos de transacciones XML.</span><span class="sxs-lookup"><span data-stu-id="63260-137">Transaction set header and trailer segments in X12 and EDIFACT schemas are optional for XML transaction sets.</span></span> <span data-ttu-id="63260-138">Si una transacción no tiene un encabezado ni un finalizador, el ensamblador EDI en la canalización de envío EDISend o AS2EDISend agregará los valores de encabezado y finalizador del conjunto de transacciones a ella.</span><span class="sxs-lookup"><span data-stu-id="63260-138">If a transaction does not have a header or trailer, the EDI Assembler in the EDISend or AS2EDISend send pipeline will add transaction set header and trailer values to it.</span></span> <span data-ttu-id="63260-139">Estos valores se basarán en las asignaciones o los cálculos.</span><span class="sxs-lookup"><span data-stu-id="63260-139">These values will be based on mappings or calculations.</span></span> <span data-ttu-id="63260-140">El ensamblador EDI lo hará para el intercambio XML (un lote conservado), conjunto de transacciones procesado por lotes XML y un conjunto de transacciones XML.</span><span class="sxs-lookup"><span data-stu-id="63260-140">The EDI Assembler will do this for interchange XML (a preserved batch), batched transaction set XML, and transaction set XML.</span></span> <span data-ttu-id="63260-141">Para obtener más información, consulte [X12 segmentos de finalizador y encabezado del conjunto de transacciones](../core/how-the-edi-assembler-works.md#BKMK_X12) o [encabezado del conjunto de transacciones de EDIFACT y segmentos de finalizador](../core/how-the-edi-assembler-works.md#BKMK_EDIFACT).</span><span class="sxs-lookup"><span data-stu-id="63260-141">For more information, see [X12 Transaction Set Header and Trailer Segments](../core/how-the-edi-assembler-works.md#BKMK_X12) or [EDIFACT Transaction Set Header and Trailer Segments](../core/how-the-edi-assembler-works.md#BKMK_EDIFACT).</span></span>  
  
## <a name="edifact-headers-and-trailers"></a><span data-ttu-id="63260-142">Encabezados y finalizadores de EDIFACT</span><span class="sxs-lookup"><span data-stu-id="63260-142">EDIFACT Headers and Trailers</span></span>  
 <span data-ttu-id="63260-143">Los encabezados y finalizadores de un mensaje codificado con EDIFACT tienen el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="63260-143">The headers and trailers for an EDIFACT-encoded message are as follows:</span></span>  
  
```  
UNA Service String Advice  
UNB Interchange Control Header  
  UNG Functional Group Header  
    UNH Message Header  
    UNT Message Trailer  
  UNE Functional Group Trailer  
UNZ Interchange Control Trailer  
```  
  
 <span data-ttu-id="63260-144">No se requiere el encabezado UNA.</span><span class="sxs-lookup"><span data-stu-id="63260-144">The UNA header is not required.</span></span> <span data-ttu-id="63260-145">Se requiere el encabezado UNB.</span><span class="sxs-lookup"><span data-stu-id="63260-145">The UNB header is required.</span></span> <span data-ttu-id="63260-146">Si el encabezado UNA está presente, contiene los delimitadores que se deben usar al procesar el mensaje entrante. En caso contrario, se usarán los separadores definidos para la propiedad de canalización EfactDelimiters.</span><span class="sxs-lookup"><span data-stu-id="63260-146">If the UNA header is present, it contains the delimiters to use when processing the incoming message; otherwise the separators defined for the EfactDelimiters pipeline property will be used.</span></span>  
  
 <span data-ttu-id="63260-147">Si un encabezado UNB va seguido inmediatamente de un finalizador UNZ, el intercambio está vacío.</span><span class="sxs-lookup"><span data-stu-id="63260-147">If a UNB header is followed immediately by a UNZ trailer, the interchange is empty.</span></span> <span data-ttu-id="63260-148">Si un encabezado UNG va seguido inmediatamente de un finalizador UNE, el grupo está vacío.</span><span class="sxs-lookup"><span data-stu-id="63260-148">If a UNG header is followed immediately by a UNE trailer, the group is empty.</span></span> <span data-ttu-id="63260-149">La pareja del encabezado UNG y finalizador UNE es condicional y no tiene que estar presente en un mensaje.</span><span class="sxs-lookup"><span data-stu-id="63260-149">The UNG header and UNE trailer pair are conditional and do not have to be present in a message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="63260-150">Vea también</span><span class="sxs-lookup"><span data-stu-id="63260-150">See Also</span></span>  
 [<span data-ttu-id="63260-151">Estructura de mensaje EDI</span><span class="sxs-lookup"><span data-stu-id="63260-151">EDI Message Structure</span></span>](../core/edi-message-structure.md)