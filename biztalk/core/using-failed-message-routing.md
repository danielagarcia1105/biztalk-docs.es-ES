---
title: Uso de error de enrutamiento de mensajes | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- bts10.ops.tsroutingfailure
ms.assetid: d081934c-600e-44ce-8ba4-fb646d494589
caps.latest.revision: 33
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d5c3f4fa3b978775c9f2c8fa91467b88cc74eae8
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36976573"
---
# <a name="using-failed-message-routing"></a><span data-ttu-id="f325a-102">Utilizar el enrutamiento de mensajes con errores</span><span class="sxs-lookup"><span data-stu-id="f325a-102">Using Failed Message Routing</span></span>
<span data-ttu-id="f325a-103">La funcionalidad de control de errores permite al diseñador designar un control automatizado de los mensajes con errores como alternativa al comportamiento tradicional (ahora como configuración predeterminada) de colocar los mensajes con errores en la cola de suspensión.</span><span class="sxs-lookup"><span data-stu-id="f325a-103">The error-handling facility allows the designer to designate automated handling of messaging failures as an alternative to the traditional (now default) behavior of placing failed messages in the Suspended queue.</span></span> <span data-ttu-id="f325a-104">Este control automatizado enruta un mensaje con error a cualquier destino de enrutamiento de suscripción, como un puerto de envío o una orquestación.</span><span class="sxs-lookup"><span data-stu-id="f325a-104">This automated handling routes an error message to any subscribing routing destination, such as a send port or orchestration.</span></span> <span data-ttu-id="f325a-105">El mensaje de error es un clon del mensaje original, que incluye todas las propiedades anteriormente promocionadas ahora degradadas y con las propiedades seleccionadas relativas al error de mensajería específico promocionadas en el contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="f325a-105">The error message is a clone of the original message with all previously promoted properties now demoted and with selected properties related to the specific messaging failure promoted to the message context.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="f325a-106">Los mensajes con errores contienen una copia del mensaje original.</span><span class="sxs-lookup"><span data-stu-id="f325a-106">Failed messages contain a copy of the original message.</span></span> <span data-ttu-id="f325a-107">Si el mensaje original contiene información confidencial, diseñe los procesos manuales y automáticos de mensajes con errores para evitar que se revelen accidentalmente.</span><span class="sxs-lookup"><span data-stu-id="f325a-107">If the original message contains sensitive information, design your manual and automatic failed message processes so that they avoid accidental disclosure.</span></span>  
  
## <a name="what-does-failed-message-routing-consist-of"></a><span data-ttu-id="f325a-108">¿De qué se compone el enrutamiento de mensajes con errores?</span><span class="sxs-lookup"><span data-stu-id="f325a-108">What Does Failed Message Routing Consist Of?</span></span>  
 <span data-ttu-id="f325a-109">Cuando el enrutamiento de mensajes con errores está habilitado, BizTalk Server no suspende el mensaje, sino que lo enruta.</span><span class="sxs-lookup"><span data-stu-id="f325a-109">When failed message routing is enabled, BizTalk Server does not suspend the message—it routes the message instead.</span></span> <span data-ttu-id="f325a-110">El enrutamiento de mensajes con errores se puede habilitar tanto en puertos de recepción como de envío, con el siguiente resultado:</span><span class="sxs-lookup"><span data-stu-id="f325a-110">Failed message routing can be enabled on both receive and send ports, with the following results:</span></span>  
  
- <span data-ttu-id="f325a-111">Si el enrutamiento de mensajes con errores está habilitado en un puerto de recepción y un mensaje tiene errores en la canalización de recepción o en el enrutamiento, se genera un mensaje con errores.</span><span class="sxs-lookup"><span data-stu-id="f325a-111">If failed message routing is enabled on a receive port and a message fails in the receive pipeline or in routing, a failed message is generated.</span></span> <span data-ttu-id="f325a-112">Si se produce un error en la fase de desensamblado o antes de ella, el mensaje de error es un clon del intercambio original.</span><span class="sxs-lookup"><span data-stu-id="f325a-112">In the case where an error occurs in or before the disassembly phase, the error message is a clone of the original interchange.</span></span>  
  
- <span data-ttu-id="f325a-113">Si el enrutamiento de mensajes con errores está habilitado en un puerto de envío y el mensaje tiene errores en la canalización de envío, se genera un mensaje con errores.</span><span class="sxs-lookup"><span data-stu-id="f325a-113">If failed message routing is enabled on a send port and the message fails in the send pipeline, a failed message is generated.</span></span>  
  
  <span data-ttu-id="f325a-114">Cuando se genera un mensaje con errores, BizTalk Server promociona las propiedades de contexto del mensaje relacionado con el informe de errores y degrada las propiedades de contexto del mensaje normal antes de publicar el mensaje con errores.</span><span class="sxs-lookup"><span data-stu-id="f325a-114">When a failed message is generated, BizTalk Server promotes error-report-related message context properties and demotes regular message context properties before publishing the failed message.</span></span> <span data-ttu-id="f325a-115">Compare este comportamiento con el comportamiento predeterminado cuando el enrutamiento de mensajes con errores no está habilitado: los mensajes que dan error se suspenden.</span><span class="sxs-lookup"><span data-stu-id="f325a-115">Compare this to the default behavior when failed message routing is not enabled: Messages that fail are suspended.</span></span>  
  
## <a name="what-kinds-of-messaging-failures-trigger-an-error-message"></a><span data-ttu-id="f325a-116">¿Qué tipos de errores de mensajería desencadenan un mensaje de error?</span><span class="sxs-lookup"><span data-stu-id="f325a-116">What Kinds of Messaging Failures Trigger an Error Message?</span></span>  
 <span data-ttu-id="f325a-117">Cualquier error que se produzca en el procesamiento de los adaptadores, en el procesamiento de las canalizaciones, en las asignaciones o en el enrutamiento de mensajes tiene como resultado un mensaje de error si el enrutamiento de mensajes con errores está habilitado.</span><span class="sxs-lookup"><span data-stu-id="f325a-117">Any failure that occurs in adapter processing, pipeline processing, mapping, or message routing results in an error message if routing for failed messages is enabled.</span></span> <span data-ttu-id="f325a-118">Cuando se produce un error de mensajería en una orquestación, durante la recepción desde un puerto de recepción o durante el envío a un puerto de envío, el mensaje de error resultante se asocia con los puertos de mensajería con los que está enlazada la orquestación.</span><span class="sxs-lookup"><span data-stu-id="f325a-118">When a messaging error occurs while an orchestration is receiving from a receive port or sending to a send port, the resulting error message is associated with the messaging ports to which the orchestration is bound.</span></span>  
  
## <a name="subscribing-to-an-error-message"></a><span data-ttu-id="f325a-119">Suscribirse a un mensaje de error</span><span class="sxs-lookup"><span data-stu-id="f325a-119">Subscribing to an Error Message</span></span>  
 <span data-ttu-id="f325a-120">Los mensajes de error se entregan a las orquestaciones o a los puertos de envío que se han suscrito para recibirlos.</span><span class="sxs-lookup"><span data-stu-id="f325a-120">Error messages are delivered to orchestrations or send ports that have subscribed to receive them.</span></span> <span data-ttu-id="f325a-121">Una suscripción normalmente selecciona un mensaje de error según el nombre del puerto en el que se ha producido el error de mensajería (un puerto envío o un puerto de recepción).</span><span class="sxs-lookup"><span data-stu-id="f325a-121">A subscription typically selects an error message based on the name of the port in which the messaging error occurred (either a send or a receive port).</span></span> <span data-ttu-id="f325a-122">Una suscripción también podría filtrar otras propiedades promocionadas al contexto del mensaje de error (por ejemplo, **InboundTransportLocation** o **FailureCode**).</span><span class="sxs-lookup"><span data-stu-id="f325a-122">A subscription might also filter on other properties promoted to the error's message context (for example, **InboundTransportLocation** or **FailureCode**).</span></span>  
  
## <a name="error-message-specification"></a><span data-ttu-id="f325a-123">Especificación de mensajes de error</span><span class="sxs-lookup"><span data-stu-id="f325a-123">Error Message Specification</span></span>  
 <span data-ttu-id="f325a-124">Un mensaje de error es un clon del mensaje con errores original que contiene todas las propiedades anteriormente promocionadas ahora degradadas y un juego de propiedades específicas del error promocionadas en el contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="f325a-124">An error message is a clone of the original failed message, with all previously promoted properties demoted and with a set of error-specific properties promoted to the message context.</span></span> <span data-ttu-id="f325a-125">Las propiedades promocionadas anteriormente se degradan para evitar la entrega imprevista a los suscriptores no designados para recibir el mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-125">Previously promoted properties are demoted to avoid unintended delivery to subscribers not designated to receive the error message.</span></span> <span data-ttu-id="f325a-126">El mensaje de error se publica para su distribución a los suscriptores (orquestaciones, puertos de envío y grupos de puertos de envío).</span><span class="sxs-lookup"><span data-stu-id="f325a-126">The error message is published for distribution to subscribers (orchestrations, send ports, and send port groups).</span></span>  
  
 <span data-ttu-id="f325a-127">Las propiedades que se promocionan al contexto de un mensaje de error que se encuentran todas en el **ErrorReport** espacio de nombres en el servidor BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="f325a-127">The properties that are promoted to the context of an error message all fall under the **ErrorReport** namespace in BizTalk Server.</span></span> <span data-ttu-id="f325a-128">Son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="f325a-128">They are as follows:</span></span>  
  
|<span data-ttu-id="f325a-129">Nombre de propiedad</span><span class="sxs-lookup"><span data-stu-id="f325a-129">Property name</span></span>|<span data-ttu-id="f325a-130">Tipo de datos</span><span class="sxs-lookup"><span data-stu-id="f325a-130">Data type</span></span>|<span data-ttu-id="f325a-131">Promocionada</span><span class="sxs-lookup"><span data-stu-id="f325a-131">Promoted</span></span>|<span data-ttu-id="f325a-132">Descripción</span><span class="sxs-lookup"><span data-stu-id="f325a-132">Description</span></span>|  
|-------------------|---------------|--------------|-----------------|  
|<span data-ttu-id="f325a-133">FailureCode</span><span class="sxs-lookup"><span data-stu-id="f325a-133">FailureCode</span></span>|<span data-ttu-id="f325a-134">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-134">System.String</span></span>|<span data-ttu-id="f325a-135">Sí</span><span class="sxs-lookup"><span data-stu-id="f325a-135">Yes</span></span>|<span data-ttu-id="f325a-136">Código de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-136">Error code.</span></span> <span data-ttu-id="f325a-137">Un valor hexadecimal que se notifica en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="f325a-137">A hexadecimal value that is reported in the BizTalk Server Administration console.</span></span>|  
|<span data-ttu-id="f325a-138">FailureCategory</span><span class="sxs-lookup"><span data-stu-id="f325a-138">FailureCategory</span></span>|<span data-ttu-id="f325a-139">System.Int32</span><span class="sxs-lookup"><span data-stu-id="f325a-139">System.Int32</span></span>|<span data-ttu-id="f325a-140">Sí</span><span class="sxs-lookup"><span data-stu-id="f325a-140">Yes</span></span>|<span data-ttu-id="f325a-141">No se usa esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="f325a-141">This property is not used.</span></span> <span data-ttu-id="f325a-142">Su valor no está definido.</span><span class="sxs-lookup"><span data-stu-id="f325a-142">Its value is undefined.</span></span>|  
|<span data-ttu-id="f325a-143">Descripción</span><span class="sxs-lookup"><span data-stu-id="f325a-143">Description</span></span>|<span data-ttu-id="f325a-144">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-144">System.String</span></span>|<span data-ttu-id="f325a-145">no</span><span class="sxs-lookup"><span data-stu-id="f325a-145">No</span></span>|<span data-ttu-id="f325a-146">Descripción del error.</span><span class="sxs-lookup"><span data-stu-id="f325a-146">Error description.</span></span> <span data-ttu-id="f325a-147">El mismo texto de diagnóstico como está escrito en el registro de eventos de aplicación con respecto a este error de mensajería.</span><span class="sxs-lookup"><span data-stu-id="f325a-147">Same diagnostic text as is written to the Application Event Log regarding this messaging failure.</span></span>|  
|<span data-ttu-id="f325a-148">MessageType</span><span class="sxs-lookup"><span data-stu-id="f325a-148">MessageType</span></span>|<span data-ttu-id="f325a-149">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-149">System.String</span></span>|<span data-ttu-id="f325a-150">Sí</span><span class="sxs-lookup"><span data-stu-id="f325a-150">Yes</span></span>|<span data-ttu-id="f325a-151">Mensaje de tipo mensaje con errores, o vacío si el tipo de mensaje es indeterminado.</span><span class="sxs-lookup"><span data-stu-id="f325a-151">Message type of failed message, or empty if message type is indeterminate.</span></span><br /><br /> <span data-ttu-id="f325a-152">BizTalk Server utiliza el tipo de mensaje para asociar los mensajes con los esquemas XML correspondientes.</span><span class="sxs-lookup"><span data-stu-id="f325a-152">BizTalk Server uses the message type to associate messages with their XML schemas.</span></span> <span data-ttu-id="f325a-153">Tipo de mensaje se forma concatenando el espacio de nombres de esquema con el nodo raíz de esquema: http://mynamespace#rootnode.</span><span class="sxs-lookup"><span data-stu-id="f325a-153">Message type is formed by concatenating the schema namespace with the schema root node: http://mynamespace#rootnode.</span></span> <span data-ttu-id="f325a-154">**Nota:** establecen de mensajes que generan errores antes de que se determina el tipo de mensaje no tiene esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="f325a-154">**Note:**  Messages that fail before their message type is determined do not have this property set.</span></span>|  
|<span data-ttu-id="f325a-155">ReceivePortName</span><span class="sxs-lookup"><span data-stu-id="f325a-155">ReceivePortName</span></span>|<span data-ttu-id="f325a-156">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-156">System.String</span></span>|<span data-ttu-id="f325a-157">**Promocionada** si el error se produjo durante el procesamiento de entrada (en un puerto de recepción).</span><span class="sxs-lookup"><span data-stu-id="f325a-157">**Promoted** if the failure happened during inbound processing (in a receive port)</span></span><br /><br /> <span data-ttu-id="f325a-158">**No promocionada** si el error se produjo en un puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="f325a-158">**Not promoted** if the failure happened in a send port.</span></span>|<span data-ttu-id="f325a-159">Nombre del puerto de recepción donde se produjo el error.</span><span class="sxs-lookup"><span data-stu-id="f325a-159">Name of the receive port where the failure happened.</span></span>|  
|<span data-ttu-id="f325a-160">InboundTransportLocation</span><span class="sxs-lookup"><span data-stu-id="f325a-160">InboundTransportLocation</span></span>|<span data-ttu-id="f325a-161">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-161">System.String</span></span>|<span data-ttu-id="f325a-162">**Promocionada** si el error se produjo durante el procesamiento de entrada (en un puerto de recepción).</span><span class="sxs-lookup"><span data-stu-id="f325a-162">**Promoted** if the failure happened during inbound processing (in a receive port)</span></span><br /><br /> <span data-ttu-id="f325a-163">**No promocionada** si el error se produjo en un puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="f325a-163">**Not promoted** if the failure happened in a send port.</span></span>|<span data-ttu-id="f325a-164">URI de la ubicación de recepción donde se produjo el error.</span><span class="sxs-lookup"><span data-stu-id="f325a-164">URI of the receive location where the failure happened.</span></span>|  
|<span data-ttu-id="f325a-165">SendPortName</span><span class="sxs-lookup"><span data-stu-id="f325a-165">SendPortName</span></span>|<span data-ttu-id="f325a-166">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-166">System.String</span></span>|<span data-ttu-id="f325a-167">**Promocionada** si el error se produjo durante el procesamiento de salida (en un puerto de envío).</span><span class="sxs-lookup"><span data-stu-id="f325a-167">**Promoted** if the failure happened during outbound processing (in a send port)</span></span><br /><br /> <span data-ttu-id="f325a-168">**No promocionada** si el error se produjo en un puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="f325a-168">**Not promoted** if the failure happened in a receive port.</span></span>|<span data-ttu-id="f325a-169">Nombre del puerto de envío donde se produjo el error.</span><span class="sxs-lookup"><span data-stu-id="f325a-169">Name of the send port where the failure happened.</span></span>|  
|<span data-ttu-id="f325a-170">OutboundTransportLocation</span><span class="sxs-lookup"><span data-stu-id="f325a-170">OutboundTransportLocation</span></span>|<span data-ttu-id="f325a-171">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-171">System.String</span></span>|<span data-ttu-id="f325a-172">**Promocionada** si el error se produjo durante el procesamiento de salida (en un puerto de envío).</span><span class="sxs-lookup"><span data-stu-id="f325a-172">**Promoted** if the failure happened during outbound processing (in a send port)</span></span><br /><br /> <span data-ttu-id="f325a-173">**No promocionada** si el error se produjo en un puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="f325a-173">**Not promoted** if the failure happened in a receive port.</span></span>|<span data-ttu-id="f325a-174">URI de la ubicación de envío donde se produjo el error.</span><span class="sxs-lookup"><span data-stu-id="f325a-174">URI of the send location where the failure happened.</span></span>|  
|<span data-ttu-id="f325a-175">ErrorType</span><span class="sxs-lookup"><span data-stu-id="f325a-175">ErrorType</span></span>|<span data-ttu-id="f325a-176">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-176">System.String</span></span>|<span data-ttu-id="f325a-177">Sí</span><span class="sxs-lookup"><span data-stu-id="f325a-177">Yes</span></span>|<span data-ttu-id="f325a-178">Indica el tipo de mensaje que contiene el error.</span><span class="sxs-lookup"><span data-stu-id="f325a-178">Indicates the type of message that the error contains.</span></span> <span data-ttu-id="f325a-179">Esta propiedad siempre contiene el valor **FailedMessage**, que significa que el error contiene el mensaje con errores original.</span><span class="sxs-lookup"><span data-stu-id="f325a-179">This property always contains the value **FailedMessage**, meaning that the error contains the original failed message.</span></span>|  
|<span data-ttu-id="f325a-180">RoutingFailureReportID</span><span class="sxs-lookup"><span data-stu-id="f325a-180">RoutingFailureReportID</span></span>|<span data-ttu-id="f325a-181">System.String</span><span class="sxs-lookup"><span data-stu-id="f325a-181">System.String</span></span>|<span data-ttu-id="f325a-182">Sí</span><span class="sxs-lookup"><span data-stu-id="f325a-182">Yes</span></span>|<span data-ttu-id="f325a-183">Esta propiedad proporciona el identificador del informe de errores de enrutamiento que genera BizTalk Server cuando hay un error de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="f325a-183">This property provides the ID of the routing failure report that BizTalk Server generates when there is a routing failure.</span></span> <span data-ttu-id="f325a-184">Un informe de error de enrutamiento es un mensaje especial que BizTalk Server genera y suspende.</span><span class="sxs-lookup"><span data-stu-id="f325a-184">A routing failure report is a special message that BizTalk Server generates and suspends.</span></span> <span data-ttu-id="f325a-185">Este mensaje no tiene cuerpo pero incluye el contexto del mensaje con errores.</span><span class="sxs-lookup"><span data-stu-id="f325a-185">This message does not have a body, but it has the context of the failed message.</span></span> <span data-ttu-id="f325a-186">Con este identificador, una orquestación de control de errores o un puerto de envío pueden consultar la base de datos de cuadro de mensajes y procesar el informe de error de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="f325a-186">Using this ID, an error-handling orchestration or a send port can query the MessageBox database and process the routing failure report.</span></span> <span data-ttu-id="f325a-187">Por ejemplo, puede que una orquestación decida finalizar el informe de error de enrutamiento después de recibir el mensaje con errores.</span><span class="sxs-lookup"><span data-stu-id="f325a-187">For example, an orchestration may want to terminate the routing failure report after it gets the failed message.</span></span>|  
  
## <a name="handling-error-messages"></a><span data-ttu-id="f325a-188">Controlar mensajes de error</span><span class="sxs-lookup"><span data-stu-id="f325a-188">Handling Error Messages</span></span>  
 <span data-ttu-id="f325a-189">El control de errores se especifica mediante una orquestación o una suscripción de puerto de envío cuyo filtro coincide con las propiedades que se han promocionado al contexto del mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-189">Error handling is specified by an orchestration or send-port subscription whose filter matches the properties that have been promoted to the message context of the error message.</span></span>  
  
## <a name="security-implications"></a><span data-ttu-id="f325a-190">Implicaciones de seguridad</span><span class="sxs-lookup"><span data-stu-id="f325a-190">Security Implications</span></span>  
 <span data-ttu-id="f325a-191">La identidad asociada al mensaje original, ya se determine su identidad inicial o su identidad final mediante la fase Resolver entidad de la canalización de recepción, se asigna al mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-191">The identity associated with the original message—either its initial identity or its final identity determined by the Resolve Party stage of the receive pipeline—is assigned to the error message.</span></span>  
  
 <span data-ttu-id="f325a-192">Los mecanismos de seguridad que restringen la entrega de mensajes a los puertos y orquestaciones de suscripción autorizados también se aplican a los mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-192">The security mechanisms that restrict delivery of messages to authorized subscribing ports and orchestrations also apply to error messages.</span></span>  
  
 <span data-ttu-id="f325a-193">Un puerto de envío que se suscribe a un mensaje de error pero que no está configurado con un certificado de cifrado apropiado, no recibirá los mensajes de error originados por los errores de mensajería en la fase o antes de la fase de descifrado de la canalización de recepción por la que el mensaje original tuvo acceso a BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="f325a-193">A send port that subscribes to an error message, but is not configured with an appropriate decryption certificate, does not receive error messages that result from messaging failures at or before the decrypt stage of the receive pipeline through which the original message entered BizTalk Server.</span></span> <span data-ttu-id="f325a-194">En su lugar, los mensajes con errores se colocan en la cola de suspensión.</span><span class="sxs-lookup"><span data-stu-id="f325a-194">Instead, the failed messages are placed in the Suspended queue.</span></span>  
  
## <a name="adapter-messaging-failure"></a><span data-ttu-id="f325a-195">Error de mensajería del adaptador</span><span class="sxs-lookup"><span data-stu-id="f325a-195">Adapter Messaging Failure</span></span>  
 <span data-ttu-id="f325a-196">Si un adaptador suspende un mensaje, se publica un mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-196">If an adapter suspends a message, an error message is published.</span></span> <span data-ttu-id="f325a-197">No se genera ningún mensaje de error si no se suspende el mensaje.</span><span class="sxs-lookup"><span data-stu-id="f325a-197">No error message is generated if the message is not suspended.</span></span>  
  
## <a name="transactional-receive-pipelines"></a><span data-ttu-id="f325a-198">Canalizaciones de recepción transaccionales</span><span class="sxs-lookup"><span data-stu-id="f325a-198">Transactional Receive Pipelines</span></span>  
 <span data-ttu-id="f325a-199">Si una canalización de recepción transaccional produce una excepción (especifica que se debe anular la transacción), la transacción se anula y se publica un mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-199">If a transactional receive pipeline throws an exception (specifies that the transaction should be aborted), then the transaction is aborted and an error message is published.</span></span>  
  
 <span data-ttu-id="f325a-200">Si una canalización de recepción transaccional suspende explícitamente un mensaje (especifica que MessageDestination = SuspendQueue), la transacción actual puede continuar (y se puede confirmar a no ser que las fases posteriores especifiquen que se anule) y se publica el mensaje de error resultante.</span><span class="sxs-lookup"><span data-stu-id="f325a-200">If a transactional receive pipeline explicitly suspends a message (specifies that MessageDestination = SuspendQueue), then the current transaction is allowed to proceed (and may be committed unless subsequent stages specify to abort it) and the resulting error message is published.</span></span>  
  
## <a name="solicit-response-send-ports"></a><span data-ttu-id="f325a-201">Puertos de envío de petición-respuesta</span><span class="sxs-lookup"><span data-stu-id="f325a-201">Solicit-Response Send Ports</span></span>  
 <span data-ttu-id="f325a-202">Cuando se envía un mensaje de solicitud desde una orquestación y hay errores en la transmisión o su respuesta genera errores de procesamiento entrante, la orquestación recibe una excepción independientemente de que el mensaje con errores se haya enrutado.</span><span class="sxs-lookup"><span data-stu-id="f325a-202">When a request message is sent from an orchestration and it fails transmission or its response fails inbound processing, the orchestration gets an exception, regardless of whether the failed message has been routed.</span></span>  
  
 <span data-ttu-id="f325a-203">En el caso de que un puerto de envío de petición-respuesta esté conectado a un puerto de recepción de solicitud-respuesta, el puerto de recepción recibe un mensaje de respuesta (si la transmisión se realiza correctamente) o un mensaje de confirmación negativa (NACK), independientemente de que se haya enrutado el mensaje con errores.</span><span class="sxs-lookup"><span data-stu-id="f325a-203">In the case where a solicit-response send port is connected to a request-response receive port, the receive port gets either a response message (if the transmission succeeds) or a NACK (if the transmission fails), regardless of whether the failed message has been routed.</span></span>  
  
## <a name="one-way-send-ports"></a><span data-ttu-id="f325a-204">Puertos de envío unidireccionales</span><span class="sxs-lookup"><span data-stu-id="f325a-204">One-Way Send Ports</span></span>  
 <span data-ttu-id="f325a-205">Cuando se envía un mensaje desde una orquestación a través de un puerto de envío configurado para la notificación de entrega, la orquestación recibe una notificación de entrega independientemente de que se haya enrutado el mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-205">When a message is sent from an orchestration through a send port configured for delivery notification, then the orchestration receives a delivery notification regardless of whether the error message has been routed.</span></span> <span data-ttu-id="f325a-206">Es decir, el puerto de envío genera una notificación de entrega para la orquestación aunque el puerto encuentre un error de mensajería durante el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="f325a-206">In other words, the send port generates a delivery notification for the orchestration even if the port encounters a messaging failure during processing.</span></span> <span data-ttu-id="f325a-207">La notificación confirma la entrega al puerto, pero no informa del procesamiento correcto a través del puerto.</span><span class="sxs-lookup"><span data-stu-id="f325a-207">The notification confirms delivery to the port, but does not address successful processing through the port.</span></span>  
  
## <a name="resuming-suspended-messages"></a><span data-ttu-id="f325a-208">Reanudar mensajes suspendidos</span><span class="sxs-lookup"><span data-stu-id="f325a-208">Resuming Suspended Messages</span></span>  
 <span data-ttu-id="f325a-209">La mayoría de mensajes que generan errores durante el procesamiento de entrada (es decir, el procesamiento desde, en y hasta el adaptador de recepción pero sin incluir la publicación en el cuadro de mensajes) y cuyos errores no se controlan, se suspenden como reanudables.</span><span class="sxs-lookup"><span data-stu-id="f325a-209">Most messages that fail inbound processing (that is, processing from and including the receive adapter and up to but not including publication to the message box), and whose failures are not handled, are suspended as resumable.</span></span> <span data-ttu-id="f325a-210">La excepción es que los mensajes de solicitud desde los puertos de recepción bidireccionales se suspenden como no reanudables.</span><span class="sxs-lookup"><span data-stu-id="f325a-210">The exception is that request messages from two-way receive ports are suspended as nonresumable.</span></span>  
  
 <span data-ttu-id="f325a-211">Normalmente, se suspenden los mensajes en su forma original (como eran antes del procesamiento de canalización), pero hay dos excepciones:</span><span class="sxs-lookup"><span data-stu-id="f325a-211">Messages are typically suspended in their original form (as they were before pipeline processing), with two exceptions:</span></span>  
  
-   <span data-ttu-id="f325a-212">**Mensajes suspendidos por componentes de canalización.**</span><span class="sxs-lookup"><span data-stu-id="f325a-212">**Messages suspended by pipeline components.**</span></span> <span data-ttu-id="f325a-213">BizTalk Server suspende este tipo de mensajes en el mismo formato que se proporcionaron al componente de canalización con errores.</span><span class="sxs-lookup"><span data-stu-id="f325a-213">BizTalk Server suspends this type of message in the same form as it was provided to the failing pipeline component.</span></span> <span data-ttu-id="f325a-214">Cuando se reanuda el mensaje, se realiza el procesamiento de canalización desde el principio de la misma canalización.</span><span class="sxs-lookup"><span data-stu-id="f325a-214">When the message is resumed, it undergoes pipeline processing from the beginning of the same pipeline.</span></span> <span data-ttu-id="f325a-215">Esto implica que un componente de canalización en una fase de canalización anterior a la fase donde se produjo el error original debe estar preparado para controlar el "mismo" mensaje en un formato diferente del original en el que se procesó dicho mensaje.</span><span class="sxs-lookup"><span data-stu-id="f325a-215">This implies that a pipeline component in a pipeline stage that precedes the stage where the original failure occurred must be prepared to handle the "same" message in a form that is different from the original form in which it processed that message.</span></span>  
  
-   <span data-ttu-id="f325a-216">**Desensamblado errores de enrutamiento de intercambio de mensajes de recuperable.**</span><span class="sxs-lookup"><span data-stu-id="f325a-216">**Messages from recoverable interchange disassembly that subsequently fail routing.**</span></span> <span data-ttu-id="f325a-217">BizTalk Server suspende este tipo de mensajes en el mismo formato en el que se publicaron.</span><span class="sxs-lookup"><span data-stu-id="f325a-217">BizTalk Server suspends this type of message in the same form as it was published.</span></span> <span data-ttu-id="f325a-218">Es el formato que tenía el mensaje **después** de la ejecución de la canalización.</span><span class="sxs-lookup"><span data-stu-id="f325a-218">This is the form the message had **after** pipeline execution.</span></span> <span data-ttu-id="f325a-219">Cuando se reanuda el mensaje, se omite el procesamiento de canalización y se publica directamente en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="f325a-219">When the message is resumed, it skips pipeline processing and is published directly to the MessageBox database.</span></span>  
  
## <a name="scenarios-leading-to-suspended-non-resumable-messages"></a><span data-ttu-id="f325a-220">Escenarios que dan lugar a mensajes suspendidos (no reanudables)</span><span class="sxs-lookup"><span data-stu-id="f325a-220">Scenarios Leading to Suspended (Non-Resumable) Messages</span></span>  
 <span data-ttu-id="f325a-221">Si bien lo más habitual es que los mensajes se suspendan como reanudables, hay algunos escenarios que dan lugar a mensajes no reanudables:</span><span class="sxs-lookup"><span data-stu-id="f325a-221">While it is more common for messages to be suspended as resumable, there are some scenarios that lead to non-resumable messages:</span></span>  
  
-   <span data-ttu-id="f325a-222">En un puerto de envío de entrega ordenada con la opción de continuar en caso de error de canalización, asignación o transmisión habilitada.</span><span class="sxs-lookup"><span data-stu-id="f325a-222">In an Ordered Delivery send port with continue on failure enabled, if there is a failure in the pipeline, mapping or transmission.</span></span>  
  
-   <span data-ttu-id="f325a-223">En un puerto de recepción de entrega ordenada, si el adaptador se ha configurado para suspender mensajes como no reanudables en caso de error.</span><span class="sxs-lookup"><span data-stu-id="f325a-223">In an Ordered Delivery receive port, if the adapter is configured to suspend messages on non-resumable on failure.</span></span> <span data-ttu-id="f325a-224">Por ejemplo, si el valor de configuración del adaptador de MSMQ "En caso de error" se ha definido como "Suspender (no reanudable)", o si el adaptador de MQSeries tiene la opción "Suspender como no reanudable" habilitada, los mensajes con errores se suspenderán como no reanudables.</span><span class="sxs-lookup"><span data-stu-id="f325a-224">For example, if the MSMQ adapter setting "On Failure" is set to "Suspend (non-resumable)" or the MQSeries adapter has "Suspend as Non Resumable" enabled, failed messages will be suspended as non-resumable.</span></span>  
  
-   <span data-ttu-id="f325a-225">En un puerto de recepción bidireccional, si se produce un error del mensaje de respuesta en la transmisión, asignación o canalización.</span><span class="sxs-lookup"><span data-stu-id="f325a-225">In a two-way receive port, if the response message fails in the pipeline, mapping, or transmission.</span></span>  
  
-   <span data-ttu-id="f325a-226">En un puerto de recepción bidireccional, si se produce un error del mensaje de recepción en la transmisión, asignación o canalización.</span><span class="sxs-lookup"><span data-stu-id="f325a-226">In a two-way receive port, if the receive message fails in the pipeline, mapping or transmission.</span></span> <span data-ttu-id="f325a-227">El comportamiento del adaptador individual puede ser diferente.</span><span class="sxs-lookup"><span data-stu-id="f325a-227">Individual adapter behavior may be different.</span></span> <span data-ttu-id="f325a-228">Por ejemplo, el adaptador de HTTP no suspende mensajes de forma predeterminada, aunque puede configurarse para que lo haga.</span><span class="sxs-lookup"><span data-stu-id="f325a-228">For example, the HTTP adapter does not suspend messages by default but can be configured to do so.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f325a-229">Vea también</span><span class="sxs-lookup"><span data-stu-id="f325a-229">See Also</span></span>  
 <span data-ttu-id="f325a-230">[Control de errores](../core/error-handling.md) </span><span class="sxs-lookup"><span data-stu-id="f325a-230">[Error Handling](../core/error-handling.md) </span></span>  
 <span data-ttu-id="f325a-231">[Usar confirmaciones](../core/using-acknowledgments.md) </span><span class="sxs-lookup"><span data-stu-id="f325a-231">[Using Acknowledgments](../core/using-acknowledgments.md) </span></span>  
 [<span data-ttu-id="f325a-232">Entrega ordenada de mensajes</span><span class="sxs-lookup"><span data-stu-id="f325a-232">Ordered Delivery of Messages</span></span>](../core/ordered-delivery-of-messages.md)