---
title: Identificar cuellos de botella en el nivel de BizTalk | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f38ade78-8af3-4485-9b2a-5e4cdba965d2
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8b53410466478ea7e493d043f42b5de86ec9921c
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36996253"
---
# <a name="identifying-bottlenecks-in-the-biztalk-tier"></a><span data-ttu-id="023cb-102">Identificar cuellos de botella en el nivel de BizTalk</span><span class="sxs-lookup"><span data-stu-id="023cb-102">Identifying Bottlenecks in the BizTalk Tier</span></span>
<span data-ttu-id="023cb-103">El nivel de BizTalk se puede dividir en las siguientes áreas funcionales:</span><span class="sxs-lookup"><span data-stu-id="023cb-103">The BizTalk tier can be divided into the following functional areas:</span></span>  
  
- <span data-ttu-id="023cb-104">Recepción</span><span class="sxs-lookup"><span data-stu-id="023cb-104">Receiving</span></span>  
  
- <span data-ttu-id="023cb-105">Procesamiento</span><span class="sxs-lookup"><span data-stu-id="023cb-105">Processing</span></span>  
  
- <span data-ttu-id="023cb-106">Transmisión</span><span class="sxs-lookup"><span data-stu-id="023cb-106">Transmitting</span></span>  
  
- <span data-ttu-id="023cb-107">Seguimiento</span><span class="sxs-lookup"><span data-stu-id="023cb-107">Tracking</span></span>  
  
- <span data-ttu-id="023cb-108">Otros</span><span class="sxs-lookup"><span data-stu-id="023cb-108">Other</span></span>  
  
  <span data-ttu-id="023cb-109">Para estas áreas, si los recursos del sistema (CPU, memoria y disco) parecen estar saturados, actualice el servidor mediante el escalamiento vertical.</span><span class="sxs-lookup"><span data-stu-id="023cb-109">For these areas, if the system resources (CPU, memory, and disk) appear to be saturated, upgrade the server by scaling up.</span></span> <span data-ttu-id="023cb-110">Si los recursos del sistema no están saturados, siga los pasos descritos en esta sección.</span><span class="sxs-lookup"><span data-stu-id="023cb-110">If the system resources are not saturated, perform the steps described in this section.</span></span>  
  
## <a name="bottlenecks-in-the-receive-location"></a><span data-ttu-id="023cb-111">Cuellos de botella en la ubicación de recepción</span><span class="sxs-lookup"><span data-stu-id="023cb-111">Bottlenecks in the Receive Location</span></span>  
 <span data-ttu-id="023cb-112">Si se empiezan a acumular mensajes en la ubicación de recepción (por ejemplo, la carpeta de recepción de archivos aumenta mucho de tamaño o la cola de salida no se purga con la suficiente rapidez), esto indica que el sistema no puede absorber datos a una velocidad suficiente para mantener la carga de entrada debido a una limitación interna (BizTalk reduce la velocidad de recepción si los suscriptores no pueden procesar datos con la suficiente velocidad, lo que crea una acumulación de datos en las tablas de base de datos).</span><span class="sxs-lookup"><span data-stu-id="023cb-112">If messages start building up at the receive location (for example, file receive folder grows large or outgoing queue is not being drained fast enough) this is an indication that the system is unable to absorb data at a sufficiently fast rate to keep up with the incoming load either due to internal throttling (BizTalk reduces receiving rate if the subscribers are unable to process data fast enough causing backlog buildup in the database tables).</span></span> <span data-ttu-id="023cb-113">En caso de que el cuello de botella lo hayan provocado limitaciones de hardware, intente realizar un escalamiento vertical.</span><span class="sxs-lookup"><span data-stu-id="023cb-113">In case the bottleneck is caused due to hardware limitations try scaling up.</span></span> <span data-ttu-id="023cb-114">También puede agregar una instancia de host (servidor) al host asignado al controlador de recepción para realizar un escalamiento horizontal.</span><span class="sxs-lookup"><span data-stu-id="023cb-114">It is also possible to scale out by adding a Host Instance (server) to the Host mapped to the receive handler.</span></span> <span data-ttu-id="023cb-115">Utilice Perfmon para supervisar el uso de los recursos del sistema.</span><span class="sxs-lookup"><span data-stu-id="023cb-115">Use Perfmon to monitor the resource utilization on the system.</span></span> <span data-ttu-id="023cb-116">Es importante confirmar que la ubicación de recepción externa no sea la causa del cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="023cb-116">It is important to confirm that the external receive location is not the cause of the bottleneck.</span></span> <span data-ttu-id="023cb-117">Por ejemplo, el recurso compartido de archivos remoto está saturado debido a una entrada y salida de disco alta, el servidor que aloja la cola de salida remota no está saturado o al cliente usado para generar la carga HTTP/SOAP no le faltan subprocesos.</span><span class="sxs-lookup"><span data-stu-id="023cb-117">For example, remote file share is saturated due to high disk IO or the server hosting the remote outgoing queue is not saturated or the client used to generate HTTP/SOAP load is not starved on threads.</span></span>  
  
## <a name="processing-bottlenecks"></a><span data-ttu-id="023cb-118">Cuellos de botella de procesamiento</span><span class="sxs-lookup"><span data-stu-id="023cb-118">Processing Bottlenecks</span></span>  
 <span data-ttu-id="023cb-119">Si aumenta el número Cola de host - Longitud (vea la siguiente tabla de contador de Perfmon), significa que las orquestaciones no se están completando a velocidad suficiente.</span><span class="sxs-lookup"><span data-stu-id="023cb-119">If the Host Queue - Length count (see the Perfmon counter table below) is climbing, it indicates that the orchestrations are not completing fast enough.</span></span> <span data-ttu-id="023cb-120">Esto se puede deber a la contención de memoria o a la saturación de CPU.</span><span class="sxs-lookup"><span data-stu-id="023cb-120">This could be due to memory contention or CPU saturation.</span></span>  
  
 <span data-ttu-id="023cb-121">Si los servidores de orquestación son los causantes del cuello de botella, use Perfmon para identificar el origen.</span><span class="sxs-lookup"><span data-stu-id="023cb-121">If the orchestration servers are the bottleneck, use Perfmon to identify the source.</span></span>  
  
 <span data-ttu-id="023cb-122">Si el servidor está enlazado a la CPU, tenga en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="023cb-122">If the server is CPU bound, consider the following:</span></span>  
  
-   <span data-ttu-id="023cb-123">Si el flujo de trabajo es complejo, considere la posibilidad de dividir la orquestación en varias orquestaciones más pequeñas.</span><span class="sxs-lookup"><span data-stu-id="023cb-123">If the workflow is complex consider splitting the orchestration into multiple smaller orchestrations</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="023cb-124">Dividir una orquestación en varios flujos de trabajo puede producir una latencia adicional y agregar complejidad.</span><span class="sxs-lookup"><span data-stu-id="023cb-124">Splitting an orchestration into multiple workflows can cause additional latency and add complexity.</span></span>  
  
-   <span data-ttu-id="023cb-125">Si se usan asignaciones complejas, considere si se pueden mover a los puertos de recepción/envío (compruebe qué puertos tienen un ancho de banda adicional).</span><span class="sxs-lookup"><span data-stu-id="023cb-125">If complex maps are used consider whether they can be moved to the Receive/Send ports (verify which ports have additional bandwidth).</span></span>  
  
-   <span data-ttu-id="023cb-126">Considere la posibilidad de escalar verticalmente el hardware o, si es posible, realizar un escalamiento horizontal mediante la configuración de un servidor de procesamiento adicional.</span><span class="sxs-lookup"><span data-stu-id="023cb-126">Consider scaling up the hardware or if possible consider scaling out by configuring an additional processing server.</span></span>  
  
## <a name="transmitting-bottlenecks"></a><span data-ttu-id="023cb-127">Cuellos de botella de transmisión</span><span class="sxs-lookup"><span data-stu-id="023cb-127">Transmitting Bottlenecks</span></span>  
 <span data-ttu-id="023cb-128">Si el servidor de transmisión tiene los recursos saturados (por ejemplo: el disco, la memoria o la CPU), considere la posibilidad de escalar el servidor verticalmente o, si es posible, realizar un escalamiento horizontal a otros servidores de host de envío.</span><span class="sxs-lookup"><span data-stu-id="023cb-128">If the transmitting server is saturated on resources (for example, disk, memory, CPU), consider scaling-up the server or if possible consider scaling-out to additional send host servers.</span></span> <span data-ttu-id="023cb-129">El nivel de envío se podría convertir en el cuello de botella si el destino (externo a BizTalk) no puede recibir los datos a la velocidad suficiente.</span><span class="sxs-lookup"><span data-stu-id="023cb-129">The sending tier could become the bottleneck if the destination (external to BizTalk) is unable to receive data fast enough.</span></span> <span data-ttu-id="023cb-130">Esto provocará una acumulación de mensajes en la base de datos de cuadro de mensajes (SendHostQ de aplicación).</span><span class="sxs-lookup"><span data-stu-id="023cb-130">This will cause messages to buildup in the MessageBox database (Application SendHostQ).</span></span>  
  
 <span data-ttu-id="023cb-131">Si los extremos están dentro del ámbito de la topología, considere la posibilidad de aislar la causa en el destino.</span><span class="sxs-lookup"><span data-stu-id="023cb-131">If at all the endpoints are within the scope of the topology, consider isolating the cause at the destination.</span></span> <span data-ttu-id="023cb-132">Por ejemplo, ¿está configurada la ubicación HTTP/SOAP de forma óptima para recibir la carga o se podría realizar un escalamiento horizontal?</span><span class="sxs-lookup"><span data-stu-id="023cb-132">For example, is the HTTP/SOAP location optimally configured to receive load or could it be scaled-out?</span></span> <span data-ttu-id="023cb-133">¿Está creciendo el destino debido a un número excesivo de mensajes de salida entregados por BizTalk?</span><span class="sxs-lookup"><span data-stu-id="023cb-133">Is the destination growing due to excessive output messages delivered by BizTalk?</span></span> <span data-ttu-id="023cb-134">Si la respuesta es afirmativa, plantéese un plan de mantenimiento para archivar y purgar los mensajes de destino.</span><span class="sxs-lookup"><span data-stu-id="023cb-134">If yes, consider a maintenance plan to archive and purge the destination messages.</span></span> <span data-ttu-id="023cb-135">Por ejemplo, un gran número de archivos en una carpeta de destino puede afectar de forma negativa a la capacidad del servicio de BizTalk para confirmar datos en el disco duro.</span><span class="sxs-lookup"><span data-stu-id="023cb-135">For example, large numbers of files in a destination folder can severely impact the ability of the BizTalk service to commit data to the disk drive.</span></span>  
  
## <a name="tracking-bottlenecks"></a><span data-ttu-id="023cb-136">Cuellos de botella de seguimiento</span><span class="sxs-lookup"><span data-stu-id="023cb-136">Tracking Bottlenecks</span></span>  
 <span data-ttu-id="023cb-137">La instancia de host de seguimiento es la responsable de transferir los datos de instancias de servicios y eventos de mensajes controlados de BAM de la base de datos de cuadro de mensajes (tabla TrackingData) a las tablas de base de datos BizTalkDTADb o BAMPrimaryImport.</span><span class="sxs-lookup"><span data-stu-id="023cb-137">The Tracking Host Instance is responsible for moving both BAM & tracked message event and service instance data from the MessageBox database (TrackingData table) to the BizTalkDTADb and/or BAMPrimaryImport database tables.</span></span> <span data-ttu-id="023cb-138">Si se configuran varias bases de datos de cuadro de mensajes, la instancia de host de seguimiento usa cuatro subprocesos por cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="023cb-138">If multiple MessageBox databases are configured the tracking host instance uses four threads per MessageBox.</span></span>  
  
 <span data-ttu-id="023cb-139">Es posible que esta instancia de host pueda estar enlazada a la CPU.</span><span class="sxs-lookup"><span data-stu-id="023cb-139">It is possible that this host instance could get CPU bound.</span></span> <span data-ttu-id="023cb-140">Si éste es el caso, considere la posibilidad de escalar verticalmente el servidor o realizar un escalamiento horizontal mediante la configuración de un servidor adicional con seguimiento de host habilitado.</span><span class="sxs-lookup"><span data-stu-id="023cb-140">If that is the case consider scaling-up the server or scale-out by configuring an additional server with Host Tracking enabled.</span></span> <span data-ttu-id="023cb-141">Las distintas instancias de host equilibrarán automáticamente la carga para los diferentes cuadros de mensajes configurados.</span><span class="sxs-lookup"><span data-stu-id="023cb-141">The multiple host instances will automatically balance load for the multiple MessageBoxes configured.</span></span>  
  
 <span data-ttu-id="023cb-142">Si la tabla TrackingData en la base de datos de cuadro de mensajes empieza a crear una copia de seguridad, esto se suele deber a que los trabajos de mantenimiento de datos en la base de datos BizTalkDTABb o BAMPrimaryImport no se están ejecutando según la configuración, lo que provoca el crecimiento de estas bases de datos.</span><span class="sxs-lookup"><span data-stu-id="023cb-142">If the TrackingData table in the MessageBox database starts backing up, it is usually because the data maintenance jobs on the BizTalkDTADb and/or BAMPrimaryImport database are not running as configured causing growth of the BizTalkDTADb and/or BAMPrimaryImport database.</span></span> <span data-ttu-id="023cb-143">Una vez que estas bases de datos crezcan demasiado, esto puede tener un impacto negativo en la capacidad que tiene el host de seguimiento para insertar datos en las tablas, lo que provoca que se realice una copia de seguridad de los datos de los que se ha efectuado un seguimiento en las tablas de la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="023cb-143">Once these databases grow too large it can have a negative impact on the ability of the tracking host to insert data into these tables causing the tracked data to backup in the MessageBox database tables.</span></span> <span data-ttu-id="023cb-144">El crecimiento de la tabla Cuadro de mensajes->TrackingData provocará una limitación.</span><span class="sxs-lookup"><span data-stu-id="023cb-144">The growth of the MessageBox->TrackingData table will cause throttling to kick in.</span></span>  
  
## <a name="other"></a><span data-ttu-id="023cb-145">Otros</span><span class="sxs-lookup"><span data-stu-id="023cb-145">Other</span></span>  
 <span data-ttu-id="023cb-146">Configure la topología de implementación en la que las distintas funcionalidades se ejecuten en instancias de host aisladas dedicadas.</span><span class="sxs-lookup"><span data-stu-id="023cb-146">Configure the deployment topology such that different functionality runs in dedicated isolated host instances.</span></span> <span data-ttu-id="023cb-147">De este modo, cada instancia de host tiene su propio conjunto de recursos (en un sistema de 32 bits, espacio de dirección de memoria virtual de 2 GB, identificadores, subprocesos).</span><span class="sxs-lookup"><span data-stu-id="023cb-147">This way each host instance gets its own set of resources (on a 32-bit system, 2GB virtual memory address space, handles, threads).</span></span> <span data-ttu-id="023cb-148">Si el servidor tiene potencia suficiente (espacio en cabeza de CPU, memoria) para alojar varias instancias de host, se pueden configurar todas de modo que se ejecuten en el mismo equipo físico.</span><span class="sxs-lookup"><span data-stu-id="023cb-148">If the server is powerful enough (sufficient CPU headroom, memory) to host multiple host instances they can all be configured to run on the same physical machine.</span></span> <span data-ttu-id="023cb-149">En caso contrario, mover la funcionalidad a los servidores dedicados también facilita el escalamiento horizontal.</span><span class="sxs-lookup"><span data-stu-id="023cb-149">If not, this also makes it easy to scale-out by moving the functionality to dedicated servers.</span></span> <span data-ttu-id="023cb-150">Ejecutar la misma funcionalidad en varios servidores también sirve para proporcionar una configuración de gran disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="023cb-150">Running the same functionality on multiple servers also serves to provide a highly available configuration.</span></span>  
  
## <a name="biztalk-system-performance-counters"></a><span data-ttu-id="023cb-151">Contadores de rendimiento del sistema BizTalk</span><span class="sxs-lookup"><span data-stu-id="023cb-151">BizTalk System Performance Counters</span></span>  
  
|<span data-ttu-id="023cb-152">Objeto</span><span class="sxs-lookup"><span data-stu-id="023cb-152">Object</span></span>|<span data-ttu-id="023cb-153">Instancia</span><span class="sxs-lookup"><span data-stu-id="023cb-153">Instance</span></span>|<span data-ttu-id="023cb-154">Contador</span><span class="sxs-lookup"><span data-stu-id="023cb-154">Counter</span></span>|<span data-ttu-id="023cb-155">Finalidad de la supervisión</span><span class="sxs-lookup"><span data-stu-id="023cb-155">Monitoring Purpose</span></span>|  
|------------|--------------|-------------|------------------------|  
|<span data-ttu-id="023cb-156">Procesador</span><span class="sxs-lookup"><span data-stu-id="023cb-156">Processor</span></span>|<span data-ttu-id="023cb-157">_Total</span><span class="sxs-lookup"><span data-stu-id="023cb-157">_Total</span></span>|<span data-ttu-id="023cb-158">% de tiempo de procesador</span><span class="sxs-lookup"><span data-stu-id="023cb-158">% Processor Time</span></span>|<span data-ttu-id="023cb-159">Contención de recursos</span><span class="sxs-lookup"><span data-stu-id="023cb-159">Resource Contention</span></span>|  
|<span data-ttu-id="023cb-160">Procesar</span><span class="sxs-lookup"><span data-stu-id="023cb-160">Process</span></span>|<span data-ttu-id="023cb-161">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="023cb-161">BTSNTSvc</span></span>|<span data-ttu-id="023cb-162">Bytes virtuales</span><span class="sxs-lookup"><span data-stu-id="023cb-162">Virtual Bytes</span></span>|<span data-ttu-id="023cb-163">Pérdida o inundación de memoria</span><span class="sxs-lookup"><span data-stu-id="023cb-163">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="023cb-164">Procesar</span><span class="sxs-lookup"><span data-stu-id="023cb-164">Process</span></span>|<span data-ttu-id="023cb-165">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="023cb-165">BTSNTSvc</span></span>|<span data-ttu-id="023cb-166">Bytes privados</span><span class="sxs-lookup"><span data-stu-id="023cb-166">Private Bytes</span></span>|<span data-ttu-id="023cb-167">Pérdida o inundación de memoria</span><span class="sxs-lookup"><span data-stu-id="023cb-167">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="023cb-168">Procesar</span><span class="sxs-lookup"><span data-stu-id="023cb-168">Process</span></span>|<span data-ttu-id="023cb-169">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="023cb-169">BTSNTSvc</span></span>|<span data-ttu-id="023cb-170">Recuento de identificadores</span><span class="sxs-lookup"><span data-stu-id="023cb-170">Handle Count</span></span>|<span data-ttu-id="023cb-171">Contención de recursos</span><span class="sxs-lookup"><span data-stu-id="023cb-171">Resource Contention</span></span>|  
|<span data-ttu-id="023cb-172">Procesar</span><span class="sxs-lookup"><span data-stu-id="023cb-172">Process</span></span>|<span data-ttu-id="023cb-173">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="023cb-173">BTSNTSvc</span></span>|<span data-ttu-id="023cb-174">Número de subprocesos</span><span class="sxs-lookup"><span data-stu-id="023cb-174">Thread Count</span></span>|<span data-ttu-id="023cb-175">Contención de recursos</span><span class="sxs-lookup"><span data-stu-id="023cb-175">Resource Contention</span></span>|  
|<span data-ttu-id="023cb-176">Disco físico</span><span class="sxs-lookup"><span data-stu-id="023cb-176">Physical Disk</span></span>|<span data-ttu-id="023cb-177">_Total</span><span class="sxs-lookup"><span data-stu-id="023cb-177">_Total</span></span>|<span data-ttu-id="023cb-178">% de tiempo de inactividad</span><span class="sxs-lookup"><span data-stu-id="023cb-178">% Idle Time</span></span>|<span data-ttu-id="023cb-179">Contención de recursos</span><span class="sxs-lookup"><span data-stu-id="023cb-179">Resource Contention</span></span>|  
|<span data-ttu-id="023cb-180">Disco físico</span><span class="sxs-lookup"><span data-stu-id="023cb-180">Physical Disk</span></span>|<span data-ttu-id="023cb-181">_Total</span><span class="sxs-lookup"><span data-stu-id="023cb-181">_Total</span></span>|<span data-ttu-id="023cb-182">Current Disk Queue Length</span><span class="sxs-lookup"><span data-stu-id="023cb-182">Current Disk Queue Length</span></span>|<span data-ttu-id="023cb-183">Contención de recursos</span><span class="sxs-lookup"><span data-stu-id="023cb-183">Resource Contention</span></span>|  
  
### <a name="cpu-contention"></a><span data-ttu-id="023cb-184">Contención de la CPU</span><span class="sxs-lookup"><span data-stu-id="023cb-184">CPU Contention</span></span>  
 <span data-ttu-id="023cb-185">Si el procesador está saturado, considere la posibilidad de fragmentar la aplicación mediante la separación entre la recepción, el envío y la orquestación.</span><span class="sxs-lookup"><span data-stu-id="023cb-185">If the processor is saturated consider fragmenting the application by separating the Receiving from the Sending and Orchestration.</span></span> <span data-ttu-id="023cb-186">Esto se puede conseguir mediante la creación de hosts independientes, la asignación de estos hosts a funcionalidades específicas (recepción/envío/orquestaciones/seguimiento) y al agregar servidores dedicados a estos hosts independientes.</span><span class="sxs-lookup"><span data-stu-id="023cb-186">The way to accomplish this is by creating separate hosts, mapping these hosts to specific functionality (Receive/Send/Orchestrations/Tracking) and adding dedicated servers to these separate hosts.</span></span> <span data-ttu-id="023cb-187">Es sabido que la funcionalidad de orquestación suele requerir mucha capacidad de CPU, por lo tanto, la configuración del sistema para que las orquestaciones se ejecuten en un servidor dedicado independiente contribuye a mejorar el rendimiento global del sistema.</span><span class="sxs-lookup"><span data-stu-id="023cb-187">Orchestration functionality is generally known to be CPU hungry, thus configuring the system such that the orchestrations execute on a separate dedicated server helps improve overall system throughput.</span></span>  
  
 <span data-ttu-id="023cb-188">Si se implementan varias orquestaciones, éstas se pueden dar de alta en hosts de orquestación dedicados diferentes.</span><span class="sxs-lookup"><span data-stu-id="023cb-188">If multiple orchestrations are deployed, it is possible to enlist them to different dedicated Orchestration-Hosts.</span></span> <span data-ttu-id="023cb-189">La asignación de distintos servidores físicos a los hosts de orquestación dedicados garantiza que las distintas orquestaciones estén aisladas y no compitan por los recursos compartidos en el mismo espacio de dirección física o en el mismo servidor.</span><span class="sxs-lookup"><span data-stu-id="023cb-189">Mapping different physical servers to the dedicated Orchestration-Hosts ensures that the different orchestrations are isolated and do not contend for shared resources either in the same physical address space or on the same server.</span></span>  
  
### <a name="memory-starvation"></a><span data-ttu-id="023cb-190">Privación de memoria</span><span class="sxs-lookup"><span data-stu-id="023cb-190">Memory Starvation</span></span>  
 <span data-ttu-id="023cb-191">Los escenarios de gran rendimiento pueden suponer una mayor demanda de la memoria del sistema.</span><span class="sxs-lookup"><span data-stu-id="023cb-191">High throughput scenarios can have increased demand on system memory.</span></span> <span data-ttu-id="023cb-192">Puesto que un proceso de 32 bits está limitado por la cantidad de memoria que puede consumir, se recomienda separar la funcionalidad de recepción/procesamiento/envío en instancias de host independientes, de modo que cada host reciba su propio espacio de dirección de 2 GB.</span><span class="sxs-lookup"><span data-stu-id="023cb-192">Since a 32-bit process is limited by the amount of memory it can consume, it is recommended to separate the Receive/Process/Send functionality into separate Host Instances such that each host receives its own 2GB address space.</span></span> <span data-ttu-id="023cb-193">Además, si se están ejecutando varias instancias de host en el mismo servidor físico, resulta útil actualizar a memoria de 4/8 GB con el fin de evitar tener que intercambiar los datos al disco desde la memoria real.</span><span class="sxs-lookup"><span data-stu-id="023cb-193">In addition, if multiple Host Instances are running on the same physical server it is useful to upgrade to 4/8GB memory to avoid having to swap data to disk from real memory.</span></span> <span data-ttu-id="023cb-194">Las orquestaciones de larga ejecución puede mantener la memoria asignada ya causando inundación de memoria y, por tanto, limitación.</span><span class="sxs-lookup"><span data-stu-id="023cb-194">Long running orchestrations can hold onto allocated memory longer causing memory bloat and thus throttling to kick in.</span></span> <span data-ttu-id="023cb-195">Mensajes de gran tamaño pueden provocar también el consumo de memoria alta.</span><span class="sxs-lookup"><span data-stu-id="023cb-195">Large messages can also cause high memory consumption.</span></span>  
  
 <span data-ttu-id="023cb-196">Es posible superar este problema de inundación de memoria cuando se están procesando mensajes de gran tamaño, disminuyendo la **tamaño de la cola de mensajes interna** y **mensajes en curso por CPU** valores para el host específico.</span><span class="sxs-lookup"><span data-stu-id="023cb-196">It is possible to overcome this memory bloat problem when large messages are being processed by lowering the **Internal Message Queue Size** and **In-process Messages per CPU** values for the specific host.</span></span>  
  
### <a name="disk-contention"></a><span data-ttu-id="023cb-197">Contención del disco</span><span class="sxs-lookup"><span data-stu-id="023cb-197">Disk Contention</span></span>  
 <span data-ttu-id="023cb-198">Si los discos están saturados (por ejemplo, los transportes de archivo y MSMQ) considere la posibilidad de actualizar a varios ejes y crear bandas de disco con RAID 1 + 0.</span><span class="sxs-lookup"><span data-stu-id="023cb-198">If the disks are saturated (for example, File/MSMQ transports) consider upgrading to multiple spindles and striping the disks with RAID 1+0.</span></span> <span data-ttu-id="023cb-199">Además siempre que use el archivo de transporte es importante asegurarse de que las carpetas (recepción y envío) no aumentan demasiado grandes (> 50.000 archivos).</span><span class="sxs-lookup"><span data-stu-id="023cb-199">In addition whenever using the FILE transport it is important to ensure that the folders (both Receive and Send) do not grow too large (>50,000 files).</span></span>  
  
 <span data-ttu-id="023cb-200">La carpeta Recepción puede aumentar bastante de tamaño si BizTalk Server elige limitar los datos de entrada en el sistema por diferentes motivos que se mencionan a continuación.</span><span class="sxs-lookup"><span data-stu-id="023cb-200">The Receive folder can grow large if BizTalk Server chooses to throttle incoming data into the system due to various reasons mentioned below.</span></span> <span data-ttu-id="023cb-201">También es importante transferir datos desde la carpeta envío, de modo que el crecimiento en esta carpeta no afecte a la capacidad que tiene BizTalk Server para escribir datos adicionales.</span><span class="sxs-lookup"><span data-stu-id="023cb-201">It is also important to move data from the send folder so that growth in this folder does not impact the ability of BizTalk Server to write additional data.</span></span> <span data-ttu-id="023cb-202">Para las colas MSMQ no transaccionales se recomienda crear las colas de recepción de forma remota para que se reduzca la contención del disco en el servidor BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="023cb-202">For non-transactional MSMQ queues, it is recommended to remotely create the receive queues so that disk contention is reduced on the BizTalk server.</span></span>  
  
 <span data-ttu-id="023cb-203">Esta configuración (colas no transaccionales remotas) también ofrece la ventaja adicional de una gran disponibilidad ya que el servidor remoto que aloja la cola no se puede agrupar.</span><span class="sxs-lookup"><span data-stu-id="023cb-203">This configuration (remote non-transactional queues) also provides the added benefit of high availability as the remote server hosting the queue can be clustered.</span></span>  
  
### <a name="other-system-resource-contention"></a><span data-ttu-id="023cb-204">Contención de otros recursos del sistema</span><span class="sxs-lookup"><span data-stu-id="023cb-204">Other System Resource Contention</span></span>  
 <span data-ttu-id="023cb-205">En función de la naturaleza del transporte configurado, es posible que sea necesario configurar recursos del sistema como IIS para HTTP/SOAP (por ejemplo, MaxIOThreads, MaxWorkerThreads).</span><span class="sxs-lookup"><span data-stu-id="023cb-205">Depending on the nature of the transport configured it may be necessary to configure system resources like IIS for HTTP/SOAP (for example, MaxIOThreads, MaxWorkerThreads).</span></span>  
  
### <a name="downstream-bottlenecks"></a><span data-ttu-id="023cb-206">Cuellos de botella descendentes</span><span class="sxs-lookup"><span data-stu-id="023cb-206">Downstream Bottlenecks</span></span>  
 <span data-ttu-id="023cb-207">Si el sistema descendente no puede recibir datos desde BizTalk a velocidad suficiente, se realiza una copia de seguridad de estos datos de salida dentro de las bases de datos de BizTalk, con lo que se produce una inundación que provoca una limitación que, a su vez, reduce la canalización de recepción y, por lo tanto, afecta al rendimiento global del sistema BizTalk.</span><span class="sxs-lookup"><span data-stu-id="023cb-207">If the downstream system is unable to receive data fast enough from BizTalk this output data will back up within the BizTalk databases resulting in bloat causing throttling to kick in shrinking the receive pipe thereby impacting the overall throughput of the BizTalk system.</span></span> <span data-ttu-id="023cb-208">Una indicación directa de esto sería el crecimiento de la cola de impresión.</span><span class="sxs-lookup"><span data-stu-id="023cb-208">A direct indication of this would be Spool growth.</span></span>  
  
### <a name="throttling-impact"></a><span data-ttu-id="023cb-209">Impacto de la limitación</span><span class="sxs-lookup"><span data-stu-id="023cb-209">Throttling Impact</span></span>  
 <span data-ttu-id="023cb-210">En última instancia, se generará una limitación para proteger el sistema de alcanzar un estado irrecuperable.</span><span class="sxs-lookup"><span data-stu-id="023cb-210">Throttling will ultimately kick in to protect the system from reaching an unrecoverable state.</span></span> <span data-ttu-id="023cb-211">Por lo tanto, la limitación es un buen punto para comprobar si el sistema funciona normalmente y detectar el origen del problema.</span><span class="sxs-lookup"><span data-stu-id="023cb-211">Thus throttling is a good place to verify whether the system is functioning normally and discover the source of the problem.</span></span> <span data-ttu-id="023cb-212">Tras identificar la causa del cuello de botella del estado de limitación, analice otros contadores de rendimiento para explorar en profundidad el origen del problema.</span><span class="sxs-lookup"><span data-stu-id="023cb-212">After the cause of the bottleneck has been identified from the throttling state, analyze the other performance counters to drill down into the source of the problem.</span></span>  
  
 <span data-ttu-id="023cb-213">Por ejemplo, un alto nivel de contención en la base de datos de cuadro de mensajes se podría deber a un gran uso de la CPU, que podría estar provocado por una paginación excesiva en el disco y ésta, a su vez, por condiciones de memoria baja.</span><span class="sxs-lookup"><span data-stu-id="023cb-213">For example, high contention on the MessageBox database could be due to high CPU usage, which could be caused due to excessively paging to disk which could be caused due to low memory conditions.</span></span> <span data-ttu-id="023cb-214">Un alto nivel de contención en la base de datos de cuadro de mensajes también se podría deber a un alto nivel de contención de bloqueo que, a su vez, podría deberse a unidades de disco saturadas.</span><span class="sxs-lookup"><span data-stu-id="023cb-214">High contention on the MessageBox could also be caused due to high lock contention which could be due to saturated disk drives.</span></span>  
  
## <a name="biztalk-application-counters"></a><span data-ttu-id="023cb-215">Contadores de la aplicación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="023cb-215">BizTalk Application Counters</span></span>  
  
|<span data-ttu-id="023cb-216">Objeto</span><span class="sxs-lookup"><span data-stu-id="023cb-216">Object</span></span>|<span data-ttu-id="023cb-217">Instancia</span><span class="sxs-lookup"><span data-stu-id="023cb-217">Instance</span></span>|<span data-ttu-id="023cb-218">Contador</span><span class="sxs-lookup"><span data-stu-id="023cb-218">Counter</span></span>|<span data-ttu-id="023cb-219">Descripción</span><span class="sxs-lookup"><span data-stu-id="023cb-219">Description</span></span>|  
|------------|--------------|-------------|-----------------|  
|<span data-ttu-id="023cb-220">Mensajería de BizTalk</span><span class="sxs-lookup"><span data-stu-id="023cb-220">BizTalk Messaging</span></span>|<span data-ttu-id="023cb-221">RxHost</span><span class="sxs-lookup"><span data-stu-id="023cb-221">RxHost</span></span>|<span data-ttu-id="023cb-222">Documentos recibidos/seg.</span><span class="sxs-lookup"><span data-stu-id="023cb-222">Documents Received/Sec</span></span>|<span data-ttu-id="023cb-223">Tasa de entrada</span><span class="sxs-lookup"><span data-stu-id="023cb-223">Incoming Rate</span></span>|  
|<span data-ttu-id="023cb-224">Mensajería de BizTalk</span><span class="sxs-lookup"><span data-stu-id="023cb-224">BizTalk Messaging</span></span>|<span data-ttu-id="023cb-225">TxHost</span><span class="sxs-lookup"><span data-stu-id="023cb-225">TxHost</span></span>|<span data-ttu-id="023cb-226">Documentos procesados/seg.</span><span class="sxs-lookup"><span data-stu-id="023cb-226">Documents Processed/Sec</span></span>|<span data-ttu-id="023cb-227">Tasa de salida</span><span class="sxs-lookup"><span data-stu-id="023cb-227">Outgoing Rate</span></span>|  
|<span data-ttu-id="023cb-228">Orquestaciones XLANG/s</span><span class="sxs-lookup"><span data-stu-id="023cb-228">XLANG/s Orchestrations</span></span>|<span data-ttu-id="023cb-229">PxHost</span><span class="sxs-lookup"><span data-stu-id="023cb-229">PxHost</span></span>|<span data-ttu-id="023cb-230">Orquestaciones completadas/seg.</span><span class="sxs-lookup"><span data-stu-id="023cb-230">Orchestrations Completed/Sec.</span></span>|<span data-ttu-id="023cb-231">Tasa de procesamiento</span><span class="sxs-lookup"><span data-stu-id="023cb-231">Processing Rate</span></span>|  
|<span data-ttu-id="023cb-232">BizTalk: Cuadro de mensajes: contadores generales</span><span class="sxs-lookup"><span data-stu-id="023cb-232">BizTalk : MessageBox: General Counters</span></span>|<span data-ttu-id="023cb-233">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="023cb-233">MsgBoxName</span></span>|<span data-ttu-id="023cb-234">Tamaño de cola de impresión</span><span class="sxs-lookup"><span data-stu-id="023cb-234">Spool Size</span></span>|<span data-ttu-id="023cb-235">Tamaño acumulado de todas las colas de host</span><span class="sxs-lookup"><span data-stu-id="023cb-235">Cumulative size of all Host Queues</span></span>|  
|<span data-ttu-id="023cb-236">BizTalk: Cuadro de mensajes: contadores generales</span><span class="sxs-lookup"><span data-stu-id="023cb-236">BizTalk : MessageBox: General Counters</span></span>|<span data-ttu-id="023cb-237">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="023cb-237">MsgBoxName</span></span>|<span data-ttu-id="023cb-238">Tamaño de los datos de seguimiento</span><span class="sxs-lookup"><span data-stu-id="023cb-238">Tracking Data Size</span></span>|<span data-ttu-id="023cb-239">Tamaño de la tabla TrackingData en el cuadro de mensajes</span><span class="sxs-lookup"><span data-stu-id="023cb-239">Size of TrackingData table on the MessageBox</span></span>|  
|<span data-ttu-id="023cb-240">Contadores de BizTalk:MessageBox:Host</span><span class="sxs-lookup"><span data-stu-id="023cb-240">BizTalk:MessageBox:Host Counters</span></span>|<span data-ttu-id="023cb-241">PxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="023cb-241">PxHost:MsgBoxName</span></span>|<span data-ttu-id="023cb-242">Cola de host - Longitud</span><span class="sxs-lookup"><span data-stu-id="023cb-242">Host Queue - Length</span></span>|<span data-ttu-id="023cb-243">Número de mensajes en la cola de host específica</span><span class="sxs-lookup"><span data-stu-id="023cb-243">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="023cb-244">Contadores de BizTalk:MessageBox:Host</span><span class="sxs-lookup"><span data-stu-id="023cb-244">BizTalk:MessageBox:Host Counters</span></span>|<span data-ttu-id="023cb-245">TxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="023cb-245">TxHost:MsgBoxName</span></span>|<span data-ttu-id="023cb-246">Cola de host - Longitud</span><span class="sxs-lookup"><span data-stu-id="023cb-246">Host Queue - Length</span></span>|<span data-ttu-id="023cb-247">Número de mensajes en la cola de host específica</span><span class="sxs-lookup"><span data-stu-id="023cb-247">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="023cb-248">BizTalk:Agente de mensaje</span><span class="sxs-lookup"><span data-stu-id="023cb-248">BizTalk:Message Agent</span></span>|<span data-ttu-id="023cb-249">RxHost</span><span class="sxs-lookup"><span data-stu-id="023cb-249">RxHost</span></span>|<span data-ttu-id="023cb-250">Tamaño de base de datos</span><span class="sxs-lookup"><span data-stu-id="023cb-250">Database Size</span></span>|<span data-ttu-id="023cb-251">Tamaño de la cola de publicación (PxHost)</span><span class="sxs-lookup"><span data-stu-id="023cb-251">Size of publishing (PxHost) Queue</span></span>|  
|<span data-ttu-id="023cb-252">BizTalk:Agente de mensaje</span><span class="sxs-lookup"><span data-stu-id="023cb-252">BizTalk:Message Agent</span></span>|<span data-ttu-id="023cb-253">PxHost</span><span class="sxs-lookup"><span data-stu-id="023cb-253">PxHost</span></span>|<span data-ttu-id="023cb-254">Tamaño de base de datos</span><span class="sxs-lookup"><span data-stu-id="023cb-254">Database Size</span></span>|<span data-ttu-id="023cb-255">Tamaño de la cola de publicación (TxHost)</span><span class="sxs-lookup"><span data-stu-id="023cb-255">Size of publishing (TxHost) Queue</span></span>|  
|<span data-ttu-id="023cb-256">BizTalk:Agente de mensaje</span><span class="sxs-lookup"><span data-stu-id="023cb-256">BizTalk:Message Agent</span></span>|<span data-ttu-id="023cb-257">HostName</span><span class="sxs-lookup"><span data-stu-id="023cb-257">HostName</span></span>|<span data-ttu-id="023cb-258">Estado de limitación de entrega de mensajes</span><span class="sxs-lookup"><span data-stu-id="023cb-258">Message Delivery Throttling State</span></span>|<span data-ttu-id="023cb-259">Afecta a los transportes XLANG y de salida</span><span class="sxs-lookup"><span data-stu-id="023cb-259">Affects XLANG and Outbound transports</span></span>|  
|<span data-ttu-id="023cb-260">BizTalk:Agente de mensaje</span><span class="sxs-lookup"><span data-stu-id="023cb-260">BizTalk:Message Agent</span></span>|<span data-ttu-id="023cb-261">HostName</span><span class="sxs-lookup"><span data-stu-id="023cb-261">HostName</span></span>|<span data-ttu-id="023cb-262">Estado de la limitación de publicación de mensajes</span><span class="sxs-lookup"><span data-stu-id="023cb-262">Message Publishing Throttling State</span></span>|<span data-ttu-id="023cb-263">Afecta a los transportes XLANG y de entrada</span><span class="sxs-lookup"><span data-stu-id="023cb-263">Affects XLANG and Inbound transports</span></span>|  
  
### <a name="where-do-i-start"></a><span data-ttu-id="023cb-264">¿Dónde debo empezar?</span><span class="sxs-lookup"><span data-stu-id="023cb-264">Where do I start?</span></span>  
 <span data-ttu-id="023cb-265">Supervisión de la **estado de limitación de entrega de mensajes** y **estado de limitación de publicación de mensajes** para cada host de la instancia normalmente es un buen lugar para comenzar.</span><span class="sxs-lookup"><span data-stu-id="023cb-265">Monitoring the **Message Delivery Throttling State** and the **Message Publishing Throttling State** for each host instance is usually a good place to start.</span></span> <span data-ttu-id="023cb-266">Si el valor de estos contadores no es cero, esto indica que se está produciendo una limitación dentro del sistema de BizTalk y se puede analizar más la causa del cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="023cb-266">If the value of these counters is not zero it is indicative that throttling is happening within the BizTalk system and it is possible to further analyze the cause of the bottleneck.</span></span> <span data-ttu-id="023cb-267">Para obtener descripciones de los otros contadores de rendimiento, consulte [identificar cuellos de botella en el nivel de base de datos](http://msdn.microsoft.com/library/f1dc58b5-73b0-41b5-9a1e-c0698485c732).</span><span class="sxs-lookup"><span data-stu-id="023cb-267">For descriptions on the other performance counters, see [Identifying Bottlenecks in the Database Tier](http://msdn.microsoft.com/library/f1dc58b5-73b0-41b5-9a1e-c0698485c732).</span></span>  
  
## <a name="backlog-buildup"></a><span data-ttu-id="023cb-268">Acumulación de datos</span><span class="sxs-lookup"><span data-stu-id="023cb-268">Backlog Buildup</span></span>  
 <span data-ttu-id="023cb-269">Para un escenario de implementación 1-1 en el que 1 mensaje recibido produce 1 mensaje procesado y transmitido, si la Tasa saliente no es igual a la Tasa entrante, se está produciendo una acumulación de datos en algún lugar del sistema.</span><span class="sxs-lookup"><span data-stu-id="023cb-269">For a 1-1 deployment scenario where 1 message received results in 1 message processed and transmitted, if the Outgoing Rate does not equal the Incoming Rate, a backlog is building up somewhere in the system.</span></span> <span data-ttu-id="023cb-270">Se puede supervisar el tamaño de la cola de impresión para este tipo de situaciones.</span><span class="sxs-lookup"><span data-stu-id="023cb-270">For such a situation it is possible to monitor the Spool Size.</span></span>  
  
 <span data-ttu-id="023cb-271">Si la cola de impresión está creciendo de forma lineal, se puede profundizar más al comprobar qué cola de la aplicación es responsable del crecimiento de la cola de impresión.</span><span class="sxs-lookup"><span data-stu-id="023cb-271">If the Spool is growing linearly, it is possible to further drill down by verifying which Application Queue is responsible for the Spool growth.</span></span>  
  
 <span data-ttu-id="023cb-272">Si ninguna de las colas de la aplicación está creciendo y la cola de impresión sigue creciendo, esto podría significar que los trabajos de purga no pueden continuar debido a que el agente no se está ejecutando o a la contención de otros recursos del sistema en el servidor SQL Server.</span><span class="sxs-lookup"><span data-stu-id="023cb-272">If none of the application queues are growing and the Spool continues to grow it could mean that the purge jobs are unable to keep up either due to the agent not running or other system resource contention on the SQL server.</span></span>  
  
 <span data-ttu-id="023cb-273">Si una de las colas de la aplicación está creciendo, es importante diagnosticar la causa de este crecimiento.</span><span class="sxs-lookup"><span data-stu-id="023cb-273">If one of the application queues are growing, it is important to diagnose the cause of this growth.</span></span> <span data-ttu-id="023cb-274">Supervise los recursos del sistema que no puede purgar la cola de aplicación específica (por ejemplo, la cola de host de orquestación está creciendo debido a la privación de la CPU en el servidor).</span><span class="sxs-lookup"><span data-stu-id="023cb-274">Monitor the system resources on the system that is unable to drain the specific application queue (for example, Orchestration Host-Q is growing due to CPU starvation on the server).</span></span> <span data-ttu-id="023cb-275">Asimismo, compruebe los valores del contador de limitación para la instancia de host específica.</span><span class="sxs-lookup"><span data-stu-id="023cb-275">In addition verify the values of the throttling counter for the specific host instance.</span></span>  
  
 <span data-ttu-id="023cb-276">Si el estado de entrega/publicación no es cero, compruebe el valor para confirmar el motivo de la limitación (por ejemplo: umbral de memoria excedido, número de mensajes en proceso demasiado alto, etc.)</span><span class="sxs-lookup"><span data-stu-id="023cb-276">If the Delivery/Publishing State is not zero, check the value to confirm the reason for throttling (for example, memory threshold exceeded, in-flight message count too high etc.).</span></span>  
  
## <a name="f1-profiler"></a><span data-ttu-id="023cb-277">F1 Profiler</span><span class="sxs-lookup"><span data-stu-id="023cb-277">F1 Profiler</span></span>  
 <span data-ttu-id="023cb-278">Mediante el uso de contadores de rendimiento, se puede detectar rápidamente la ubicación del cuello de botella en un nivel superior.</span><span class="sxs-lookup"><span data-stu-id="023cb-278">By using performance counters, it is possible to quickly detect at a high level the location of the bottleneck.</span></span> <span data-ttu-id="023cb-279">No obstante, una vez delimitado, podría ser necesario profundizar más en el código para contribuir a aliviar el problema.</span><span class="sxs-lookup"><span data-stu-id="023cb-279">However, once narrowed down, it may be necessary to drill down further into the code to help alleviate the problem.</span></span> <span data-ttu-id="023cb-280">La aplicación F1 Profiler que se incluye con Visual Studio puede ser una herramienta muy útil para ayudar a diagnosticar donde emplea el código la mayoría de sus ciclos.</span><span class="sxs-lookup"><span data-stu-id="023cb-280">The F1 Profiler that ships with Visual Studio can be a very helpful tool to help diagnose where the code is spending most of its cycles.</span></span>  
  
 <span data-ttu-id="023cb-281">Los símbolos son importantes para crear una pila más significativa (especialmente para el código no administrado).</span><span class="sxs-lookup"><span data-stu-id="023cb-281">Symbols are important to help with creating a more meaningful stack (especially for unmanaged code).</span></span> <span data-ttu-id="023cb-282">Por ejemplo, F1 Profiler puede ayudar a identificar el número de invocaciones y la cantidad de tiempo que tarda en devolverse una llamada a API.</span><span class="sxs-lookup"><span data-stu-id="023cb-282">For example, the F1-Profiler can help pinpoint the number of invocations and the amount of time an API call takes to return.</span></span> <span data-ttu-id="023cb-283">Es posible que se pueda profundizar más en la pila para detectar la causa subyacente de la latencia alta.</span><span class="sxs-lookup"><span data-stu-id="023cb-283">Drilling further down the stack, it may be possible to detect the underlying cause of the high latency.</span></span> <span data-ttu-id="023cb-284">Podría tratarse de una llamada de bloqueo a una consulta de base de datos o simplemente una llamada para esperar a un evento.</span><span class="sxs-lookup"><span data-stu-id="023cb-284">It could be a blocking call to a database query or simply a call to wait on an event.</span></span>  
  
## <a name="l2l3-cache"></a><span data-ttu-id="023cb-285">Caché de L2/L3</span><span class="sxs-lookup"><span data-stu-id="023cb-285">L2/L3 Cache</span></span>  
 <span data-ttu-id="023cb-286">Se pueden obtener las mayores ventajas (desde el punto de vista del hardware) mediante la utilización de la caché de la CPU en la tarjeta.</span><span class="sxs-lookup"><span data-stu-id="023cb-286">The biggest benefits (from a hardware perspective) that can be gained is by utilizing onboard CPU cache.</span></span> <span data-ttu-id="023cb-287">Una caché de CPU superior ayuda a aumentar la tasa de aciertos de caché, lo que reduce la necesidad de que el sistema pagine los datos desde la memoria y hacia al disco.</span><span class="sxs-lookup"><span data-stu-id="023cb-287">Higher CPU cache helps increase cache hit rate reducing the need for the system to page data in and out of memory to disk.</span></span>  
  
## <a name="64-bit-performance-bottlenecks"></a><span data-ttu-id="023cb-288">Cuellos de botella de rendimiento de 64 bits</span><span class="sxs-lookup"><span data-stu-id="023cb-288">64-Bit Performance Bottlenecks</span></span>  
 <span data-ttu-id="023cb-289">El rendimiento en los sistemas de 64 bits puede parecer inferior del que se puede obtener en los sistemas de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="023cb-289">Performance on 64-bit systems may appear lower than what can be achieved on 32-bit systems.</span></span> <span data-ttu-id="023cb-290">Esto es posible debido a varias razones, la más importante de las cuales es la memoria.</span><span class="sxs-lookup"><span data-stu-id="023cb-290">This is possible due to a couple of reasons, the most important one being memory.</span></span>  
  
 <span data-ttu-id="023cb-291">La medición del rendimiento de un sistema de 32 bits con memoria de 2 GB y la comparación de los resultados con los de un sistema similar de 64 bits con memoria de 2 GB no es una verdadera comparación lineal.</span><span class="sxs-lookup"><span data-stu-id="023cb-291">Measuring performance on a 32-bit system with 2-GB of memory and comparing the results to what can be achieved on a similar 64-bit system with 2-GB of memory is not a true apples to apples comparison.</span></span> <span data-ttu-id="023cb-292">El sistema de 64 bits parecerá estar enlazado a E/S de disco (% bajo de tiempo de inactividad de disco y longitud de la cola de disco alta) y enlazado a la CPU (CPU máxima y cambio de contexto alto).</span><span class="sxs-lookup"><span data-stu-id="023cb-292">The 64-bit system will appear to be disk-IO bound (low % Disk Idle time & high Disk Queue Length) and CPU bound (max CPU & high Context Switching).</span></span> <span data-ttu-id="023cb-293">No obstante, esto no se debe a que sea más caro realizar la E/S de archivos en un sistema de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="023cb-293">However, this is not because performing file IO on a 64-bit system is more expensive.</span></span>  
  
 <span data-ttu-id="023cb-294">El sistema de 64 bits requiere más memoria (direcciones de 64 bits), lo que tiene como consecuencia que el sistema operativo consume la mayoría de la memoria disponible de 2 GB.</span><span class="sxs-lookup"><span data-stu-id="023cb-294">The 64-bit system is more memory hungry (64-bit addressing) which results in the OS consuming most of the 2-GB available memory.</span></span> <span data-ttu-id="023cb-295">Una vez que ocurre esto, la mayoría de las demás operaciones provocan la paginación en el disco, que exige más esfuerzo del subsistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="023cb-295">Once this happens most other operations cause paging to disk which stresses the file subsystem.</span></span> <span data-ttu-id="023cb-296">Ahora el sistema no sólo emplea ciclos de CPU al paginar desde y hacia la memoria tanto los datos como el código, sino que también se ve afectado por el alto costo de latencia de disco.</span><span class="sxs-lookup"><span data-stu-id="023cb-296">The system now not only spends CPU cycles paging in/out of memory both data and code but is also impacted by the high disk latency cost.</span></span> <span data-ttu-id="023cb-297">Esto se manifiesta en forma de una mayor contención de disco y consumo de CPU.</span><span class="sxs-lookup"><span data-stu-id="023cb-297">This manifests itself as both higher disk contention and higher CPU consumption.</span></span>  
  
 <span data-ttu-id="023cb-298">El modo de aliviar este problema es escalar el servidor verticalmente mediante la actualización de la memoria (lo ideal sería a 8 GB).</span><span class="sxs-lookup"><span data-stu-id="023cb-298">The way to alleviate this problem is to scale-up the server by upgrading the memory (ideally 8-GB).</span></span> <span data-ttu-id="023cb-299">No obstante, agregar más memoria no contribuirá a mejorar el rendimiento a menos que el origen del problema sea la privación de CPU debido a condiciones de memoria baja.</span><span class="sxs-lookup"><span data-stu-id="023cb-299">However, adding more memory will not help improve throughput unless the source of the problem is CPU starvation due to low memory conditions.</span></span>  
  
## <a name="using-bam-to-identify-bottlenecks-and-high-latency-issues"></a><span data-ttu-id="023cb-300">Usar BAM para identificar los cuellos de botella y problemas de latencia alta</span><span class="sxs-lookup"><span data-stu-id="023cb-300">Using BAM to identify bottlenecks and high latency issues</span></span>  
 <span data-ttu-id="023cb-301">En situaciones en las que sea importante una latencia baja, puede usar BAM para medir el tiempo que el sistema necesita para finalizar cada fase dentro del sistema BizTalk.</span><span class="sxs-lookup"><span data-stu-id="023cb-301">In situations where low latency is important, you can use BAM to measure the time the system takes to complete each stage within the BizTalk system.</span></span> <span data-ttu-id="023cb-302">Aunque los datos de instancias de servicio y eventos de mensajes controlados se pueden usar para depurar el estado de los mensajes y diagnosticar el origen de problemas en mensajes de enrutamiento, BAM se puede usar para controlar distintos puntos del flujo de mensajes.</span><span class="sxs-lookup"><span data-stu-id="023cb-302">Although  tracked message event and service instance data can be used to debug the state of messages and diagnose the source of problems in routing messages, BAM can be used to track various points through the message flow.</span></span> <span data-ttu-id="023cb-303">Mediante la creación de un perfil de seguimiento de BAM (definir una actividad con continuaciones), puede medir la latencia entre las distintas partes del sistema para ayudar a hacer un seguimiento de las fases más caras dentro del proceso de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="023cb-303">By creating a BAM tracking profile (defining an activity with continuations), you can measure latency between different parts of the system to help track the most expensive stages within the workflow process.</span></span>