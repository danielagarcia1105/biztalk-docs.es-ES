---
title: Fase de desensamblado (procesamiento de intercambio recuperable) | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 552b1e90-f75d-4713-8c7b-155a52819308
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0ca8b90765b2b00803f5b8eb6a22c59ed6b43776
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36966117"
---
# <a name="disassembly-stage-recoverable-interchange-processing"></a><span data-ttu-id="ea129-102">Fase de desensamblado (procesamiento de intercambio recuperable)</span><span class="sxs-lookup"><span data-stu-id="ea129-102">Disassembly Stage (Recoverable Interchange Processing)</span></span>
<span data-ttu-id="ea129-103">Los intercambios se procesan en la fase de desensamblado de dos modos distintos:</span><span class="sxs-lookup"><span data-stu-id="ea129-103">Interchanges are processed at the disassembly stage in two modes:</span></span>  
  
-   <span data-ttu-id="ea129-104">**Modo estándar.**</span><span class="sxs-lookup"><span data-stu-id="ea129-104">**Standard mode.**</span></span> <span data-ttu-id="ea129-105">cuando el componente de desensamblador de una canalización de recepción está configurado para realizar el desensamblado estándar, los mensajes contenidos en un intercambio se extraen, se procesan con la canalización de recepción, se asignan y se publican como una unidad de trabajo transaccional.</span><span class="sxs-lookup"><span data-stu-id="ea129-105">When the disassembler component of a receive pipeline is configured to perform standard disassembly, the messages contained in an interchange are extracted, processed by the receive pipeline, mapped, and published as a transactional unit of work.</span></span> <span data-ttu-id="ea129-106">Es decir, el intercambio completo y los mensajes que contiene se procesan completamente y se publican en la base de datos de cuadro de mensajes, o bien, el intercambio se coloca en la cola de suspensión.</span><span class="sxs-lookup"><span data-stu-id="ea129-106">That is, either the entire interchange and its contained messages are fully processed and published into the MessageBox database, or the interchange is placed in the Suspended queue.</span></span>  
  
-   <span data-ttu-id="ea129-107">**Modo recuperable.**</span><span class="sxs-lookup"><span data-stu-id="ea129-107">**Recoverable mode.**</span></span> <span data-ttu-id="ea129-108">Cuando el componente de desensamblador de una canalización de recepción está configurado para realizar **procesamiento de intercambio recuperable**, se extraen los mensajes contenidos en un intercambio por separado.</span><span class="sxs-lookup"><span data-stu-id="ea129-108">When the disassembler component of a receive pipeline is configured to perform **recoverable interchange processing**, the messages contained in an interchange are extracted independently of each other.</span></span> <span data-ttu-id="ea129-109">Los mensajes que se extraen correctamente se propagan más abajo en la canalización de recepción.</span><span class="sxs-lookup"><span data-stu-id="ea129-109">Messages that are successfully extracted are propagated further down the receive pipeline.</span></span> <span data-ttu-id="ea129-110">Los mensajes identificados dentro de un intercambio que no se extraen correctamente se sitúan en la cola de suspensión.</span><span class="sxs-lookup"><span data-stu-id="ea129-110">Messages that are identified within an interchange but are not successfully extracted are placed in the Suspended queue.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="ea129-111">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="ea129-111">Examples</span></span>  
 <span data-ttu-id="ea129-112">Los ejemplos siguientes ilustran escenarios de procesamiento de intercambio.</span><span class="sxs-lookup"><span data-stu-id="ea129-112">The following examples illustrate interchange processing scenarios.</span></span>  
  
### <a name="example-1"></a><span data-ttu-id="ea129-113">Ejemplo 1</span><span class="sxs-lookup"><span data-stu-id="ea129-113">Example 1</span></span>  
 <span data-ttu-id="ea129-114">En este ejemplo, el siguiente pseudointercambio se envía en una ubicación de recepción de intercambio estándar.</span><span class="sxs-lookup"><span data-stu-id="ea129-114">In this example, the following pseudo-interchange is submitted on a standard interchange receive location.</span></span> <span data-ttu-id="ea129-115">Es decir, el componente de desensamblador de la canalización de recepción está configurado para el procesamiento de intercambio estándar.</span><span class="sxs-lookup"><span data-stu-id="ea129-115">That is, the disassembler component in the receive pipeline is configured for standard interchange processing.</span></span>  
  
```  
<Interchange>  
<Document1>...</Document1>  
<Document2 failure=”routing”>...</Document2>  
<Document3>...</Document3>  
<Document4 failure=”pipeline” recoverableError=”true”>...</Document4>  
<Document5>...</Document5>  
</Interchange>  
```  
  
 <span data-ttu-id="ea129-116">Este intercambio contiene cinco mensajes y el desensamblador los extrae correctamente del intercambio.</span><span class="sxs-lookup"><span data-stu-id="ea129-116">This interchange contains five messages, all of which the disassembler successfully extracts from the interchange.</span></span> <span data-ttu-id="ea129-117">Se procesan del siguiente modo:</span><span class="sxs-lookup"><span data-stu-id="ea129-117">They are processed as follows:</span></span>  
  
- <span data-ttu-id="ea129-118">El primero, el segundo y el tercer mensaje se propagan a través de la canalización y están listos para ser publicados.</span><span class="sxs-lookup"><span data-stu-id="ea129-118">The first, second, and third messages propagate through the pipeline and are ready to be published.</span></span>  
  
- <span data-ttu-id="ea129-119">El cuarto mensaje genera un error de procesamiento en la fase de desensamblado de la canalización.</span><span class="sxs-lookup"><span data-stu-id="ea129-119">The fourth message fails processing at the disassembling stage in the pipeline.</span></span> <span data-ttu-id="ea129-120">Esto hace que se deshagan todos los mensajes ya procesados y que se suspenda el mensaje de intercambio original como reanudable.</span><span class="sxs-lookup"><span data-stu-id="ea129-120">This causes all the messages that have already been processed to roll back and the original interchange message to be suspended as resumable.</span></span>  
  
  <span data-ttu-id="ea129-121">El resultado del envío es:</span><span class="sxs-lookup"><span data-stu-id="ea129-121">The result of submission is:</span></span>  
  
- <span data-ttu-id="ea129-122">No se publica nada.</span><span class="sxs-lookup"><span data-stu-id="ea129-122">Nothing is published.</span></span> <span data-ttu-id="ea129-123">En el procesamiento de intercambio estándar, el intercambio original se suspende porque cuando alguno de los mensajes extraídos genera un error en algún punto del procesamiento de intercambio o después del mismo, hace que todos los mensajes extraídos se descarten y que el intercambio original se coloque en la cola de suspensión como reanudable.</span><span class="sxs-lookup"><span data-stu-id="ea129-123">The original interchange is suspended because in standard interchange processing, any extracted message that fails at any point during or after interchange processing results in all extracted messages being discarded and the original interchange being placed on the Suspended queue as resumable.</span></span>  
  
### <a name="example-2"></a><span data-ttu-id="ea129-124">Ejemplo 2</span><span class="sxs-lookup"><span data-stu-id="ea129-124">Example 2</span></span>  
 <span data-ttu-id="ea129-125">Este ejemplo utiliza el mismo escenario de procesamiento de intercambio y de propagación que el ejemplo anterior, salvo que aquí la fase de desensamblado está configurada para realizar un procesamiento de intercambio recuperable.</span><span class="sxs-lookup"><span data-stu-id="ea129-125">The example uses the same interchange processing and propagation scenario as the previous example, except that the disassembly stage is configured to do recoverable interchange processing.</span></span>  
  
 <span data-ttu-id="ea129-126">El resultado del envío es que los mensajes extraídos se procesan y se descarta el intercambio original.</span><span class="sxs-lookup"><span data-stu-id="ea129-126">The result of submission is that individual extracted messages are all processed and the original interchange is discarded.</span></span> <span data-ttu-id="ea129-127">Los mensajes individuales se procesan del siguiente modo:</span><span class="sxs-lookup"><span data-stu-id="ea129-127">The individual messages are processed as follows:</span></span>  
  
-   <span data-ttu-id="ea129-128">El primero, el segundo y el tercer mensaje se propagan a través de la canalización y están listos para ser publicados.</span><span class="sxs-lookup"><span data-stu-id="ea129-128">The first, second, and third messages propagate through the pipeline and are ready to be published.</span></span>  
  
-   <span data-ttu-id="ea129-129">El cuarto mensaje genera un error en el procesamiento de desensamblado (es decir, algo va mal después de su extracción) y está listo para ser suspendido.</span><span class="sxs-lookup"><span data-stu-id="ea129-129">The fourth message fails disassembly processing (that is, something goes wrong after it is extracted) and is ready to be suspended.</span></span>  
  
-   <span data-ttu-id="ea129-130">El quinto mensaje se propaga a través de la canalización y está listo para ser publicado.</span><span class="sxs-lookup"><span data-stu-id="ea129-130">The fifth message propagates through the pipeline and is ready to be published.</span></span>  
  
-   <span data-ttu-id="ea129-131">Después de extraer todos los mensajes del intercambio, los mensajes 1, 2, 3 y 5 se publican en la base de datos de cuadro de mensajes y el mensaje 4 se coloca en la cola de suspensión.</span><span class="sxs-lookup"><span data-stu-id="ea129-131">After all messages are extracted from the interchange, messages 1, 2, 3, and 5 are published into the MessageBox database, and message 4 is placed on the Suspended queue.</span></span> <span data-ttu-id="ea129-132">El mensaje 2 también se redirige a la cola de suspensión debido a un error de enrutamiento al no encontrar un suscriptor coincidente.</span><span class="sxs-lookup"><span data-stu-id="ea129-132">Message 2 is also redirected to the Suspended queue because of a routing failure due to no matching subscriber.</span></span>  
  
## <a name="configuring-recoverable-interchange-processing"></a><span data-ttu-id="ea129-133">Configurar el procesamiento de intercambio recuperable</span><span class="sxs-lookup"><span data-stu-id="ea129-133">Configuring Recoverable Interchange Processing</span></span>  
 <span data-ttu-id="ea129-134">El procesamiento de intercambio recuperable es una propiedad del componente de desensamblador de una canalización de recepción.</span><span class="sxs-lookup"><span data-stu-id="ea129-134">Recoverable interchange processing is a property of the disassembler component of a receive pipeline.</span></span> <span data-ttu-id="ea129-135">No todos los componentes de desensamblador permiten especificar el procesamiento de intercambio recuperable; por ejemplo, el desensamblador nativo de BizTalk Framework no lo permite.</span><span class="sxs-lookup"><span data-stu-id="ea129-135">Not all disassembler components allow you to specify recoverable interchange processing; for example, the native BizTalk Framework disassembler does not.</span></span> <span data-ttu-id="ea129-136">Si un desensamblador admite el procesamiento de intercambio recuperable, a continuación, especificar este comportamiento en el Diseñador de canalizaciones de [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] al agregar el componente de desensamblador a la fase Desensamblar de la canalización que se está diseña.</span><span class="sxs-lookup"><span data-stu-id="ea129-136">If a disassembler supports recoverable interchange processing, then you specify this behavior in Pipeline Designer within [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] when you add the disassembler component to the Disassemble stage of the pipeline being designed.</span></span> <span data-ttu-id="ea129-137">Después de arrastrar el Desensamblador seleccionado a la fase Desensamblar de la canalización, establezca la propiedad de que el componente Desensamblador de procesamiento de intercambio recuperable `true`.</span><span class="sxs-lookup"><span data-stu-id="ea129-137">After you drag the selected disassembler onto the Disassemble stage of the pipeline, you set the recoverable interchange processing property of that disassembler component to `true`.</span></span>  
  
### <a name="party-resolution"></a><span data-ttu-id="ea129-138">Resolución de entidades</span><span class="sxs-lookup"><span data-stu-id="ea129-138">Party Resolution</span></span>  
 <span data-ttu-id="ea129-139">Los mensajes que se extraen correctamente durante el procesamiento de intercambio recuperable tienen identificada su entidad de envío según la entidad configurada para el puerto de recepción al que llegó el intercambio primario.</span><span class="sxs-lookup"><span data-stu-id="ea129-139">Messages that are successfully extracted in recoverable interchange processing have their sending party identified according to the party configured for the receive port on which the parent interchange arrived.</span></span> <span data-ttu-id="ea129-140">Si se genera un error en alguno de los mensajes extraídos de un intercambio dado, se considera que la resolución de entidades ha dado error en todo el intercambio.</span><span class="sxs-lookup"><span data-stu-id="ea129-140">If party resolution fails for any message extracted from a given interchange, then party resolution is considered to have failed for the entire interchange.</span></span>  
  
### <a name="restrictions"></a><span data-ttu-id="ea129-141">Restrictions</span><span class="sxs-lookup"><span data-stu-id="ea129-141">Restrictions</span></span>  
  
-   <span data-ttu-id="ea129-142">Cuando un intercambio genera errores en el desensamblador, el intercambio se suspende como reanudable.</span><span class="sxs-lookup"><span data-stu-id="ea129-142">When an interchange fails in the disassembler, the interchange is suspended as resumable.</span></span> <span data-ttu-id="ea129-143">No obstante, si el intercambio se reanuda mediante administración, tendrá de nuevo errores porque los tipos de errores que provocan el error de desensamblado se deben al contenido del intercambio, que permanece inalterado cuando se reanuda el intercambio.</span><span class="sxs-lookup"><span data-stu-id="ea129-143">However, if the interchange is administratively resumed, it will fail again because the kinds of errors that cause disassembly failure are solely a result of the interchange content, which stays the same when the interchange is resumed.</span></span> <span data-ttu-id="ea129-144">Dicho intercambio con errores debe modificarse y volver a enviarse a través de una ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="ea129-144">Such a failed interchange must be modified and resubmitted through a receive location.</span></span>  
  
-   <span data-ttu-id="ea129-145">Si un mensaje que se extrajo correctamente de un intercambio no se propaga posteriormente mediante mensajería porque no hay un suscriptor coincidente, el mensaje se suspende como reanudable.</span><span class="sxs-lookup"><span data-stu-id="ea129-145">If a message that was successfully extracted from an interchange subsequently fails to propagate through messaging due to an unmatched subscriber, the message is suspended as resumable.</span></span> <span data-ttu-id="ea129-146">Este mensaje se puede reanudar mediante administración si se corrige la causa del error de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="ea129-146">This message can be administratively resumed if the cause of the routing failure is fixed.</span></span>  
  
-   <span data-ttu-id="ea129-147">El componente de desensamblador sigue extrayendo mensajes de un intercambio a pesar de los siguientes errores en los componentes de desensamblador:</span><span class="sxs-lookup"><span data-stu-id="ea129-147">The disassembler component continues to extract messages from an interchange despite the following errors in disassembler components:</span></span>  
  
    -   <span data-ttu-id="ea129-148">Esquema no encontrado</span><span class="sxs-lookup"><span data-stu-id="ea129-148">Schema not found</span></span>  
  
    -   <span data-ttu-id="ea129-149">Ambigüedad de esquema no resuelta (es decir, existe más de un esquema para el mismo tipo de mensaje)</span><span class="sxs-lookup"><span data-stu-id="ea129-149">Schema ambiguity not resolved (that is, more than one schema exists for the same message type)</span></span>  
  
    -   <span data-ttu-id="ea129-150">Error al validar XML</span><span class="sxs-lookup"><span data-stu-id="ea129-150">XML validation failed</span></span>  
  
    -   <span data-ttu-id="ea129-151">Error al analizar archivo sin formato</span><span class="sxs-lookup"><span data-stu-id="ea129-151">Flat-file parsing failed</span></span>  
  
-   <span data-ttu-id="ea129-152">El componente de desensamblador no **no** sigue extrayendo mensajes de un intercambio si se produce el siguiente error en componentes de desensamblador:</span><span class="sxs-lookup"><span data-stu-id="ea129-152">The disassembler component does **not** continue to extract messages from an interchange if the following error occurs in disassembler components:</span></span>  
  
    -   <span data-ttu-id="ea129-153">Los datos del documento no tienen un formato XML correcto; cualquier propiedad del documento que provoque un error en System.Xml.XmlReader</span><span class="sxs-lookup"><span data-stu-id="ea129-153">Document data is not well-formed XML—any document properties that would cause System.Xml.XmlReader to fail</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ea129-154">Vea también</span><span class="sxs-lookup"><span data-stu-id="ea129-154">See Also</span></span>  
 <span data-ttu-id="ea129-155">[Cómo configurar el componente de canalización de desensamblador XML](../core/how-to-configure-the-xml-disassembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="ea129-155">[How to Configure the XML Disassembler Pipeline Component](../core/how-to-configure-the-xml-disassembler-pipeline-component.md) </span></span>  
 [<span data-ttu-id="ea129-156">Cómo configurar el componente de canalización de desensamblador de archivos sin formato</span><span class="sxs-lookup"><span data-stu-id="ea129-156">How to Configure the Flat File Disassembler Pipeline Component</span></span>](../core/how-to-configure-the-flat-file-disassembler-pipeline-component.md)