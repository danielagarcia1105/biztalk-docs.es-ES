---
title: Mejorar el rendimiento del archivado y purga de proceso | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- archiving [Tracking database], system performance
- DTA Purge and Archive job, performance
- purging, limitations
- performance, archiving
- performance, purging
- purging, system performance
ms.assetid: d65da58d-65e0-4f6c-8b15-5d4448049b42
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3876021fec4d604960d672671cab8bf4be1dc0a5
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="improving-the-performance-of-the-archiving-and-purging-process"></a><span data-ttu-id="f4af7-102">Mejorar el rendimiento del proceso de archivo y purga</span><span class="sxs-lookup"><span data-stu-id="f4af7-102">Improving the Performance of the Archiving and Purging Process</span></span>
<span data-ttu-id="f4af7-103">La cantidad de datos almacenados en el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos pueden incrementarse muy rápidamente según cómo se haya diseñado el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] escenario, según el número y tamaño de los mensajes procesados por el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] escenario y, en función de cómo disponen de configurar el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="f4af7-103">The amount of data stored in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases can grow very quickly depending on how you have designed your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] scenario, depending on the number and size of messages processed by your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] scenario, and depending on how you have configured tracking.</span></span> <span data-ttu-id="f4af7-104">Al mantener el tamaño de la base de datos en un nivel correcto, el procesamiento será más eficaz y la cantidad de datos estará normalizada en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="f4af7-104">By maintaining your database size at a healthy level, processing is more efficient and the amount of data in your system is normalized at any given time.</span></span> <span data-ttu-id="f4af7-105">Con ello, se proporciona un rendimiento eficaz y coherente.</span><span class="sxs-lookup"><span data-stu-id="f4af7-105">This provides efficient and consistent performance.</span></span> <span data-ttu-id="f4af7-106">Al automatizar este proceso, se libera al usuario de la carga del mantenimiento manual de las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="f4af7-106">By automating this process you free yourself of the burden of manually maintaining your databases.</span></span>  
  
## <a name="configuring-a-healthy-environment"></a><span data-ttu-id="f4af7-107">Configurar un entorno correcto</span><span class="sxs-lookup"><span data-stu-id="f4af7-107">Configuring a healthy environment</span></span>  
 <span data-ttu-id="f4af7-108">La estrategia de mantenimiento de un entorno correcto de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] depende en gran medida del escenario y del hardware particulares en los que se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="f4af7-108">Your strategy in maintaining a healthy [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment is heavily dependent on your particular scenario and the hardware it is running on.</span></span> <span data-ttu-id="f4af7-109">Los aspectos clave que hay que supervisar son la tasa de crecimiento y el tamaño de la base de datos de seguimiento de BizTalk (BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="f4af7-109">The key things to monitor are the rate of growth and the size of your BizTalk Tracking (BizTalkDTADb) database.</span></span> <span data-ttu-id="f4af7-110">Algunas tablas de la base de datos de seguimiento admiten un gran tamaño de la base de datos, lo que tiene un impacto en el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="f4af7-110">A few tables of the tracking database account for bulk of the database size and hence the performance impact on runtime.</span></span>  
  
 <span data-ttu-id="f4af7-111">Se puede configurar el mismo escenario para producir cantidades marcadamente distintas de datos de seguimiento en función del número de puntos de seguimiento, de cuántos mensajes diferentes se utilizan, del tamaño de los mensajes y del nivel de seguimiento de partes de mensaje utilizado.</span><span class="sxs-lookup"><span data-stu-id="f4af7-111">The same scenario can be configured to produce vastly different amount of tracking data based on how many tracking points are present, how many different messages are used, size of the messages and the level of message body tracking used.</span></span> <span data-ttu-id="f4af7-112">A continuación, se presentan varios factores importantes que es preciso supervisar:</span><span class="sxs-lookup"><span data-stu-id="f4af7-112">Following are some important factors to monitor:</span></span>  
  
-   <span data-ttu-id="f4af7-113">Número de puntos de seguimiento (como canalizaciones, orquestaciones y puertos)</span><span class="sxs-lookup"><span data-stu-id="f4af7-113">Number of tracking points - such as pipelines, orchestrations, and ports</span></span>  
  
-   <span data-ttu-id="f4af7-114">Número de propiedades de mensaje sometidas a seguimiento</span><span class="sxs-lookup"><span data-stu-id="f4af7-114">Number of message properties tracked</span></span>  
  
-   <span data-ttu-id="f4af7-115">Número de mensajes por cada mensaje entrante</span><span class="sxs-lookup"><span data-stu-id="f4af7-115">Number of messages per incoming message</span></span>  
  
-   <span data-ttu-id="f4af7-116">Tamaño del mensaje</span><span class="sxs-lookup"><span data-stu-id="f4af7-116">Message size</span></span>  
  
-   <span data-ttu-id="f4af7-117">Tasa de tráfico (promedio y valor máximo)</span><span class="sxs-lookup"><span data-stu-id="f4af7-117">Traffic rate (average and peak)</span></span>  
  
-   <span data-ttu-id="f4af7-118">Configuración del seguimiento de partes de mensaje</span><span class="sxs-lookup"><span data-stu-id="f4af7-118">Message body tracking configuration</span></span>  
  
 <span data-ttu-id="f4af7-119">Al considerar la purga y archivo automáticos de datos, estime cuántos datos activos necesita mantener en la base de datos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="f4af7-119">When considering automatic archiving and purging of data consider how much live data you need to keep in your tracking database.</span></span> <span data-ttu-id="f4af7-120">Tendrá que ajustar los parámetros del trabajo DTA Purge and Archive en función de su entorno para que el rendimiento de la purga admita la cantidad de datos activos buscada sin experimentar degradación.</span><span class="sxs-lookup"><span data-stu-id="f4af7-120">You need to tune the DTA Purge and Archive job parameters as appropriate for your environment so that the targeted amount of live data can be supported by the purging performance without degradation.</span></span>  
  
 <span data-ttu-id="f4af7-121">El trabajo de archivo y purga de DTA puede purgar una cantidad de datos determinada en un intervalo temporal dado.</span><span class="sxs-lookup"><span data-stu-id="f4af7-121">The DTA Purge and Archive job can purge a certain amount of data within a given time interval.</span></span> <span data-ttu-id="f4af7-122">La capacidad del trabajo depende de los escenarios en ejecución, del tamaño actual de la base de datos y del hardware.</span><span class="sxs-lookup"><span data-stu-id="f4af7-122">The capacity of the job depends on the scenarios running, the current database size, and the hardware.</span></span> <span data-ttu-id="f4af7-123">Para que el sistema alcance la estabilidad, es preciso garantizar un equilibrio entre la purga y la generación de los datos de seguimiento entrantes.</span><span class="sxs-lookup"><span data-stu-id="f4af7-123">In order to have a stable environment, you must have a balance between the incoming tracking data generation and purging.</span></span> <span data-ttu-id="f4af7-124">En el entorno de prueba, encontrará el equilibrio variando la ventana de actividad de los datos y la frecuencia del trabajo de purga.</span><span class="sxs-lookup"><span data-stu-id="f4af7-124">In your test environment, you can find the balance by varying the live window of data and the frequency of the purging job.</span></span> <span data-ttu-id="f4af7-125">En un estado de equilibrio, el sistema ofrecerá un rendimiento sostenible.</span><span class="sxs-lookup"><span data-stu-id="f4af7-125">In a balanced state, your system will deliver sustainable throughput.</span></span> <span data-ttu-id="f4af7-126">El objetivo es disponer de búfer suficiente antes de que el tamaño de las tablas de la base de datos de seguimiento de BizTalk ocasione problemas de rendimiento constantes y de importancia.</span><span class="sxs-lookup"><span data-stu-id="f4af7-126">Your goal is to have enough of a buffer before the BizTalk Tracking database table size causes sustained, significant performance issues.</span></span>  
  
## <a name="performance-limitations"></a><span data-ttu-id="f4af7-127">Limitaciones del rendimiento</span><span class="sxs-lookup"><span data-stu-id="f4af7-127">Performance limitations</span></span>  
 <span data-ttu-id="f4af7-128">El rendimiento de la purga no se escalará en todos los escenarios.</span><span class="sxs-lookup"><span data-stu-id="f4af7-128">Purging performance will not scale for all scenarios.</span></span> <span data-ttu-id="f4af7-129">En cualquier escenario, es posible generar una cantidad creciente de datos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="f4af7-129">For any scenario, it is possible to generate increasing amounts of tracking data.</span></span> <span data-ttu-id="f4af7-130">Cuando la tasa de purga de datos de seguimiento disminuye de forma constante, tiene lugar un aumento de la base de datos de seguimiento, lo que empeora aún más el rendimiento de la purga.</span><span class="sxs-lookup"><span data-stu-id="f4af7-130">When tracking data is purged at a consistently slower rate, there is a buildup of the tracking database size, which worsens the purging performance further.</span></span>  
  
 <span data-ttu-id="f4af7-131">En condiciones de carga no sostenible, la copia de los cuerpos de mensaje también puede ralentizarse y es posible que se convierta en un registro en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="f4af7-131">Under unsustainable load conditions, the copying of message bodies may also become slower and there may become a backlog in the MessageBox database.</span></span> <span data-ttu-id="f4af7-132">En condiciones extremas, el seguimiento y copia diarios de cuerpos de mensaje puede tener como resultado archivos en los que el cuerpo de mensaje no se encuentre disponible aunque contenga información de instancia relacionada.</span><span class="sxs-lookup"><span data-stu-id="f4af7-132">Under extreme conditions, the daily message body copying and tracking may lead to archives where the message body is not available even though it contains related instance information.</span></span> <span data-ttu-id="f4af7-133">Normalmente, los períodos de cargas altas se alternan con períodos de cargas bajas; en estos últimos, el trabajo puede recuperarse.</span><span class="sxs-lookup"><span data-stu-id="f4af7-133">Typically, periods of high loads alternate with periods of low load and enable the job to catch up during periods of low load.</span></span>  
  
 <span data-ttu-id="f4af7-134">El archivo y la purga de la base de datos de seguimiento de BizTalk deberían reducir considerablemente la posibilidad de que se produzcan condiciones de carga no sostenible, gracias a la continua eliminación de la base de datos y a la compactación de los datos de seguimiento almacenados.</span><span class="sxs-lookup"><span data-stu-id="f4af7-134">Archiving and purging the BizTalk Tracking database should considerably reduce the possibility of unsustainable load conditions because of the continuous pruning of the database and the compaction of stored tracking data.</span></span> <span data-ttu-id="f4af7-135">Estos procesos reducen en gran medida la necesidad de intervención manual.</span><span class="sxs-lookup"><span data-stu-id="f4af7-135">These processes greatly reduce the need for manual intervention.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f4af7-136">Vea también</span><span class="sxs-lookup"><span data-stu-id="f4af7-136">See Also</span></span>  
 [<span data-ttu-id="f4af7-137">Archivar y purgar la base de datos de seguimiento de BizTalk</span><span class="sxs-lookup"><span data-stu-id="f4af7-137">Archiving and Purging the BizTalk Tracking Database</span></span>](../core/archiving-and-purging-the-biztalk-tracking-database.md)