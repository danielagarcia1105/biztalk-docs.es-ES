---
title: Consideraciones y problemas conocidos del TPE | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Tracking Profile Editor, known issues
- planning, Tracking Profile Editor
- Tracking Profile Editor, planning
ms.assetid: e96d85e0-e9ae-434a-b54e-5950f4a2b9c6
caps.latest.revision: 24
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 41f728126f14193ad8fc584a94574dab61f7140f
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36996877"
---
# <a name="considerations-and-known-issues-for-tpe"></a><span data-ttu-id="4f770-102">Consideraciones y problemas conocidos del TPE</span><span class="sxs-lookup"><span data-stu-id="4f770-102">Considerations and Known Issues for TPE</span></span>
<span data-ttu-id="4f770-103">Debe tener en cuenta los siguientes problemas a la hora de utilizar perfiles de seguimiento y el TPE.</span><span class="sxs-lookup"><span data-stu-id="4f770-103">You should consider the following issues when you work with tracking profiles and the TPE.</span></span>  
  
## <a name="naming-folders-in-the-tpe"></a><span data-ttu-id="4f770-104">Asignar nombres a carpetas en el TPE</span><span class="sxs-lookup"><span data-stu-id="4f770-104">Naming Folders in the TPE</span></span>  
 <span data-ttu-id="4f770-105">Tenga en cuenta los siguientes requisitos a la hora de asignar nombres a carpetas en el Editor de perfiles de seguimiento:</span><span class="sxs-lookup"><span data-stu-id="4f770-105">Note the following naming requirements when naming folders in Tracking Profile Editor:</span></span>  
  
-   <span data-ttu-id="4f770-106">La longitud total de los valores de nombre de carpeta e instancia de elemento de datos no deberá exceder los 128 caracteres.</span><span class="sxs-lookup"><span data-stu-id="4f770-106">The length of the combination of folder name and data item instance values must not exceed 128 characters.</span></span>  
  
-   <span data-ttu-id="4f770-107">En el caso de las carpetas Continuación y ContinuationID, el nombre de las carpetas es la clave para correlacionar dos orquestaciones.</span><span class="sxs-lookup"><span data-stu-id="4f770-107">For Continuation and ContinuationID folders, the naming of the folder is the key to correlating two orchestrations.</span></span> <span data-ttu-id="4f770-108">Por ejemplo, si Orquestación A es la carpeta principal de Orquestación B, Orquestación A contendrá una carpeta de continuación cuyo nombre se asigne directamente a la carpeta ContinuationID de Orquestación B.</span><span class="sxs-lookup"><span data-stu-id="4f770-108">For example, if Orchestration A is the parent of Orchestration B, Orchestration A contains a continuation folder whose name maps directly to the ContinuationID folder in Orchestration B.</span></span>  
  
## <a name="developing-orchestrations-for-the-tpe"></a><span data-ttu-id="4f770-109">Desarrollar orquestaciones para el TPE</span><span class="sxs-lookup"><span data-stu-id="4f770-109">Developing Orchestrations for the TPE</span></span>  
 <span data-ttu-id="4f770-110">No podrá asignar una orquestación a una actividad empresarial si ésta empieza o termina con una forma no válida.</span><span class="sxs-lookup"><span data-stu-id="4f770-110">You cannot map an orchestration to a business activity if it starts or ends with an invalid shape.</span></span> <span data-ttu-id="4f770-111">El motor de orquestaciones no permite el seguimiento de determinadas formas.</span><span class="sxs-lookup"><span data-stu-id="4f770-111">The Orchestration engine does not allow tracking for some shapes.</span></span> <span data-ttu-id="4f770-112">Estas sobrecargas son:</span><span class="sxs-lookup"><span data-stu-id="4f770-112">They are:</span></span>  
  
- <span data-ttu-id="4f770-113">Asignación de mensajes</span><span class="sxs-lookup"><span data-stu-id="4f770-113">Message Assignment</span></span>  
  
- <span data-ttu-id="4f770-114">Transformación</span><span class="sxs-lookup"><span data-stu-id="4f770-114">Transform</span></span>  
  
- <span data-ttu-id="4f770-115">Agrupar (Tarea)</span><span class="sxs-lookup"><span data-stu-id="4f770-115">Group (Task)</span></span>  
  
- <span data-ttu-id="4f770-116">Suspender</span><span class="sxs-lookup"><span data-stu-id="4f770-116">Suspend</span></span>  
  
- <span data-ttu-id="4f770-117">Bucle (While)</span><span class="sxs-lookup"><span data-stu-id="4f770-117">Loop (While)</span></span>  
  
- <span data-ttu-id="4f770-118">Branch</span><span class="sxs-lookup"><span data-stu-id="4f770-118">Branch</span></span>  
  
- <span data-ttu-id="4f770-119">Finalizar</span><span class="sxs-lookup"><span data-stu-id="4f770-119">Terminate</span></span>  
  
- <span data-ttu-id="4f770-120">Throw</span><span class="sxs-lookup"><span data-stu-id="4f770-120">Throw</span></span>  
  
- <span data-ttu-id="4f770-121">Catch</span><span class="sxs-lookup"><span data-stu-id="4f770-121">Catch</span></span>  
  
- <span data-ttu-id="4f770-122">Forma While</span><span class="sxs-lookup"><span data-stu-id="4f770-122">While shape</span></span>  
  
  <span data-ttu-id="4f770-123">Tenga en cuenta estas directrices a la hora de asignar actividades empresariales, para que el Editor de perfiles de seguimiento y otras herramientas de BAM puedan utilizarlas:</span><span class="sxs-lookup"><span data-stu-id="4f770-123">Use the following guidelines when mapping to business activities so that the Tracking Profile Editor and other BAM tools can use them:</span></span>  
  
- <span data-ttu-id="4f770-124">Para la forma Agrupar, utilice una forma Ámbito no transaccional.</span><span class="sxs-lookup"><span data-stu-id="4f770-124">For the Group shape, use a non-transactional Scope shape.</span></span>  
  
- <span data-ttu-id="4f770-125">En el caso de la forma While, ajústela en una forma Ámbito no transaccional.</span><span class="sxs-lookup"><span data-stu-id="4f770-125">For the While shape, wrap it in a non-transactional Scope shape.</span></span>  
  
- <span data-ttu-id="4f770-126">En el caso de las formas Finalizar, no hay un procedimiento alternativo, pues el evento de fin de esta forma nunca se produce en un escenario normal.</span><span class="sxs-lookup"><span data-stu-id="4f770-126">For the Terminate shapes, there is no workaround, because the end event of this shape never occurs in a normal scenario.</span></span>  
  
- <span data-ttu-id="4f770-127">No inicie ni finalice programaciones con ninguna de las formas en las que no estén permitidas las operaciones de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="4f770-127">Do not start or end schedules with any of the shapes for which drag-and-drop operations are not permitted.</span></span>  
  
## <a name="applying-tracking-profiles-that-monitor-running-processes"></a><span data-ttu-id="4f770-128">Aplicar perfiles de seguimiento que controlen procesos en ejecución</span><span class="sxs-lookup"><span data-stu-id="4f770-128">Applying Tracking Profiles that Monitor Running Processes</span></span>  
 <span data-ttu-id="4f770-129">La actualización de un perfil de seguimiento puede afectar a las instancias de actividad en ejecución si la actividad incluye una continuación de BAM.</span><span class="sxs-lookup"><span data-stu-id="4f770-129">Updating a tracking profile can impact activity instances in progress if the activity includes a BAM continuation.</span></span> <span data-ttu-id="4f770-130">En concreto, si la actualización del perfil de seguimiento determina una intercepción descendente de datos para un elemento de actividad ya registrado, es posible que se sobrescriba el valor original.</span><span class="sxs-lookup"><span data-stu-id="4f770-130">Specifically, if the update to the tracking profile specifies a downstream interception of data for an activity item already recorded, it is possible that the original value will be overwritten.</span></span> <span data-ttu-id="4f770-131">Fundamentalmente, una única secuencia de eventos no se verá afectada por la aplicación de las actualizaciones de perfiles de seguimiento, ya que cada objeto de la secuencia está unido a una versión determinada del perfil que ya existía cuando se inició la actividad o secuencia.</span><span class="sxs-lookup"><span data-stu-id="4f770-131">In essence, any single event stream will not be affected by the application of tracking profile updates because each stream object is tied to the specific version of the profile which was in place at the time the activity/stream started.</span></span> <span data-ttu-id="4f770-132">Sin embargo, ya que las continuaciones son el medio de correlacionar varias secuencias de eventos, las secuencias que todavía no hayan comenzado cuando se actualice el perfil, recogerán los cambios en las actualizaciones, lo que hace que sea posible la mencionada sobrescritura de datos.</span><span class="sxs-lookup"><span data-stu-id="4f770-132">However, because continuations are the means of correlating multiple event streams, streams not yet begun at the time of a profile update will pick up the changes in the update, thus introducing the possible data overwrite described.</span></span> <span data-ttu-id="4f770-133">Para obtener más información acerca de las continuaciones, consulte [continuación de la actividad](../core/activity-continuation.md) y [cómo crear una continuación](../core/how-to-create-a-continuation.md).</span><span class="sxs-lookup"><span data-stu-id="4f770-133">For more information about continuations, see [Activity Continuation](../core/activity-continuation.md) and [How to Create a Continuation](../core/how-to-create-a-continuation.md).</span></span>  
  
## <a name="tracking-profiles-without-a-send-or-receive-shape-from-which-to-draw-message-properties"></a><span data-ttu-id="4f770-134">Perfiles de seguimiento sin una forma Envío o Recepción desde la que dibujar propiedades de mensaje</span><span class="sxs-lookup"><span data-stu-id="4f770-134">Tracking Profiles Without a Send or Receive Shape from Which to Draw Message Properties</span></span>  
 <span data-ttu-id="4f770-135">Las continuaciones realizan un seguimiento de actividades mediante propiedades de contexto o datos de carga que coinciden entre actividades.</span><span class="sxs-lookup"><span data-stu-id="4f770-135">Continuations track activities through context properties or payload data that are the same between activities.</span></span> <span data-ttu-id="4f770-136">Las propiedades como Id. de mensaje, Id. de servicio e Id. de instancia cambian su valor de una actividad a otra.</span><span class="sxs-lookup"><span data-stu-id="4f770-136">Properties such as Message ID, Service ID, and Instance ID change value between activities.</span></span>  
  
 <span data-ttu-id="4f770-137">Puede crear perfiles de seguimiento para controlar este escenario utilizando los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="4f770-137">You can create tracking profiles to handle this scenario by using the following methods:</span></span>  
  
-   <span data-ttu-id="4f770-138">Si una orquestación envía un mensaje a través de un enlace dinámico a otra orquestación, se podrá utilizar un valor de datos de carga exclusivo y global para la continuación.</span><span class="sxs-lookup"><span data-stu-id="4f770-138">If an orchestration sends a message through a dynamic binding to another orchestration, then a globally unique payload data value can be used for the continuation.</span></span>  
  
-   <span data-ttu-id="4f770-139">Si no hay datos de carga exclusivos en el mensaje, se podrá utilizar el Id. de intercambio del mensaje.</span><span class="sxs-lookup"><span data-stu-id="4f770-139">If there is no unique payload data in the message, then the interchange ID of the message can be used.</span></span> <span data-ttu-id="4f770-140">Para utilizar el Id. de intercambio, deberá realizar su seguimiento en la misma forma Recibir.</span><span class="sxs-lookup"><span data-stu-id="4f770-140">To use the interchange ID, you must track it on the same Receive shape.</span></span> <span data-ttu-id="4f770-141">No podrá utilizar el Id. de intercambio si crea un mensaje nuevo, pues el Id. de intercambio cambiará al crear el mensaje nuevo.</span><span class="sxs-lookup"><span data-stu-id="4f770-141">You cannot use the interchange ID if you create a new message, as the interchange ID changes when the new message is created.</span></span> <span data-ttu-id="4f770-142">No es seguro realizar el seguimiento del Id. de intercambio de una forma que no sea Recibir o Enviar.</span><span class="sxs-lookup"><span data-stu-id="4f770-142">Tracking the interchange ID from any shape other than a Receive or Send shape is not reliable.</span></span>  
  
-   <span data-ttu-id="4f770-143">También puede utilizar el Id. de mensaje, siempre que se sea exactamente el mismo mensaje recibido de la canalización el que se utilice en la orquestación; es decir, el puerto de orquestación está vinculado a una canalización, y el seguimiento de la forma Recibir y del Id. de mensaje se efectúa desde dicha ubicación.</span><span class="sxs-lookup"><span data-stu-id="4f770-143">You can also use message ID as long as the exact same message that is received from the pipeline is used in the orchestration, that is, the orchestration port is bound to a pipeline and a Receive shape and the message ID are tracked from that location.</span></span> <span data-ttu-id="4f770-144">Si realiza el seguimiento del Id. de mensaje de una forma distinta, el Id. de mensaje no será válido para su uso en las continuaciones.</span><span class="sxs-lookup"><span data-stu-id="4f770-144">If you track the message ID from a different shape, then the message ID will be invalid for use in continuations.</span></span>  
  
-   <span data-ttu-id="4f770-145">Si una orquestación llama a otra y se pasa ningún mensaje, o una orquestación llama a otra, pero el destinatario no tiene ninguna construcción, recepción, o forma de envío donde se pueden recuperar los valores de datos de carga, el usuario puede utilizar el identificador de instancia.</span><span class="sxs-lookup"><span data-stu-id="4f770-145">If an orchestration calls another orchestration and no message is passed, or an orchestration calls another orchestration but the callee does not have any Construct, Receive, or Send shape where payload data values can be retrieved, the user can use the instance ID.</span></span> <span data-ttu-id="4f770-146">El identificador de instancia para las orquestaciones llamadas no cambia.</span><span class="sxs-lookup"><span data-stu-id="4f770-146">The instance ID for the called orchestrations does not change.</span></span>  
  
-   <span data-ttu-id="4f770-147">Si la orquestación carga otra orquestación mediante una llamada de ejecución, en lugar de llamar directamente, no será posible utilizar propiedades de mensaje estáticas para realizar el seguimiento de la actividad.</span><span class="sxs-lookup"><span data-stu-id="4f770-147">If the orchestration loads another orchestration through an execution call rather than calling it directly, then there is no way to use any static message properties to track the activity.</span></span> <span data-ttu-id="4f770-148">El usuario no puede habilitar una continuación.</span><span class="sxs-lookup"><span data-stu-id="4f770-148">The user cannot enable a continuation.</span></span> <span data-ttu-id="4f770-149">La única forma de realizar el seguimiento en esta instancia consistiría en pasar un mensaje a través de la canalización que contiene los datos de carga exclusivos en los que efectuar el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="4f770-149">The only way to perform tracking in this instance is if a message is passed through the pipeline that contains unique payload data on which to perform the tracking.</span></span>  
  
## <a name="you-cannot-use-a-session-id-as-a-continuation-token-for-pass-through-pipelines"></a><span data-ttu-id="4f770-150">No podrá usar un Id. de sesión como token de continuación para las canalizaciones de paso a través.</span><span class="sxs-lookup"><span data-stu-id="4f770-150">You Cannot Use a Session ID as a Continuation Token for Pass-Through Pipelines</span></span>  
 <span data-ttu-id="4f770-151">En un perfil de seguimiento, cuando se seleccionan elementos de una carga de mensaje, el perfil de seguimiento se enlaza al esquema de dicho mensaje.</span><span class="sxs-lookup"><span data-stu-id="4f770-151">In a tracking profile, when you select items from a message payload, the tracking profile is bound to the schema of that message.</span></span> <span data-ttu-id="4f770-152">En una canalización de paso, el valor de nombre de esquema es un valor nulo.</span><span class="sxs-lookup"><span data-stu-id="4f770-152">In a pass-through pipeline, the schema name value is a null value.</span></span> <span data-ttu-id="4f770-153">Cuando BAM intente cargar la configuración por nombre de puerto y esquema, no encontrará el esquema de Id. de sesión coincidente, y el motor no podrá realizar el seguimiento de datos.</span><span class="sxs-lookup"><span data-stu-id="4f770-153">When BAM attempts to load the configuration by port name and schema name it cannot make the match to the session ID schema and no data is tracked by the engine.</span></span>  
  
 <span data-ttu-id="4f770-154">En canalizaciones de paso, puede eliminar todo el seguimiento de carga del perfil de seguimiento, o bien utilizar canalizaciones XML si, en efecto, necesita realizar el seguimiento de los datos de carga.</span><span class="sxs-lookup"><span data-stu-id="4f770-154">For pass-through pipelines, you can either remove all payload tracking from the tracking profile or use XML pipelines if you do need to track the payload data.</span></span>  
  
## <a name="using-unique-port-names"></a><span data-ttu-id="4f770-155">Usar nombres de puerto únicos</span><span class="sxs-lookup"><span data-stu-id="4f770-155">Using Unique Port Names</span></span>  
 <span data-ttu-id="4f770-156">Al enumerar puertos bidireccionales, el TPE los muestra como dos puertos lógicos: un puerto de envío y un puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="4f770-156">When enumerating two-way ports, the TPE displays them as two logical ports, a send and a receive port.</span></span> <span data-ttu-id="4f770-157">Estos puertos lógicos se muestran con el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="4f770-157">Each of these logical ports is displayed with the same name.</span></span> <span data-ttu-id="4f770-158">BizTalk Server permite crear puertos unidireccionales y bidireccionales con el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="4f770-158">BizTalk Server allows you to create one-way and two-way ports with the same name.</span></span> <span data-ttu-id="4f770-159">Por ejemplo, puede crear un puerto bidireccional denominado "Puerto1" y crear posteriormente un puerto de recepción que tenga el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="4f770-159">For example, you can create a two-way port named "Port1" and then create a receive port with the same name.</span></span> <span data-ttu-id="4f770-160">En estos casos, el TPE muestra el puerto de recepción una vez y el puerto bidireccional dos veces (una vez como puerto de recepción y otra como puerto de envío).</span><span class="sxs-lookup"><span data-stu-id="4f770-160">In these cases the TPE displays the receive port once and the two-way port twice, once as a receive port and once as a send port.</span></span>  
  
 <span data-ttu-id="4f770-161">En este caso, el TPE aplicará perfiles de seguimiento a ambos puertos de recepción.</span><span class="sxs-lookup"><span data-stu-id="4f770-161">TPE will apply tracking profiles to both receive ports in this case.</span></span> <span data-ttu-id="4f770-162">Se recomienda asignar a los puertos un nombre exclusivo para poder identificarlos correctamente.</span><span class="sxs-lookup"><span data-stu-id="4f770-162">We recommend that ports be given unique names to help identify them properly.</span></span>  
  
## <a name="using-tpe-orchestrations-with-a-parallel-shape-as-the-first-shape"></a><span data-ttu-id="4f770-163">Usar orquestaciones del TPE con una forma Paralela como primera forma</span><span class="sxs-lookup"><span data-stu-id="4f770-163">Using TPE Orchestrations with a Parallel Shape as the First Shape</span></span>  
 <span data-ttu-id="4f770-164">Si comienza una orquestación con una forma Bifurcar, Paralela o Escuchar, no podrá asignar un Id. de actividad en una de las ramas.</span><span class="sxs-lookup"><span data-stu-id="4f770-164">If you begin an orchestration with a Fork, Parallel, or Listen shape, you cannot map an activity ID on one of the branches.</span></span> <span data-ttu-id="4f770-165">En casos de procesamiento paralelo, puede asignar el ActivityID sobre la forma Bifurcar.</span><span class="sxs-lookup"><span data-stu-id="4f770-165">In cases of parallel processing you can map the ActivityID above the Fork shape.</span></span> <span data-ttu-id="4f770-166">También puede permitir que BAM genere el Id. de actividad para evitar la emisión de una forma paralela en la parte superior de la orquestación.</span><span class="sxs-lookup"><span data-stu-id="4f770-166">You can also let BAM generate the activity ID to avoid the issue of a parallel shape at the top of the orchestration.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="4f770-167">La asignación de una actividad a más de una ruta, y también la asignación del ActivityID a una ruta de la forma Bifurcar, genera un error cuando el procesamiento sigue la ruta en la que no se ha asignado el ActivityID.</span><span class="sxs-lookup"><span data-stu-id="4f770-167">Mapping an activity to more than one path and also mapping the ActivityID to one path of the Fork shape causes an error when processing follows the path on which the ActivityID is not mapped.</span></span>  
  
## <a name="availability-of-message-properties-at-design-time"></a><span data-ttu-id="4f770-168">Disponibilidad de las propiedades de mensaje en tiempo de diseño</span><span class="sxs-lookup"><span data-stu-id="4f770-168">Availability of Message Properties at Design Time</span></span>  
 <span data-ttu-id="4f770-169">Al crear perfiles de seguimiento, no todas las propiedades de mensajes están disponibles.</span><span class="sxs-lookup"><span data-stu-id="4f770-169">When creating tracking profiles, not all message properties are available.</span></span> <span data-ttu-id="4f770-170">Esta circunstancia es más probable cuando la forma en la que se asignan las propiedades de mensaje se encuentra en la parte superior de una orquestación.</span><span class="sxs-lookup"><span data-stu-id="4f770-170">This is most likely to be encountered when the shape where the message properties are mapped from is at the top of an orchestration.</span></span> <span data-ttu-id="4f770-171">En estas instancias, el valor de las propiedades de mensaje es nulo.</span><span class="sxs-lookup"><span data-stu-id="4f770-171">In these instances, the value of the message properties is null.</span></span>  
  
 <span data-ttu-id="4f770-172">Por ejemplo, cuando la forma Escuchar es la primera forma de una orquestación.</span><span class="sxs-lookup"><span data-stu-id="4f770-172">An example of this is where the Listen shape is the first shape in an orchestration.</span></span> <span data-ttu-id="4f770-173">Cuando se asignan las propiedades de mensaje de esta forma, solo las siguientes propiedades tienen valores: InstanceID, ServiceID y ServiceClassID.</span><span class="sxs-lookup"><span data-stu-id="4f770-173">When message properties are mapped from this shape, only the following properties have values: InstanceID, ServiceID and ServiceClassID.</span></span> <span data-ttu-id="4f770-174">(MessageID no está en ámbito en este punto, y tiene un valor nulo.)</span><span class="sxs-lookup"><span data-stu-id="4f770-174">(MessageID is not in scope at this point and has a null value.)</span></span>  
  
## <a name="you-cannot-map-shapes-inside-a-loop-shape-to-report-a-milestone"></a><span data-ttu-id="4f770-175">No se pueden asignar formas dentro de una forma Bucle para informar de un hito</span><span class="sxs-lookup"><span data-stu-id="4f770-175">You Cannot Map Shapes Inside a Loop Shape to Report a Milestone</span></span>  
 <span data-ttu-id="4f770-176">El TPE bloquea los orígenes de asignación contenidos en una forma Bucle a actividades asignadas a elementos externos del bucle.</span><span class="sxs-lookup"><span data-stu-id="4f770-176">The TPE blocks mapping sources contained from within a Loop shape to activities that are mapped to items that are outside of the loop.</span></span>  
  
 <span data-ttu-id="4f770-177">Las actividades en bucle son acciones que se repiten dentro de una orquestación.</span><span class="sxs-lookup"><span data-stu-id="4f770-177">Looping activities refers to actions that loop, or repeat, within an orchestration.</span></span> <span data-ttu-id="4f770-178">Existe la posibilidad de capturar los eventos de acciones asociadas en bucle dentro de una orquestación.</span><span class="sxs-lookup"><span data-stu-id="4f770-178">It is possible to capture the events from actions that loop within an orchestration.</span></span> <span data-ttu-id="4f770-179">Para hacerlo, se deberá crear otra actividad y asignar todos los hitos de actividad y datos nuevos del bucle.</span><span class="sxs-lookup"><span data-stu-id="4f770-179">To do this, you create another activity and map all of the new activity milestones and data inside the loop.</span></span> <span data-ttu-id="4f770-180">Este procedimiento es necesario porque el procesamiento de datos del bucle tendrá lugar más de una vez por cada ejecución programada.</span><span class="sxs-lookup"><span data-stu-id="4f770-180">This is necessary because the data processing in the loop will occur more than once per scheduled execution.</span></span>  
  
 <span data-ttu-id="4f770-181">Por ejemplo, si tiene un pedido de compra con varios elementos de línea que se procesan en un bucle, preguntas como "qué pedidos tienen precios de artículos de $100?"</span><span class="sxs-lookup"><span data-stu-id="4f770-181">For example, if you have a purchase order with multiple line items that process in a loop, questions like “Which purchase orders have item prices of $100?"</span></span> <span data-ttu-id="4f770-182">son ambiguas.</span><span class="sxs-lookup"><span data-stu-id="4f770-182">are ambiguous.</span></span> <span data-ttu-id="4f770-183">Las preguntas no ambiguas son:</span><span class="sxs-lookup"><span data-stu-id="4f770-183">Unambiguous questions are:</span></span>  
  
 <span data-ttu-id="4f770-184">¿Qué pedidos tienen elementos de línea con un precio de $100?</span><span class="sxs-lookup"><span data-stu-id="4f770-184">Which purchase orders have line items with a price of $100?</span></span>  
  
 <span data-ttu-id="4f770-185">¿Qué pedidos tienen precios Total/Mín./Máx. de $100?</span><span class="sxs-lookup"><span data-stu-id="4f770-185">Which purchase orders have Total/Min/Max item prices of $100?</span></span>  
  
 <span data-ttu-id="4f770-186">La creación de preguntas no ambiguas pasa por concebir los elementos de línea de pedido como elementos independientes del pedido.</span><span class="sxs-lookup"><span data-stu-id="4f770-186">Creating unambiguous questions requires thinking of the line items as something separate from the purchase order.</span></span> <span data-ttu-id="4f770-187">En el Editor de perfiles de seguimiento, la actividad raíz (por ejemplo, un pedido de compra) se asigna a todas las acciones externas al bucle.</span><span class="sxs-lookup"><span data-stu-id="4f770-187">In the Tracking Profile Editor, the root activity (for example, a purchase order) maps to all actions outside the loop.</span></span> <span data-ttu-id="4f770-188">La actividad secundaria (por ejemplo, un elemento de línea) se asigna a las acciones internas del bucle.</span><span class="sxs-lookup"><span data-stu-id="4f770-188">The child activity (for example, a line item) maps to the actions inside the loop.</span></span>  
  
 <span data-ttu-id="4f770-189">El enfoque típico para utilizar con estos tipos de construcciones consiste en descomponer el bucle que se repite y disponer de una actividad relacionada basada en la actividad interna relacionada con la actividad externa.</span><span class="sxs-lookup"><span data-stu-id="4f770-189">The typical approach to working with these types of constructs is to decompose the repeating loop and to have a related activity based on the inner activity that is related to the outer activity.</span></span>  
  
 <span data-ttu-id="4f770-190">Debe utilizar un elemento de carga como ActivityID de la actividad raíz y hacer que dicho elemento de carga esté disponible en algunos de los mensajes dentro del bucle.</span><span class="sxs-lookup"><span data-stu-id="4f770-190">You need to use a payload item as the ActivityID for the root activity and have this payload item available in some of the messages inside the loop.</span></span> <span data-ttu-id="4f770-191">Asigne la actividad al nodo de relación que se muestra bajo la actividad secundaria, y asígnele el mismo nombre que la actividad raíz.</span><span class="sxs-lookup"><span data-stu-id="4f770-191">Map the activity to the relationship node that displays under the child activity and name it as the root activity.</span></span>  
  
## <a name="tracking-profiles-spanning-multiple-applications"></a><span data-ttu-id="4f770-192">Perfiles de seguimiento que abarcan varias aplicaciones</span><span class="sxs-lookup"><span data-stu-id="4f770-192">Tracking Profiles Spanning Multiple Applications</span></span>  
 <span data-ttu-id="4f770-193">Si un perfil de seguimiento abarca varias aplicaciones, su implementación debe realizarse tras implementar todas las aplicaciones de la solución.</span><span class="sxs-lookup"><span data-stu-id="4f770-193">If a tracking profile spans multiple applications, the tracking profile must be deployed after all applications in the solution are deployed.</span></span> <span data-ttu-id="4f770-194">Si el perfil de seguimiento no es el último elemento implementado, recibirá el siguiente mensaje, "**no se encuentra el origen de asignación.**", cuando el Asistente para implementación, llame a BTTDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="4f770-194">If the tracking profile is not the last item deployed, you will receive the following message, "**Mapping source not found.**", when the deployment wizard calls BTTDeploy.exe.</span></span>  
  
## <a name="mapping-multiple-biztalk-server-artifacts-to-a-document-reference-url-or-messageid-nodes"></a><span data-ttu-id="4f770-195">Asignar varios artefactos de BizTalk Server a nodos URL de referencia de documento o MessageID</span><span class="sxs-lookup"><span data-stu-id="4f770-195">Mapping Multiple BizTalk Server Artifacts to a Document Reference URL or MessageID Nodes</span></span>  
 <span data-ttu-id="4f770-196">El TPE le permite arrastrar y colocar desde varios artefactos de BizTalk Server hasta el mismo nodo URL de referencia de documento o MessageID.</span><span class="sxs-lookup"><span data-stu-id="4f770-196">The TPE allows you to drag and drop from multiple BizTalk Server artifacts onto the same document reference URL or MessageID node.</span></span>  
  
 <span data-ttu-id="4f770-197">En los casos que varios orígenes se asignen al mismo elemento de una actividad de BAM, el último artefacto encontrado durante el procesamiento de BAM será el que se conserve en los datos de seguimiento y pueda verse en el portal de BAM.</span><span class="sxs-lookup"><span data-stu-id="4f770-197">In cases where multiple sources are mapped to the same item in a BAM activity, the last artifact that was encountered during BAM processing is the one that persists in the tracking data and can be viewed in the BAM portal.</span></span>  
  
## <a name="updating-btt-versions-to-match-biztalk-solution-versions"></a><span data-ttu-id="4f770-198">Actualizar versiones de BTT para adaptarlas a versiones de solución de BizTalk</span><span class="sxs-lookup"><span data-stu-id="4f770-198">Updating BTT Versions to Match BizTalk Solution Versions</span></span>  
 <span data-ttu-id="4f770-199">Los programadores y administradores de BAM pueden mantener la sincronización de versiones entre perfiles de seguimiento y soluciones de BizTalk automatizando la actualización del archivo BTT.</span><span class="sxs-lookup"><span data-stu-id="4f770-199">BAM developers and administrators can maintain version synchronization between tracking profiles and BizTalk solutions by automating the update to the BTT file.</span></span> <span data-ttu-id="4f770-200">Para ello, modifique la **versión** atributo en el **DataLevel** elemento del archivo BTT.</span><span class="sxs-lookup"><span data-stu-id="4f770-200">To do this, modify the **Version** attribute in the **DataLevel** element of the BTT file.</span></span> <span data-ttu-id="4f770-201">En el siguiente elemento de ejemplo, se modificaría la información de versión en los atributos TargetAssemblyName y SchemaName.</span><span class="sxs-lookup"><span data-stu-id="4f770-201">In the following sample element, you would modify the version information in the TargetAssemblyName and SchemaName attributes.</span></span>  
  
```  
<DataLevel Name="City" SourceTypeSelected="Messaging Payload" TargetAssemblyName="TheImplementationOfOrderMgmt, Version=1.0.0.0, Culture=neutral, PublicKeyToken=c5b33e44ffa4658b" SchemaName="TheImplementationOfOrderMgmt.PurchaseOrder,TheImplementationOfOrderMgmt, Version=1.0.0.0, Culture=neutral, PublicKeyToken=c5b33e44ffa4658b" SomXPath="/*[local-name()='<Schema>' and namespace-uri()='http://TheImplementationOfOrderMgmt.PurchaseOrder']/*[local-name()='PurchaseOrder' and namespace-uri()='http://TheImplementationOfOrderMgmt.PurchaseOrder']/*[local-name()='Header' and namespace-uri()='']/*[local-name()='ShipTo' and namespace-uri()='']/@*[local-name()='City' and namespace-uri()='']" XPath="/*[local-name()='PurchaseOrder' and namespace-uri()='http://TheImplementationOfOrderMgmt.PurchaseOrder']/*[local-name()='Header' and namespace-uri()='']/*[local-name()='ShipTo' and namespace-uri()='']/@*[local-name()='City' and namespace-uri()='']" IsBeginActivity="true" IsEndActivity="false">  
```  
  
## <a name="some-orchestration-shapes-cannot-be-tracked-in-the-tpe"></a><span data-ttu-id="4f770-202">El TPE no permite realizar el seguimiento de algunas formas de orquestación</span><span class="sxs-lookup"><span data-stu-id="4f770-202">Some Orchestration Shapes Cannot be Tracked in the TPE</span></span>  
 <span data-ttu-id="4f770-203">El motor de orquestaciones no genera eventos para las siguientes formas, por lo que no se pueden realizar tareas de seguimiento ni de asignación para ellas en el TPE:</span><span class="sxs-lookup"><span data-stu-id="4f770-203">The orchestration ongine does not generate events for the following shapes and thus these shapes cannot be tracked or mapped in the TPE:</span></span>  
  
-   <span data-ttu-id="4f770-204">Tarea</span><span class="sxs-lookup"><span data-stu-id="4f770-204">Task</span></span>  
  
-   <span data-ttu-id="4f770-205">Todas las ramas</span><span class="sxs-lookup"><span data-stu-id="4f770-205">All Branches</span></span>  
  
-   <span data-ttu-id="4f770-206">Suspender</span><span class="sxs-lookup"><span data-stu-id="4f770-206">Suspend</span></span>  
  
-   <span data-ttu-id="4f770-207">Finalizar</span><span class="sxs-lookup"><span data-stu-id="4f770-207">Terminate</span></span>  
  
-   <span data-ttu-id="4f770-208">Throw</span><span class="sxs-lookup"><span data-stu-id="4f770-208">Throw</span></span>  
  
-   <span data-ttu-id="4f770-209">Catch</span><span class="sxs-lookup"><span data-stu-id="4f770-209">Catch</span></span>  
  
-   <span data-ttu-id="4f770-210">MessageAssignment (porque forma parte de la forma Construir)</span><span class="sxs-lookup"><span data-stu-id="4f770-210">MessageAssignment (because it is part of the Construct shape)</span></span>  
  
-   <span data-ttu-id="4f770-211">Transformación (porque forma parte de la forma Construir)</span><span class="sxs-lookup"><span data-stu-id="4f770-211">Transform (because it is part of the Construct shape)</span></span>  
  
-   <span data-ttu-id="4f770-212">Bucle</span><span class="sxs-lookup"><span data-stu-id="4f770-212">Loop</span></span>  
  
## <a name="tpe-not-retrieving-deployed-tracking-profiles"></a><span data-ttu-id="4f770-213">El TPE no recupera perfiles de seguimiento implementados</span><span class="sxs-lookup"><span data-stu-id="4f770-213">TPE Not Retrieving Deployed Tracking Profiles</span></span>  
 <span data-ttu-id="4f770-214">Tras una actualización o reimplementación, puede tener problemas para recuperar perfiles de seguimiento implementados.</span><span class="sxs-lookup"><span data-stu-id="4f770-214">After an upgrade or redeployment you may experience difficulties in retrieving deployed tracking profiles.</span></span> <span data-ttu-id="4f770-215">Esto puede deberse a que no coincida la forma de almacenarse el nombre del servidor en el que se ejecuta la base de datos BizTalkMgmtDb en el Registro.</span><span class="sxs-lookup"><span data-stu-id="4f770-215">This can be caused by a mismatch in the manner in which the server name on which BizTalkMgmtDb database is stored in the registry.</span></span>  
  
 <span data-ttu-id="4f770-216">BizTalkMgmtDb se escribe en el Registro durante la configuración de grupos.</span><span class="sxs-lookup"><span data-stu-id="4f770-216">The BizTalkMgmtDb is written to the registry during Group configuration.</span></span> <span data-ttu-id="4f770-217">El TPE usa la entrada para buscar la base de datos de importación principal y filtrar los perfiles de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="4f770-217">The TPE uses the entry to find the Primary Import database and to filter the tracking profiles.</span></span>  
  
 <span data-ttu-id="4f770-218">Durante la configuración, es posible escribir el nombre de servidor en varios formatos.</span><span class="sxs-lookup"><span data-stu-id="4f770-218">During configuration it is possible to enter the server name in several formats.</span></span> <span data-ttu-id="4f770-219">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="4f770-219">For example:</span></span>  
  
- <span data-ttu-id="4f770-220">mgmtsvr1316267,15001\inst</span><span class="sxs-lookup"><span data-stu-id="4f770-220">mgmtsvr1316267,15001\inst</span></span>  
  
- <span data-ttu-id="4f770-221">MGMTSVR1316267\inst,15001</span><span class="sxs-lookup"><span data-stu-id="4f770-221">MGMTSVR1316267\inst,15001</span></span>  
  
  <span data-ttu-id="4f770-222">El TPE realiza una comparación básica de las cadenas al usar la entrada del Registro.</span><span class="sxs-lookup"><span data-stu-id="4f770-222">The TPE performs a basic string comparison when using the registry entry.</span></span> <span data-ttu-id="4f770-223">Para recuperar los perfiles de seguimiento implementados es necesario inspeccionar los nombres de servidor y base de datos almacenados y especificarlos en el TPE **establecer base de datos de administración** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="4f770-223">To retrieve the deployed tracking profiles it is necessary to inspect the stored server and database names and enter them in the TPE **Set Management Database** dialog box.</span></span>  
  
#### <a name="to-determine-the-syntax-for-server-and-database-names-and-enter-it-in-the-biztalk-management-database"></a><span data-ttu-id="4f770-224">Para determinar la sintaxis de los nombres de servidor y base de datos, y especificarlos en la base de datos de administración de BizTalk</span><span class="sxs-lookup"><span data-stu-id="4f770-224">To determine the syntax for server and database names and enter it in the BizTalk Management database.</span></span>  
  
1. <span data-ttu-id="4f770-225">Abra el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] **Administrador de configuración personalizada**.</span><span class="sxs-lookup"><span data-stu-id="4f770-225">Open the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]**Custom Configuration Manager**.</span></span> <span data-ttu-id="4f770-226">Para obtener información sobre el uso de la **Administrador de configuración personalizada**, consulte [configurar BizTalk Server](../install-and-config-guides/configure-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="4f770-226">For information about using the **Custom Configuration Manager**, see [Configure BizTalk Server](../install-and-config-guides/configure-biztalk-server.md).</span></span>  
  
2. <span data-ttu-id="4f770-227">En el panel de navegación, seleccione **grupo** para abrir la página Configuración del grupo.</span><span class="sxs-lookup"><span data-stu-id="4f770-227">In the navigation pane, select **Group** to open the group configuration page.</span></span>  
  
3. <span data-ttu-id="4f770-228">En el **almacenes de datos** cuadrícula, observar los formatos de la **nombre del servidor** y **nombre de base de datos**.</span><span class="sxs-lookup"><span data-stu-id="4f770-228">In the **Data Stores** grid, observe the formats of the **Server Name** and the **Database Name**.</span></span>  
  
4. <span data-ttu-id="4f770-229">Abra el TPE y seleccione el **herramientas** elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="4f770-229">Open the TPE and select the **Tools** menu item.</span></span>  
  
5. <span data-ttu-id="4f770-230">Seleccione el **establecer base de datos de administración** elemento de menú para abrir el **establecer base de datos de administración** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="4f770-230">Select the **Set Management Database** menu item to open the **Set Management Database** dialog box.</span></span>  
  
6. <span data-ttu-id="4f770-231">En el **SQL Server** texto, escriba el nombre del servidor que se utilizó en el **nombre del servidor** campo de la **almacenes de datos** gridon la **Administrador de configuración personalizada**  página del grupo.</span><span class="sxs-lookup"><span data-stu-id="4f770-231">In the **SQL Server** text box, enter the server name that was used in the **Server Name** field of the **Data Stores** gridon the **Custom Configuration Manager** group page.</span></span>  
  
7. <span data-ttu-id="4f770-232">En el **nombre de base de datos** texto, escriba el nombre de base de datos que se utilizó en el **nombre de base de datos** campo de la **almacenes de datos** gridon el **configuración personalizada Administrador de** página del grupo.</span><span class="sxs-lookup"><span data-stu-id="4f770-232">In the **Database name** text box, enter the database name that was used in the **Database Name** field of the **Data Stores** gridon the **Custom Configuration Manager** group page.</span></span>  
  
8. <span data-ttu-id="4f770-233">Haga clic en el **Aceptar** botón para guardar las entradas.</span><span class="sxs-lookup"><span data-stu-id="4f770-233">Click the **OK** button to save the entries.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4f770-234">Vea también</span><span class="sxs-lookup"><span data-stu-id="4f770-234">See Also</span></span>  
 <span data-ttu-id="4f770-235">[Uso del TPE](../core/using-the-tpe.md) </span><span class="sxs-lookup"><span data-stu-id="4f770-235">[Using the TPE](../core/using-the-tpe.md) </span></span>  
 [<span data-ttu-id="4f770-236">Editor de perfiles de seguimiento</span><span class="sxs-lookup"><span data-stu-id="4f770-236">Tracking Profile Editor</span></span>](../core/tracking-profile-editor.md)