---
title: Patrones de intercambio de mensajes de adaptador | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 54a3fc8f-33d0-4b7e-ad4c-b00912dc3328
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f42368d8687bbed4cbce60243a3b8528364b5fda
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22230180"
---
# <a name="adapter-message-exchange-patterns"></a><span data-ttu-id="ae6f7-102">Patrones de intercambio de mensajes de adaptador</span><span class="sxs-lookup"><span data-stu-id="ae6f7-102">Adapter Message Exchange Patterns</span></span>
<span data-ttu-id="ae6f7-103">El marco de trabajo de adaptadores de BizTalk admite un nutrido conjunto de patrones de intercambio de mensajes que los adaptadores pueden utilizar en muchos escenarios potentes de mensajería.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-103">The BizTalk Adapter Framework supports a rich set of message exchange patterns that adapters can use in many powerful messaging scenarios.</span></span>  
  
## <a name="one-way-asynchronous"></a><span data-ttu-id="ae6f7-104">Unidireccional (asíncrono)</span><span class="sxs-lookup"><span data-stu-id="ae6f7-104">One-Way (Asynchronous)</span></span>  
 <span data-ttu-id="ae6f7-105">Aquí el concepto clave es que los mensajes fluyen en una dirección.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-105">The key concept here is that messages flow in one direction.</span></span>  
  
 <span data-ttu-id="ae6f7-106">En este patrón de intercambio de mensajes, mensajes de fluyen de unidireccional forma hacia [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] a través de un adaptador.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-106">In this message exchange pattern, messages flow one way into [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] through an adapter.</span></span> <span data-ttu-id="ae6f7-107">El motor de mensajería publica el mensaje en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-107">The Messaging Engine publishes the message into the MessageBox database.</span></span> <span data-ttu-id="ae6f7-108">Si una orquestación tiene una suscripción activa a un mensaje de ese tipo, el mensaje se enruta a dicha orquestación.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-108">If an orchestration has an active subscription to a message of that type, the message is routed to that orchestration.</span></span>  
  
 <span data-ttu-id="ae6f7-109">Después de procesar el mensaje, la orquestación lo vuelve a publicar en la base de datos de cuadro de mensajes antes de enrutarlo a un adaptador para su transmisión al extremo especificado.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-109">After processing the message, the orchestration publishes the message back into the MessageBox database before it is routed to an adapter to be transmitted to the specific endpoint.</span></span>  
  
 <span data-ttu-id="ae6f7-110">Cuando se envía el mensaje al motor, no se espera ninguna respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-110">When the message is submitted to the engine, no response is expected.</span></span> <span data-ttu-id="ae6f7-111">En la parte de la salida, cuando se transmite el mensaje, no se espera ninguna respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-111">On the outbound side, when the message is transmitted, no response is expected.</span></span> <span data-ttu-id="ae6f7-112">A esto normalmente se le llama mensajería asíncrona y se trata, en muchos aspectos, del bloque de creación fundamental utilizado por el motor para todos los escenarios de mensajería.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-112">This is typically referred to as asynchronous messaging and is in many ways the basic building block used by the engine for all messaging scenarios.</span></span>  
  
## <a name="request-response-style-protocols-sync-on-async"></a><span data-ttu-id="ae6f7-113">Protocolos de tipo Solicitud-Respuesta (sincrónico sobre asíncrono)</span><span class="sxs-lookup"><span data-stu-id="ae6f7-113">Request-Response Style Protocols (Sync-on-Async)</span></span>  
 <span data-ttu-id="ae6f7-114">Un escenario de solicitud-respuesta consiste en la recepción de un mensaje de solicitud, su proceso y el envío de un mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-114">A request-response scenario consists of receiving a request message, processing it, and sending a response message.</span></span> <span data-ttu-id="ae6f7-115">También se conoce como sincrónico en asincrónico (sincronización sobre asíncrono) porque subyacente [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] arquitectura es asíncrona por motivos de escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-115">It is also referred to as synchronous-on-asynchronous (sync-on-async) because the underlying [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] architecture is asynchronous for scalability reasons.</span></span> <span data-ttu-id="ae6f7-116">Sin embargo, la arquitectura del motor de mensajería de BizTalk permite la exposición de un patrón de intercambio de mensajes sincrónicos sobre estos intercambios asíncronos.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-116">However, the architecture of the BizTalk Messaging Engine enables exposing a synchronous message exchange pattern on top of these asynchronous exchanges.</span></span> <span data-ttu-id="ae6f7-117">Para ello, el motor controla la compleja tarea de establecer una correlación entre los mensajes de solicitud y de respuesta en una arquitectura escalada horizontalmente al vincular entre sí un número de intercambios de mensajes asíncronos para exponer una interfaz sincrónica.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-117">To do this, the engine handles the complex task of correlating the request and response messages across a scaled-out architecture by linking together a number of asynchronous message exchanges to expose a synchronous interface.</span></span>  
  
 <span data-ttu-id="ae6f7-118">Por ejemplo, el adaptador de recepción de una página Web que comprueba el inventario podría realizar una llamada SOAP a un SOAP de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-118">For example, a Web page that checks inventory might make a SOAP call to a BizTalk SOAP receive adapter.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="ae6f7-119">Orquesta una serie de servicios Web que agregan la información y devolverlo en una respuesta SOAP.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-119"> orchestrates a series of Web services that aggregate the information and return it in one SOAP response.</span></span> <span data-ttu-id="ae6f7-120">El cliente lo interpreta como una llamada SOAP sincrónica, pero en realidad el motor entrelaza un número de intercambio de mensajes asíncronos.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-120">To the client this appears to be a synchronous SOAP call, but in actuality the engine knits together a number of asynchronous message exchanges.</span></span>  
  
## <a name="solicit-response-style-protocols"></a><span data-ttu-id="ae6f7-121">Protocolos de tipo Petición-Respuesta</span><span class="sxs-lookup"><span data-stu-id="ae6f7-121">Solicit-Response Style Protocols</span></span>  
 <span data-ttu-id="ae6f7-122">Este escenario se inicia enviando un mensaje de petición y se completa recibiendo un mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-122">This scenario is initiated by sending a solicit message and completed by receiving a response message.</span></span> <span data-ttu-id="ae6f7-123">Se denomina petición-respuesta porque el mensaje inicial enviado solicita un extremo para un mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-123">It is referred to as solicit-response because the initial message sent is soliciting an endpoint for a response message.</span></span> <span data-ttu-id="ae6f7-124">Un escenario que utilice este patrón de intercambio de mensajes podría consistir en una orquestación que realice una llamada HTTP saliente (una petición de respuesta) y que espere la respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-124">A scenario using this message exchange pattern might involve an orchestration making an outbound HTTP call (a solicit for a response) and waiting for the response.</span></span>  
  
## <a name="request-multiresponse"></a><span data-ttu-id="ae6f7-125">Solicitud-multirespuesta</span><span class="sxs-lookup"><span data-stu-id="ae6f7-125">Request-Multiresponse</span></span>  
 <span data-ttu-id="ae6f7-126">Este escenario es parecido al de solicitud-respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-126">This scenario is similar to the request-response scenario.</span></span> <span data-ttu-id="ae6f7-127">Sin embargo, en este escenario se pueden devolver varias respuestas para una solicitud determinada.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-127">However, in this scenario multiple responses may be returned for a given request.</span></span> <span data-ttu-id="ae6f7-128">Las API permiten especificar un valor de tiempo de espera y todas las respuestas recibidas en ese intervalo se devuelven al adaptador de respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-128">The APIs allow a time-out value to be specified, and all responses received within the time-out period are returned to the receive adapter.</span></span>  
  
## <a name="loop-back"></a><span data-ttu-id="ae6f7-129">Bucle invertido</span><span class="sxs-lookup"><span data-stu-id="ae6f7-129">Loop-Back</span></span>  
 <span data-ttu-id="ae6f7-130">Este escenario es parecido al de solicitud-respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-130">This scenario is similar to the request-response scenario.</span></span> <span data-ttu-id="ae6f7-131">El mensaje de solicitud se publica del modo habitual, pero el motor se asegura de que el mensaje de respuesta se vuelva a enrutar a la misma instancia de adaptador que publicó el mensaje de solicitud.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-131">The request message is published as usual, but the engine ensures that the response message is routed back to the same adapter instance the published the request message.</span></span> <span data-ttu-id="ae6f7-132">Puesto que el mensaje de solicitud se publica en la base de datos de cuadro de mensajes, la infraestructura de seguimiento garantiza el seguimiento de los mensajes de solicitud y de respuesta.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-132">Because the request message is published to the MessageBox database, the tracking infrastructure ensures that both the request and response messages are tracked.</span></span> <span data-ttu-id="ae6f7-133">Éste también resulta un buen modo de invocar un procesamiento de la canalización de envío en el mensaje, recibir el mensaje de salida y volverlo a enviar al adaptador para su procesamiento posterior.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-133">This is also a good way to invoke a send pipeline processing on message then immediately get the output message send back to the adapter for subsequent processing.</span></span>  
  
 <span data-ttu-id="ae6f7-134">Un ejemplo de este escenario sería un cliente que requiere una notificación de un mensaje.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-134">An example of this scenario is a client that requires a receipt for a message.</span></span> <span data-ttu-id="ae6f7-135">El mensaje entrante se publica en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-135">The inbound message is published to the MessageBox database.</span></span> <span data-ttu-id="ae6f7-136">Tanto el mensaje como la notificación se devuelven al adaptador en el mismo lote.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-136">Both this message and the receipt are returned to the adapter in the same batch.</span></span> <span data-ttu-id="ae6f7-137">En este caso, el mensaje entrante se copia con una instancia que se devuelve al cliente, y la otra se procesa del modo habitual.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-137">In this case, the inbound message is copied with one instance being returned to the client, and the other being processed in the normal manner.</span></span> <span data-ttu-id="ae6f7-138">Este escenario concreto también requiere la escritura de un desensamblado XML personalizado.</span><span class="sxs-lookup"><span data-stu-id="ae6f7-138">This specific scenario also requires a custom XML disassembler to be written.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ae6f7-139">Vea también</span><span class="sxs-lookup"><span data-stu-id="ae6f7-139">See Also</span></span>  
 [<span data-ttu-id="ae6f7-140">¿Qué es el marco de trabajo?</span><span class="sxs-lookup"><span data-stu-id="ae6f7-140">What Is the Adapter Framework?</span></span>](../core/what-is-the-adapter-framework.md)