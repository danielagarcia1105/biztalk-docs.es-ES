---
title: 'Tutorial: Publicar servicios WCF con el adaptador WCF-BasicHttp | Documentos de Microsoft'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- tutorials, publishing
- WCF adapters, tutorials
- publishing, WCF services
- WCF-BasicHttp adapters, tutorials
- publishing, tutorials
- WCF services, publishing
- tutorials, WCF adapters
ms.assetid: 43b76215-9cb0-47ab-a085-c4cf265410f9
caps.latest.revision: 72
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ca976d2e965d781de352a010bd4ef8c16e712ffb
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/28/2018
ms.locfileid: "26010469"
---
# <a name="walkthrough-publishing-wcf-services-with-the-wcf-basichttp-adapter"></a><span data-ttu-id="ecabb-102">Tutorial: Publicar servicios WCF con el adaptador WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="ecabb-102">Walkthrough: Publishing WCF Services with the WCF-BasicHttp Adapter</span></span>
## <a name="introduction"></a><span data-ttu-id="ecabb-103">Introducción</span><span class="sxs-lookup"><span data-stu-id="ecabb-103">Introduction</span></span>  
 <span data-ttu-id="ecabb-104">En este tutorial se publica un Servicio [!INCLUDE[firstref_btsWinCommFoundation](../includes/firstref-btswincommfoundation-md.md)] como una orquestación de BizTalk mediante el adaptador de WCF-BasicHttp y el Asistente para publicación de Servicio WCF de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ecabb-104">This walkthrough publishes a [!INCLUDE[firstref_btsWinCommFoundation](../includes/firstref-btswincommfoundation-md.md)] service as a BizTalk orchestration by using the BizTalk WCF Service Publishing Wizard and the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ecabb-105">Una orquestación de BizTalk aparece a un cliente externo, por ejemplo, otro servicio web o aplicación [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)], como Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] al exponer un extremo [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] mediante el adaptador de WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ecabb-105">A BizTalk orchestration appears to an external client, such as another Web service or [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] application, as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service by exposing a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] endpoint using the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ecabb-106">El adaptador de WCF-BasicHttp se compone tanto de un adaptador de envío como de uno de recepción.</span><span class="sxs-lookup"><span data-stu-id="ecabb-106">The WCF-BasicHttp adapter consists of both a send adapter and a receive adapter.</span></span> <span data-ttu-id="ecabb-107">En este ejemplo, solo usará el lado de recepción de este adaptador para recibir peticiones de servicio WCF a través del protocolo HTTP o HTTPS desde aplicaciones cliente de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-107">In this sample you will use only the receive side of this adapter to receive WCF service requests through the HTTP or HTTPS protocol from [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] client applications.</span></span>  
  
 <span data-ttu-id="ecabb-108">El adaptador de WCF-BasicHttp usa la **BasicHttpBinding** enlace para proporcionar una implementación de pila de protocolos o transporte compatible con la versión inicial de los servicios Web para que actúe como un puente entre [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] y [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)]funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="ecabb-108">The WCF-BasicHttp adapter uses the **BasicHttpBinding** binding to provide a transport/protocol stack implementation compatible with the initial release of Web services to serve as a bridge between [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] functionality.</span></span> <span data-ttu-id="ecabb-109">Proporciona comunicación con servicios y clientes web basados en ASMX compatibles con el perfil básico de servicios web WS-I, versión 1.1 mediante el transporte HTTP o HTTPS con codificación de texto.</span><span class="sxs-lookup"><span data-stu-id="ecabb-109">It provides communication with legacy ASMX-based Web services and clients that conform to the WS-I Basic Profile 1.1, using either the HTTP or HTTPS transport with text encoding.</span></span> <span data-ttu-id="ecabb-110">Mediante el adaptador BasicHttp de WCF, no podrá usar las características avanzadas de comunicación web compatibles con los protocolos WS-\*.</span><span class="sxs-lookup"><span data-stu-id="ecabb-110">Using the WCF-BasicHttp adapter you will not be able to take advantage of advanced Web communication features that are supported by WS-\* protocols.</span></span> <span data-ttu-id="ecabb-111">Para ello, use el adaptador WCF-WSHttp.</span><span class="sxs-lookup"><span data-stu-id="ecabb-111">If you need to do that, use the WCF-WSHttp adapter.</span></span>  
  
 <span data-ttu-id="ecabb-112">En este tutorial se muestra el modo de crear una ubicación de recepción WCF-BasicHttp para publicar una orquestación como Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-112">This walkthrough shows you how to create a WCF-BasicHttp receive location to publish an orchestration as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  <span data-ttu-id="ecabb-113">Configurará servicios de Internet Information Services (IIS) para proporcionar hospedaje aislado de dicho Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-113">You will configure Internet Information Services (IIS) to provide isolated hosting of that [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  <span data-ttu-id="ecabb-114">Una aplicación de cliente de ejemplo llama a la orquestación de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] publicada como un ejemplo de cómo un cliente externo puede llamar al Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] publicado en Internet para usar su funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="ecabb-114">A client application calls the published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] orchestration as an example of how an external client might call the published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service over the Internet to use its functionality.</span></span>  
  
 <span data-ttu-id="ecabb-115">Cuando concluya el tutorial, comprenderá cómo se realizan las tareas siguientes:</span><span class="sxs-lookup"><span data-stu-id="ecabb-115">After completing this walkthrough, you will understand how to perform the following tasks:</span></span>  
  
-   <span data-ttu-id="ecabb-116">En Visual Studio, use la **implementar** comando para implementar la [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] servicio en forma de una orquestación de BizTalk en un ensamblado de BizTalk a una instancia local de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-116">From within Visual Studio, use the **Deploy** command to deploy the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service in the form of a BizTalk orchestration inside a BizTalk assembly to a local instance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="ecabb-117">La implementación desde Visual Studio crea una aplicación de BizTalk que se rellena con los ensamblados que contienen recursos, tales como orquestaciones, canalizaciones, esquemas y asignaciones que se usarán en la solución de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ecabb-117">Deployment from Visual Studio creates a BizTalk application that is populated with the assemblies containing resources such as orchestrations, pipelines, schemas, and maps to be used in the BizTalk solution.</span></span>  
  
-   <span data-ttu-id="ecabb-118">Una vez que se haya implementado, la orquestación de BizTalk estará disponible para la configuración y control a través de la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-118">After it is deployed, the BizTalk orchestration is available for configuration and control through the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="ecabb-119">En este tutorial configurará la ubicación de recepción WCF-BasicHttp para aceptar los mensajes de entrada enviados al Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] que el Asistente para publicación de Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ecabb-119">In this walkthrough you will configure the WCF-BasicHttp receive location to accept incoming messages sent to the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service that the BizTalk [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Service Publishing Wizard creates.</span></span> <span data-ttu-id="ecabb-120">El host aislado de BizTalk aloja la ubicación de recepción como un Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] para obtener las solicitudes entrantes.</span><span class="sxs-lookup"><span data-stu-id="ecabb-120">The receive location is hosted by the BizTalk isolated host in IIS, and acts as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service to get to the incoming requests.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ecabb-121">En este tutorial, usará el Asistente para publicación de Servicio WCF de BizTalk o el Asistente para publicación de servicio web de BizTalk para publicar orquestaciones y esquemas de BizTalk como Servicios de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] con los adaptadores de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-121">In this walkthrough, you will use the BizTalk WCF Publishing Wizard and/or BizTalk Web Service Publishing Wizard to publish BizTalk orchestrations and schemas as [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] services with the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] adapters.</span></span> <span data-ttu-id="ecabb-122">Para publicar orquestaciones y esquemas como servicios Web con el adaptador de SOAP, use la **Asistente para publicación de WCF de BizTalk** o **Asistente para publicación de BizTalk Web Services**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-122">To publish orchestrations and schemas as Web services with the SOAP adapter, you use the **BizTalk WCF Publish Wizard** and/or **BizTalk Web Services Publishing Wizard**.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="ecabb-123">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="ecabb-123">Prerequisites</span></span>  
 <span data-ttu-id="ecabb-124">Para llevar a cabo los pasos descritos en este ejemplo, asegúrese de que el entorno instala los siguientes requisitos previos:</span><span class="sxs-lookup"><span data-stu-id="ecabb-124">To perform the steps in this sample ensure that your environment installs the following prerequisites:</span></span>  
  
-   <span data-ttu-id="ecabb-125">Tanto en el equipo que genera los ensamblados y ejecuta el proceso de implementación y el equipo que ejecuta el ejemplo requieren Microsoft Windows Server 2008 SP2 o Windows Server 2008 R2, Microsoft .NET Framework 4 y Microsoft BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="ecabb-125">Both the computer that builds the assemblies and runs the deployment process, and the computer that runs the sample, require Microsoft Windows Server 2008 SP2 and/or Windows Server 2008 R2, Microsoft .NET Framework 4, and Microsoft BizTalk Server.</span></span>  
  
-   <span data-ttu-id="ecabb-126">El equipo que se usa para generar los ensamblados y ejecutar el proceso de implementación requiere Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ecabb-126">The computer used to build the assemblies and run the deployment process requires Microsoft Visual Studio.</span></span>  
  
-   <span data-ttu-id="ecabb-127">El equipo que ejecuta el ejemplo requiere los adaptadores de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] y las herramientas de administración de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-127">The computer that runs the sample requires the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Adapters and the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Administration Tools.</span></span> <span data-ttu-id="ecabb-128">Estas son opciones para instalar durante la instalación de Microsoft BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="ecabb-128">These are options to install during setup of Microsoft BizTalk Server.</span></span>  
  
-   <span data-ttu-id="ecabb-129">En los equipos que use para realizar las tareas administrativas, debe ejecutar una cuenta de usuario que sea miembro del grupo de administradores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para configurar los parámetros de aplicación de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-129">On the computers that you use to perform administrative tasks, you must run as a user account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group to configure the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] application settings within the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="ecabb-130">Esta cuenta de usuario también debe ser miembro del grupo de administradores local para la implementación de la aplicación, la administración de las instancias de host y otras tareas que puedan ser necesarias.</span><span class="sxs-lookup"><span data-stu-id="ecabb-130">This user account must also be a member of the local Administrators group for application deployment, managing host instances, and other tasks that may be required.</span></span>  
  
-   <span data-ttu-id="ecabb-131">En cualquier equipo que requiera [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] capacidad, complete el procedimiento de instalación única para la [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] ejemplos en [ http://go.microsoft.com/fwlink/?LinkId=135510 ](http://go.microsoft.com/fwlink/?LinkId=135510).</span><span class="sxs-lookup"><span data-stu-id="ecabb-131">On any computer that requires [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] capability, complete the one-time setup procedure for the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] samples at [http://go.microsoft.com/fwlink/?LinkId=135510](http://go.microsoft.com/fwlink/?LinkId=135510).</span></span>  
  
-   <span data-ttu-id="ecabb-132">En el equipo que ejecuta el ejemplo e importa un enlace o un archivo .msi en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], asegúrese de que el host no es un host de confianza. De lo contrario, se producirá un error en la importación.</span><span class="sxs-lookup"><span data-stu-id="ecabb-132">On the computer that runs the sample and imports a binding or an .msi file into [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], ensure the host is not a trusted host or the import will fail.</span></span>  
  
-   <span data-ttu-id="ecabb-133">Debe descargar el código del tutorial y extraerlo en el equipo.</span><span class="sxs-lookup"><span data-stu-id="ecabb-133">You must download the walkthrough code and extract it to your computer.</span></span> <span data-ttu-id="ecabb-134">Este tutorial es una parte de todo el [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] paquete de tutoriales del adaptador.</span><span class="sxs-lookup"><span data-stu-id="ecabb-134">This walkthrough is a part of the entire [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Adapter Walkthrough package.</span></span> <span data-ttu-id="ecabb-135">Puede descargar el archivo **WCFAdapterWalkthroughs.exe** desde el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Developer Center en [ http://go.microsoft.com/fwlink/?LinkId=194140 ](http://go.microsoft.com/fwlink/?LinkId=194140).</span><span class="sxs-lookup"><span data-stu-id="ecabb-135">You can download the file **WCFAdapterWalkthroughs.exe** from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Developer Center at [http://go.microsoft.com/fwlink/?LinkId=194140](http://go.microsoft.com/fwlink/?LinkId=194140).</span></span>  
  
### <a name="to-deploy-the-sample-biztalk-solution-biztalkapp"></a><span data-ttu-id="ecabb-136">Para implementar la solución de BizTalk de ejemplo, BizTalkApp</span><span class="sxs-lookup"><span data-stu-id="ecabb-136">To deploy the sample BizTalk solution, BizTalkApp</span></span>  
  
1.  <span data-ttu-id="ecabb-137">Ejecutar la extracción automática **WCFBasicHttpReceiveAdapter.exe** de archivos y extraiga los archivos en el **C:\WCFBasicHttpReceiveAdapter** carpeta.</span><span class="sxs-lookup"><span data-stu-id="ecabb-137">Run the self-extracting **WCFBasicHttpReceiveAdapter.exe** file and extract the files into the **C:\WCFBasicHttpReceiveAdapter** folder.</span></span>  
  
2.  <span data-ttu-id="ecabb-138">En Microsoft Visual Studio, abra el **C:\WCFBasicHttpReceiveAdapter\WCFBasicHttpReceiveAdapter.sln** archivo.</span><span class="sxs-lookup"><span data-stu-id="ecabb-138">In Microsoft Visual Studio, open the **C:\WCFBasicHttpReceiveAdapter\WCFBasicHttpReceiveAdapter.sln** file.</span></span>  
  
3.  <span data-ttu-id="ecabb-139">El **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** ensamblado contiene un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] orquestación, un mapa y dos esquemas.</span><span class="sxs-lookup"><span data-stu-id="ecabb-139">The **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** assembly contains a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] orchestration, a map, and two schemas.</span></span> <span data-ttu-id="ecabb-140">Debe instalarse en la GAC y necesita una clave de nombre seguro archivará para que esto se produzca.</span><span class="sxs-lookup"><span data-stu-id="ecabb-140">It must be installed in the GAC and will need a strong name key file for this to occur.</span></span> <span data-ttu-id="ecabb-141">Haga clic en el **BizTalkApp** del proyecto y, a continuación, haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-141">Right-click the **BizTalkApp** project and then click **Properties**.</span></span> <span data-ttu-id="ecabb-142">En el **propiedades** página, haga clic en **firma**y seleccione **firmar el ensamblado**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-142">On the **Properties** page, click **Signing**, and select **Sign the assembly**.</span></span> <span data-ttu-id="ecabb-143">Haga clic en la flecha hacia abajo en la **elegir un archivo de clave de nombre seguro** la lista desplegable, haga clic en  **\<New\>** y escriba `keyfile.snk` en el **nombre de archivo de clave**cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="ecabb-143">Click the down arrow in the **Choose a strong name key file** drop-down list, click **\<New\>**, and enter `keyfile.snk` in the **key file name** textbox.</span></span> <span data-ttu-id="ecabb-144">Desactive la opción **proteger mi archivo de clave con una contraseña**y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-144">Uncheck **Protect my key file with a password**, and then click **OK**.</span></span>  
  
4.  <span data-ttu-id="ecabb-145">En el Explorador de soluciones, haga clic en el **BizTalkApp** del proyecto y, a continuación, haga clic en **volver a generar**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-145">In Solution Explorer, right-click the **BizTalkApp** project, and then click **Rebuild**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="ecabb-146">No intente una **generar solución**, o para crear el **WCFClient** aplicación en este momento.</span><span class="sxs-lookup"><span data-stu-id="ecabb-146">Do not attempt a **Build Solution**, or to build the **WCFClient** application at this point.</span></span> <span data-ttu-id="ecabb-147">El **WCFClient** no está listo para compilarse en este punto en el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="ecabb-147">The **WCFClient** is not ready to be built at this point in the sample.</span></span>  
  
5.  <span data-ttu-id="ecabb-148">Expanda **BizTalkApp**y, a continuación, abra **DeliveryProcess.odx** para revisar.</span><span class="sxs-lookup"><span data-stu-id="ecabb-148">Expand **BizTalkApp**, and then open **DeliveryProcess.odx** to review.</span></span> <span data-ttu-id="ecabb-149">La orquestación toma una solicitud [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] a través de HTTP con el adaptador WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ecabb-149">The orchestration takes in a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] request over HTTP using the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ecabb-150">Modifica la solicitud mediante una asignación de transformación y envía la respuesta de nuevo mediante el mismo adaptador de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-150">It modifies the request by using a transformation map and sends out the response again using the same [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] adapter.</span></span>  
  
    1.  <span data-ttu-id="ecabb-151">Esta orquestación tiene un puerto de solicitud-respuesta lógico que se publicará con el adaptador de WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ecabb-151">This orchestration has a logical request-response port that will be published with the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ecabb-152">Se enlazará a un puerto físico en un paso posterior.</span><span class="sxs-lookup"><span data-stu-id="ecabb-152">It will be bound to a physical port in a later step.</span></span>  
  
    2.  <span data-ttu-id="ecabb-153">Haga clic en el nodo superior del **DeliveryProcess.odx** en la ventana del diseñador y, a continuación, seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-153">Right-click the top node of **DeliveryProcess.odx** in the designer window, and then select **Properties**.</span></span> <span data-ttu-id="ecabb-154">Asegúrese de que el **modificador de tipo** propiedad del tipo de puerto es **público**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-154">Make sure that the **Type Modifier** property of the port type is **Public**.</span></span>  
  
6.  <span data-ttu-id="ecabb-155">En el Explorador de soluciones, haga clic en **BizTalkApp**y, a continuación, haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-155">In Solution Explorer, right-click **BizTalkApp**, and then click **Properties**.</span></span>  
  
    1.  <span data-ttu-id="ecabb-156">Si la base de datos de administración de BizTalk no se hospeda localmente, modifique la **Server** propiedad si utiliza un servidor de base de datos diferente.</span><span class="sxs-lookup"><span data-stu-id="ecabb-156">If the BizTalk Management database is not hosted locally, modify the **Server** property if you use a different database server.</span></span> <span data-ttu-id="ecabb-157">Haga clic en el **implementación** ficha y, a continuación, modifique la **Server** propiedad para que apunte al servidor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="ecabb-157">Click the **Deployment** tab, and then modify the **Server** property to point to the database server.</span></span>  
  
    2.  <span data-ttu-id="ecabb-158">Asegúrese de que el **nombre de la aplicación** propiedad está establecida en **WCFBasicHttpReceiveAdapter**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-158">Make sure that the **Application Name** property is set to **WCFBasicHttpReceiveAdapter**.</span></span> <span data-ttu-id="ecabb-159">Se trata del nombre de la aplicación de BizTalk en la que se va a implementar la solución de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ecabb-159">This is name of the BizTalk application where the BizTalk solution will be deployed.</span></span>  
  
    3.  <span data-ttu-id="ecabb-160">En el Explorador de soluciones, haga clic en **BizTalkApp**y, a continuación, haga clic en **implementar**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-160">In Solution Explorer, right-click **BizTalkApp**, and then click **Deploy**.</span></span> <span data-ttu-id="ecabb-161">Si no se implementa de forma local, es posible que sea necesario configurar el servidor SQL Server para permitir conexiones remotas.</span><span class="sxs-lookup"><span data-stu-id="ecabb-161">If not deploying locally you may need to configure SQL Server to allow remote connections.</span></span> <span data-ttu-id="ecabb-162">Para obtener más información, consulte [ http://go.microsoft.com/fwlink/?LinkId=194141 ](http://go.microsoft.com/fwlink/?LinkId=194141).</span><span class="sxs-lookup"><span data-stu-id="ecabb-162">For more information, see [http://go.microsoft.com/fwlink/?LinkId=194141](http://go.microsoft.com/fwlink/?LinkId=194141).</span></span>  
  
### <a name="to-publish-the-sample-orchestration-by-using-the-biztalk-wcf-service-publishing-wizard"></a><span data-ttu-id="ecabb-163">Para publicar la orquestación de ejemplo mediante el Asistente para publicación de Servicio WCF de BizTalk</span><span class="sxs-lookup"><span data-stu-id="ecabb-163">To publish the sample orchestration by using the BizTalk WCF Service Publishing Wizard</span></span>  
  
1.  <span data-ttu-id="ecabb-164">En este paso, ejecutará el ensamblado de orquestación recién implementado y lo publica como un Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-164">In this step you will take the newly deployed orchestration assembly and publish it as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="ecabb-165">Para ello, haga clic en **iniciar**, seleccione **todos los programas**, seleccione **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)]y, a continuación, haga clic en **Asistente de publicación de servicio de WCF de BizTalk** .</span><span class="sxs-lookup"><span data-stu-id="ecabb-165">To do this, click **Start**, point to **All Programs**, point to **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)], and then click **BizTalk WCF Service Publishing Wizard**.</span></span>  
  
2.  <span data-ttu-id="ecabb-166">En el **éste es el Asistente para publicación de servicio WCF de BizTalk** página, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-166">On the **Welcome to the BizTalk WCF Service Publishing Wizard** page, click **Next**.</span></span>  
  
3.  <span data-ttu-id="ecabb-167">En el **tipo de servicio WCF** página, lleve a cabo las siguientes acciones para especificar el tipo de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] servicio para publicar y los extremos de BizTalk para recibir [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] mensajes y, a continuación, haga clic en **siguiente**:</span><span class="sxs-lookup"><span data-stu-id="ecabb-167">On the **WCF Service Type** page, perform the following actions to specify the type of [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service to publish, and the BizTalk endpoints for receiving [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] messages, and then click **Next**:</span></span>  
  
    1.  <span data-ttu-id="ecabb-168">Seleccione el **punto de conexión de servicio** opción, que establece que publicará un [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] servicio desde una orquestación en un ensamblado.</span><span class="sxs-lookup"><span data-stu-id="ecabb-168">Select the **Service endpoint** option, which states you will publish a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service from an orchestration in an assembly.</span></span> <span data-ttu-id="ecabb-169">Seleccione **WCF-BasicHttp** desde el **nombre de adaptador (tipo de transporte)** lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="ecabb-169">Select **WCF-BasicHttp** from the **Adapter name (Transport type)** drop-down list.</span></span>  
  
    2.  <span data-ttu-id="ecabb-170">Seleccione el **habilitar extremo de metadatos** casilla de verificación para realizar la [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] hospedado por IIS de ubicación de recepción publicar sus [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] metadatos del servicio.</span><span class="sxs-lookup"><span data-stu-id="ecabb-170">Select the **Enable metadata endpoint** check box to make the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] receive location hosted by IIS publish its [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service metadata.</span></span> <span data-ttu-id="ecabb-171">Al seleccionar esta casilla de verificación establece el **httpGetEnabled** atributo de la \< **serviceMetadata** \> elemento `true` en el archivo Web.Config. Estos metadatos se recuperan cuando una solicitud HTTP/GET los solicita.</span><span class="sxs-lookup"><span data-stu-id="ecabb-171">Selecting this check box sets the **httpGetEnabled** attribute of the \<**serviceMetadata**\> element to `true` in Web.Config. This metadata is retrieved when an HTTP/GET request asks for it.</span></span> <span data-ttu-id="ecabb-172">Después, usará la herramienta SvcUtil.exe para obtener estos datos con el fin de generar una clase de proxy para el código de cliente para llamar al Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-172">Later you will use the SvcUtil.exe tool to obtain this data to generate a proxy class for the client code to use to call the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  
  
    3.  <span data-ttu-id="ecabb-173">Seleccione el **ubicaciones de recepción de BizTalk crea en la siguiente aplicación** opción para crear los puertos de recepción y las ubicaciones correspondientes a cada archivo .svc generado para el adaptador de WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ecabb-173">Select the **Create BizTalk receive locations in the following application** option to create the receive ports and locations corresponding to each generated .svc file for the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ecabb-174">Elija el nombre de la aplicación de BizTalk, **WCFBasicHttpReceiveAdapter**, donde los puertos de recepción y las ubicaciones se genera y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-174">Choose the BizTalk application name, **WCFBasicHttpReceiveAdapter**, where the receive ports and locations will be generated, and then click **Next**.</span></span>  
  
         <span data-ttu-id="ecabb-175">El asistente crea un archivo de enlace, Binding.XML, para representar ubicaciones de recepción asociadas.</span><span class="sxs-lookup"><span data-stu-id="ecabb-175">The wizard creates a binding file, Binding.XML, to represent associated receive locations.</span></span> <span data-ttu-id="ecabb-176">El archivo se encuentra en el directorio web y después se puede importar manualmente a través de la consola de administración de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-176">This file is located in the Web directory and later can be manually imported through the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="ecabb-177">Si no selecciona una aplicación de BizTalk implementada, se seleccionará la aplicación predeterminada.</span><span class="sxs-lookup"><span data-stu-id="ecabb-177">If you do not select a deployed BizTalk application here the default application will be selected.</span></span>  
  
4.  <span data-ttu-id="ecabb-178">En el **crear servicio WCF** página, seleccione **publicar orquestaciones de BizTalk como servicio WCF**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-178">On the **Create WCF Service** page, select **Publish BizTalk orchestrations as WCF service**, and then click **Next**.</span></span> <span data-ttu-id="ecabb-179">Esto publicará la orquestación especificada en el siguiente paso como un Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-179">This will publish the orchestration specified in the next step as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  
  
5.  <span data-ttu-id="ecabb-180">Seleccione el ensamblado que contiene la orquestación que se va a publicar.</span><span class="sxs-lookup"><span data-stu-id="ecabb-180">Select the assembly containing the orchestration to be published.</span></span> <span data-ttu-id="ecabb-181">En el **ensamblado de BizTalk** página, en la **archivo de ensamblado de BizTalk (\*.dll)** cuadro de texto, haga clic en **examinar** para ir a la **C:\ WCFBasicHttpReceiveAdapter\BizTalkApp\bin\Development** carpeta, haga doble clic en el **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** ensamblado que contiene el ejemplo orquestación para la publicación, haga clic en **abiertos**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-181">On the **BizTalk Assembly** page, in the **BizTalk assembly file (\*.dll)** text box, click **Browse** to browse to the **C:\WCFBasicHttpReceiveAdapter\BizTalkApp\bin\Development** folder, double-click the **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** assembly containing the sample orchestration to publish, click **Open**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="ecabb-182">En el **orquestaciones y puertos** página, asegúrese de que el **puerto: DeliveryRequestPort** nodo está seleccionado en la página y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-182">On the **Orchestrations and Ports** page, make sure that the **Port: DeliveryRequestPort** node is selected on the page, and then click **Next**.</span></span> <span data-ttu-id="ecabb-183">Si selecciona este nodo, significará que los nodos de nivel superior correspondientes también se seleccionan.</span><span class="sxs-lookup"><span data-stu-id="ecabb-183">Selecting this node means that its corresponding higher-level nodes are selected as well.</span></span> <span data-ttu-id="ecabb-184">El puerto se publicará con una ubicación de recepción solicitud-respuesta que aloja el adaptador de WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ecabb-184">The port will be published with a request-response receive location hosting the WCF-BasicHttp adapter.</span></span>  
  
7.  <span data-ttu-id="ecabb-185">En el **propiedades del servicio WCF** página, en la **destino** espacio de nombres de la **servicio WCF** cuadro de texto, escriba un URI que desee que este [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] servicio que se usará, y a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-185">On the **WCF Service Properties** page, in the **Target** namespace of the **WCF service** text box, type a URI that you want this published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service to use, and then click **Next**.</span></span> <span data-ttu-id="ecabb-186">En este tutorial, deje la dirección URI predeterminada, "**http://tempuri.org/"** en el espacio de nombres de destino de la [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] cuadro de texto del servicio.</span><span class="sxs-lookup"><span data-stu-id="ecabb-186">For this walkthrough, leave the default URI, "**http://tempuri.org/"** in the Target namespace of the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service text box.</span></span>  
  
8.  <span data-ttu-id="ecabb-187">En el **ubicación del servicio WCF** página, lleve a cabo las siguientes acciones para especificar la ubicación de la [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] services para crear y, a continuación, haga clic en **siguiente**:</span><span class="sxs-lookup"><span data-stu-id="ecabb-187">On the **WCF Service Location** page, perform the following actions to specify the location of the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] services to create, and then click **Next**:</span></span>  
  
    1.  <span data-ttu-id="ecabb-188">En el **ubicación** cuadro de texto, escriba el directorio Web nombre donde la [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] ejecuciones del servicio, o haga clic en **examinar** y seleccione el directorio Web.</span><span class="sxs-lookup"><span data-stu-id="ecabb-188">In the **Location** text box, type the Web directory name where the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service runs, or click **Browse** and select the Web directory.</span></span> <span data-ttu-id="ecabb-189">En este tutorial, como el nombre del ensamblado es el mismo que el directorio virtual, deje la ubicación predeterminada (**http://localhost/Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp**) en el **ubicación** cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="ecabb-189">For this walkthrough, since the assembly name is the same as the virtual directory, leave the default location (**http://localhost/Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp**) in the **Location** text box.</span></span>  
  
    2.  <span data-ttu-id="ecabb-190">Seleccione el **permitir acceso anónimo al servicio WCF** opción y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-190">Select the **Allow anonymous access to WCF service** option, and then click **Next**.</span></span> <span data-ttu-id="ecabb-191">Esta opción permite acceso anónimo al directorio virtual creado.</span><span class="sxs-lookup"><span data-stu-id="ecabb-191">This option allows anonymous access to the created virtual directory.</span></span> <span data-ttu-id="ecabb-192">Debido a que este tutorial usa el modo de seguridad de transporte sin autenticación, es necesario que esta opción se seleccione para permitir la autenticación anónima para la aplicación web que este asistente va a crear.</span><span class="sxs-lookup"><span data-stu-id="ecabb-192">Because this walkthrough uses the Transport security mode with no authentication, this option needs to be selected to allow anonymous authentication for the Web application that this wizard will create.</span></span>  
  
9. <span data-ttu-id="ecabb-193">En el **resumen de servicio WCF** página, haga clic en **crear** para crear el [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span><span class="sxs-lookup"><span data-stu-id="ecabb-193">On the **WCF Service Summary** page, click **Create** to create the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="ecabb-194">Este paso crea un puerto de recepción para la orquestación especificada disponible a través del directorio Web especificado.</span><span class="sxs-lookup"><span data-stu-id="ecabb-194">This step creates a receive port for the specified orchestration available through the specified Web directory.</span></span>  
  
10. <span data-ttu-id="ecabb-195">En el **completar BizTalk WCF Asistente para publicar servicios** página, haga clic en **finalizar**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-195">On the **Completing BizTalk WCF Service Publishing Wizard** page, click **Finish**.</span></span>  
  
### <a name="to-enable-the-sample-biztalk-application"></a><span data-ttu-id="ecabb-196">Para habilitar la aplicación de ejemplo de BizTalk</span><span class="sxs-lookup"><span data-stu-id="ecabb-196">To enable the sample BizTalk application</span></span>  
  
1.  <span data-ttu-id="ecabb-197">Haga clic en **iniciar**, seleccione **todos los programas**, seleccione **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)]y, a continuación, haga clic en **administración de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-197">Click **Start**, point to **All Programs**, point to **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="ecabb-198">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] administración de la consola, expanda **aplicaciones**, expanda **WCFBasicHttpReceiveAdapter**, expanda **orquestaciones**, haga clic en el  **DeliveryProcess** orquestación, haga clic en **propiedades**y, a continuación, configure la información de enlace como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="ecabb-198">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand **Applications**, expand **WCFBasicHttpReceiveAdapter**, expand **Orchestrations**, right-click the **DeliveryProcess** orchestration, click **Properties**, and then configure the binding information as follows:</span></span>  
  
    1.  <span data-ttu-id="ecabb-199">En el **propiedades de orquestación** cuadro de diálogo, haga clic en **enlaces**y, a continuación, establezca **Host** a **BizTalkServerApplication**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-199">In the **Orchestration Properties** dialog box, click **Bindings**, and then set **Host** to **BizTalkServerApplication**.</span></span>  
  
    2.  <span data-ttu-id="ecabb-200">En el **propiedades de orquestación** cuadro de diálogo, seleccione un puerto de recepción para el **DeliveryRequestPort** para enlazar.</span><span class="sxs-lookup"><span data-stu-id="ecabb-200">In the **Orchestration Properties** dialog box, select a receive port for the **DeliveryRequestPort** to bind.</span></span> <span data-ttu-id="ecabb-201">En este tutorial, seleccione la recepción de puerto que BizTalk [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Asistente para publicación de servicio creado en el procedimiento anterior y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-201">For this walkthrough, select the receive port that the BizTalk [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Service Publishing Wizard created in the previous procedure, and then click **OK**.</span></span>  
  
3.  <span data-ttu-id="ecabb-202">En el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración, haga clic en **WCFBasicHttpReceiveAdapter**, haga clic en **iniciar**y, a continuación, haga clic en **iniciar** en el **iniciar Aplicación** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ecabb-202">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click **WCFBasicHttpReceiveAdapter**, click **Start**, and then click **Start** in the **Start Application** dialog box.</span></span>  
  
### <a name="to-configure-the-web-application-hosting-the-published-wcf-service"></a><span data-ttu-id="ecabb-203">Para configurar la aplicación Web que aloja el Servicio WCF publicado</span><span class="sxs-lookup"><span data-stu-id="ecabb-203">To configure the Web application hosting the published WCF service</span></span>  
  
1.  <span data-ttu-id="ecabb-204">Haga clic en **iniciar**, seleccione **herramientas administrativas**y, a continuación, haga clic en **el Administrador de Internet Information Services (IIS) 7.0**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-204">Click **Start**, point to **Administrator Tools**, and then click **Internet Information Services (IIS) 7.0 Manager**.</span></span>  
  
2.  <span data-ttu-id="ecabb-205">En el Administrador de IIS, expanda **sitios**, expanda **sitio Web predeterminado**y, a continuación, expanda la aplicación Web **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp**que la **Asistente de publicación de servicio de WCF de BizTalk** creado.</span><span class="sxs-lookup"><span data-stu-id="ecabb-205">In IIS Manager, expand **Sites**, expand **Default Web Site**, and then expand the Web application **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** that the **BizTalk WCF Service Publishing Wizard** created.</span></span>  
  
3.  <span data-ttu-id="ecabb-206">Cree un grupo de aplicaciones en el que se va a ejecutar este servicio.</span><span class="sxs-lookup"><span data-stu-id="ecabb-206">Create an application pool within which this service will run.</span></span> <span data-ttu-id="ecabb-207">Haga clic en **grupos de aplicaciones**, haga clic en **Agregar grupo de aplicaciones**, escriba un nombre para el grupo de aplicaciones y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-207">Right-click **Application Pools**, click **Add Application Pool**, enter a name for the application pool, and then click **OK**.</span></span>  
  
4.  <span data-ttu-id="ecabb-208">Expanda **grupos de aplicaciones**, haga clic en el grupo de aplicaciones recién creado y, a continuación, seleccione **configuración avanzada**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-208">Expand **Application Pools**, right-click the application pool you just created, and then select **Advanced Settings**.</span></span> <span data-ttu-id="ecabb-209">En **modelo de proceso** sección, especifique la cuenta que tiene acceso a la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de datos en el **identidad** campo.</span><span class="sxs-lookup"><span data-stu-id="ecabb-209">Under **Process Model** section, enter the account which has access to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases under the **Identity** field.</span></span>  
  
5.  <span data-ttu-id="ecabb-210">En el Administrador de IIS, haga clic en **vista de contenido**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-210">In IIS Manager, click **Content View**.</span></span>  <span data-ttu-id="ecabb-211">En el panel derecho, haga clic en el [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] archivo .svc del servicio que la **Asistente de publicación de servicio de WCF de BizTalk** creado y, a continuación, haga clic en **examinar**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-211">In the right pane, right-click the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service .svc file that the **BizTalk WCF Service Publishing Wizard** created, and then click **Browse**.</span></span> <span data-ttu-id="ecabb-212">Con esto se abre Internet Explorer para mostrar una página que indica que ha creado correctamente un Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] en ejecución.</span><span class="sxs-lookup"><span data-stu-id="ecabb-212">This opens Internet Explorer to display a page that indicates you have successfully created a running [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="ecabb-213">La página también incluye una dirección WSDL completa que puede copiar y usar con una herramienta de metadatos de servicio (svcutil.exe) para recuperar código de proxy y un archivo de configuración que puede usarse para crear una aplicación cliente para el servicio.</span><span class="sxs-lookup"><span data-stu-id="ecabb-213">The page also includes a full WSDL address that you can copy and use with the Service Metadata Tool (svcutil.exe) to retrieve proxy code and a configuration file that can be used to create a client application for the service.</span></span>  
  
6.  <span data-ttu-id="ecabb-214">Copiar en el Portapapeles la línea de comandos SvcUtil.exe con la dirección WSDL completa especificada en la página que muestra Internet Explorer en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="ecabb-214">Copy to the Clipboard the SvcUtil.exe command line with the full WSDL address on the page that Internet Explorer displayed in the previous step.</span></span>  
  
### <a name="to-create-the-proxy-class-for-the-sample-wcf-client-application-wcfclient"></a><span data-ttu-id="ecabb-215">Para crear la clase de proxy para la aplicación de cliente WCF de ejemplo, WCFClient</span><span class="sxs-lookup"><span data-stu-id="ecabb-215">To create the proxy class for the sample WCF client application, WCFClient</span></span>  
  
1.  <span data-ttu-id="ecabb-216">Cree una clase de proxy para que la aplicación de ejemplo de cliente [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] pueda llamar al Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ecabb-216">Create a proxy class so the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] client sample application can call into the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="ecabb-217">Cuando un proxy no es necesario, escribir el código manualmente es muy complejo, por lo que se recomienda crear un proxy.</span><span class="sxs-lookup"><span data-stu-id="ecabb-217">While a proxy is not required, to manually write the code is very complex so creating a proxy is recommended.</span></span> <span data-ttu-id="ecabb-218">Abra un **Visual Studio Command Prompt** y vaya a la **C:\WCFBasicHttpReceiveAdapter\WCFClient** carpeta donde se colocará el archivo de configuración de aplicación y de clase de proxy.</span><span class="sxs-lookup"><span data-stu-id="ecabb-218">Open a **Visual Studio Command Prompt** and go to the **C:\WCFBasicHttpReceiveAdapter\WCFClient** folder where you will place the proxy class and application configuration file.</span></span>  
  
2.  <span data-ttu-id="ecabb-219">Pegar la **svcutil.exe** línea de comandos con la dirección WSDL completa que ha copiado en el procedimiento anterior y, a continuación, presione **ENTRAR** para crear el archivo de configuración de aplicación y de clase de proxy.</span><span class="sxs-lookup"><span data-stu-id="ecabb-219">Paste the **svcutil.exe** command line with the full WSDL address that you copied in the previous procedure, and then hit **Enter** to create the proxy class and application configuration file.</span></span> <span data-ttu-id="ecabb-220">Esta línea de comandos crea **BizTalkServiceInstance.cs** para la clase de proxy y **output.config** para el archivo de configuración de aplicación.</span><span class="sxs-lookup"><span data-stu-id="ecabb-220">This command line creates **BizTalkServiceInstance.cs** for the proxy class and **output.config** for the application configuration file.</span></span>  
  
3.  <span data-ttu-id="ecabb-221">En Visual Studio, en el Explorador de soluciones, haga clic en **WCFClient**, seleccione **agregar**y, a continuación, haga clic en **elemento existente**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-221">In Visual Studio, in Solution Explorer, right-click **WCFClient**, point to **Add**, and then click **Existing Item**.</span></span>  
  
4.  <span data-ttu-id="ecabb-222">En el **Agregar elemento existente** cuadro de diálogo, vaya a la **WCFClient** carpeta, seleccione **todos los archivos (\*.\*)**  en el **archivos de tipo** lista desplegable, seleccione la **BizTalkServiceInstance.cs** y **output.config** de archivos y, a continuación, haga clic en  **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-222">In the **Add Existing Item** dialog box, browse to the **WCFClient** folder, select **All Files (\*.\*)** in the **Files of type** drop-down list, select the **BizTalkServiceInstance.cs** and **output.config** files, and then click **Add**.</span></span>  
  
5.  <span data-ttu-id="ecabb-223">Para el **WCFClient** proyecto de equipo y expanda **referencias**y, a continuación, asegúrese de que el **WCFClient** proyecto tiene **System.ServiceModel** como uno de sus referencias.</span><span class="sxs-lookup"><span data-stu-id="ecabb-223">For the **WCFClient** project, expand **References**, and then make sure that the **WCFClient** project has **System.ServiceModel** as one of its references.</span></span>  
  
6.  <span data-ttu-id="ecabb-224">Expanda el **WCFClient** proyecto de equipo y haga clic en **output.config**, haga clic en **cambiar el nombre de**y, a continuación, escriba **App.config** para el nuevo nombre.</span><span class="sxs-lookup"><span data-stu-id="ecabb-224">Expand the **WCFClient** project, right-click **output.config**, click **Rename**, and then type **App.config** for the new name.</span></span>  
  
7.  <span data-ttu-id="ecabb-225">Haga doble clic en **Program.cs** para revisar cómo se llama publicado [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] servicio que utiliza la clase de proxy generada por **Svcutil.exe**.</span><span class="sxs-lookup"><span data-stu-id="ecabb-225">Double-click **Program.cs** to review how to call the published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service using the proxy class generated by **Svcutil.exe**.</span></span> <span data-ttu-id="ecabb-226">Las llamadas para instanciar e invocar un [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] servicio parecen ser llamadas locales en el código sencillo mediante el **Microsoft_Samples_BizTalk_WCFBasicHttpReceiveAdapter_BizTalkApp_DeliveryProcess_DeliveryRequestPortClient** clase.</span><span class="sxs-lookup"><span data-stu-id="ecabb-226">Calls to instantiate and invoke a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service appear to be local calls in the simplicity of coding using the **Microsoft_Samples_BizTalk_WCFBasicHttpReceiveAdapter_BizTalkApp_DeliveryProcess_DeliveryRequestPortClient** class.</span></span> <span data-ttu-id="ecabb-227">No se necesita ningún código adicional para realizar una llamada a un Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] remoto.</span><span class="sxs-lookup"><span data-stu-id="ecabb-227">There is no additional code needed to make a call to a remote [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  
  
8.  <span data-ttu-id="ecabb-228">En Visual Studio, en el **depurar** menú, haga clic en **iniciar sin depurar** para ejecutar WCFClient.</span><span class="sxs-lookup"><span data-stu-id="ecabb-228">In Visual Studio, on the **Debug** menu, click **Start Without Debugging** to run WCFClient.</span></span> <span data-ttu-id="ecabb-229">El código de cliente crea un mensaje DeliveryItem y realiza una llamada al Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)], y transmite la dirección, el identificador de producto y la cantidad.</span><span class="sxs-lookup"><span data-stu-id="ecabb-229">The client code creates a DeliveryItem message and makes a call to the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service, passing in the Address, ProductID, and Amount.</span></span>  
  
    ```  
    DeliveryItem deliveryRequestItem = new DeliveryItem();  
    deliveryRequestItem.Address = "One Microsoft Way";  
    deliveryRequestItem.ProductID = "00A120c";  
    deliveryRequestItem.Amount = "300";  
    DeliveryRequestPortClient deliveryProcessClient = new DeliveryRequestPortClient("BasicHttpBinding_ITwoWayAsync");  
    DeliveryItem1 deliveryConfirmation = deliveryProcessClient.Submit(deliveryRequestItem);  
    ```  
  
     <span data-ttu-id="ecabb-230">Si el cliente recibe correctamente el mensaje de respuesta del Servicio [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] publicado, mostrará el número de confirmación de entrega (una concatenación del identificador de producto y la dirección) en el mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="ecabb-230">If the client successfully receives the response message back from the published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service, it displays the delivery confirmation number (a concatenation of the ProductID and Address) in the response message.</span></span>  
  
     <span data-ttu-id="ecabb-231">**Enviar la operación con deliveryRequestItem**</span><span class="sxs-lookup"><span data-stu-id="ecabb-231">**Submit operation called with deliveryRequestItem**</span></span>  
  
     <span data-ttu-id="ecabb-232">**Devuelve el número de confirmación de entrega: 00A120c300One Microsoft Way**</span><span class="sxs-lookup"><span data-stu-id="ecabb-232">**Delivery confirmation number sent back: 00A120c300One Microsoft Way**</span></span>  
  
     <span data-ttu-id="ecabb-233">**Presione cualquier tecla para continuar...**</span><span class="sxs-lookup"><span data-stu-id="ecabb-233">**Press any key to continue . . .**</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ecabb-234">Vea también</span><span class="sxs-lookup"><span data-stu-id="ecabb-234">See Also</span></span>  
 [<span data-ttu-id="ecabb-235">Cómo usar el Asistente de publicación de servicios de WCF de BizTalk para publicar orquestaciones como servicios WCF</span><span class="sxs-lookup"><span data-stu-id="ecabb-235">How to Use the BizTalk WCF Service Publishing Wizard to Publish Orchestrations as WCF Services</span></span>](../core/publish-orchestrations-as-wcf-services--biztalk-wcf-service-publishing-wizard.md)