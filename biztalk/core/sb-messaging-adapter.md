---
title: Adaptador SB-Messaging | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c06c4934-45b2-4f6f-9d19-3ebd937c32ae
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2fb2eb8f532d72708dfca199f0eef794afdf77df
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="sb-messaging-adapter"></a><span data-ttu-id="41038-102">Adaptador SB-Messaging</span><span class="sxs-lookup"><span data-stu-id="41038-102">SB-Messaging Adapter</span></span>
<span data-ttu-id="41038-103">El Bus de servicio (**SB-Messaging**) se utiliza el adaptador para recibir y enviar de entidades de Service Bus como colas, temas y retransmisiones.</span><span class="sxs-lookup"><span data-stu-id="41038-103">The Service Bus (**SB-Messaging**) adapter is used to receive and send from Service Bus entities like Queues, Topics, and Relays.</span></span> <span data-ttu-id="41038-104">Puede usar el **SB-Messaging** adaptadores para unir la conectividad entre [!INCLUDE[winazure](../includes/winazure-md.md)] locales y en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], lo que permite a los usuarios crear una aplicación híbrida típica.</span><span class="sxs-lookup"><span data-stu-id="41038-104">You can use the **SB-Messaging** adapters to bridge the connectivity between [!INCLUDE[winazure](../includes/winazure-md.md)] and on-premises [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], thereby enabling users to create a typical hybrid application.</span></span> <span data-ttu-id="41038-105">Los temas de esta sección proporcionan instrucciones sobre cómo configurar un **SB-Messaging** ubicación de recepción y un puerto de envío para enviar y recibir mensajes de las entidades de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="41038-105">The topics in this section provide instructions on how to configure an **SB-Messaging** receive location and a send port to receive and send messages from the Service Bus entities.</span></span>  

## <a name="before-you-get-started"></a><span data-ttu-id="41038-106">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="41038-106">Before you get started</span></span>
<span data-ttu-id="41038-107">Bus de servicio proporciona dos métodos para autenticar: servicio de Control de acceso (ACS) y la firma de acceso compartido (SAS).</span><span class="sxs-lookup"><span data-stu-id="41038-107">Service Bus provides two methods to authenticate: Access Control Service (ACS) and the Shared Access Signature (SAS).</span></span> <span data-ttu-id="41038-108">Nuestra recomendación es usar la firma de acceso compartido (SAS) para autenticar con Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="41038-108">Our recommendation is to use Shared Access Signature (SAS) when authenticating with Service Bus.</span></span> <span data-ttu-id="41038-109">El valor de clave de acceso compartida aparece en la [portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="41038-109">The Shared Access Key value is listed in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="41038-110">Cuando se crea un espacio de nombres de Bus de servicio, no se crea automáticamente el espacio de nombres de Control de acceso (ACS).</span><span class="sxs-lookup"><span data-stu-id="41038-110">When you create a Service Bus namespace, the Access Control (ACS) namespace is not automatically created.</span></span> <span data-ttu-id="41038-111">Para usar el Control de acceso, necesita los valores de nombre del emisor y clave del emisor de este espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="41038-111">To use Access Control, you need the Issuer Name and Issuer Key values of this namespace.</span></span> <span data-ttu-id="41038-112">Estos valores están disponibles cuando se crea un nuevo espacio de nombres de ACS mediante Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="41038-112">These values are available when you create a new ACS namespace using Windows PowerShell.</span></span> <span data-ttu-id="41038-113">Estos valores no se muestran en el portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="41038-113">These values are not listed in the Azure portal.</span></span>

<span data-ttu-id="41038-114">Para usar ACS para la autenticación y obtener los valores de nombre del emisor y clave del emisor, los pasos generales son:</span><span class="sxs-lookup"><span data-stu-id="41038-114">To use ACS for authentication, and get the Issuer Name and Issuer Key values, the overall steps include:</span></span>

1. <span data-ttu-id="41038-115">Instalar el [cmdlets de Powershell de Azure](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span><span class="sxs-lookup"><span data-stu-id="41038-115">Install the [Azure Powershell cmdlets](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span></span>
2. <span data-ttu-id="41038-116">Agregue su cuenta de Azure:`Add-AzureAccount`</span><span class="sxs-lookup"><span data-stu-id="41038-116">Add your Azure account: `Add-AzureAccount`</span></span>
3. <span data-ttu-id="41038-117">Devolver el nombre de la suscripción:`get-azuresubscription`</span><span class="sxs-lookup"><span data-stu-id="41038-117">Return your subscription name: `get-azuresubscription`</span></span>
4. <span data-ttu-id="41038-118">Seleccione su suscripción:`select-azuresubscription <name of your subscription>`</span><span class="sxs-lookup"><span data-stu-id="41038-118">Select your subscription: `select-azuresubscription <name of your subscription>`</span></span> 
5. <span data-ttu-id="41038-119">Crear un nuevo espacio de nombres:`new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="41038-119">Create a new namespace: `new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>

    <span data-ttu-id="41038-120">Ejemplo:`new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="41038-120">Example:    `new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>
      
5. <span data-ttu-id="41038-121">Cuando se crea el nuevo espacio de nombres de ACS (que puede tardar varios minutos), se muestran los valores IssuerName y IssuerKey en la cadena de conexión:</span><span class="sxs-lookup"><span data-stu-id="41038-121">When the new ACS namespace is created (which can take several minutes), the IssuerName and IssuerKey values are listed in the connection string:</span></span> 

    ```
    Name                  : biztalksbnamespace
    Region                : South Central US
    DefaultKey            : abcdefghijklmnopqrstuvwxyz
    Status                : Active
    CreatedAt             : 10/18/2016 9:36:30 PM
    AcsManagementEndpoint : https://biztalksbnamespace-sb.accesscontrol.windows.net/
    ServiceBusEndpoint    : https://biztalksbnamespace.servicebus.windows.net/
    ConnectionString      : Endpoint=sb://biztalksbnamespace.servicebus.windows.net/;SharedSecretIssuer=owner;SharedSecretValue=abcdefghijklmnopqrstuvwxyz
    NamespaceType         : Messaging
    ```
[<span data-ttu-id="41038-122">Nueva AzureSBNamespace</span><span class="sxs-lookup"><span data-stu-id="41038-122">New-AzureSBNamespace</span></span>](https://msdn.microsoft.com/library/dn495165.aspx)

## <a name="receive-messages-from-service-bus"></a><span data-ttu-id="41038-123">Recibir mensajes de Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="41038-123">Receive messages from Service Bus</span></span>
  
<span data-ttu-id="41038-124">Esta sección proporciona información sobre cómo configurar un **SB-Messaging** ubicación de recepción utilizando la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="41038-124">This section provides information on how to configure an **SB-Messaging** Receive Location using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="41038-125">Antes de completar el procedimiento siguiente, debe haber agregado un unidireccional puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="41038-125">Before completing the following procedure, you must have already added a one-way receive port.</span></span> <span data-ttu-id="41038-126">Vea [cómo crear un puerto de recepción](../core/how-to-create-a-receive-port.md).</span><span class="sxs-lookup"><span data-stu-id="41038-126">See [How to create a receive port](../core/how-to-create-a-receive-port.md).</span></span>  

 
1.  <span data-ttu-id="41038-127">En la consola de administración de BizTalk Server, expanda [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expanda **grupo de BizTalk**, expanda **aplicaciones**y, a continuación, expanda la aplicación en la que desea crear una ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="41038-127">In the BizTalk Server Administration console, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand **BizTalk Group**, expand **Applications**, and then expand the application under you want to create a receive location.</span></span>  
  
2.  <span data-ttu-id="41038-128">En el panel izquierdo, haga clic en el nodo **Puertos de recepción** y, en el panel derecho, haga clic con el botón derecho en el puerto de recepción al que desea asociar la nueva ubicación de recepción y, a continuación, haga clic en **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="41038-128">In the left pane, click the **Receive Ports** node and in the right pane, right-click the receive port with which you want to associate the new receive location, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="41038-129">En el panel de la izquierda del cuadro de diálogo **Propiedades de puerto de recepción** , seleccione **Ubicaciones de recepción**y, en el panel de la derecha, haga clic en **Nueva** para crear una nueva ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="41038-129">In the left pane of the **Receive Port Properties** dialog box, select **Receive Locations**, and in the right pane click **New** to create a new receive location.</span></span>  
  
4.  <span data-ttu-id="41038-130">En el **propiedades de la ubicación de recepción** cuadro de diálogo, en el **transporte** sección, seleccione **SB-Messaging** desde el **tipo** lista desplegable y, a continuación, haga clic en **configurar** para configurar las propiedades de transporte para la ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="41038-130">In the **Receive Location Properties** dialog box, in the **Transport** section, select **SB-Messaging** from the **Type** drop-down list, and then click **Configure** to configure the transport properties for the receive location.</span></span>  
  
5.  <span data-ttu-id="41038-131">En el **propiedades de transporte SB-Messaging** cuadro de diálogo, en la **General** ficha, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="41038-131">In the **SB-Messaging Transport Properties** dialog box, in the **General** tab, do the following:</span></span>  
  
    |<span data-ttu-id="41038-132">Use</span><span class="sxs-lookup"><span data-stu-id="41038-132">Use this</span></span>|<span data-ttu-id="41038-133">Para</span><span class="sxs-lookup"><span data-stu-id="41038-133">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="41038-134">**Dirección URL de cola o suscripción**</span><span class="sxs-lookup"><span data-stu-id="41038-134">**Queue or Subscription URL**</span></span>|<span data-ttu-id="41038-135">Especifique la dirección URL en la que se implementa la cola de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="41038-135">Specify the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="41038-136">Normalmente, la dirección URL tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="41038-136">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`|  
    |<span data-ttu-id="41038-137">**Open Timeout**</span><span class="sxs-lookup"><span data-stu-id="41038-137">**Open Timeout**</span></span>|<span data-ttu-id="41038-138">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de apertura del canal.</span><span class="sxs-lookup"><span data-stu-id="41038-138">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="41038-139">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="41038-139">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="41038-140">**Tiempo de espera de cierre**</span><span class="sxs-lookup"><span data-stu-id="41038-140">**Close Timeout**</span></span>|<span data-ttu-id="41038-141">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de cierre del canal.</span><span class="sxs-lookup"><span data-stu-id="41038-141">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="41038-142">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="41038-142">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="41038-143">**Tiempo de espera de recepción**</span><span class="sxs-lookup"><span data-stu-id="41038-143">**Receive timeout**</span></span>|<span data-ttu-id="41038-144">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de recepción.</span><span class="sxs-lookup"><span data-stu-id="41038-144">Specifies a time span value that indicates the time for a receive operation to complete.</span></span><br /><br /> <span data-ttu-id="41038-145">**Valor predeterminado:** 10 minutos</span><span class="sxs-lookup"><span data-stu-id="41038-145">**Default value:** 10 minutes</span></span>|  
    |<span data-ttu-id="41038-146">**Número de capturas previas**</span><span class="sxs-lookup"><span data-stu-id="41038-146">**Prefetch count**</span></span>|<span data-ttu-id="41038-147">Especifica el número de mensajes que se reciben de forma simultánea de la cola o de un tema de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="41038-147">Specifies the number of messages that are received simultaneously from the Service Bus Queue or a topic.</span></span> <span data-ttu-id="41038-148">La captura previa permite a la cola o al cliente de la suscripción cargar mensajes adicionales desde el servicio al realizar una operación de recepción.</span><span class="sxs-lookup"><span data-stu-id="41038-148">Prefetching enables the queue or subscription client to load additional messages from the service when it performs a receive operation.</span></span> <span data-ttu-id="41038-149">El cliente almacena estos mensajes en una caché local.</span><span class="sxs-lookup"><span data-stu-id="41038-149">The client stores these messages in a local cache.</span></span> <span data-ttu-id="41038-150">El tamaño de la caché está determinado por el valor de la propiedad de recuento de captura previa que especifique aquí.</span><span class="sxs-lookup"><span data-stu-id="41038-150">The size of the cache is determined by the value for the Prefetch Count property you specify here.</span></span><br /><br /> <span data-ttu-id="41038-151">Para obtener más información, consulte la sección "Captura previa" en [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span><span class="sxs-lookup"><span data-stu-id="41038-151">For more information, refer to the section “Prefetching” at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span></span><br /><br /> <span data-ttu-id="41038-152">**Valor predeterminado:** -1</span><span class="sxs-lookup"><span data-stu-id="41038-152">**Default value:** -1</span></span>|  
    |<span data-ttu-id="41038-153">**Usar sesión**</span><span class="sxs-lookup"><span data-stu-id="41038-153">**Use Session**</span></span>|<span data-ttu-id="41038-154">Active esta casilla para usar una sesión de Service Bus para recibir mensajes de una cola o una suscripción.</span><span class="sxs-lookup"><span data-stu-id="41038-154">Select this check box to use a Service Bus session to receive messages from a queue or a subscription.</span></span>|  
  
6.  <span data-ttu-id="41038-155">En el **autenticación** ficha, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="41038-155">In the **Authentication** tab, do the following:</span></span>  
  
    |<span data-ttu-id="41038-156">Use</span><span class="sxs-lookup"><span data-stu-id="41038-156">Use this</span></span>|<span data-ttu-id="41038-157">Para</span><span class="sxs-lookup"><span data-stu-id="41038-157">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="41038-158">**Servicio de Control de acceso**</span><span class="sxs-lookup"><span data-stu-id="41038-158">**Access Control Service**</span></span>|<span data-ttu-id="41038-159">Seleccione esta opción para usar ACS para la autenticación y proporcione los valores siguientes:</span><span class="sxs-lookup"><span data-stu-id="41038-159">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="41038-160">: Especifique el URI STS de servicio de Control de acceso de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="41038-160">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="41038-161">Normalmente, el URI tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="41038-161">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="41038-162">: Especifique el nombre del emisor del espacio de nombres de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="41038-162">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="41038-163">: Especifique la clave del emisor del espacio de nombres de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="41038-163">- Enter the issuer key for the Service Bus namespace.</span></span>|  
    |<span data-ttu-id="41038-164">**Firma de acceso compartido** (nuevo a partir de [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="41038-164">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span>|<span data-ttu-id="41038-165">Seleccione esta opción para usar la autenticación con Firma de acceso compartido (SAS) y proporcione el nombre y el valor de la clave SAS.</span><span class="sxs-lookup"><span data-stu-id="41038-165">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>|  
  
7.  <span data-ttu-id="41038-166">En el **propiedades** ficha la **Namespace para propiedades de mensajes desacoplados** , especifique el espacio de nombres que utiliza el adaptador para escribir las propiedades de mensaje negociado como propiedades de contexto de mensaje en el mensaje recibido por [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="41038-166">In the **Properties** tab, in the **Namespace for Brokered Message Properties** field, specify the namespace that the adapter uses to write the brokered message properties as message context properties on the message received by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="41038-167">Además, si desea promocionar las propiedades de mensaje asíncrono, seleccione la **promocionar propiedades de mensajes desacoplados** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="41038-167">Additionally, if you want to promote the brokered message properties, select the **Promote Brokered Message Properties** check box.</span></span>  
  
8.  <span data-ttu-id="41038-168">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="41038-168">Click **OK**.</span></span>  
  
9. <span data-ttu-id="41038-169">Especifique los valores apropiados en el cuadro de diálogo **Propiedades de la ubicación de recepción** para completar la configuración de la ubicación de recepción y haga clic en **Aceptar** para guardar la configuración.</span><span class="sxs-lookup"><span data-stu-id="41038-169">Enter the appropriate values in the **Receive Location Properties** dialog box to complete the configuration of the receive location and click **OK** to save settings.</span></span> <span data-ttu-id="41038-170">Para obtener información sobre la **propiedades de ubicaciones de recepción** cuadro de diálogo, vea [cómo crear una ubicación de recepción](../core/how-to-create-a-receive-location.md).</span><span class="sxs-lookup"><span data-stu-id="41038-170">For information about the **Receive Locations Properties** dialog box, see [How to Create a Receive Location](../core/how-to-create-a-receive-location.md).</span></span>  
  
## <a name="send-messages-to-service-bus"></a><span data-ttu-id="41038-171">Enviar mensajes al Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="41038-171">Send messages to Service Bus</span></span>
<span data-ttu-id="41038-172">Esta sección proporciona información sobre cómo configurar un **SB-Messaging** puerto de envío mediante el [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="41038-172">This section provides information on how to configure an **SB-Messaging** send port using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
1.  <span data-ttu-id="41038-173">En la consola de administración de BizTalk Server, cree un nuevo puerto de envío o haga doble clic en un puerto de envío existente para modificarlo.</span><span class="sxs-lookup"><span data-stu-id="41038-173">In the BizTalk Server Administration console, create a new send port or double-click an existing send port to modify it.</span></span> <span data-ttu-id="41038-174">Para obtener más información, consulte [cómo crear un puerto de envío](../core/how-to-create-a-send-port2.md).</span><span class="sxs-lookup"><span data-stu-id="41038-174">For more information, see [How to Create a Send Port](../core/how-to-create-a-send-port2.md).</span></span> <span data-ttu-id="41038-175">Configure todas las opciones del puerto de envío y especifique **SB-Messaging** para el **tipo** opción en el **transporte** sección de la **General** pestaña.</span><span class="sxs-lookup"><span data-stu-id="41038-175">Configure all of the send port options and specify **SB-Messaging** for the **Type** option in the **Transport** section of the **General** tab.</span></span>  
  
2.  <span data-ttu-id="41038-176">En el **General** ficha la **transporte** sección, haga clic en el **configurar** botón.</span><span class="sxs-lookup"><span data-stu-id="41038-176">On the **General** tab, in the **Transport** section, click the **Configure** button.</span></span>  
  
3.  <span data-ttu-id="41038-177">En el **propiedades de transporte SB-Messaging** cuadro de diálogo, en la **General** ficha, especifique lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="41038-177">In the **SB-Messaging Transport Properties** dialog box, on the **General** tab, specify the following:</span></span>  
  
    |<span data-ttu-id="41038-178">Use</span><span class="sxs-lookup"><span data-stu-id="41038-178">Use this</span></span>|<span data-ttu-id="41038-179">Para</span><span class="sxs-lookup"><span data-stu-id="41038-179">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="41038-180">**Dirección URL de destino**</span><span class="sxs-lookup"><span data-stu-id="41038-180">**Destination URL**</span></span>|<span data-ttu-id="41038-181">Escriba la dirección URL donde se implementa la cola de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="41038-181">Enter the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="41038-182">Normalmente, la dirección URL tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="41038-182">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`|  
    |<span data-ttu-id="41038-183">**Intervalo de vaciado de lote**</span><span class="sxs-lookup"><span data-stu-id="41038-183">**Batch Flush Interval**</span></span>|<span data-ttu-id="41038-184">Especifica un valor de intervalo de tiempo que indica el intervalo en el que se vacían los lotes de mensajes que se envían a una cola o tema.</span><span class="sxs-lookup"><span data-stu-id="41038-184">Specifies a time span value that indicates the interval when the message batches being sent to a Queue or a Topic are flushed.</span></span> <span data-ttu-id="41038-185">El valor predeterminado es 20 milisegundos.</span><span class="sxs-lookup"><span data-stu-id="41038-185">The default value is 20 milliseconds.</span></span><br /><br /> <span data-ttu-id="41038-186">Para obtener más información sobre el procesamiento por lotes con respecto a los temas y colas de Bus de servicio, consulte la **procesamiento por lotes de cliente** sección en [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span><span class="sxs-lookup"><span data-stu-id="41038-186">For more information about batching with respect to Service Bus Queues and Topics, see the **Client-side batching** section at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span></span>|  
    |<span data-ttu-id="41038-187">**Open Timeout**</span><span class="sxs-lookup"><span data-stu-id="41038-187">**Open Timeout**</span></span>|<span data-ttu-id="41038-188">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de apertura del canal.</span><span class="sxs-lookup"><span data-stu-id="41038-188">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="41038-189">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="41038-189">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="41038-190">**Tiempo de espera de envío**</span><span class="sxs-lookup"><span data-stu-id="41038-190">**Send Timeout**</span></span>|<span data-ttu-id="41038-191">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de envío.</span><span class="sxs-lookup"><span data-stu-id="41038-191">Specifies a time span value that indicates the time for a send operation to complete.</span></span><br /><br /> <span data-ttu-id="41038-192">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="41038-192">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="41038-193">**Tiempo de espera de cierre**</span><span class="sxs-lookup"><span data-stu-id="41038-193">**Close Timeout**</span></span>|<span data-ttu-id="41038-194">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de cierre del canal.</span><span class="sxs-lookup"><span data-stu-id="41038-194">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="41038-195">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="41038-195">**Default value:** 1 minute</span></span>|  
  
4.  <span data-ttu-id="41038-196">En el **autenticación** ficha, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="41038-196">In the **Authentication** tab, do the following:</span></span>  
  
    |<span data-ttu-id="41038-197">Use</span><span class="sxs-lookup"><span data-stu-id="41038-197">Use this</span></span>|<span data-ttu-id="41038-198">Para</span><span class="sxs-lookup"><span data-stu-id="41038-198">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="41038-199">**Servicio de Control de acceso**</span><span class="sxs-lookup"><span data-stu-id="41038-199">**Access Control Service**</span></span>|<span data-ttu-id="41038-200">Seleccione esta opción para usar ACS para la autenticación y proporcione los valores siguientes:</span><span class="sxs-lookup"><span data-stu-id="41038-200">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="41038-201">: Especifique el URI STS de servicio de Control de acceso de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="41038-201">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="41038-202">Normalmente, el URI tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="41038-202">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="41038-203">: Especifique el nombre del emisor del espacio de nombres de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="41038-203">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="41038-204">: Especifique la clave del emisor del espacio de nombres de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="41038-204">- Enter the issuer key for the Service Bus namespace.</span></span>|  
    |<span data-ttu-id="41038-205">**Firma de acceso compartido** (nuevo a partir de [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="41038-205">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span>|<span data-ttu-id="41038-206">Seleccione esta opción para usar la autenticación con Firma de acceso compartido (SAS) y proporcione el nombre y el valor de la clave SAS.</span><span class="sxs-lookup"><span data-stu-id="41038-206">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>|  
  
5.  <span data-ttu-id="41038-207">En el **propiedades** ficha la **Namespace para el usuario define propiedades de mensajes desacoplados** , especifique el espacio de nombres que contiene las propiedades de contexto de mensaje de BizTalk que desee escribir como propiedades de mensajes desacoplados definidas por el usuario en el mensaje saliente enviado a la cola de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="41038-207">In the **Properties** tab, in the **Namespace for the user defined Brokered Message Properties** field, specify the namespace that contains the BizTalk message context properties that you want to write as user-defined Brokered Message properties on the outgoing message sent to the Service Bus Queue.</span></span> <span data-ttu-id="41038-208">Todas las propiedades que pertenezcan al espacio de nombres se escriben en el mensaje como propiedades de mensajes desacoplados definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="41038-208">All the properties that belong to the namespace are written to the message as user-defined Brokered Message properties.</span></span> <span data-ttu-id="41038-209">El adaptador ignora el espacio de nombres al escribir las propiedades como propiedades de mensajes desacoplados.</span><span class="sxs-lookup"><span data-stu-id="41038-209">The adapter ignores the namespace while writing the properties as Brokered Message properties.</span></span> <span data-ttu-id="41038-210">Usa el espacio de nombres solo para confirmar qué propiedades escribir.</span><span class="sxs-lookup"><span data-stu-id="41038-210">It uses the namespace only to ascertain what properties to write.</span></span>  
  
     <span data-ttu-id="41038-211">También puede especificar los valores de las propiedades BrokeredMessage.</span><span class="sxs-lookup"><span data-stu-id="41038-211">You can also specify the values for the BrokeredMessage properties.</span></span> <span data-ttu-id="41038-212">Para obtener más información acerca de las propiedades, vea [propiedades BrokeredMessage](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage_properties.aspx).</span><span class="sxs-lookup"><span data-stu-id="41038-212">For more information about the properties, see [BrokeredMessage Properties](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage_properties.aspx).</span></span>  
  
6.  <span data-ttu-id="41038-213">Haga clic en **Aceptar** y **Aceptar** nuevo para guardar la configuración.</span><span class="sxs-lookup"><span data-stu-id="41038-213">Click **OK** and **OK** again to save settings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="41038-214">Vea también</span><span class="sxs-lookup"><span data-stu-id="41038-214">See also</span></span>
[<span data-ttu-id="41038-215">Uso de adaptadores</span><span class="sxs-lookup"><span data-stu-id="41038-215">Using adapters</span></span>](../core/using-adapters.md)