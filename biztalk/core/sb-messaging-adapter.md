---
title: Adaptador de mensajería de Service Bus | Microsoft Docs
description: Enviar y recibir mensajes mediante el adaptador Azure SB-Messaging en BizTalk Server
ms.custom: ''
ms.date: 11/21/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c06c4934-45b2-4f6f-9d19-3ebd937c32ae
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3ce37fbf72f07bc3610a88096098722e8be55d6b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37015717"
---
# <a name="sb-messaging-adapter"></a><span data-ttu-id="a4ee6-103">Adaptador SB-Messaging</span><span class="sxs-lookup"><span data-stu-id="a4ee6-103">SB-Messaging Adapter</span></span>
<span data-ttu-id="a4ee6-104">Service Bus (**SB-Messaging**) se utiliza el adaptador para recibir y enviar de entidades de Service Bus como colas, temas y retransmisiones.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-104">The Service Bus (**SB-Messaging**) adapter is used to receive and send from Service Bus entities like Queues, Topics, and Relays.</span></span> <span data-ttu-id="a4ee6-105">Puede usar el **SB-Messaging** adaptador para conectarse a sus instalaciones [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en Azure.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-105">You can use the **SB-Messaging** adapter to connect your on-premises [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to Azure.</span></span>

<span data-ttu-id="a4ee6-106">**A partir de [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Feature Pack 2**, se admite Premium de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-106">**Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Feature Pack 2**, Service Bus Premium is supported.</span></span> <span data-ttu-id="a4ee6-107">Al configurar un puerto de envío con este adaptador, puede enviar mensajes a los temas y colas con particiones.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-107">When configuring a send port using this adapter, you can send messages to partitioned queues and topics.</span></span> 

## <a name="authenticating-with-service-bus"></a><span data-ttu-id="a4ee6-108">Autenticar con Service Bus</span><span class="sxs-lookup"><span data-stu-id="a4ee6-108">Authenticating with Service Bus</span></span>
<span data-ttu-id="a4ee6-109">Service Bus ofrece dos métodos de autenticación:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-109">Service Bus provides two methods to authenticate:</span></span> 

- <span data-ttu-id="a4ee6-110">Access Control Service (ACS)</span><span class="sxs-lookup"><span data-stu-id="a4ee6-110">Access Control Service (ACS)</span></span> 
- <span data-ttu-id="a4ee6-111">Firma de acceso compartido (SAS)</span><span class="sxs-lookup"><span data-stu-id="a4ee6-111">Shared Access Signature (SAS)</span></span>

<span data-ttu-id="a4ee6-112">Se recomienda usar la firma de acceso compartido (SAS) para autenticar con Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-112">We recommend using Shared Access Signature (SAS) to authenticate with Service Bus.</span></span> <span data-ttu-id="a4ee6-113">El valor de clave de acceso compartido aparece en la [portal Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="a4ee6-113">The Shared Access Key value is listed in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="a4ee6-114">Cuando se crea un espacio de nombres de Service Bus, no se crea automáticamente el espacio de nombres de Access Control (ACS).</span><span class="sxs-lookup"><span data-stu-id="a4ee6-114">When you create a Service Bus namespace, the Access Control (ACS) namespace is not automatically created.</span></span> <span data-ttu-id="a4ee6-115">Para usar el Control de acceso, necesitará los valores de nombre del emisor y clave del emisor de este espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-115">To use Access Control, you need the Issuer Name and Issuer Key values of this namespace.</span></span> <span data-ttu-id="a4ee6-116">Estos valores están disponibles cuando se crea un nuevo espacio de nombres de ACS mediante Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-116">These values are available when you create a new ACS namespace using Windows PowerShell.</span></span> <span data-ttu-id="a4ee6-117">Estos valores no se muestran en el portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-117">These values are not listed in the Azure portal.</span></span>

<span data-ttu-id="a4ee6-118">Para usar ACS para la autenticación y obtener los valores de nombre del emisor y clave del emisor, los pasos generales son:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-118">To use ACS for authentication, and get the Issuer Name and Issuer Key values, the overall steps include:</span></span>

1. <span data-ttu-id="a4ee6-119">Instalar el [cmdlets de Powershell de Azure](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span><span class="sxs-lookup"><span data-stu-id="a4ee6-119">Install the [Azure Powershell cmdlets](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span></span>
2. <span data-ttu-id="a4ee6-120">Agregue su cuenta de Azure: `Add-AzureAccount`</span><span class="sxs-lookup"><span data-stu-id="a4ee6-120">Add your Azure account: `Add-AzureAccount`</span></span>
3. <span data-ttu-id="a4ee6-121">Devolver el nombre de la suscripción: `get-azuresubscription`</span><span class="sxs-lookup"><span data-stu-id="a4ee6-121">Return your subscription name: `get-azuresubscription`</span></span>
4. <span data-ttu-id="a4ee6-122">Seleccione su suscripción: `select-azuresubscription <name of your subscription>`</span><span class="sxs-lookup"><span data-stu-id="a4ee6-122">Select your subscription: `select-azuresubscription <name of your subscription>`</span></span> 
5. <span data-ttu-id="a4ee6-123">Crear un nuevo espacio de nombres: `new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="a4ee6-123">Create a new namespace: `new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>

    <span data-ttu-id="a4ee6-124">Ejemplo:    `new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="a4ee6-124">Example:    `new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>

5. <span data-ttu-id="a4ee6-125">Cuando se crea el nuevo espacio de nombres de ACS (que puede tardar varios minutos), se muestran los valores IssuerName y IssuerKey en la cadena de conexión:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-125">When the new ACS namespace is created (which can take several minutes), the IssuerName and IssuerKey values are listed in the connection string:</span></span> 

    ```
    Name                  : biztalksbnamespace
    Region                : South Central US
    DefaultKey            : abcdefghijklmnopqrstuvwxyz
    Status                : Active
    CreatedAt             : 10/18/2016 9:36:30 PM
    AcsManagementEndpoint : https://biztalksbnamespace-sb.accesscontrol.windows.net/
    ServiceBusEndpoint    : https://biztalksbnamespace.servicebus.windows.net/
    ConnectionString      : Endpoint=sb://biztalksbnamespace.servicebus.windows.net/;SharedSecretIssuer=owner;SharedSecretValue=abcdefghijklmnopqrstuvwxyz
    NamespaceType         : Messaging
    ```

<span data-ttu-id="a4ee6-126">Consulte [New-AzureSBNamespace](https://docs.microsoft.com/powershell/module/Azure/New-AzureSBNamespace) para obtener instrucciones.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-126">See [New-AzureSBNamespace](https://docs.microsoft.com/powershell/module/Azure/New-AzureSBNamespace) for guidance.</span></span>

## <a name="receive-messages-from-service-bus"></a><span data-ttu-id="a4ee6-127">Recibir mensajes de Service Bus</span><span class="sxs-lookup"><span data-stu-id="a4ee6-127">Receive messages from Service Bus</span></span>

1. <span data-ttu-id="a4ee6-128">En la consola de administración de BizTalk Server, expanda **grupo de BizTalk**, expanda **aplicaciones**y, a continuación, expanda la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-128">In the BizTalk Server Administration console, expand **BizTalk Group**, expand **Applications**, and then expand your application.</span></span> 

2. <span data-ttu-id="a4ee6-129">Haga clic en **puertos de recepción**, seleccione **New**y seleccione **unidireccional puerto de recepción**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-129">Right-click **Receive Ports**, select **New**, and select **One-Way receive port**.</span></span> 

3. <span data-ttu-id="a4ee6-130">Asígnele un nombre y seleccione **ubicaciones de recepción**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-130">Give it a name, and select **Receive Locations**.</span></span> 

4. <span data-ttu-id="a4ee6-131">Seleccione **New**, asígnele una **nombre**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-131">Select **New**, give it a **Name**.</span></span> <span data-ttu-id="a4ee6-132">En el **transporte** sección, seleccione **SB-Messaging** desde el **tipo** lista desplegable y, a continuación, seleccione **configurar**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-132">In the **Transport** section, select **SB-Messaging** from the **Type** drop-down list, and then select **Configure**.</span></span>  

5. <span data-ttu-id="a4ee6-133">Configurar la **General** propiedades:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-133">Configure the **General** properties:</span></span>  


   |           <span data-ttu-id="a4ee6-134">Use</span><span class="sxs-lookup"><span data-stu-id="a4ee6-134">Use this</span></span>            |                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="a4ee6-135">Para</span><span class="sxs-lookup"><span data-stu-id="a4ee6-135">To do this</span></span>                                                                                                                                                                                                                                                                                                                                               |
   |-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="a4ee6-136">**Dirección URL de cola o suscripción**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-136">**Queue or Subscription URL**</span></span> |                                                                                                                                                                                                                                                               <span data-ttu-id="a4ee6-137">Especifique la dirección URL en la que se implementa la cola de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-137">Specify the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="a4ee6-138">Normalmente, la dirección URL tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-138">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`                                                                                                                                                                                                                                                               |
   |       <span data-ttu-id="a4ee6-139">**Tiempo de espera de abrir**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-139">**Open Timeout**</span></span>        |                                                                                                                                                                                                                                                                                 <span data-ttu-id="a4ee6-140">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de apertura del canal.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-140">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="a4ee6-141">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="a4ee6-141">**Default value:** 1 minute</span></span>                                                                                                                                                                                                                                                                                 |
   |       <span data-ttu-id="a4ee6-142">**Tiempo de espera de cierre**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-142">**Close Timeout**</span></span>       |                                                                                                                                                                                                                                                                                <span data-ttu-id="a4ee6-143">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de cierre del canal.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-143">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="a4ee6-144">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="a4ee6-144">**Default value:** 1 minute</span></span>                                                                                                                                                                                                                                                                                 |
   |      <span data-ttu-id="a4ee6-145">**Tiempo de espera de recepción**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-145">**Receive timeout**</span></span>      |                                                                                                                                                                                                                                                                                  <span data-ttu-id="a4ee6-146">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de recepción.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-146">Specifies a time span value that indicates the time for a receive operation to complete.</span></span><br /><br /> <span data-ttu-id="a4ee6-147">**Valor predeterminado:** 10 minutos</span><span class="sxs-lookup"><span data-stu-id="a4ee6-147">**Default value:** 10 minutes</span></span>                                                                                                                                                                                                                                                                                   |
   |      <span data-ttu-id="a4ee6-148">**Número de capturas previas**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-148">**Prefetch count**</span></span>       | <span data-ttu-id="a4ee6-149">Especifica el número de mensajes que se reciben de forma simultánea de la cola o de un tema de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-149">Specifies the number of messages that are received simultaneously from the Service Bus Queue or a topic.</span></span> <span data-ttu-id="a4ee6-150">La captura previa permite a la cola o al cliente de la suscripción cargar mensajes adicionales desde el servicio al realizar una operación de recepción.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-150">Prefetching enables the queue or subscription client to load additional messages from the service when it performs a receive operation.</span></span> <span data-ttu-id="a4ee6-151">El cliente almacena estos mensajes en una caché local.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-151">The client stores these messages in a local cache.</span></span> <span data-ttu-id="a4ee6-152">El tamaño de la caché está determinado por el valor de la propiedad de recuento de captura previa que especifique aquí.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-152">The size of the cache is determined by the value for the Prefetch Count property you specify here.</span></span><br /><br /> <span data-ttu-id="a4ee6-153">Para obtener más información, consulte la sección "Captura previa" en [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span><span class="sxs-lookup"><span data-stu-id="a4ee6-153">For more information, refer to the section “Prefetching” at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span></span><br /><br /> <span data-ttu-id="a4ee6-154">**Valor predeterminado:** -1</span><span class="sxs-lookup"><span data-stu-id="a4ee6-154">**Default value:** -1</span></span> |
   |        <span data-ttu-id="a4ee6-155">**Usar sesión**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-155">**Use Session**</span></span>        |                                                                                                                                                                                                                                                                                                <span data-ttu-id="a4ee6-156">Active esta casilla para usar una sesión de Service Bus para recibir mensajes de una cola o una suscripción.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-156">Select this check box to use a Service Bus session to receive messages from a queue or a subscription.</span></span>                                                                                                                                                                                                                                                                                                 |


6. <span data-ttu-id="a4ee6-157">Configurar la **autenticación** propiedades:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-157">Configure the **Authentication** properties:</span></span>  


   |                                               <span data-ttu-id="a4ee6-158">Use</span><span class="sxs-lookup"><span data-stu-id="a4ee6-158">Use this</span></span>                                                |                                                                                                                                                                                             <span data-ttu-id="a4ee6-159">Para</span><span class="sxs-lookup"><span data-stu-id="a4ee6-159">To do this</span></span>                                                                                                                                                                                             |
   |-------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |                                      <span data-ttu-id="a4ee6-160">**Servicio de Control de acceso**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-160">**Access Control Service**</span></span>                                       | <span data-ttu-id="a4ee6-161">Seleccione esta opción para usar ACS para la autenticación y proporcione los valores siguientes:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-161">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="a4ee6-162">-Escriba el URI de STS de Access Control Service de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-162">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="a4ee6-163">Normalmente, el URI tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-163">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="a4ee6-164">-Escriba el nombre del emisor del espacio de nombres de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-164">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="a4ee6-165">-Escriba la clave del emisor del espacio de nombres de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-165">- Enter the issuer key for the Service Bus namespace.</span></span> |
   | <span data-ttu-id="a4ee6-166">**Firma de acceso compartido** (nuevo a partir de [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="a4ee6-166">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span> |                                                                                                                                          <span data-ttu-id="a4ee6-167">Seleccione esta opción para usar la autenticación con Firma de acceso compartido (SAS) y proporcione el nombre y el valor de la clave SAS.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-167">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>                                                                                                                                          |


7. <span data-ttu-id="a4ee6-168">En el **propiedades** ficha la **Namespace para propiedades de mensajes desacoplados**, escriba el espacio de nombres que utiliza el adaptador para escribir las propiedades de mensaje negociado como propiedades de contexto de mensaje en el mensaje recibido por [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a4ee6-168">In the **Properties** tab, in the **Namespace for Brokered Message Properties**, enter the namespace that the adapter uses to write the brokered message properties as message context properties on the message received by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="a4ee6-169">Si desea promocionar las propiedades de mensaje negociado, seleccione el **promocionar propiedades de mensajes desacoplados** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-169">If you want to promote the brokered message properties, select the **Promote Brokered Message Properties** check box.</span></span>  

8. <span data-ttu-id="a4ee6-170">Seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-170">Select **OK**.</span></span>  

9. <span data-ttu-id="a4ee6-171">Seleccione su **controlador de recepción**y el **canalización de recepción**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-171">Select your **Receive handler**, and the **Receive pipeline**.</span></span> <span data-ttu-id="a4ee6-172">Seleccione **Aceptar** para guardar los cambios.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-172">Select **OK** to save your changes.</span></span> <span data-ttu-id="a4ee6-173">[Crear una ubicación de recepción](../core/how-to-create-a-receive-location.md) proporciona alguna orientación.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-173">[Create a Receive Location](../core/how-to-create-a-receive-location.md) provides some guidance.</span></span>  

## <a name="send-messages-to-service-bus"></a><span data-ttu-id="a4ee6-174">Enviar mensajes a Service Bus</span><span class="sxs-lookup"><span data-stu-id="a4ee6-174">Send messages to Service Bus</span></span>

1. <span data-ttu-id="a4ee6-175">En la consola de administración de BizTalk Server, haga clic en **puertos de envío**, seleccione **New**y seleccione **puerto de envío unidireccional estático**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-175">In the BizTalk Server Administration console, right-click **Send Ports**, select **New**, and select **Static One-way send port**.</span></span>

   <span data-ttu-id="a4ee6-176">[Crear un puerto de envío](../core/how-to-create-a-send-port2.md) proporciona alguna orientación.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-176">[Create a Send Port](../core/how-to-create-a-send-port2.md) provides some guidance.</span></span>

2. <span data-ttu-id="a4ee6-177">Escriba un **nombre**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-177">Enter a **Name**.</span></span> <span data-ttu-id="a4ee6-178">En **transporte**, establezca el **tipo** a **SB-Messaging**y seleccione **configurar**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-178">In **Transport**, set the **Type** to **SB-Messaging**, and select **Configure**.</span></span> 

3. <span data-ttu-id="a4ee6-179">Configurar la **General** propiedades:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-179">Configure the **General** properties:</span></span>  


   |         <span data-ttu-id="a4ee6-180">Use</span><span class="sxs-lookup"><span data-stu-id="a4ee6-180">Use this</span></span>         |                                                                                                                                                                                                                                             <span data-ttu-id="a4ee6-181">Para</span><span class="sxs-lookup"><span data-stu-id="a4ee6-181">To do this</span></span>                                                                                                                                                                                                                                              |
   |--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   <span data-ttu-id="a4ee6-182">**Dirección URL de destino**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-182">**Destination URL**</span></span>    |                                                                                                                                                               <span data-ttu-id="a4ee6-183">Escriba la dirección URL donde se implementa la cola de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-183">Enter the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="a4ee6-184">Normalmente, la dirección URL tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-184">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`                                                                                                                                                               |
   | <span data-ttu-id="a4ee6-185">**Intervalo de vaciado de lote**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-185">**Batch Flush Interval**</span></span> | <span data-ttu-id="a4ee6-186">Especifica un valor de intervalo de tiempo que indica el intervalo en el que se vacían los lotes de mensajes que se envían a una cola o tema.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-186">Specifies a time span value that indicates the interval when the message batches being sent to a Queue or a Topic are flushed.</span></span> <span data-ttu-id="a4ee6-187">El valor predeterminado es 20 milisegundos.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-187">The default value is 20 milliseconds.</span></span><br /><br /> <span data-ttu-id="a4ee6-188">Para obtener más información sobre el procesamiento por lotes con respecto a los temas y colas de Service Bus, consulte el **procesamiento por lotes del lado cliente** sección en [ https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements ](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span><span class="sxs-lookup"><span data-stu-id="a4ee6-188">For more information about batching with respect to Service Bus Queues and Topics, see the **Client-side batching** section at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span></span> |
   |     <span data-ttu-id="a4ee6-189">**Tiempo de espera de abrir**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-189">**Open Timeout**</span></span>     |                                                                                                                                                                                <span data-ttu-id="a4ee6-190">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de apertura del canal.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-190">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="a4ee6-191">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="a4ee6-191">**Default value:** 1 minute</span></span>                                                                                                                                                                                |
   |     <span data-ttu-id="a4ee6-192">**Tiempo de espera de envío**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-192">**Send Timeout**</span></span>     |                                                                                                                                                                                    <span data-ttu-id="a4ee6-193">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de envío.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-193">Specifies a time span value that indicates the time for a send operation to complete.</span></span><br /><br /> <span data-ttu-id="a4ee6-194">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="a4ee6-194">**Default value:** 1 minute</span></span>                                                                                                                                                                                    |
   |    <span data-ttu-id="a4ee6-195">**Tiempo de espera de cierre**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-195">**Close Timeout**</span></span>     |                                                                                                                                                                               <span data-ttu-id="a4ee6-196">Especifica un valor de marco temporal que indica el tiempo para que se complete una operación de cierre del canal.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-196">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="a4ee6-197">**Valor predeterminado:** 1 minuto</span><span class="sxs-lookup"><span data-stu-id="a4ee6-197">**Default value:** 1 minute</span></span>                                                                                                                                                                                |


4. <span data-ttu-id="a4ee6-198">Configurar la **autenticación** propiedades:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-198">Configure the **Authentication** properties:</span></span> 


   |                                               <span data-ttu-id="a4ee6-199">Use</span><span class="sxs-lookup"><span data-stu-id="a4ee6-199">Use this</span></span>                                                |                                                                                                                                                                                             <span data-ttu-id="a4ee6-200">Para</span><span class="sxs-lookup"><span data-stu-id="a4ee6-200">To do this</span></span>                                                                                                                                                                                             |
   |-------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |                                      <span data-ttu-id="a4ee6-201">**Servicio de Control de acceso**</span><span class="sxs-lookup"><span data-stu-id="a4ee6-201">**Access Control Service**</span></span>                                       | <span data-ttu-id="a4ee6-202">Seleccione esta opción para usar ACS para la autenticación y proporcione los valores siguientes:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-202">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="a4ee6-203">-Escriba el URI de STS de Access Control Service de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-203">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="a4ee6-204">Normalmente, el URI tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="a4ee6-204">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="a4ee6-205">-Escriba el nombre del emisor del espacio de nombres de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-205">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="a4ee6-206">-Escriba la clave del emisor del espacio de nombres de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-206">- Enter the issuer key for the Service Bus namespace.</span></span> |
   | <span data-ttu-id="a4ee6-207">**Firma de acceso compartido** (nuevo a partir de [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="a4ee6-207">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span> |                                                                                                                                          <span data-ttu-id="a4ee6-208">Seleccione esta opción para usar la autenticación con Firma de acceso compartido (SAS) y proporcione el nombre y el valor de la clave SAS.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-208">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>                                                                                                                                          |


5. <span data-ttu-id="a4ee6-209">En el **propiedades** , escriba el **Namespace para el usuario define propiedades de mensajes desacoplados** que contiene las propiedades de contexto de mensaje de BizTalk que se desean escribir en el mensaje saliente a Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-209">In the **Properties** tab, enter the **Namespace for the user defined Brokered Message Properties** that contains the BizTalk message context properties that you want to write on the outgoing message to Service Bus.</span></span> <span data-ttu-id="a4ee6-210">Todas las propiedades de espacio de nombres se escriben en el mensaje como propiedades de mensajes desacoplados definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-210">All the namespace properties are written to the message as user-defined Brokered Message properties.</span></span> <span data-ttu-id="a4ee6-211">El adaptador ignora el espacio de nombres al escribir las propiedades como propiedades de mensajes desacoplados.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-211">The adapter ignores the namespace while writing the properties as Brokered Message properties.</span></span> <span data-ttu-id="a4ee6-212">Usa el espacio de nombres solo para confirmar qué propiedades escribir.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-212">It uses the namespace only to ascertain what properties to write.</span></span>  

    <span data-ttu-id="a4ee6-213">También puede especificar los valores de las propiedades BrokeredMessage.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-213">You can also enter the values for the BrokeredMessage properties.</span></span> <span data-ttu-id="a4ee6-214">Estas propiedades se describen en [propiedades BrokeredMessage](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.brokeredmessage), incluido el **clave de partición**.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-214">These properties are described at [BrokeredMessage Properties](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.brokeredmessage), including the **Partition Key**.</span></span>

6. <span data-ttu-id="a4ee6-215">Seleccione **Aceptar** para guardar los cambios.</span><span class="sxs-lookup"><span data-stu-id="a4ee6-215">Select **OK** to save your changes.</span></span>  

## <a name="see-also"></a><span data-ttu-id="a4ee6-216">Vea también</span><span class="sxs-lookup"><span data-stu-id="a4ee6-216">See also</span></span>
[<span data-ttu-id="a4ee6-217">Uso de adaptadores</span><span class="sxs-lookup"><span data-stu-id="a4ee6-217">Using adapters</span></span>](../core/using-adapters.md)