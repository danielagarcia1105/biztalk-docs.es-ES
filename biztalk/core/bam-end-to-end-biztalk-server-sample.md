---
title: Ejemplo de extremo a extremo BAM en BizTalk Server | Microsoft Docs
description: Escenario sobre cómo correlacionar eventos desde varios componentes mediante la actividad económica en BizTalk Server
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 81406038-7f3f-499f-a003-12423d92c44b
caps.latest.revision: 35
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fca4bd709a872df739d82fbdfbeabc78df9d09f0
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37006501"
---
# <a name="bam-end-to-end-biztalk-server-sample"></a><span data-ttu-id="cff9e-103">Extremo a extremo de BAM (ejemplo de BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="cff9e-103">BAM End-to-End (BizTalk Server Sample)</span></span>
<span data-ttu-id="cff9e-104">En el ejemplo de extremo a extremo se muestra cómo correlacionar eventos desde varios componentes (en este caso, tres orquestaciones y una canalización) mediante BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-104">The End-to-End sample demonstrates how to correlate events from multiple components (in this case, three orchestrations and a pipeline) by using BAM.</span></span>  

 <span data-ttu-id="cff9e-105">BAM reconstruye la actividad económica que abarca el componente de canalización y las orquestaciones.</span><span class="sxs-lookup"><span data-stu-id="cff9e-105">BAM reconstructs the business activity that spans the pipeline component and orchestrations.</span></span> <span data-ttu-id="cff9e-106">En el nivel más bajo, esto funciona mediante llamadas a **EventStream.EnableContinuation** de cada componente de implementación que espera más eventos de la actividad.</span><span class="sxs-lookup"><span data-stu-id="cff9e-106">At the lowest level, this works by calls to **EventStream.EnableContinuation** from each implementation component that expects more events for the activity.</span></span> <span data-ttu-id="cff9e-107">La llamada a **EnableContinuation** es explícita, mientras que las llamadas de Orchestration1 y Orchestration2 se realizan mediante la adición de una carpeta Continuation al perfil de seguimiento en una programación y una carpeta ContinuationID a la programación que sigue a él.</span><span class="sxs-lookup"><span data-stu-id="cff9e-107">The call to **EnableContinuation** is explicit, while calls in Orchestration1 and Orchestration2 are made by adding a Continuation folder to the Tracking profile in one schedule, and a ContinuationID folder to the schedule that follows it.</span></span>  

 <span data-ttu-id="cff9e-108">En el siguiente diagrama se muestra el flujo de trabajo usado en el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-108">The following diagram illustrates the workflow used in the sample.</span></span>  

 <span data-ttu-id="cff9e-109">![](../core/media/ebiz-sdk-samples-bam-endtoendwkflw.gif "ebiz_sdk_samples_bam_endtoendwkflw")</span><span class="sxs-lookup"><span data-stu-id="cff9e-109">![](../core/media/ebiz-sdk-samples-bam-endtoendwkflw.gif "ebiz_sdk_samples_bam_endtoendwkflw")</span></span>  


## <a name="what-this-sample-does"></a><span data-ttu-id="cff9e-110">Descripción del ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-110">What This Sample Does</span></span>  
 <span data-ttu-id="cff9e-111">En el ejemplo de extremo a extremo de BAM se muestra cómo puede usar BAM para recopilar información desde una canalización y varias orquestaciones y actualizar una única actividad.</span><span class="sxs-lookup"><span data-stu-id="cff9e-111">The BAM end-to-end sample shows how you can use BAM to gather information from a pipeline and multiple orchestrations and update a single activity.</span></span>  

## <a name="how-this-sample-was-designed-and-why"></a><span data-ttu-id="cff9e-112">Cómo y por qué se ha diseñado este ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-112">How This Sample Was Designed and Why</span></span>  
 <span data-ttu-id="cff9e-113">El ejemplo de extremo a extremo de BAM se ha diseñado para demostrar las siguientes actividades:</span><span class="sxs-lookup"><span data-stu-id="cff9e-113">The BAM end-to-end sample was designed to illustrate the following activities:</span></span>  

-   <span data-ttu-id="cff9e-114">Uso de BAM dentro de una canalización</span><span class="sxs-lookup"><span data-stu-id="cff9e-114">Using BAM within a pipeline.</span></span>  

-   <span data-ttu-id="cff9e-115">Uso del Editor de perfiles de seguimiento (TPE) para asignar elementos de actividad a formas en una orquestación y a elementos de un mensaje</span><span class="sxs-lookup"><span data-stu-id="cff9e-115">Using the Tracking Profile Editor (TPE) to map activity items to shapes in an orchestration and elements of a message.</span></span>  

-   <span data-ttu-id="cff9e-116">Uso de continuaciones para mantener activa una actividad cuando contribuyen a ella varias piezas de una solución</span><span class="sxs-lookup"><span data-stu-id="cff9e-116">Using continuations to keep an activity active when multiple pieces of a solution contribute to the activity.</span></span>  


<span data-ttu-id="cff9e-117">El ejemplo funciona como se describe a continuación:</span><span class="sxs-lookup"><span data-stu-id="cff9e-117">The sample works as follows:</span></span>  

1.  <span data-ttu-id="cff9e-118">Un mensaje de entrada se recupera de la  *\<ruta de ejemplos\>* carpeta \BamEndToEnd\Input.</span><span class="sxs-lookup"><span data-stu-id="cff9e-118">An input message is retrieved from the *\<Samples Path\>* \BamEndToEnd\Input folder.</span></span>  

2.  <span data-ttu-id="cff9e-119">El componente de canalización asigna un identificador de documento único al mensaje y usa la API de BAM para comenzar una nueva actividad de BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-119">The pipeline component assigns a unique DocumentID to the message, and uses the BAM API to begin a new BAM activity.</span></span> <span data-ttu-id="cff9e-120">El DocumentID se adjunta como una parte separada del mensaje de entrada para que esté disponible para las orquestaciones.</span><span class="sxs-lookup"><span data-stu-id="cff9e-120">The DocumentID is attached as a separate part of the input message to make it available to the orchestrations.</span></span>  

3.  <span data-ttu-id="cff9e-121">La Orchestration1 se activa cuando se recibe el mensaje de entrada.</span><span class="sxs-lookup"><span data-stu-id="cff9e-121">The service Orchestration1 is activated when the input message is received.</span></span>  

4.  <span data-ttu-id="cff9e-122">La Orchestration1 modifica el mensaje de entrada y lo pasa como un parámetro a la Orchestration2.</span><span class="sxs-lookup"><span data-stu-id="cff9e-122">Orchestration1 modifies the input message and passes it as a parameter to Orchestration2.</span></span>  

5.  <span data-ttu-id="cff9e-123">La Orchestration2 modifica el mensaje de entrada y lo envía a la base de datos de cuadro de mensajes, la cual activa la Orchestration3.</span><span class="sxs-lookup"><span data-stu-id="cff9e-123">Orchestration2 modifies the input message and sends it to the MessageBox database, which activates Orchestration3.</span></span>  

6.  <span data-ttu-id="cff9e-124">La Orchestration3 modifica el mensaje y lo escribe en la carpeta  *\<ruta de ejemplos\>* \BamEndToEnd\Output.</span><span class="sxs-lookup"><span data-stu-id="cff9e-124">Orchestration3 modifies the message and writes it to the folder *\<Samples Path\>* \BamEndToEnd\Output.</span></span>  

7.  <span data-ttu-id="cff9e-125">Cada orquestación actualiza los elementos de actividad de la actividad de BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-125">Each orchestration updates activity items in the BAM activity.</span></span>  

## <a name="where-to-find-this-sample"></a><span data-ttu-id="cff9e-126">Ubicación del ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-126">Where to Find This Sample</span></span>  
 <span data-ttu-id="cff9e-127">Puede encontrar este ejemplo en  *\<ruta de ejemplos\>* \BAM\BamEndToEnd.</span><span class="sxs-lookup"><span data-stu-id="cff9e-127">You can find this sample at *\<Samples Path\>* \BAM\BamEndToEnd.</span></span>  

 <span data-ttu-id="cff9e-128">En la tabla siguiente se enumeran los archivos del ejemplo y se describe su propósito.</span><span class="sxs-lookup"><span data-stu-id="cff9e-128">The following table shows the files in this sample and describes their purpose.</span></span>  


|                                        <span data-ttu-id="cff9e-129">Archivos</span><span class="sxs-lookup"><span data-stu-id="cff9e-129">File(s)</span></span>                                        |                                         <span data-ttu-id="cff9e-130">Descripción</span><span class="sxs-lookup"><span data-stu-id="cff9e-130">Description</span></span>                                          |
|---------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
|                                    <span data-ttu-id="cff9e-131">BamEndToEnd.sln</span><span class="sxs-lookup"><span data-stu-id="cff9e-131">BamEndToEnd.sln</span></span>                                    |                               <span data-ttu-id="cff9e-132">Solución de ejemplo de Extremo a extremo de BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-132">BAM End-to-End sample solution.</span></span>                                |
|                                    <span data-ttu-id="cff9e-133">BamEndToEnd.xls</span><span class="sxs-lookup"><span data-stu-id="cff9e-133">BamEndToEnd.xls</span></span>                                    |                                 <span data-ttu-id="cff9e-134">Hoja de estilos de definición de BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-134">BAM definition style sheet.</span></span>                                  |
|                                    <span data-ttu-id="cff9e-135">BamEndToEnd.xml</span><span class="sxs-lookup"><span data-stu-id="cff9e-135">BamEndToEnd.xml</span></span>                                    |                                     <span data-ttu-id="cff9e-136">XML de definición de BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-136">BAM definition XML.</span></span>                                      |
|                                <span data-ttu-id="cff9e-137">BAMEndToEndBinding.xml</span><span class="sxs-lookup"><span data-stu-id="cff9e-137">BAMEndToEndBinding.xml</span></span>                                 |                                         <span data-ttu-id="cff9e-138">Enlace de BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-138">BAM binding.</span></span>                                         |
|                                      <span data-ttu-id="cff9e-139">Cleanup.bat</span><span class="sxs-lookup"><span data-stu-id="cff9e-139">Cleanup.bat</span></span>                                      |                              <span data-ttu-id="cff9e-140">Archivo por lotes que se usa para anular la implementación del ejemplo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-140">Batch file to undeploy the sample.</span></span>                              |
|                                   <span data-ttu-id="cff9e-141">InputMessage.xml</span><span class="sxs-lookup"><span data-stu-id="cff9e-141">InputMessage.xml</span></span>                                    |                                        <span data-ttu-id="cff9e-142">Mensaje de entrada.</span><span class="sxs-lookup"><span data-stu-id="cff9e-142">Input message.</span></span>                                        |
|                                       <span data-ttu-id="cff9e-143">Setup.bat</span><span class="sxs-lookup"><span data-stu-id="cff9e-143">Setup.bat</span></span>                                       |                         <span data-ttu-id="cff9e-144">Archivo por lotes para compilar e implementar el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-144">Batch file to compile and deploy the sample.</span></span>                         |
|                              <span data-ttu-id="cff9e-145">\Components\AssemblyInfo.cs</span><span class="sxs-lookup"><span data-stu-id="cff9e-145">\Components\AssemblyInfo.cs</span></span>                              |                                   <span data-ttu-id="cff9e-146">Código de componente de canalización.</span><span class="sxs-lookup"><span data-stu-id="cff9e-146">Pipeline component code.</span></span>                                   |
|                       <span data-ttu-id="cff9e-147">\Components\BAMMessagePartPLComponent.cs</span><span class="sxs-lookup"><span data-stu-id="cff9e-147">\Components\BAMMessagePartPLComponent.cs</span></span>                        |                                   <span data-ttu-id="cff9e-148">Código de componente de canalización.</span><span class="sxs-lookup"><span data-stu-id="cff9e-148">Pipeline component code.</span></span>                                   |
|                             <span data-ttu-id="cff9e-149">\Components\Components.csproj</span><span class="sxs-lookup"><span data-stu-id="cff9e-149">\Components\Components.csproj</span></span>                             |                                 <span data-ttu-id="cff9e-150">Proyecto de componentes de canalización.</span><span class="sxs-lookup"><span data-stu-id="cff9e-150">Pipeline component project.</span></span>                                  |
| <span data-ttu-id="cff9e-151">\Messages\InputMessage01.xml</span><span class="sxs-lookup"><span data-stu-id="cff9e-151">\Messages\InputMessage01.xml</span></span><br /><br /> <span data-ttu-id="cff9e-152">…</span><span class="sxs-lookup"><span data-stu-id="cff9e-152">...</span></span><br /><br /> <span data-ttu-id="cff9e-153">\Messages\InputMessage10.xml</span><span class="sxs-lookup"><span data-stu-id="cff9e-153">\Messages\InputMessage10.xml</span></span> |                                    <span data-ttu-id="cff9e-154">Mensajes de entrada de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-154">Sample input messages.</span></span>                                    |
|                               <span data-ttu-id="cff9e-155">\Services\BAMInbound.btp</span><span class="sxs-lookup"><span data-stu-id="cff9e-155">\Services\BAMInbound.btp</span></span>                                |                                    <span data-ttu-id="cff9e-156">Archivo de canalización de entrada.</span><span class="sxs-lookup"><span data-stu-id="cff9e-156">Inbound pipeline file.</span></span>                                    |
|                              <span data-ttu-id="cff9e-157">\Services\BAMPartSchema.xsd</span><span class="sxs-lookup"><span data-stu-id="cff9e-157">\Services\BAMPartSchema.xsd</span></span>                              |                                   <span data-ttu-id="cff9e-158">Esquema de mensajes de la parte de BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-158">BAM part message schema.</span></span>                                   |
|                             <span data-ttu-id="cff9e-159">\Services\Orchestration1.odx</span><span class="sxs-lookup"><span data-stu-id="cff9e-159">\Services\Orchestration1.odx</span></span>                              |                                        <span data-ttu-id="cff9e-160">Orquestación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-160">Orchestration.</span></span>                                        |
|                             <span data-ttu-id="cff9e-161">\Services\Orchestration2.odx</span><span class="sxs-lookup"><span data-stu-id="cff9e-161">\Services\Orchestration2.odx</span></span>                              |                                        <span data-ttu-id="cff9e-162">Orquestación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-162">Orchestration.</span></span>                                        |
|                             <span data-ttu-id="cff9e-163">\Services\Orchestration3.odx</span><span class="sxs-lookup"><span data-stu-id="cff9e-163">\Services\Orchestration3.odx</span></span>                              |                                        <span data-ttu-id="cff9e-164">Orquestación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-164">Orchestration.</span></span>                                        |
|                             <span data-ttu-id="cff9e-165">\Services\PropertySchema.xsd</span><span class="sxs-lookup"><span data-stu-id="cff9e-165">\Services\PropertySchema.xsd</span></span>                              |                                       <span data-ttu-id="cff9e-166">Esquema de propiedad.</span><span class="sxs-lookup"><span data-stu-id="cff9e-166">Property schema.</span></span>                                       |
|                                 <span data-ttu-id="cff9e-167">\Services\Schema1.xsd</span><span class="sxs-lookup"><span data-stu-id="cff9e-167">\Services\Schema1.xsd</span></span>                                 |                                       <span data-ttu-id="cff9e-168">Esquema de mensajes.</span><span class="sxs-lookup"><span data-stu-id="cff9e-168">Message schema.</span></span>                                        |
|                                 <span data-ttu-id="cff9e-169">\Services\Schema2.xsd</span><span class="sxs-lookup"><span data-stu-id="cff9e-169">\Services\Schema2.xsd</span></span>                                 |                                       <span data-ttu-id="cff9e-170">Esquema de mensajes.</span><span class="sxs-lookup"><span data-stu-id="cff9e-170">Message schema.</span></span>                                        |
|                                 <span data-ttu-id="cff9e-171">Services\Schema3.xsd</span><span class="sxs-lookup"><span data-stu-id="cff9e-171">Services\Schema3.xsd</span></span>                                  |                                       <span data-ttu-id="cff9e-172">Esquema de mensajes.</span><span class="sxs-lookup"><span data-stu-id="cff9e-172">Message schema.</span></span>                                        |
|                               <span data-ttu-id="cff9e-173">\Services\Services.btproj</span><span class="sxs-lookup"><span data-stu-id="cff9e-173">\Services\Services.btproj</span></span>                               | <span data-ttu-id="cff9e-174">Archivo de proyecto de BizTalk de [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cff9e-174">[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] BizTalk file project.</span></span> |
|                               <span data-ttu-id="cff9e-175">\Services\Transform_1.btm</span><span class="sxs-lookup"><span data-stu-id="cff9e-175">\Services\Transform_1.btm</span></span>                               |                                          <span data-ttu-id="cff9e-176">Archivo de asignación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-176">Map file.</span></span>                                           |
|                               <span data-ttu-id="cff9e-177">\Services\Transform_2.btm</span><span class="sxs-lookup"><span data-stu-id="cff9e-177">\Services\Transform_2.btm</span></span>                               |                                          <span data-ttu-id="cff9e-178">Archivo de asignación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-178">Map file.</span></span>                                           |
|                               <span data-ttu-id="cff9e-179">\Services\Transform_3.btm</span><span class="sxs-lookup"><span data-stu-id="cff9e-179">\Services\Transform_3.btm</span></span>                               |                                          <span data-ttu-id="cff9e-180">Archivo de asignación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-180">Map file.</span></span>                                           |

## <a name="how-to-use-this-sample"></a><span data-ttu-id="cff9e-181">Uso del ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-181">How to Use This Sample</span></span>  
 <span data-ttu-id="cff9e-182">Use los siguientes procedimientos para generar y ejecutar el ejemplo de extremo a extremo de BAM:</span><span class="sxs-lookup"><span data-stu-id="cff9e-182">Use the following procedures to build and run the BAM End-to-End sample:</span></span>  

-   [<span data-ttu-id="cff9e-183">Para crear e inicializar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-183">To build and initialize this sample</span></span>](#To_Build_Sample)  

-   [<span data-ttu-id="cff9e-184">Para ejecutar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-184">To run this sample</span></span>](#To_Run_Sample)  

-   [<span data-ttu-id="cff9e-185">Para ver los datos de BAM</span><span class="sxs-lookup"><span data-stu-id="cff9e-185">To view the BAM data</span></span>](#To_View_Data)  

##  <a name="To_Build_Sample"></a><span data-ttu-id="cff9e-186">Crear e inicializar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-186">Build and initialize this sample</span></span>  

1.  <span data-ttu-id="cff9e-187">Abra un símbolo del sistema como administrador y ejecute  *\<ruta de ejemplos\>* \BAM\BAMEndToEnd\Setup.bat.</span><span class="sxs-lookup"><span data-stu-id="cff9e-187">Open a command prompt as Administrator, and run *\<Samples Path\>* \BAM\BAMEndToEnd\Setup.bat.</span></span> <span data-ttu-id="cff9e-188">Setup.bat genera e inicializa la infraestructura de BAM para este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-188">Setup.bat builds and initializes the BAM infrastructure for this sample.</span></span> <span data-ttu-id="cff9e-189">Mantenga abierto el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="cff9e-189">Keep the command prompt open.</span></span>  

2.  <span data-ttu-id="cff9e-190">Cree un perfil de seguimiento para asignar Orchestration1, Orchestration2 y Orchestration3 a la actividad de BAM.</span><span class="sxs-lookup"><span data-stu-id="cff9e-190">Create a tracking profile to map Orchestration1, Orchestration2, and Orchestration3 to the BAM activity.</span></span> <span data-ttu-id="cff9e-191">(Dado que crear el perfil de seguimiento es un proceso complejo, las instrucciones detalladas se encuentran en un procedimiento independiente denominado **para crear un perfil de seguimiento**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-191">(Because creating the tracking profile is a complex process, the detailed instructions are in a separate procedure called **To create a tracking profile**.</span></span> <span data-ttu-id="cff9e-192">Este procedimiento aparece más adelante en este documento).</span><span class="sxs-lookup"><span data-stu-id="cff9e-192">This procedure appears later in this document.)</span></span>  

3.  <span data-ttu-id="cff9e-193">Implemente el perfil de seguimiento BamEndToEnd.btt que creó en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="cff9e-193">Deploy the tracking profile BamEndToEnd.btt that you created in the previous step.</span></span>  <span data-ttu-id="cff9e-194">En el símbolo del sistema, cambie a la  *\<ruta de ejemplos\>* directorio \BAM\BamEndToEnd.</span><span class="sxs-lookup"><span data-stu-id="cff9e-194">In the command prompt change to the *\<Samples Path\>* \BAM\BamEndToEnd directory.</span></span> <span data-ttu-id="cff9e-195">Para implementar el perfil de seguimiento, escriba la línea siguiente y, a continuación, presione **ENTRAR**:</span><span class="sxs-lookup"><span data-stu-id="cff9e-195">To deploy the tracking profile, type the following line, and then press **Enter**:</span></span>  

    `“<BizTalkInstallationPath>\Tracking\bttdeploy” BamEndToEnd.btt`

     <span data-ttu-id="cff9e-196">[Cómo implementar perfiles de seguimiento con la utilidad de administración de perfiles de seguimiento](../core/how-to-deploy-tracking-profiles-with-the-tracking-profiles-management-utility.md) proporciona más información.</span><span class="sxs-lookup"><span data-stu-id="cff9e-196">[How to Deploy Tracking Profiles with the Tracking Profiles Management Utility](../core/how-to-deploy-tracking-profiles-with-the-tracking-profiles-management-utility.md) provides more information.</span></span>

    > [!IMPORTANT]
    >  <span data-ttu-id="cff9e-197">Puede pasar por alto el mensaje que indica que el identificador de continuación Orch1_ no tiene una continuación coincidente.</span><span class="sxs-lookup"><span data-stu-id="cff9e-197">You can ignore the message that the ContinuationID Orch1_ does not have a matching Continuation.</span></span> <span data-ttu-id="cff9e-198">Es previsible que aparezca este mensaje, pues la continuación denominada Orch1_ está definida en el componente de canalización y no en el perfil de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="cff9e-198">This message is expected, because the continuation named Orch1_ is defined in the pipeline component, and not in the tracking profile.</span></span>  

##  <a name="To_Run_Sample"></a><span data-ttu-id="cff9e-199">Ejecutar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-199">Run this sample</span></span>  

<span data-ttu-id="cff9e-200">Copie el archivo  *\<ruta de ejemplos\>* \BamEndToEnd\InputMessage.xml en la carpeta  *\<ruta de ejemplos\>* \BamEndToEnd\Input.</span><span class="sxs-lookup"><span data-stu-id="cff9e-200">Copy the file *\<Samples Path\>* \BamEndToEnd\InputMessage.xml into the folder *\<Samples Path\>* \BamEndToEnd\Input.</span></span> <span data-ttu-id="cff9e-201">Después de unos segundos, el mensaje desaparece de la carpeta de entrada y aparece un mensaje de salida en el  *\<ruta de ejemplos\>* carpeta \BamEndToEnd\Output.</span><span class="sxs-lookup"><span data-stu-id="cff9e-201">After a few seconds, the message disappears from the Input folder, and an output message appears in the *\<Samples Path\>* \BamEndToEnd\Output folder.</span></span>  

##  <a name="To_View_Data"></a><span data-ttu-id="cff9e-202">Ver los datos de BAM</span><span class="sxs-lookup"><span data-stu-id="cff9e-202">View the BAM data</span></span>  

1.  <span data-ttu-id="cff9e-203">Abra SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="cff9e-203">Open SQL Server Management Studio.</span></span>  

2.  <span data-ttu-id="cff9e-204">En SQL Server Management Studio, expanda el servidor, **bases de datos**, expanda **BAMPrimaryImport**y, a continuación, expanda **tablas**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-204">In SQL Server Management Studio, expand the server, expand **Databases**, expand **BAMPrimaryImport**, and then expand **Tables**.</span></span>  

3.  <span data-ttu-id="cff9e-205">Haga clic en **dbo.bam_EndToEndActivity_Completed**y, a continuación, haga clic en **Abrir tabla**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-205">Right-click **dbo.bam_EndToEndActivity_Completed**, and then click **Open Table**.</span></span> <span data-ttu-id="cff9e-206">Si usa SQL Server, haga clic en **seleccionar las 1000 primeras filas**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-206">If you are using SQL Server, click **Select top 1000 rows**.</span></span>  

     <span data-ttu-id="cff9e-207">El contenido de la tabla bam_EndToEndActivity_Completed se muestra en el panel derecho.</span><span class="sxs-lookup"><span data-stu-id="cff9e-207">The contents of the bam_EndToEndActivity_Completed table are displayed in the right pane.</span></span> <span data-ttu-id="cff9e-208">Cada fila de la tabla representa una actividad EndToEndActivity que se ha completado.</span><span class="sxs-lookup"><span data-stu-id="cff9e-208">Each row in the table represents an EndToEndActivity activity that has been completed.</span></span>  

#### <a name="rerun-this-sample"></a><span data-ttu-id="cff9e-209">Vuelva a ejecutar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="cff9e-209">Rerun this sample</span></span>  

1. <span data-ttu-id="cff9e-210">Abra un símbolo del sistema como administrador y cambie a la  *\<ruta de ejemplos\>* directorio \BAM\BamEndToEnd.</span><span class="sxs-lookup"><span data-stu-id="cff9e-210">Open a command prompt as Administrator, and change to the *\<Samples Path\>* \BAM\BamEndToEnd directory.</span></span> <span data-ttu-id="cff9e-211">Escriba la línea siguiente:</span><span class="sxs-lookup"><span data-stu-id="cff9e-211">Type the following line:</span></span>  

   `“C:\Program Files\Microsoft BizTalk Server <version>\Tracking\bttdeploy” BamEndToEnd.btt /remove`  

   > [!NOTE]
   >  <span data-ttu-id="cff9e-212">Si no instaló [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en la unidad C, reemplace "C" por la letra de unidad donde se instaló [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cff9e-212">If you did not install [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to the C drive, replace "C" with the drive letter where you installed [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  

2. <span data-ttu-id="cff9e-213">Ejecute  *\<ejemplos de la ruta de acceso\>* \BAM\BAMEndToEnd\Cleanup.bat.</span><span class="sxs-lookup"><span data-stu-id="cff9e-213">Run *\<Samples Path\>* \BAM\BAMEndToEnd\Cleanup.bat.</span></span> <span data-ttu-id="cff9e-214">Cleanup.bat quita la infraestructura de BAM para este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-214">Cleanup.bat removes the BAM infrastructure for this sample.</span></span>  

3. <span data-ttu-id="cff9e-215">Realice los pasos en **para crear e inicializar este ejemplo** en este tema.</span><span class="sxs-lookup"><span data-stu-id="cff9e-215">Perform the steps in **To build and initialize this sample** section in this topic.</span></span>  

##  <a name="TPE_procedure"></a><span data-ttu-id="cff9e-216">Crear un perfil de seguimiento</span><span class="sxs-lookup"><span data-stu-id="cff9e-216">Create a tracking profile</span></span>  

1. <span data-ttu-id="cff9e-217">Haga clic en **iniciar**, apunte a **todos los programas**, apunte a [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cff9e-217">Click **Start**, point to **All Programs**, point to [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)].</span></span> <span data-ttu-id="cff9e-218">Haga clic en **Editor de perfiles de seguimiento**, y **ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-218">Right-click **Tracking Profile Editor**, and **Run as administrator**.</span></span>  

2. <span data-ttu-id="cff9e-219">En el panel izquierdo de la **Editor de perfiles de seguimiento** ventana, haga clic en **haga clic aquí para seleccionar una definición de actividad de BAM**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-219">In the left pane of the **Tracking Profile Editor** window, click **Click here to import a BAM Activity Definition**.</span></span>  

3. <span data-ttu-id="cff9e-220">En el **nombre de definición de actividad de BAM** sección de la **Importar definición de actividad de BAM** cuadro de diálogo, seleccione **EndToEndActivity**y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-220">In the  **BAM Activity Definition Name** section of the **Import BAM Activity Definition** dialog box, select **EndToEndActivity**, and then click **OK**.</span></span>  

4. <span data-ttu-id="cff9e-221">En el panel derecho de la **Editor de perfiles de seguimiento** ventana, haga clic en **haga clic aquí para seleccionar un origen de eventos**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-221">In the right pane of the **Tracking Profile Editor** window, click **Click here to select an event source**.</span></span>  

5. <span data-ttu-id="cff9e-222">En el **nombre del ensamblado** sección de la **seleccionar ensamblado primario de origen de eventos** cuadro de diálogo, seleccione **Microsoft.Samples.BizTalk.BamEndToEnd.Services**y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-222">In the **Assembly Name** section of the **Select Event Source Parent Assembly** dialog box, select **Microsoft.Samples.BizTalk.BamEndToEnd.Services**, and then click **Next**.</span></span>  

6. <span data-ttu-id="cff9e-223">En el **nombre de la orquestación** sección de la **Seleccionar orquestación** cuadro de diálogo, seleccione **BamEndToEnd.Services.Orchestration1**y, a continuación, haga clic en **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="cff9e-223">In the **Orchestration Name** section of the **Select Orchestration** dialog box, select **BamEndToEnd.Services.Orchestration1**, and then click **OK**.</span></span>  

7. <span data-ttu-id="cff9e-224">En el panel izquierdo de la **Editor de perfiles de seguimiento** ventana, haga clic en **EndToEndActivity**y, a continuación, haga clic en **nuevo ContinuationID**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-224">In the left pane of the **Tracking Profile Editor** window, right-click **EndToEndActivity**, and then click **New ContinuationID**.</span></span> <span data-ttu-id="cff9e-225">Nombre del nuevo continuation ID **Orch1_**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-225">Name the new continuation ID **Orch1_**.</span></span> <span data-ttu-id="cff9e-226">Repita este paso para crear la continuación de más de dos identificadores denominados **Orch2_** y **Orch3_**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-226">Repeat this step to create two more continuation IDs named **Orch2_** and **Orch3_**.</span></span>  

8. <span data-ttu-id="cff9e-227">Haga clic en **EndToEndActivity**y, a continuación, haga clic en **nueva Continuation**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-227">Right-click **EndToEndActivity**, and then click **New Continuation**.</span></span> <span data-ttu-id="cff9e-228">Nombre de la nueva continuación **Orch2_**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-228">Name the new continuation **Orch2_**.</span></span> <span data-ttu-id="cff9e-229">Repita este paso para crear otra continuación denominada **Orch3_**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-229">Repeat this step to create another continuation named **Orch3_**.</span></span>  

9. <span data-ttu-id="cff9e-230">Haga clic en el **Receive1** dar forma y, a continuación, haga clic en **esquemas de propiedad de contexto**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-230">Right-click the **Receive1** shape, and then click **Context Property Schemas**.</span></span>  

10. <span data-ttu-id="cff9e-231">Desplácese hasta el final de la **nombre de la propiedad de contexto** lista y, a continuación, haga doble clic en **BAMEndToEnd.Services.PropertySchema.DocumentID**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-231">Scroll to the end of the **Context Property Name** list, and then double-click **BAMEndToEnd.Services.PropertySchema.DocumentID**.</span></span>  

11. <span data-ttu-id="cff9e-232">Expanda  **\<esquema\>** y, a continuación, arrastre **DocumentID** en el panel derecho a **Orch1_** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-232">Expand **\<Schema\>**, and then drag **DocumentID** in the right pane to **Orch1_** in the left pane.</span></span>  

12. <span data-ttu-id="cff9e-233">Haga clic en el icono de carpeta con la flecha (![botón con carpeta y flecha arriba](../core/media/abccd08b-2b01-49c6-80ed-a032bbbd10d4.gif "abccd08b-2b01-49c6-80ed-a032bbbd10d4")) dos veces para mostrar la orquestación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-233">Click the folder icon with the arrow (![button with folder and up arrow](../core/media/abccd08b-2b01-49c6-80ed-a032bbbd10d4.gif "abccd08b-2b01-49c6-80ed-a032bbbd10d4")) twice to display the orchestration.</span></span>  

13. <span data-ttu-id="cff9e-234">Arrastre el **Receive1** forma en el panel derecho a **SBegin1** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-234">Drag the **Receive1** shape in the right pane to **SBegin1** in the left pane.</span></span>  

14. <span data-ttu-id="cff9e-235">Arrastre el **StartOrchestration_1** forma en el panel derecho a **SEnd1** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-235">Drag the **StartOrchestration_1** shape in the right pane to **SEnd1** in the left pane.</span></span>  

15. <span data-ttu-id="cff9e-236">Haga clic en el **StartOrchestration_1** dar forma y, a continuación, haga clic en **Message Payload Schemas**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-236">Right-click the **StartOrchestration_1** shape, and then click **Message Payload Schemas**.</span></span>  

16. <span data-ttu-id="cff9e-237">Haga doble clic en la fila que contiene el valor "Message_2" en el **mensaje** columna y el valor "MessageBody" en el **parte** columna.</span><span class="sxs-lookup"><span data-stu-id="cff9e-237">Double-click the row that contains the value “Message_2” in the **Message** column and the value “MessageBody” in the **Part** column.</span></span>  

     <span data-ttu-id="cff9e-238">![Mensaje de muestra del esquema de carga de mensaje TPE&#95;2](../core/media/77fbc444-46cf-4d45-8e9c-c330da7ba7d1.gif "77fbc444-46cf-4d45-8e9c-c330da7ba7d1")</span><span class="sxs-lookup"><span data-stu-id="cff9e-238">![TPE Message Payload schema showing message&#95;2](../core/media/77fbc444-46cf-4d45-8e9c-c330da7ba7d1.gif "77fbc444-46cf-4d45-8e9c-c330da7ba7d1")</span></span>  

17. <span data-ttu-id="cff9e-239">Expanda **Schema2**y, a continuación, arrastre **Data2** en el panel derecho a **Data1** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-239">Expand **Schema2**, and then drag **Data2** in the right pane to **Data1** in the left pane.</span></span>  

18. <span data-ttu-id="cff9e-240">Haga clic en **Seleccionar origen de eventos**y, a continuación, haga clic en **Seleccionar propiedad de contexto**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-240">Click **Select Event Source**, and then click **Select Context Property**.</span></span>  

19. <span data-ttu-id="cff9e-241">Desplácese hasta el final de la **nombre de la propiedad de contexto** lista y, a continuación, haga doble clic en **BAMEndToEnd.Services.PropertySchema.DocumentID**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-241">Scroll to the end of the **Context Property Name** list, and then double-click **BAMEndToEnd.Services.PropertySchema.DocumentID**.</span></span>  

20. <span data-ttu-id="cff9e-242">Expanda  **\<esquema\>** y, a continuación, arrastre **DocumentID** a la **Orch2_** continuación en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-242">Expand **\<Schema\>**, and then drag **DocumentID** to the **Orch2_** continuation in the left pane.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="cff9e-243">No confunda la continuación Orch2_ con el identificador de continuación Orch2_.</span><span class="sxs-lookup"><span data-stu-id="cff9e-243">Do not confuse the Orch2_ continuation with the Orch2_ continuation ID.</span></span> <span data-ttu-id="cff9e-244">El icono que representa un identificador de continuación contiene una clave (![icono para un identificador de continuación](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), mientras que el icono que representa una continuación no contiene una clave ( ![icono para una continuación](../core/media/test.gif "probar")).</span><span class="sxs-lookup"><span data-stu-id="cff9e-244">The icon that represents a continuation ID contains a key (![icon for a continuation ID](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), whereas the icon that represents a continuation does not contain a key (![icon for a continuation](../core/media/test.gif "test")).</span></span>  

21. <span data-ttu-id="cff9e-245">Haga clic en **Seleccionar origen de eventos**y, a continuación, haga clic en **seleccionar programación de orquestación**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-245">Click **Select Event Source**, and then click **Select Orchestration Schedule**.</span></span>  

22. <span data-ttu-id="cff9e-246">En el **nombre del ensamblado** sección de la **seleccionar ensamblado primario de origen de eventos** cuadro de diálogo, seleccione **Microsoft.Samples.BizTalk.BamEndToEnd.Services**y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-246">In the **Assembly Name** section of the **Select Event Source Parent Assembly** dialog box, select **Microsoft.Samples.BizTalk.BamEndToEnd.Services**, and then click **Next**.</span></span>  

23. <span data-ttu-id="cff9e-247">En el **nombre de la orquestación** sección de la **Seleccionar orquestación** cuadro de diálogo, seleccione **BamEndToEnd.Services.Orchestration2**y, a continuación, haga clic en **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="cff9e-247">In the **Orchestration Name** section of the **Select Orchestration** dialog box, select **BamEndToEnd.Services.Orchestration2**, and then click **OK**.</span></span>  

24. <span data-ttu-id="cff9e-248">Haga clic en el **ConstructMessage_1** dar forma y, a continuación, haga clic en **Message Payload Schemas**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-248">Right-click the **ConstructMessage_1** shape, and then click **Message Payload Schemas**.</span></span>  

25. <span data-ttu-id="cff9e-249">Haga doble clic en la fila que contiene el valor "Message_3" en el **mensaje** columna y el valor "BAMPart" en el **parte** columna.</span><span class="sxs-lookup"><span data-stu-id="cff9e-249">Double-click the row that contains the value “Message_3” in the **Message** column and the value “BAMPart” in the **Part** column.</span></span>  

26. <span data-ttu-id="cff9e-250">Expanda **BAMPart**y, a continuación, arrastre **DocumentID** en el panel derecho a la **Orch2_** identificador de continuación en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-250">Expand **BAMPart**, and then drag **DocumentID** in the right pane to the **Orch2_** continuation ID in the left pane.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="cff9e-251">No confunda la continuación Orch2_ con el identificador de continuación Orch2_.</span><span class="sxs-lookup"><span data-stu-id="cff9e-251">Do not confuse the Orch2_ continuation with the Orch2_ continuation ID.</span></span> <span data-ttu-id="cff9e-252">El icono que representa un identificador de continuación contiene una clave (![icono para un identificador de continuación](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), mientras que el icono que representa una continuación no contiene una clave ( ![icono para una continuación](../core/media/test.gif "probar")).</span><span class="sxs-lookup"><span data-stu-id="cff9e-252">The icon that represents a continuation ID contains a key (![icon for a continuation ID](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), whereas the icon that represents a continuation does not contain a key (![icon for a continuation](../core/media/test.gif "test")).</span></span>  

27. <span data-ttu-id="cff9e-253">Haga clic en el icono de carpeta con la flecha (![botón con carpeta y hasta&#45;flecha](../core/media/abccd08b-2b01-49c6-80ed-a032bbbd10d4.gif "abccd08b-2b01-49c6-80ed-a032bbbd10d4")) dos veces para mostrar la orquestación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-253">Click the folder icon with the arrow (![button with folder and up&#45;arrow](../core/media/abccd08b-2b01-49c6-80ed-a032bbbd10d4.gif "abccd08b-2b01-49c6-80ed-a032bbbd10d4")) twice to display the orchestration.</span></span>  

28. <span data-ttu-id="cff9e-254">Arrastre el **ConstructMessage_1** forma en el panel derecho a **SBegin2** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-254">Drag the **ConstructMessage_1** shape in the right pane to **SBegin2** in the left pane.</span></span>  

29. <span data-ttu-id="cff9e-255">Arrastre el **Send_1** forma en el panel derecho a **SEnd2** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-255">Drag the **Send_1** shape in the right pane to **SEnd2** in the left pane.</span></span>  

30. <span data-ttu-id="cff9e-256">Haga clic en el **Send_1** dar forma y, a continuación, haga clic en **Message Payload Schemas**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-256">Right-click the **Send_1** shape, and then click **Message Payload Schemas**.</span></span>  

31. <span data-ttu-id="cff9e-257">Haga doble clic en la fila que contiene el valor "Message_3" en el **mensaje** columna y el valor "MessageBody" en el **parte** columna.</span><span class="sxs-lookup"><span data-stu-id="cff9e-257">Double-click the row that contains the value “Message_3” in the **Message** column and the value “MessageBody” in the **Part** column.</span></span>  

32. <span data-ttu-id="cff9e-258">Expanda **Schema3**y, a continuación, arrastre **Data3** en el panel derecho a **Data2** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-258">Expand **Schema3**, and then drag **Data3** in the right pane to **Data2** in the left pane.</span></span>  

33. <span data-ttu-id="cff9e-259">En la lista desplegable sobre el panel derecho, seleccione **Message Payload Schemas**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-259">From the drop-down list above the right pane, select **Message Payload Schemas**.</span></span>  

34. <span data-ttu-id="cff9e-260">Haga doble clic en la fila que contiene el valor "Message_3" en el **mensaje** columna y el valor "BAMPart" en el **parte** columna.</span><span class="sxs-lookup"><span data-stu-id="cff9e-260">Double-click the row that contains the value “Message_3” in the **Message** column and the value “BAMPart” in the **Part** column.</span></span>  

35. <span data-ttu-id="cff9e-261">Expanda **BAMPart**y, a continuación, arrastre **DocumentID** en el panel derecho a la **Orch3_** continuación en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-261">Expand **BAMPart**, and then drag **DocumentID** in the right pane to the **Orch3_** continuation in the left pane.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="cff9e-262">No confunda la continuación Orch3_ con el identificador de continuación Orch3_.</span><span class="sxs-lookup"><span data-stu-id="cff9e-262">Do not confuse the Orch3_ continuation with the Orch3_ continuation ID.</span></span> <span data-ttu-id="cff9e-263">El icono que representa un identificador de continuación contiene una clave (![icono para un identificador de continuación](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), mientras que el icono que representa una continuación no contiene una clave ( ![icono para una continuación](../core/media/test.gif "probar")).</span><span class="sxs-lookup"><span data-stu-id="cff9e-263">The icon that represents a continuation ID contains a key (![icon for a continuation ID](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), whereas the icon that represents a continuation does not contain a key (![icon for a continuation](../core/media/test.gif "test")).</span></span>  

36. <span data-ttu-id="cff9e-264">Haga clic en **Seleccionar origen de eventos**y, a continuación, haga clic en **seleccionar programación de orquestación**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-264">Click **Select Event Source**, and then click **Select Orchestration Schedule**.</span></span>  

37. <span data-ttu-id="cff9e-265">En el **nombre del ensamblado** sección de la **seleccionar ensamblado primario de origen de eventos** cuadro de diálogo, seleccione **Microsoft.Samples.BizTalk.BamEndToEnd.Services**y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-265">In the **Assembly Name** section of the **Select Event Source Parent Assembly** dialog box, select **Microsoft.Samples.BizTalk.BamEndToEnd.Services**, and then click **Next**.</span></span>  

38. <span data-ttu-id="cff9e-266">En el **nombre de la orquestación** sección de la **Seleccionar orquestación** cuadro de diálogo, seleccione **BamEndToEnd.Services.Orchestration3**y, a continuación, haga clic en **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="cff9e-266">In the **Orchestration Name** section of the **Select Orchestration** dialog box, select **BamEndToEnd.Services.Orchestration3**, and then click **OK**.</span></span>  

39. <span data-ttu-id="cff9e-267">Haga clic en el **Receive1** dar forma y, a continuación, haga clic en **Message Payload Schemas**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-267">Right-click the **Receive1** shape, and then click **Message Payload Schemas**.</span></span>  

40. <span data-ttu-id="cff9e-268">Haga doble clic en la fila que contiene el valor "Message_3" en el **mensaje** columna y el valor "BAMPart" en el **parte** columna.</span><span class="sxs-lookup"><span data-stu-id="cff9e-268">Double-click the row that contains the value “Message_3” in the **Message** column and the value “BAMPart” in the **Part** column.</span></span>  

41. <span data-ttu-id="cff9e-269">Expanda **BAMPart**y, a continuación, arrastre **DocumentID** en el panel derecho a la **Orch3_** identificador de continuación en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-269">Expand **BAMPart**, and then drag **DocumentID** in the right pane to the **Orch3_** continuation ID in the left pane.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="cff9e-270">No confunda la continuación Orch3_ con el identificador de continuación Orch3_.</span><span class="sxs-lookup"><span data-stu-id="cff9e-270">Do not confuse the Orch3_ continuation with the Orch3_ continuation ID.</span></span> <span data-ttu-id="cff9e-271">El icono que representa un identificador de continuación contiene una clave (![icono para un identificador de continuación](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), mientras que el icono que representa una continuación no contiene una clave ( ![icono para una continuación](../core/media/test.gif "probar")).</span><span class="sxs-lookup"><span data-stu-id="cff9e-271">The icon that represents a continuation ID contains a key (![icon for a continuation ID](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), whereas the icon that represents a continuation does not contain a key (![icon for a continuation](../core/media/test.gif "test")).</span></span>  

42. <span data-ttu-id="cff9e-272">Haga clic en el icono de carpeta con la flecha (![botón con carpeta y flecha arriba](../core/media/abccd08b-2b01-49c6-80ed-a032bbbd10d4.gif "abccd08b-2b01-49c6-80ed-a032bbbd10d4")) dos veces para mostrar la orquestación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-272">Click the folder icon with the arrow (![button with folder and up arrow](../core/media/abccd08b-2b01-49c6-80ed-a032bbbd10d4.gif "abccd08b-2b01-49c6-80ed-a032bbbd10d4")) twice to display the orchestration.</span></span>  

43. <span data-ttu-id="cff9e-273">Arrastre el **Receive1** forma en el panel derecho a **SBegin3** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-273">Drag the **Receive1** shape in the right pane to **SBegin3** in the left pane.</span></span>  

44. <span data-ttu-id="cff9e-274">Arrastre el **Send_1** forma en el panel derecho a **SEnd3** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-274">Drag the **Send_1** shape in the right pane to **SEnd3** in the left pane.</span></span>  

45. <span data-ttu-id="cff9e-275">Haga clic en el **Send_1** dar forma y, a continuación, haga clic en **esquema de carga de mensaje**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-275">Right-click the **Send_1** shape, and then click **Message Payload Schema**.</span></span>  

46. <span data-ttu-id="cff9e-276">Expanda **Schema3**y, a continuación, arrastre **Data3** en el panel derecho a **Data3** en el panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="cff9e-276">Expand **Schema3**, and then drag **Data3** in the right pane to **Data3** in the left pane.</span></span>  

47. <span data-ttu-id="cff9e-277">Haga clic en **DocumentID** a continuación el **Orch2_** continuación y, a continuación, haga clic en **establecer asignaciones de puertos**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-277">Right-click **DocumentID** below the **Orch2_** continuation, and then click **Set Port Mappings**.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="cff9e-278">No confunda la continuación Orch2_ con el identificador de continuación Orch2_.</span><span class="sxs-lookup"><span data-stu-id="cff9e-278">Do not confuse the Orch2_ continuation with the Orch2_ continuation ID.</span></span> <span data-ttu-id="cff9e-279">El icono que representa un identificador de continuación contiene una clave (![icono para un identificador de continuación](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), mientras que el icono que representa una continuación no contiene una clave ( ![icono para una continuación](../core/media/test.gif "probar")).</span><span class="sxs-lookup"><span data-stu-id="cff9e-279">The icon that represents a continuation ID contains a key (![icon for a continuation ID](../core/media/2d04a714-ade9-4e96-b89e-00002da75bea.gif "2d04a714-ade9-4e96-b89e-00002da75bea")), whereas the icon that represents a continuation does not contain a key (![icon for a continuation](../core/media/test.gif "test")).</span></span>  

48. <span data-ttu-id="cff9e-280">En el **seleccionar puertos** sección de la **seleccionar puertos** cuadro de diálogo, haga clic en **BamEndToEnd_ReceivePort**, haga clic en el mayor-que el inicio de sesión (**>**) y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="cff9e-280">In the **Select Ports** section of the **Select Ports** dialog box, click **BamEndToEnd_ReceivePort**, click the greater-than sign (**>**), and then click **OK**.</span></span>  

49. <span data-ttu-id="cff9e-281">Guardar el perfil de seguimiento para  *\<ruta de ejemplos\>* \BAM\BamEndToEnd\BamEndToEnd.btt.</span><span class="sxs-lookup"><span data-stu-id="cff9e-281">Save the tracking profile to *\<Samples Path\>* \BAM\BamEndToEnd\BamEndToEnd.btt.</span></span>  

## <a name="important-details"></a><span data-ttu-id="cff9e-282">Detalles importantes</span><span class="sxs-lookup"><span data-stu-id="cff9e-282">Important details</span></span>  
 <span data-ttu-id="cff9e-283">Los archivos de seguimiento no son compatibles con las canalizaciones.</span><span class="sxs-lookup"><span data-stu-id="cff9e-283">Tracking profiles are not supported for pipelines.</span></span> <span data-ttu-id="cff9e-284">Sin embargo, la llamada a **BeginActivity** en la canalización de componente es lo mismo que usar ActivityID en una orquestación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-284">However, the call to **BeginActivity** in the pipeline component is the same as using ActivityID in an orchestration.</span></span> <span data-ttu-id="cff9e-285">La llamada a **EnableContinuation** es lo mismo que usar una continuación en una orquestación.</span><span class="sxs-lookup"><span data-stu-id="cff9e-285">The call to **EnableContinuation** is the same as using a continuation in an orchestration.</span></span>  

## <a name="see-also"></a><span data-ttu-id="cff9e-286">Vea también</span><span class="sxs-lookup"><span data-stu-id="cff9e-286">See Also</span></span>  
 [<span data-ttu-id="cff9e-287">Supervisión de la actividad económica (carpeta de ejemplos de BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="cff9e-287">Business Activity Monitoring (BizTalk Server Samples Folder)</span></span>](../core/business-activity-monitoring-biztalk-server-samples-folder.md)