---
title: Problemas conocidos relacionados con el procesamiento por lotes de EDI | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 510ac82b-8a02-4135-87b7-0a5f288f5317
caps.latest.revision: "38"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e550a80cf8a7bbd6ae5e2b214c57d15427f919f9
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="known-issues-with-edi-batching"></a><span data-ttu-id="1c05c-102">Problemas conocidos del procesamiento por lotes de EDI</span><span class="sxs-lookup"><span data-stu-id="1c05c-102">Known Issues with EDI Batching</span></span>
<span data-ttu-id="1c05c-103">En este tema se describen problemas conocidos relacionados con el procesamiento por lotes en [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1c05c-103">This topic describes known issues with batching in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="subdocument-splitting-was-not-performed-even-though-the-subdocument-annotation-was-set-to-yes"></a><span data-ttu-id="1c05c-104">La división de subdocumentos no se realizó aunque la anotación de subdocumentos se estableció en Sí</span><span class="sxs-lookup"><span data-stu-id="1c05c-104">Subdocument Splitting Was Not Performed Even Though the Subdocument Annotation Was Set to Yes</span></span>  
 <span data-ttu-id="1c05c-105">**Síntoma**</span><span class="sxs-lookup"><span data-stu-id="1c05c-105">**Symptom**</span></span>  
  
 <span data-ttu-id="1c05c-106">Un intercambio HIPAA no se ha dividido en subdocumentos aunque la anotación subdocument_creation_break en el esquema HIPAA para dicho intercambio se estableció en "Sí".</span><span class="sxs-lookup"><span data-stu-id="1c05c-106">A HIPAA interchange was not split into subdocuments even though the subdocument_creation_break annotation within the HIPAA schema for that interchange was set to "Yes."</span></span>  
  
 <span data-ttu-id="1c05c-107">**Causa posible**</span><span class="sxs-lookup"><span data-stu-id="1c05c-107">**Possible Cause**</span></span>  
  
-   <span data-ttu-id="1c05c-108">La opción de procesamiento por lotes entrantes para la entidad remitente se estableció en "Conservar intercambio".</span><span class="sxs-lookup"><span data-stu-id="1c05c-108">The Inbound batch processing option for the sending party was set to "Preserve Interchange."</span></span> <span data-ttu-id="1c05c-109">Dado el caso, un documento HIPAA no se dividirá en subdocumentos aunque la anotación subdocument_creation_break en el esquema HIPAA se haya establecido en "Sí".</span><span class="sxs-lookup"><span data-stu-id="1c05c-109">A HIPAA document will not be split into subdocuments if this is the case, even though the subdocument_creation_break annotation within the HIPAA schema is set to "Yes."</span></span>  
  
-   <span data-ttu-id="1c05c-110">La anotación subdocument_break se estableció en "Sí", pero la anotación subdocument_creation_break no se estableció en "Sí".</span><span class="sxs-lookup"><span data-stu-id="1c05c-110">The subdocument_break annotation was set to “Yes”, but the subdocument_creation_break annotation was not set to “Yes”.</span></span>  
  
 <span data-ttu-id="1c05c-111">**Resolución**</span><span class="sxs-lookup"><span data-stu-id="1c05c-111">**Resolution**</span></span>  
  
-   <span data-ttu-id="1c05c-112">En el **validación y configuración de la generación de confirmación** página de la **propiedades de EDI** cuadro de diálogo para la entidad remitente, establezca el **procesamiento por lotes de entrada** opción propiedad a cualquier **dividir intercambio como conjuntos de transacciones: suspender conjuntos de transacciones en caso de Error** o **dividir intercambio como conjuntos de transacciones: suspender intercambio en caso de Error**.</span><span class="sxs-lookup"><span data-stu-id="1c05c-112">In the **Validation and ACK Generation Settings** page of the **EDI Properties** dialog box for the sending party, set the **Inbound batch processing** option property to either **Split Interchange as Transaction Sets – suspend Transaction Sets on Error** or **Split Interchange as Transaction Sets – suspend Interchange on Error**.</span></span>  
  
-   <span data-ttu-id="1c05c-113">Un documento HIPAA no se dividirá en subdocumentos a menos que la anotación de subdocument_creation_break se establezca en “Sí”.</span><span class="sxs-lookup"><span data-stu-id="1c05c-113">A HIPAA document will not be split into subdocuments unless the subdocument_creation_break annotation is set to “Yes.”</span></span>  
  
## <a name="validation-of-a-batch-may-fail-if-batch-configuration-settings-are-changed-while-the-batch-orchestration-is-activated"></a><span data-ttu-id="1c05c-114">Se puede producir un error en la validación de un lote si se realizan cambios en los ajustes de configuración del lote mientras que la orquestación de procesamiento por lotes está activada.</span><span class="sxs-lookup"><span data-stu-id="1c05c-114">Validation of a Batch May Fail if Batch Configuration Settings Are Changed While the Batch Orchestration Is Activated</span></span>  
 <span data-ttu-id="1c05c-115">Si cambia la configuración de lotes mientras la orquestación de procesamiento por lotes está procesando un lote, éste no reflejará la nueva configuración.</span><span class="sxs-lookup"><span data-stu-id="1c05c-115">If you change batch configuration settings while the batching orchestration is processing a batch, the new configuration settings will not be picked up for that batch.</span></span> <span data-ttu-id="1c05c-116">Esto puede dar como resultado errores de validación en la canalización de envío.</span><span class="sxs-lookup"><span data-stu-id="1c05c-116">This can result in validation errors in the send pipeline.</span></span>  
  
 <span data-ttu-id="1c05c-117">Estas opciones de configuración se encuentran en la página Lotes del cuadro de diálogo Propiedades de EDI.</span><span class="sxs-lookup"><span data-stu-id="1c05c-117">These settings are in the Batches page of the EDI Properties dialog box.</span></span>  
  
 <span data-ttu-id="1c05c-118">Para resolver este problema, reinicie las instancias de host asociadas a las orquestaciones de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="1c05c-118">To resolve this issue, restart the host instance(s) associated with the batching orchestration(s).</span></span> <span data-ttu-id="1c05c-119">Esto hace que el cambio en los parámetros de configuración del lote se aplique de forma inmediata.</span><span class="sxs-lookup"><span data-stu-id="1c05c-119">This will cause the change to the batch configuration settings to take place immediately.</span></span>  
  
## <a name="the-batchcontrolmessagerecvloc-receive-location-can-only-run-on-a-32-bit-computer-or-in-wow-on-a-64-bit-computer"></a><span data-ttu-id="1c05c-120">La ubicación de recepción BatchControlMessageRecvLoc sólo se puede ejecutar en un equipo de 32 bits o en WOW en un equipo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="1c05c-120">The BatchControlMessageRecvLoc Receive Location Can Only Run on a 32-Bit Computer or in WOW on a 64-Bit Computer</span></span>  
 <span data-ttu-id="1c05c-121">Los adaptadores de SQL sólo funcionan en equipos de 32 bits o cuando se ejecutan en el emulador WOW64 en equipos de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="1c05c-121">SQL adapters only work on 32-bit computers or when running under the WOW64 emulator on 64-bit computers.</span></span> <span data-ttu-id="1c05c-122">Como resultado, la ubicación de recepción BatchControlMessageRecvLoc, que se instala mediante el programa de configuración y usa el adaptador de SQL, sólo funcionará en un equipo de 32 bits o al ejecutarse en WOW en un equipo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="1c05c-122">As a result, the BatchControlMessageRecvLoc receive location, which is installed by the setup program and uses the SQL adapter, will only work on a 32-bit computer or when running under WOW on a 64-bit computer.</span></span> <span data-ttu-id="1c05c-123">Se requiere esta ubicación de recepción para el procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="1c05c-123">This receive location is required for batch processing.</span></span>  
  
 <span data-ttu-id="1c05c-124">Al ejecutar la ubicación de recepción BatchControlMessageRecvLoc en WOW en un equipo de 64 bits, debe ejecutar las orquestaciones de procesamiento por lotes en un host distinto.</span><span class="sxs-lookup"><span data-stu-id="1c05c-124">When running the BatchControlMessageRecvLoc receive location under WOW on a 64-bit computer, you should run the batching orchestrations in a different host.</span></span> <span data-ttu-id="1c05c-125">Si se ejecutan en el mismo host como ubicación de recepción, las orquestaciones de procesamiento por lotes también se ejecutarán en WOW y perderá las ventajas de ejecutarlas en un equipo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="1c05c-125">If they are run on the same host as the receive location, the batching orchestrations would also run under WOW, and you would lose the advantages of running on a 64-bit computer.</span></span>  
  
## <a name="a-batch-can-be-picked-up-by-an-unintended-send-port"></a><span data-ttu-id="1c05c-126">Un puerto de envío no esperado puede recoger un lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-126">A Batch Can Be Picked Up By an Unintended Send Port</span></span>  
 <span data-ttu-id="1c05c-127">Cuando la orquestación por lotes publica un intercambio, promueve dos propiedades: ToBeBatched = False y DestinationPartyName = \< *PartyName*>.</span><span class="sxs-lookup"><span data-stu-id="1c05c-127">When the batching orchestration publishes an interchange, it promotes two properties: ToBeBatched = False and DestinationPartyName = \<*PartyName*>.</span></span> <span data-ttu-id="1c05c-128">Un puerto de envío que se suscribe a una de estas propiedades o ambas puede recoger estos intercambios procesados por lotes.</span><span class="sxs-lookup"><span data-stu-id="1c05c-128">A send port subscribing to either or both of these properties can pick up these batched interchanges.</span></span> <span data-ttu-id="1c05c-129">Compruebe que los filtros del puerto de envío se configuran de modo que el puerto de envío recoge dichos intercambios procesados por lotes para lo que ha sido diseñado.</span><span class="sxs-lookup"><span data-stu-id="1c05c-129">Make sure that a send port's filters are configured such that the send port picks up those batched interchanges that it is intended to pick up.</span></span>  
  
## <a name="a-batch-element-count-greater-than-the-required-number-of-transaction-sets-for-a-batch-may-not-prompt-batch-release"></a><span data-ttu-id="1c05c-130">Un número de elementos de lotes superior al número de conjuntos de transacciones requerido para un lote puede que no solicite la versión del lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-130">A Batch Element Count Greater Than the Required Number of Transaction Sets for a Batch May Not Prompt Batch Release</span></span>  
 <span data-ttu-id="1c05c-131">Si los criterios de versión del lote se basan en el número de conjuntos de transacciones por grupo o intercambio, es posible que un lote no se lance aunque el número de elementos de lotes sea superior al número de conjuntos de transacciones requerido para el lote que se va a lanzar.</span><span class="sxs-lookup"><span data-stu-id="1c05c-131">If the batch release criteria is based upon the number of transaction sets per group or interchange, a batch may not be released even though the batch element count is greater than the number of transaction sets required for a batch to be released.</span></span> <span data-ttu-id="1c05c-132">Esto puede suceder si habilita las confirmaciones y configura los criterios de filtro de lotes para agregar dichas confirmaciones al lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-132">This can happen if you enable acknowledgments, and set the batch filter criteria to add those acknowledgments to the batch.</span></span> <span data-ttu-id="1c05c-133">En esta instancia, el número de elementos por lotes del grupo (o intercambio) será superior al número de conjuntos de transacciones por grupo (o intercambio).</span><span class="sxs-lookup"><span data-stu-id="1c05c-133">In this instance, the number of batch elements in the group (or interchange) will be greater than the number of transaction sets per group (or interchange).</span></span> <span data-ttu-id="1c05c-134">En dicha instancia, se lanzará un lote si el número de conjuntos de transacciones por grupo (o intercambio) es inferior al número requerido para el lanzamiento del lote, aunque al mismo tiempo el número de elementos por lotes puede ser superior al número de conjuntos de transacciones requerido para el lanzamiento del lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-134">In that instance, a batch will not be released if the number of transaction sets per group (or interchange) is smaller than the number required for batch release, but at the same time the number of batch elements could be greater than the number of transaction sets required for batch release.</span></span>  
  
## <a name="no-batch-elements-were-saved-when-start-was-clicked"></a><span data-ttu-id="1c05c-135">No se han guardado elementos por lotes cuando se ha hecho clic en Iniciar.</span><span class="sxs-lookup"><span data-stu-id="1c05c-135">No Batch Elements Were Saved When Start Was Clicked</span></span>  
 <span data-ttu-id="1c05c-136">**Síntoma**</span><span class="sxs-lookup"><span data-stu-id="1c05c-136">**Symptom**</span></span>  
  
 <span data-ttu-id="1c05c-137">Cuando **iniciar** se hizo clic en la página lotes para una entidad, se recopiló ningún mensaje para el lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-137">When **Start** was clicked in the Batches page for a party, no messages were collected for the batch.</span></span>  
  
 <span data-ttu-id="1c05c-138">**Causa posible**</span><span class="sxs-lookup"><span data-stu-id="1c05c-138">**Possible Cause**</span></span>  
  
 <span data-ttu-id="1c05c-139">La fecha y hora en que **iniciar** se hizo clic era anterior a la fecha y hora especificada en el **activación** sección.</span><span class="sxs-lookup"><span data-stu-id="1c05c-139">The datetime at which **Start** was clicked was earlier than the datetime entered in the **Activation** section.</span></span> <span data-ttu-id="1c05c-140">Como resultado, la instancia de orquestación se activó, pero no se recopiló ningún mensaje para el lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-140">As a result, the orchestration instance was activated, but no messages were collected for the batch.</span></span> <span data-ttu-id="1c05c-141">Para obtener más información, consulte [configurar un lote saliente](../core/configuring-an-outgoing-batch.md).</span><span class="sxs-lookup"><span data-stu-id="1c05c-141">For more information, see [Configuring an Outgoing Batch](../core/configuring-an-outgoing-batch.md).</span></span>  
  
 <span data-ttu-id="1c05c-142">**Resolución**</span><span class="sxs-lookup"><span data-stu-id="1c05c-142">**Resolution**</span></span>  
  
 <span data-ttu-id="1c05c-143">Haga clic en **detener** en la página de lotes para la configuración de lote tiene este problema.</span><span class="sxs-lookup"><span data-stu-id="1c05c-143">Click **Stop** in the Batches page for the batch configuration experiencing this problem.</span></span> <span data-ttu-id="1c05c-144">Establecer el **activación** como **iniciar inmediatamente** o escriba una fecha y hora anterior a la hora actual y, a continuación, haga clic en **iniciar**.</span><span class="sxs-lookup"><span data-stu-id="1c05c-144">Set the **Activation** to either **Start immediately** or enter a datetime earlier than the current time, and then click **Start**.</span></span> <span data-ttu-id="1c05c-145">Cuando se pregunte si desea restablecer el **iniciar** fecha y hora a la hora actual, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="1c05c-145">When you are prompted to reset the **Start** datetime to the current time, click **OK**.</span></span> <span data-ttu-id="1c05c-146">BizTalk Server empezará a recopilar mensajes para un lote en dicho punto.</span><span class="sxs-lookup"><span data-stu-id="1c05c-146">BizTalk Server will start to collect messages for a batch at that point.</span></span>  
  
## <a name="the-number-of-bytes-in-an-edifact-batch-may-depend-upon-the-character-set-used"></a><span data-ttu-id="1c05c-147">El número de bytes en un lote EDIFACT puede que dependa del juego de caracteres utilizado.</span><span class="sxs-lookup"><span data-stu-id="1c05c-147">The Number of Bytes in an EDIFACT Batch May Depend Upon the Character Set Used</span></span>  
 <span data-ttu-id="1c05c-148">Los caracteres de algunos juegos de caracteres EDIFACT pueden ser caracteres de doble byte, mientras que en otros juegos de caracteres EDIFACT pueden ser caracteres de un solo byte.</span><span class="sxs-lookup"><span data-stu-id="1c05c-148">Characters in some EDIFACT character sets may be double-byte characters, whereas in other EDIFACT character sets they may be single-byte characters.</span></span> <span data-ttu-id="1c05c-149">Debido a ello, al establecer los criterios de versión para lotes basados en el número de caracteres del intercambio, el número de bytes del intercambio puede ser distinto en función del juego de caracteres utilizado.</span><span class="sxs-lookup"><span data-stu-id="1c05c-149">Because of this, when you set the release criteria for batches based upon the number of characters in the interchange, the number of bytes in the interchange may differ depending on the character set used.</span></span>  
  
## <a name="the-characters--and--must-be-represented-in-their-encoded-form-in-the-envelope-of-a-batch"></a><span data-ttu-id="1c05c-150">Los caracteres "<" y "&" se deben representar en forma de codificación en el sobre de un lote</span><span class="sxs-lookup"><span data-stu-id="1c05c-150">The Characters "<" and "&" Must be Represented in Their Encoded Form in the Envelope of a Batch</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1c05c-151">no admite los siguientes caracteres en su forma literal al crear los campos de sobre de un intercambio EDI por lotes: "<" y "&".</span><span class="sxs-lookup"><span data-stu-id="1c05c-151"> does not support the following characters in their literal form when creating the envelope fields of a batched EDI interchange: "<" and "&".</span></span>  
  
 <span data-ttu-id="1c05c-152">El uso de estos caracteres de forma literal en los campos de sobre de un intercambio procesado por lotes saliente dará como resultado un mensaje suspendido si se usa la canalización EdiSend para serializar el intercambio.</span><span class="sxs-lookup"><span data-stu-id="1c05c-152">Using either of these characters literally in the envelope fields of an outgoing batched interchange will result in a suspended message if the EdiSend pipeline is used to serialize the interchange.</span></span>  
  
 <span data-ttu-id="1c05c-153">Si es necesario usar uno de estos caracteres en un campo de sobre de un lote, puede usar el valor codificado adecuado en la siguiente tabla al configurar el campo de sobre del administrador de BizTalk:</span><span class="sxs-lookup"><span data-stu-id="1c05c-153">If you need to use one of these characters in an envelope field of a batch, you can use the appropriate encoded value in the following table when you configure the envelope field in the BizTalk Administrator:</span></span>  
  
|<span data-ttu-id="1c05c-154">Carácter</span><span class="sxs-lookup"><span data-stu-id="1c05c-154">Character</span></span>|<span data-ttu-id="1c05c-155">Codificación</span><span class="sxs-lookup"><span data-stu-id="1c05c-155">Encoding</span></span>|  
|---------------|--------------|  
|<|&lt;|  
|&|&amp;|  
  
 <span data-ttu-id="1c05c-156">Si usa una de estas formas codificadas, los caracteres codificados se contarán como caracteres individuales cuando BizTalk Server valide la restricción de longitud del campo en las pantallas del Administrador de acuerdos de socios comerciales (PAM) de la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="1c05c-156">When you use one of these encoded forms, each character in the encoded form will be counted as an individual character when BizTalk Server validates the field for its length restriction in the Partner Agreement Manager (PAM) screens in the BizTalk Server Administration console.</span></span> <span data-ttu-id="1c05c-157">Por ejemplo, aunque la codificación "&lt;"representa un carácter individual"\<" en el intercambio EDI por lotes, BizTalk Server lo contará como cuatro caracteres al validarlo con la restricción de longitud de campo concreto .</span><span class="sxs-lookup"><span data-stu-id="1c05c-157">For example, even though the encoding "&lt;" would represent a single character "\<" in the batched EDI interchange, BizTalk Server would count this as four characters when validating against the length restriction of the particular field.</span></span> <span data-ttu-id="1c05c-158">Éste sólo es un problema de PAM, no del ensamblador EDI.</span><span class="sxs-lookup"><span data-stu-id="1c05c-158">This is an issue for PAM only, not for the EDI Assembler.</span></span>  
  
## <a name="an-exeption-occurs-during-the-execution-of-the-upgrade-batch-orchestration"></a><span data-ttu-id="1c05c-159">Se produce una excepción durante la ejecución de la orquestación de actualización por lotes</span><span class="sxs-lookup"><span data-stu-id="1c05c-159">An Exeption Occurs During the Execution of the Upgrade Batch Orchestration</span></span>  
 <span data-ttu-id="1c05c-160">**Síntoma**</span><span class="sxs-lookup"><span data-stu-id="1c05c-160">**Symptom**</span></span>  
  
 <span data-ttu-id="1c05c-161">Al usar un componente de canalización personalizado que establece la propiedad EDI.DestinationPartyId en documentos entrantes, es posible que reciba un error en el registro de eventos de la aplicación que indica que se produjo una excepción durante la ejecución de la orquestación del lote de actualización.</span><span class="sxs-lookup"><span data-stu-id="1c05c-161">When using a custom pipeline component that sets the EDI.DestinationPartyId property on incoming documents, you may receive an error in the Application event log stating that an exception has occurred during the execution of the upgrade batch orchestration.</span></span>  
  
 <span data-ttu-id="1c05c-162">**Causa posible**</span><span class="sxs-lookup"><span data-stu-id="1c05c-162">**Possible Cause**</span></span>  
  
 <span data-ttu-id="1c05c-163">Si ErrorMessage = “No se encontró el lote”, este error indica que la orquestación del lote de actualización no pudo identificar correctamente un lote para el documento de entrada.</span><span class="sxs-lookup"><span data-stu-id="1c05c-163">If ErrorMessage = “The batch was not found”, this error indicates that the upgrade batch orchestration was not able to successfully identify a batch for the incoming document.</span></span>  
  
 <span data-ttu-id="1c05c-164">**Resolución**</span><span class="sxs-lookup"><span data-stu-id="1c05c-164">**Resolution**</span></span>  
  
 <span data-ttu-id="1c05c-165">La orquestación del lote de actualización usa el EDI.DestinationPartyId para buscar el nombre de la entidad.</span><span class="sxs-lookup"><span data-stu-id="1c05c-165">The upgrade batch orchestration uses the EDI.DestinationPartyId to look up the party name.</span></span> <span data-ttu-id="1c05c-166">A continuación, la orquestación construye una cadena mediante el nombre de entidad, EDI.EncodingType y la cadena “Default” y busca una configuración de lote con un nombre de lote que coincida.</span><span class="sxs-lookup"><span data-stu-id="1c05c-166">The orchestration then constructs a string using the party name, EDI.EncodingType and the string “Default”, and then looks for a batch configuration with a matching batch name.</span></span> <span data-ttu-id="1c05c-167">Si no existe ninguna configuración de lote con este nombre, este error se registra en el registro de eventos de la aplicación y se suspende la instancia de la orquestación.</span><span class="sxs-lookup"><span data-stu-id="1c05c-167">If no batch configuration exists with this name, this error is logged to the Application event log and the orchestration instance is suspended.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1c05c-168">Por ejemplo, si el nombre de la entidad es Contoso y el EDI.EncodingType es X12, la orquestación buscará un lote denominado ‘ContosoX12Default’.</span><span class="sxs-lookup"><span data-stu-id="1c05c-168">For example, if the party name is Contoso and the EDI.EncodingType is X12, the orchestration will look for a batch named ‘ContosoX12Default’.</span></span>  
  
 <span data-ttu-id="1c05c-169">Para solucionar este problema, asegúrese de que existe un lote con un nombre que coincida con la cadena que construye la orquestación del lote de actualización.</span><span class="sxs-lookup"><span data-stu-id="1c05c-169">To resolve this problem, ensure that a batch exists with a name that will match the string constructed by the upgrade batch orchestration.</span></span>  
  
## <a name="messages-marked-with-editobebatched--true-and-edidestinationparties-are-suspended"></a><span data-ttu-id="1c05c-170">Los mensajes marcados con EDI.ToBeBatched = True y EDI.DestinationParties están suspendidos</span><span class="sxs-lookup"><span data-stu-id="1c05c-170">Messages Marked with EDI.ToBeBatched = True and EDI.DestinationParties are Suspended</span></span>  
 <span data-ttu-id="1c05c-171">**Síntomas**</span><span class="sxs-lookup"><span data-stu-id="1c05c-171">**Symptoms**</span></span>  
  
 <span data-ttu-id="1c05c-172">Al usar un componente de canalización personalizado con el fin de marcar mensajes para lotes al establecer EDI.ToBeBatched = True y EDI.DestinationParties en una lista de identificadores de entidades, el mensaje se suspenderá con un error de enrutamiento que indica que no hay suscriptores.</span><span class="sxs-lookup"><span data-stu-id="1c05c-172">When using a custom pipeline component to mark messages for batching by setting EDI.ToBeBatched = True and EDI.DestinationParties to a list of party IDs, the message will be suspended with a routing failure stating that there are no subscribers.</span></span>  
  
 <span data-ttu-id="1c05c-173">**Causa posible**</span><span class="sxs-lookup"><span data-stu-id="1c05c-173">**Possible Cause**</span></span>  
  
 <span data-ttu-id="1c05c-174">En versiones anteriores de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], cuando un mensaje debía procesarse mediante varias configuraciones de lote, debía establecer la propiedad EDI.DestinationParties en una lista delimitada por espacios de identificadores de entidades.</span><span class="sxs-lookup"><span data-stu-id="1c05c-174">In previous versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], when a message should be processed by multiple batch configurations you would set the EDI.DestinationParties property to a space delimited list of party IDs.</span></span> <span data-ttu-id="1c05c-175">La orquestación de enrutamiento se suscribe a mensajes mediante la propiedades EDI.ToBeBatched = True y EDI.DestinationParties y usaba la lista de identificadores de entidad incluidos en la propiedad EDI.DestinationParties para crear un mensaje para cada identificador y luego transferir los mensajes a la orquestación de lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-175">The routing orchestration is subscribed to messages with the EDI.ToBeBatched = True and EDI.DestinationParties properties, and would use the list of party IDs contained in the EDI.DestinationParties property to create a message for each ID, and pass the messages to the batching orchestration.</span></span>  <span data-ttu-id="1c05c-176">Se usaba la determinación del lote mediante el identificador de entidad porque cada configuración de entidad solo podía tener una configuración de lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-176">Determining the batch by using the party ID was used because each party configuration could have only one batch configuration.</span></span>  
  
 <span data-ttu-id="1c05c-177">En [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)], cada entidad puede tener varias configuraciones de lote, por lo que ya no es suficiente usar solo el identificador de entidad para determinar la configuración de lote que hay que usar.</span><span class="sxs-lookup"><span data-stu-id="1c05c-177">In [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)], each party can have multiple batch configurations, so it is no longer sufficient to use only the pary ID to determine the batch configuration to use.</span></span>  <span data-ttu-id="1c05c-178">Para indicar que un mensaje debe ser procesado mediante varias configuraciones de lote, el mensaje debe tener la propiedad EDI.BatchIDs configurada en una lista delimitada por espacios de identificadores de lote a la que debe enviarse el mensaje.</span><span class="sxs-lookup"><span data-stu-id="1c05c-178">To indicate that a message must be processed by multiple batch configurations, the message must have the EDI.BatchIDs property set to a space delimited list of batch IDs that the message should be sent to.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1c05c-179">Al procesar mensajes marcados solo con un único identificador de entidad mediante la propiedad EDI.DestinationPartyId, el mensaje será procesado por la orquestación del lote de actualización.</span><span class="sxs-lookup"><span data-stu-id="1c05c-179">When processing messages marked with only a single party ID using the EDI.DestinationPartyId property, the message will be processed by the upgrade batching orchestration.</span></span> <span data-ttu-id="1c05c-180">Para obtener más información, consulte [ensamblar un intercambio de EDI por lotes](../core/assembling-a-batched-edi-interchange.md).</span><span class="sxs-lookup"><span data-stu-id="1c05c-180">For more information, see [Assembling a Batched EDI Interchange](../core/assembling-a-batched-edi-interchange.md).</span></span>  
  
 <span data-ttu-id="1c05c-181">**Resolución**</span><span class="sxs-lookup"><span data-stu-id="1c05c-181">**Resolution**</span></span>  
  
 <span data-ttu-id="1c05c-182">Actualice el componente de canalización personalizado de modo que establezca la propiedad EDI.BatchIDs en lugar de EDI.DestinationParties.</span><span class="sxs-lookup"><span data-stu-id="1c05c-182">Upgrade the custom pipeline component so that it sets the EDI.BatchIDs property instead of EDI.DestinationParties.</span></span>  <span data-ttu-id="1c05c-183">El identificador de lote para un lote específico puede encontrarse en la página de configuración Lotes de las propiedades de EDI para cada entidad.</span><span class="sxs-lookup"><span data-stu-id="1c05c-183">The batch ID for a specific batch can be found on the Batches settings page of EDI properties for each party.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1c05c-184">Este problema no tiene lugar si se usa el componente de canalización BatchMarker para marcar el mensaje para lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-184">This problem does not occur if the BatchMarker pipeline component is used to mark the message for batching.</span></span>  
  
## <a name="batch-filter-refresh-timeout-is-hardcoded-to-fifteen-minutes"></a><span data-ttu-id="1c05c-185">El tiempo de espera de actualización del filtro de lote está codificado en quince minutos</span><span class="sxs-lookup"><span data-stu-id="1c05c-185">Batch Filter Refresh Timeout is Hardcoded to Fifteen Minutes</span></span>  
 <span data-ttu-id="1c05c-186">Al modificar los criterios de filtro del lote, transcurrirán 15 minutos hasta que entren en vigor los cambios.</span><span class="sxs-lookup"><span data-stu-id="1c05c-186">When modifying the batch filter criteria, it will take 15 minutes before the changes take effect.</span></span> <span data-ttu-id="1c05c-187">Este intervalo de actualización no se puede modificar.</span><span class="sxs-lookup"><span data-stu-id="1c05c-187">This refresh interval cannot be modified.</span></span> <span data-ttu-id="1c05c-188">Para que el filtro entre en vigor inmediatamente, reinicie el proceso de host de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="1c05c-188">To have the filter take effect immediately, restart the BizTalk Server host process.</span></span>  
  
## <a name="the-routingorchestration-suspends-after-reporting-an-uncaught-exception"></a><span data-ttu-id="1c05c-189">RoutingOrchestration se suspende después de informar de una excepción no detectada</span><span class="sxs-lookup"><span data-stu-id="1c05c-189">The RoutingOrchestration Suspends After Reporting an Uncaught Exception</span></span>  
 <span data-ttu-id="1c05c-190">**Síntomas**</span><span class="sxs-lookup"><span data-stu-id="1c05c-190">**Symptoms**</span></span>  
  
 <span data-ttu-id="1c05c-191">Al procesar documentos destinados para varias configuraciones de lote, es posible que reciba un error en el registro de eventos de la aplicación desde XLANG/s en el que se indica que se ha producido un error en Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService debido a una excepción no detectada.</span><span class="sxs-lookup"><span data-stu-id="1c05c-191">When processing documents that are destined for multiple batch configurations, you may receive an error in the Application Event Log from XLANG/s starting that the Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService failed due to an uncaught exception.</span></span>  
  
 <span data-ttu-id="1c05c-192">**Causa posible**</span><span class="sxs-lookup"><span data-stu-id="1c05c-192">**Possible Cause**</span></span>  
  
 <span data-ttu-id="1c05c-193">Este error puede tener lugar cuando RoutingOrchestration intenta enviar un mensaje a BatchingOrchestration y no se ha iniciado la instancia de BatchingOrchestration.</span><span class="sxs-lookup"><span data-stu-id="1c05c-193">This error can occur when the RoutingOrchestration attempts to send a message to the BatchingOrchestration and the BatchingOrchestration instance is not started.</span></span>  
  
 <span data-ttu-id="1c05c-194">**Resolución**</span><span class="sxs-lookup"><span data-stu-id="1c05c-194">**Resolution**</span></span>  
  
 <span data-ttu-id="1c05c-195">Asegúrese de que se están ejecutando las instancias de BatchingOrchestration antes de enviar documentos para su procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="1c05c-195">Ensure that the BatchingOrchestration instances are running before submitting documents to be batched.</span></span>  
  
## <a name="many-active-batches-may-cause-the-biztalkmsgboxdb-logfile-to-grow-large"></a><span data-ttu-id="1c05c-196">Muchos lotes activos pueden hacer que el archivo de registro BizTalkMsgBoxDb aumente demasiado de tamaño</span><span class="sxs-lookup"><span data-stu-id="1c05c-196">Many Active Batches May Cause the BizTalkMsgBoxDb Logfile to Grow Large</span></span>  
 <span data-ttu-id="1c05c-197">**Síntomas**</span><span class="sxs-lookup"><span data-stu-id="1c05c-197">**Symptoms**</span></span>  
  
 <span data-ttu-id="1c05c-198">Tras iniciar varios lotes, es posible que observe que el registro de transacciones de la base de datos de cuadro de mensajes de BizTalk (BizTalkMsgBoxDb) ha crecido demasiado.</span><span class="sxs-lookup"><span data-stu-id="1c05c-198">After starting several batches, you may notice that the transaction log for the BizTalk message box database (BizTalkMsgBoxDb) has grown to a large size.</span></span>  
  
 <span data-ttu-id="1c05c-199">**Causa posible**</span><span class="sxs-lookup"><span data-stu-id="1c05c-199">**Possible Cause**</span></span>  
  
 <span data-ttu-id="1c05c-200">Este problema puede suceder si ha iniciado un elevado número de lotes con criterios de liberación que provocan un corto intervalo entre liberaciones de lotes (por ejemplo, un lote programado para liberarse cada minuto).</span><span class="sxs-lookup"><span data-stu-id="1c05c-200">This problem can occur if you have a large number of batches started with release criteria that causes a short interval between batch releases (for example, a batch that is scheduled to release every minute).</span></span>  
  
 <span data-ttu-id="1c05c-201">La instancia de la orquestación del lote que se crea al iniciar un lote es un proceso de larga ejecución que persiste en la base de datos tras liberar un lote.</span><span class="sxs-lookup"><span data-stu-id="1c05c-201">The batching orchestration instance that is created when you start a batch is a long running process that persists to the database after releasing a batch.</span></span> <span data-ttu-id="1c05c-202">Cada vez que persiste la orquestación, el registro de transacciones aumentará de tamaño debido a las transacciones implicadas en la persistencia.</span><span class="sxs-lookup"><span data-stu-id="1c05c-202">Each time the orchestration persists, the transaction log will grow due to the transactions involved in persistence.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1c05c-203">La orquestación de lote incrementará el registro de transacciones en unos 30 kb aproximadamente durante la persistencia.</span><span class="sxs-lookup"><span data-stu-id="1c05c-203">The batching orchestration will grow the transaction log by approximately 30kb during persistence.</span></span>  
  
 <span data-ttu-id="1c05c-204">**Resolución**</span><span class="sxs-lookup"><span data-stu-id="1c05c-204">**Resolution**</span></span>  
  
 <span data-ttu-id="1c05c-205">Para resolver este problema, modifique los criterios de liberación de modo que aumente el tiempo entre liberaciones de lotes.</span><span class="sxs-lookup"><span data-stu-id="1c05c-205">To resolve this problem, modify the release criteria to increase the time between batch releases.</span></span> <span data-ttu-id="1c05c-206">Para obtener más información, consulte [configurar el procesamiento por lotes (X12)](../core/configuring-batching-x12.md).</span><span class="sxs-lookup"><span data-stu-id="1c05c-206">For more information, see [Configuring Batching (X12)](../core/configuring-batching-x12.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1c05c-207">Vea también</span><span class="sxs-lookup"><span data-stu-id="1c05c-207">See Also</span></span>  
 <span data-ttu-id="1c05c-208">[Configurar confirmaciones EDI](../core/configuring-edi-acknowledgments.md) </span><span class="sxs-lookup"><span data-stu-id="1c05c-208">[Configuring EDI Acknowledgments](../core/configuring-edi-acknowledgments.md) </span></span>  
 <span data-ttu-id="1c05c-209">[Procesamiento por lotes entrantes](../core/processing-incoming-batches.md) </span><span class="sxs-lookup"><span data-stu-id="1c05c-209">[Processing Incoming Batches](../core/processing-incoming-batches.md) </span></span>  
 <span data-ttu-id="1c05c-210">[Procesamiento por lotes mensajes EDI salientes](../core/batching-outgoing-edi-messages.md) </span><span class="sxs-lookup"><span data-stu-id="1c05c-210">[Batching Outgoing EDI Messages](../core/batching-outgoing-edi-messages.md) </span></span>  
 [<span data-ttu-id="1c05c-211">Configuración de lotes de EDI</span><span class="sxs-lookup"><span data-stu-id="1c05c-211">Configuring EDI Batches</span></span>](../core/configuring-edi-batches.md)