---
title: Copia de seguridad y restaurar bases de datos de BizTalk Server | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- backing up [BAM]
- databases, backing up
- databases, restoring
- backing up, restoring
- backing up, databases
- restoring, BAM
- backing up, BAM
- backing up, backup jobs
- BAM, restoring
- restoring, databases
- restoring [BAM]
- BAM, backing up
ms.assetid: 82fc1af2-1389-4c79-80dc-f2df5656d201
caps.latest.revision: 30
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8031316b733d1e86ace3d26e31ea2318e6f40a23
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36980477"
---
# <a name="backing-up-and-restoring-biztalk-server-databases"></a><span data-ttu-id="c3de1-102">Realizar una copia de seguridad y una restauración de las bases de datos de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c3de1-102">Backing Up and Restoring BizTalk Server Databases</span></span>
<span data-ttu-id="c3de1-103">El trabajo de copia de seguridad de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] se usa para hacer copia de seguridad de todas las bases de datos del sistema de origen de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], excepto por algunas bases de datos usadas por la supervisión de la actividad económica (BAM).</span><span class="sxs-lookup"><span data-stu-id="c3de1-103">You use the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] job to back up all of the databases in your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] source system, except for some databases used by Business Activity Monitoring (BAM).</span></span> <span data-ttu-id="c3de1-104">El sistema de origen es el servidor o grupo de servidores que contiene datos activos.</span><span class="sxs-lookup"><span data-stu-id="c3de1-104">The source system is the server or group of servers that contain live data.</span></span> <span data-ttu-id="c3de1-105">Puesto que los requisitos de restauración y copia de seguridad de las bases de datos de BAM son distintos, es preciso utilizar métodos distintos para efectuar la copia de seguridad de éstas y su restauración.</span><span class="sxs-lookup"><span data-stu-id="c3de1-105">Because BAM databases have different backup and restore requirements, these databases are backed up and restored using other methods.</span></span>  

 <span data-ttu-id="c3de1-106">La copia de seguridad y restauración de las bases de datos de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] implica los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="c3de1-106">Backing up the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases and restoring them involves the following steps:</span></span>  

1. <span data-ttu-id="c3de1-107">**Configuración del trabajo de copia de seguridad de BizTalk Server**</span><span class="sxs-lookup"><span data-stu-id="c3de1-107">**Configuring the Backup BizTalk Server job**</span></span>  

    <span data-ttu-id="c3de1-108">Antes de que resulte posible efectuar una copia de seguridad de las bases de datos de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], tendrá que configurar primero el trabajo de copia de seguridad de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en el sistema de origen; con ello, se establece que las copias de seguridad se escriban automáticamente en una carpeta en la que puedan utilizarse para restaurar las bases de datos en el sistema de destino.</span><span class="sxs-lookup"><span data-stu-id="c3de1-108">Before you can back up the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases, you must first configure the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] job on the source system, which directs backups to be automatically written to a folder where they can then be used to restore the databases on the destination system.</span></span> <span data-ttu-id="c3de1-109">El sistema de destino es el servidor o grupo de servidores que se utilizará para restaurar las copias de seguridad de base de datos generadas por el sistema de origen.</span><span class="sxs-lookup"><span data-stu-id="c3de1-109">The destination system is the server or group of servers that will be used to restore the database backups produced by the source system.</span></span> <span data-ttu-id="c3de1-110">Para obtener más información sobre este paso, consulte [cómo configurar el trabajo de copia de seguridad de BizTalk Server](../core/how-to-configure-the-backup-biztalk-server-job.md).</span><span class="sxs-lookup"><span data-stu-id="c3de1-110">For more information about this step, see [How to Configure the Backup BizTalk Server Job](../core/how-to-configure-the-backup-biztalk-server-job.md).</span></span>  

2. <span data-ttu-id="c3de1-111">**Configuración del sistema de destino del trasvase de registros**</span><span class="sxs-lookup"><span data-stu-id="c3de1-111">**Configuring the destination system for log shipping**</span></span>  

    <span data-ttu-id="c3de1-112">También es preciso configurar el sistema de destino para el envío de registros, con lo que se proporcionan capacidades de servidor en espera y se reduce el tiempo de inactividad en el caso de que se produzca un error del sistema.</span><span class="sxs-lookup"><span data-stu-id="c3de1-112">You must also configure the destination system for log shipping, which provides standby server capabilities and reduces downtime in the event of a system failure.</span></span> <span data-ttu-id="c3de1-113">Para obtener más información sobre este paso, consulte [cómo configurar el sistema de destino de trasvase de registros](../core/how-to-configure-the-destination-system-for-log-shipping.md).</span><span class="sxs-lookup"><span data-stu-id="c3de1-113">For more information about this step, see [How to Configure the Destination System for Log Shipping](../core/how-to-configure-the-destination-system-for-log-shipping.md).</span></span>  

3. <span data-ttu-id="c3de1-114">**Restaurar las bases de datos**</span><span class="sxs-lookup"><span data-stu-id="c3de1-114">**Restoring the databases**</span></span>  

    <span data-ttu-id="c3de1-115">Cuando se produce un error de hardware, es posible restaurar las bases de datos mediante las copias de seguridad y los registros enviados al sistema de destino.</span><span class="sxs-lookup"><span data-stu-id="c3de1-115">When a hardware failure occurs, you can restore your databases by using the backups and logs sent to your destination system.</span></span> <span data-ttu-id="c3de1-116">Para obtener más información sobre este paso, consulte [cómo restaurar las bases de datos](../core/how-to-restore-your-databases.md).</span><span class="sxs-lookup"><span data-stu-id="c3de1-116">For more information about this step, see [How to Restore Your Databases](../core/how-to-restore-your-databases.md).</span></span>  

## <a name="biztalk-server-databases"></a><span data-ttu-id="c3de1-117">Bases de datos de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c3de1-117">BizTalk Server Databases</span></span>  
 <span data-ttu-id="c3de1-118">Las tablas siguientes describen las bases de datos que utiliza [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] e identifican los métodos que se utilizan para realizar una copia de seguridad de las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="c3de1-118">The following tables describe the databases used by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and identify which methods are used to back up the databases.</span></span>  

### <a name="databases-backed-up-by-the-backup-biztalk-server-job"></a><span data-ttu-id="c3de1-119">Bases de datos de copia de seguridad realizada mediante el trabajo de copia de seguridad de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c3de1-119">Databases Backed Up by the Backup BizTalk Server Job</span></span>  
 <span data-ttu-id="c3de1-120">En la tabla siguiente se enumeran las bases de datos de las que se ha realizado una copia de seguridad y que se han restaurado como parte del trabajo de copia de seguridad de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3de1-120">The following table lists the databases that are backed up and restored as a part of the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] job.</span></span> <span data-ttu-id="c3de1-121">Al agregar bases de datos personalizadas a la tabla adm_OtherBackupDatabases, podrá modificar el trabajo de copia de seguridad de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para realizar una copia de seguridad de aquéllas.</span><span class="sxs-lookup"><span data-stu-id="c3de1-121">You can modify the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] job to back up custom databases by adding them to the adm_OtherBackupDatabases table.</span></span> <span data-ttu-id="c3de1-122">Para obtener más información, consulte [cómo volver de copias de la bases de datos personalizado](../core/how-to-back-up-custom-databases.md).</span><span class="sxs-lookup"><span data-stu-id="c3de1-122">For more information, see [How to Back Up Custom Databases](../core/how-to-back-up-custom-databases.md).</span></span>  


|                    <span data-ttu-id="c3de1-123">Base de datos</span><span class="sxs-lookup"><span data-stu-id="c3de1-123">Database</span></span>                    | <span data-ttu-id="c3de1-124">Nombre predeterminado de la base de datos</span><span class="sxs-lookup"><span data-stu-id="c3de1-124">Default database name</span></span> |                                                                                                                                       <span data-ttu-id="c3de1-125">Descripción</span><span class="sxs-lookup"><span data-stu-id="c3de1-125">Description</span></span>                                                                                                                                        |
|------------------------------------------------|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          <span data-ttu-id="c3de1-126">Base de datos de importación principal de BAM</span><span class="sxs-lookup"><span data-stu-id="c3de1-126">BAM Primary Import database</span></span>           |   <span data-ttu-id="c3de1-127">BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="c3de1-127">BAMPrimaryImport</span></span>    |                                                                                              <span data-ttu-id="c3de1-128">Ésta es la base de datos en la que Supervisión de la actividad económica (BAM) recopila los datos de seguimiento sin procesar.</span><span class="sxs-lookup"><span data-stu-id="c3de1-128">This is the database where the Business Activity Monitoring (BAM) collects raw tracking data.</span></span>                                                                                               |
| <span data-ttu-id="c3de1-129">Base de datos de la aplicación de servicios de notificación de BAM</span><span class="sxs-lookup"><span data-stu-id="c3de1-129">BAM Notification Services Application database</span></span> | <span data-ttu-id="c3de1-130">BAMAlertsApplication</span><span class="sxs-lookup"><span data-stu-id="c3de1-130">BAMAlertsApplication</span></span>  | <span data-ttu-id="c3de1-131">Esta base de datos contiene información de alertas para notificaciones de BAM.</span><span class="sxs-lookup"><span data-stu-id="c3de1-131">This database contains alert information for BAM notifications.</span></span> <span data-ttu-id="c3de1-132">Por ejemplo, al crear una alerta utilizando el portal de BAM, las entradas se insertan en la base de datos especificando las condiciones y eventos a los que pertenece la alerta, así como otros datos complementarios relativos a ésta.</span><span class="sxs-lookup"><span data-stu-id="c3de1-132">For example, when you create an alert using the BAM portal, entries are inserted in the database specifying the conditions and events to which the alert pertains, as well as other supporting data items for the alert.</span></span> |
|  <span data-ttu-id="c3de1-133">Base de datos de instancia de servicios de notificación de BAM</span><span class="sxs-lookup"><span data-stu-id="c3de1-133">BAM Notification Services Instance database</span></span>   |    <span data-ttu-id="c3de1-134">BAMAlertsNSMain</span><span class="sxs-lookup"><span data-stu-id="c3de1-134">BAMAlertsNSMain</span></span>    |                                                                            <span data-ttu-id="c3de1-135">Esta base de datos contiene información de la instancia que especifica el modo en que los servicios de notificación se conectan con el sistema supervisado por BAM.</span><span class="sxs-lookup"><span data-stu-id="c3de1-135">This database contains instance information specifying how the notification services connect to the system that BAM is monitoring.</span></span>                                                                            |
|           <span data-ttu-id="c3de1-136">Base de datos de seguimiento de BizTalk</span><span class="sxs-lookup"><span data-stu-id="c3de1-136">BizTalk Tracking database</span></span>            |     <span data-ttu-id="c3de1-137">BizTalkDTADb</span><span class="sxs-lookup"><span data-stu-id="c3de1-137">BizTalkDTADb</span></span>      |                                                              <span data-ttu-id="c3de1-138">Esta base de datos almacena los datos de seguimiento de estado del motor de seguimiento de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3de1-138">This database stores health monitoring data tracked by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tracking engine.</span></span>                                                              |
|          <span data-ttu-id="c3de1-139">Base de datos de administración de BizTalk</span><span class="sxs-lookup"><span data-stu-id="c3de1-139">BizTalk Management database</span></span>           |     <span data-ttu-id="c3de1-140">BizTalkMgmtDb</span><span class="sxs-lookup"><span data-stu-id="c3de1-140">BizTalkMgmtDb</span></span>     |                                                               <span data-ttu-id="c3de1-141">Esta base de datos es el almacén central de metainformación para todas las instancias de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3de1-141">This database is the central meta-information store for all instances of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>                                                               |
|          <span data-ttu-id="c3de1-142">Base de datos de BizTalk MessageBox</span><span class="sxs-lookup"><span data-stu-id="c3de1-142">BizTalk MessageBox database</span></span>           |    <span data-ttu-id="c3de1-143">BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="c3de1-143">BizTalkMsgBoxDb</span></span>    |                                             <span data-ttu-id="c3de1-144">El motor de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utiliza esta base de datos para el enrutamiento, la puesta en cola, la administración de instancias y otras tareas.</span><span class="sxs-lookup"><span data-stu-id="c3de1-144">This database is used by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] engine for routing, queuing, instance management, and a variety of other tasks.</span></span>                                              |
|              <span data-ttu-id="c3de1-145">Base de datos del motor de reglas</span><span class="sxs-lookup"><span data-stu-id="c3de1-145">Rule Engine database</span></span>              |  <span data-ttu-id="c3de1-146">BizTalkRuleEngineDb</span><span class="sxs-lookup"><span data-stu-id="c3de1-146">BizTalkRuleEngineDb</span></span>  |                                     <span data-ttu-id="c3de1-147">Esta base de datos es un repositorio para lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3de1-147">This database is a repository for:</span></span><br /><br /> <span data-ttu-id="c3de1-148">-Directivas, que son conjuntos de reglas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c3de1-148">-   Policies, which are sets of related rules.</span></span><br /><span data-ttu-id="c3de1-149">-Vocabularios, que son colecciones de nombres fáciles de usar, específico de dominio para las referencias de datos en las reglas.</span><span class="sxs-lookup"><span data-stu-id="c3de1-149">-   Vocabularies, which are collections of user-friendly, domain-specific names for data references in rules.</span></span>                                     |
|                  <span data-ttu-id="c3de1-150">base de datos de SSO</span><span class="sxs-lookup"><span data-stu-id="c3de1-150">SSO database</span></span>                  |         <span data-ttu-id="c3de1-151">SSODB</span><span class="sxs-lookup"><span data-stu-id="c3de1-151">SSODB</span></span>         |                                                                                       <span data-ttu-id="c3de1-152">Esta base de datos de inicio de sesión único empresarial almacena de forma segura la información de configuración de las ubicaciones de recepción.</span><span class="sxs-lookup"><span data-stu-id="c3de1-152">This Enterprise Single Sign-On database securely stores the configuration information for receive locations.</span></span>                                                                                       |

### <a name="databases-backed-up-by-the-bam-backup-process"></a><span data-ttu-id="c3de1-153">Bases de datos de copia de seguridad realizada por el proceso de copia de seguridad de BAM</span><span class="sxs-lookup"><span data-stu-id="c3de1-153">Databases Backed Up by the BAM Backup Process</span></span>  
 <span data-ttu-id="c3de1-154">En la tabla siguiente se enumera las bases de datos cuya copia de seguridad y restauración mediante los procedimientos de [copia de seguridad y restauración de BAM](../core/backing-up-and-restoring-bam.md):</span><span class="sxs-lookup"><span data-stu-id="c3de1-154">The following table lists the databases that are backed up and restored using the procedures in [Backing Up and Restoring BAM](../core/backing-up-and-restoring-bam.md):</span></span>  

|<span data-ttu-id="c3de1-155">Base de datos</span><span class="sxs-lookup"><span data-stu-id="c3de1-155">Database</span></span>|<span data-ttu-id="c3de1-156">Nombre predeterminado de la base de datos</span><span class="sxs-lookup"><span data-stu-id="c3de1-156">Default database name</span></span>|<span data-ttu-id="c3de1-157">Descripción</span><span class="sxs-lookup"><span data-stu-id="c3de1-157">Description</span></span>|  
|--------------|---------------------------|-----------------|  
|<span data-ttu-id="c3de1-158">Esquema de estrella de BAM</span><span class="sxs-lookup"><span data-stu-id="c3de1-158">BAM Star Schema</span></span>|<span data-ttu-id="c3de1-159">BAMStarSchema</span><span class="sxs-lookup"><span data-stu-id="c3de1-159">BAMStarSchema</span></span>|<span data-ttu-id="c3de1-160">Esta base de datos contiene la tabla provisional y las tablas de dimensiones y medidas.</span><span class="sxs-lookup"><span data-stu-id="c3de1-160">This database contains the staging table, and the measure and dimension tables.</span></span>|  
|<span data-ttu-id="c3de1-161">Análisis de BAM</span><span class="sxs-lookup"><span data-stu-id="c3de1-161">BAM Analysis</span></span>|<span data-ttu-id="c3de1-162">BAMAnalysis</span><span class="sxs-lookup"><span data-stu-id="c3de1-162">BAMAnalysis</span></span>|<span data-ttu-id="c3de1-163">Esta base de datos contiene cubos BAM OLAP para el análisis en línea y fuera de línea.</span><span class="sxs-lookup"><span data-stu-id="c3de1-163">This database contains BAM OLAP cubes for both online and offline analysis.</span></span>|  
|<span data-ttu-id="c3de1-164">Archivo de BAM</span><span class="sxs-lookup"><span data-stu-id="c3de1-164">BAM Archive</span></span>|<span data-ttu-id="c3de1-165">BAMArchive</span><span class="sxs-lookup"><span data-stu-id="c3de1-165">BAMArchive</span></span>|<span data-ttu-id="c3de1-166">Esta base de datos archiva datos antiguos de actividad económica.</span><span class="sxs-lookup"><span data-stu-id="c3de1-166">This database archives old business activity data.</span></span> <span data-ttu-id="c3de1-167">Cree una base de datos de archivo de BAM para reducir al mínimo la acumulación de datos de actividad económica en la base de datos de importación principal de BAM.</span><span class="sxs-lookup"><span data-stu-id="c3de1-167">Create a BAM Archive database to minimize the accumulation of business activity data in the BAM Primary Import database.</span></span>|  
|<span data-ttu-id="c3de1-168">Servidor de análisis de seguimiento</span><span class="sxs-lookup"><span data-stu-id="c3de1-168">Tracking Analysis Server</span></span>|<span data-ttu-id="c3de1-169">BizTalkAnalysisDb</span><span class="sxs-lookup"><span data-stu-id="c3de1-169">BizTalkAnalysisDb</span></span>|<span data-ttu-id="c3de1-170">Esta base de datos almacena cubos OLAP (procesamiento analítico en línea) de supervisión de estado.</span><span class="sxs-lookup"><span data-stu-id="c3de1-170">This database stores health monitoring online analytical processing (OLAP) cubes.</span></span>|  

## <a name="in-this-section"></a><span data-ttu-id="c3de1-171">En esta sección</span><span class="sxs-lookup"><span data-stu-id="c3de1-171">In This Section</span></span>  

-   [<span data-ttu-id="c3de1-172">Cómo configurar el trabajo de copia de seguridad de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c3de1-172">How to Configure the Backup BizTalk Server Job</span></span>](../core/how-to-configure-the-backup-biztalk-server-job.md)  

-   [<span data-ttu-id="c3de1-173">Cómo configurar el sistema de destino del trasvase de registros</span><span class="sxs-lookup"><span data-stu-id="c3de1-173">How to Configure the Destination System for Log Shipping</span></span>](../core/how-to-configure-the-destination-system-for-log-shipping.md)  

-   [<span data-ttu-id="c3de1-174">Cómo restaurar las bases de datos</span><span class="sxs-lookup"><span data-stu-id="c3de1-174">How to Restore Your Databases</span></span>](../core/how-to-restore-your-databases.md)  

-   [<span data-ttu-id="c3de1-175">Cómo realizar copias de seguridad y restaurar trabajos del Agente SQL</span><span class="sxs-lookup"><span data-stu-id="c3de1-175">How to Back Up and Restore SQL Agent Jobs</span></span>](../core/how-to-back-up-and-restore-sql-agent-jobs.md)  

-   [<span data-ttu-id="c3de1-176">Cómo realizar copias de seguridad y restaurar inicios de sesión SQL Server</span><span class="sxs-lookup"><span data-stu-id="c3de1-176">How to Back Up and Restore SQL Server Logins</span></span>](../core/how-to-back-up-and-restore-sql-server-logins.md)