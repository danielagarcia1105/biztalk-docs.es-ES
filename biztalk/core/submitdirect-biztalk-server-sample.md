---
title: SubmitDirect (ejemplo de BizTalk Server) | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- adapters, receive adapters
- receive adapters, examples
- examples, receive adapters
ms.assetid: 3540368b-cf46-4c83-a87b-94aec9cd1b36
caps.latest.revision: "23"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c4941cb95e180b7075b7e113fb89f7734a9abd82
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/28/2017
---
# <a name="submitdirect-biztalk-server-sample"></a><span data-ttu-id="d3ac9-102">SubmitDirect (ejemplo de BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="d3ac9-102">SubmitDirect (BizTalk Server Sample)</span></span>
<span data-ttu-id="d3ac9-103">El ejemplo SubmitDirect muestra cómo enviar mediante programación mensajes unidireccionales y de solicitud-respuesta a Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] desde aplicaciones basadas en .NET.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-103">The SubmitDirect sample demonstrates how to programmatically submit one-way and request/response messages to Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] from .NET-based applications.</span></span> <span data-ttu-id="d3ac9-104">El ejemplo muestra el uso de las API de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] para los adaptadores.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-104">The sample demonstrates the use of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] APIs for adapters.</span></span> <span data-ttu-id="d3ac9-105">También proporciona un adaptador de recepción, conocido como adaptador de envío, que puede usarse para enviar mensajes a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-105">It also provides a receive adapter, named Submit, that can be used to submit messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="d3ac9-106">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="d3ac9-106">Prerequisites</span></span>  
 <span data-ttu-id="d3ac9-107">Antes de ejecutar este ejemplo, asegúrese de que está registrado como usuario que pertenece al grupo Usuarios de hosts aislados de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-107">Before running this sample, ensure you are logged on as a user who belongs to BizTalk Isolated Host Users group.</span></span>  
  
## <a name="what-this-sample-does"></a><span data-ttu-id="d3ac9-108">Descripción del ejemplo</span><span class="sxs-lookup"><span data-stu-id="d3ac9-108">What This Sample Does</span></span>  
 <span data-ttu-id="d3ac9-109">Este ejemplo muestra cómo realizar varias tareas relacionadas con los adaptadores de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-109">This sample shows how to perform various tasks related to BizTalk adapters.</span></span> <span data-ttu-id="d3ac9-110">En concreto, muestra cómo:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-110">Specifically, it shows how to:</span></span>  
  
-   <span data-ttu-id="d3ac9-111">Trabajar con adaptadores aislados que se ejecutan fuera del proceso de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-111">Work with isolated adapters that run outside of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] process.</span></span> <span data-ttu-id="d3ac9-112">El adaptador de envío es un adaptador aislado, ya que se crea mediante un proceso externo al proceso de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] (se inicia como una aplicación .NET).</span><span class="sxs-lookup"><span data-stu-id="d3ac9-112">The Submit adapter is an isolated adapter because it is created by a process external to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] process (you start it as a .NET application).</span></span>  
  
-   <span data-ttu-id="d3ac9-113">Enviar lotes de mensajes a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-113">Submit batches of messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d3ac9-114">El adaptador de envío usa la funcionalidad de envío de mensajes por lotes para enviar varios mensajes a la vez.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-114">The Submit adapter uses batch message submittal functionality to submit several messages at once.</span></span>  
  
-   <span data-ttu-id="d3ac9-115">Enviar mensajes de forma sincrónica mediante el uso de un paradigma de solicitud-respuesta, así como de forma asíncrona mediante el uso de un paradigma unidireccional.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-115">Submit messages synchronously using a request/response paradigm, as well as asynchronously using a one-way paradigm.</span></span>  
  
-   <span data-ttu-id="d3ac9-116">Registrar un adaptador con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-116">Register an adapter with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d3ac9-117">En este ejemplo se muestra cómo registrar un adaptador y se proporciona un ejecutable de registro que automatiza el registro de un adaptador.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-117">This sample shows how to register an adapter and provides a registration executable that automates the registration of an adapter.</span></span>  
  
 <span data-ttu-id="d3ac9-118">En realidad, este ejemplo son dos ejemplos en uno:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-118">This sample is actually two samples in one, as follows:</span></span>  
  
-   <span data-ttu-id="d3ac9-119">**Envío de un lote de mensajes unidireccionales.**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-119">**Submission of a batch of one-way messages.**</span></span> <span data-ttu-id="d3ac9-120">La aplicación de consola SubmitMessages.exe toma las cadenas de su línea de comandos y las envía como un mensaje independiente a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-120">The console application SubmitMessages.exe takes the strings from its command line and submits each one as a separate message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d3ac9-121">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] recoge cada uno de estos mensajes enviados en la ubicación de recepción. A continuación, estos mensajes se envían a través de canalizaciones de envío y de recepción de paso a través y, finalmente, se escriben en un archivo de texto.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-121">Each of these submitted messages is picked up at the receive location by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], sent through pass-through receive and send pipelines, and then written to a text file.</span></span>  
  
-   <span data-ttu-id="d3ac9-122">**Envío de mensaje de solicitud/respuesta.**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-122">**Submission of request/response message.**</span></span> <span data-ttu-id="d3ac9-123">La aplicación de consola SubmitRequest.exe toma el archivo .xml especificado en su línea de comandos y lo envía a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-123">The console application SubmitRequest.exe takes the .xml file specified on its command line and submits it to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d3ac9-124">El esquema de este archivo .xml define elementos que contienen dos campos enteros.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-124">The schema of this .xml file defines elements that contain two integer fields.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="d3ac9-125"> recoge el archivo .xml y lo procesa con una orquestación (con un puerto de solicitud-respuesta).</span><span class="sxs-lookup"><span data-stu-id="d3ac9-125"> picks up the .xml file and processes it with an orchestration (with one request/response port).</span></span> <span data-ttu-id="d3ac9-126">Usa una asignación para producir un mensaje de respuesta XML que devuelva un entero, que será el producto de los dos enteros en la solicitud.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-126">It uses a map to produce an XML response message that returns an integer that is the product of the two integers in the request.</span></span> <span data-ttu-id="d3ac9-127">Cuando la aplicación de consola reciba la respuesta, mostrará el resultado.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-127">When the console application receives the response, it displays the result.</span></span>  
  
## <a name="where-to-find-this-sample"></a><span data-ttu-id="d3ac9-128">Ubicación del ejemplo</span><span class="sxs-lookup"><span data-stu-id="d3ac9-128">Where to Find This Sample</span></span>  
 <span data-ttu-id="d3ac9-129">\<*Ejemplos de ruta de acceso*\>\AdaptersDevelopment\SubmitDirect\\</span><span class="sxs-lookup"><span data-stu-id="d3ac9-129">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\\</span></span>  
  
 <span data-ttu-id="d3ac9-130">En la siguiente tabla se enumeran los archivos de este ejemplo y se describe el propósito de cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-130">The following table lists the files in this sample and describes their purpose.</span></span>  
  
|<span data-ttu-id="d3ac9-131">Archivos</span><span class="sxs-lookup"><span data-stu-id="d3ac9-131">File(s)</span></span>|<span data-ttu-id="d3ac9-132">Description</span><span class="sxs-lookup"><span data-stu-id="d3ac9-132">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="d3ac9-133">Cleanup.bat</span><span class="sxs-lookup"><span data-stu-id="d3ac9-133">Cleanup.bat</span></span>|<span data-ttu-id="d3ac9-134">Anula la implementación de ensamblados y los elimina de la caché de ensamblados global (GAC); elimina puertos de envío y de recepción; elimina directorios virtuales de los Servicios de Microsoft Internet Information Server (IIS) según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-134">Undeploys assemblies and removes them from the global assembly cache (GAC); removes send and receive ports; removes Microsoft Internet Information Services (IIS) virtual directories as needed.</span></span>|  
|<span data-ttu-id="d3ac9-135">Setup.bat</span><span class="sxs-lookup"><span data-stu-id="d3ac9-135">Setup.bat</span></span>|<span data-ttu-id="d3ac9-136">Crea e inicializa este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-136">Builds and initializes this sample.</span></span>|  
|<span data-ttu-id="d3ac9-137">SubmitDirect.sln</span><span class="sxs-lookup"><span data-stu-id="d3ac9-137">SubmitDirect.sln</span></span>|<span data-ttu-id="d3ac9-138">Archivo de solución que incluye el proyecto de BizTalk en la carpeta ProcessRequest y los proyectos de Microsoft Visual C# en las otras carpetas.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-138">Solution file that includes the BizTalk project in the ProcessRequest folder and the Microsoft Visual C# projects in the other folders.</span></span>|  
|<span data-ttu-id="d3ac9-139">SubmitMessagesBinding.xml, SubmitRequestBinding.xml</span><span class="sxs-lookup"><span data-stu-id="d3ac9-139">SubmitMessagesBinding.xml, SubmitRequestBinding.xml</span></span>|<span data-ttu-id="d3ac9-140">Se utiliza para la instalación automatizada, como el enlace de puerto.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-140">Used for automated setup such as port binding.</span></span>|  
|<span data-ttu-id="d3ac9-141">En la carpeta \ProcessRequest:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-141">In the \ProcessRequest folder:</span></span><br /><br /> <span data-ttu-id="d3ac9-142">DocIn.xsd, DocOut.xsd, Multiplier.odx, Multiply.btm, ProcessRequest.btproj</span><span class="sxs-lookup"><span data-stu-id="d3ac9-142">DocIn.xsd, DocOut.xsd, Multiplier.odx, Multiply.btm, ProcessRequest.btproj</span></span>|<span data-ttu-id="d3ac9-143">Proporciona un proyecto de BizTalk que realiza la multiplicación de los enteros en el escenario de solicitud-respuesta.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-143">Provides a BizTalk project that performs the multiplication of integers in the request/response scenario.</span></span>|  
|<span data-ttu-id="d3ac9-144">En la carpeta \SubmitMessages:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-144">In the \SubmitMessages folder:</span></span><br /><br /> <span data-ttu-id="d3ac9-145">AssemblyInfo.cs, SubmitMessages.cs, SubmitMessages.csproj</span><span class="sxs-lookup"><span data-stu-id="d3ac9-145">AssemblyInfo.cs, SubmitMessages.cs, SubmitMessages.csproj</span></span>|<span data-ttu-id="d3ac9-146">Proporciona un proyecto de Visual C# para la aplicación de consola que pasa los parámetros de la cadena de la línea de comandos como un lote de mensajes independientes.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-146">Provides a Visual C# project for the console application that passes its command line string parameters as a batch of separate messages.</span></span>|  
|<span data-ttu-id="d3ac9-147">En la carpeta \SubmitRequest:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-147">In the \SubmitRequest folder:</span></span><br /><br /> <span data-ttu-id="d3ac9-148">AssemblyInfo.cs, DocInstance.xml, SubmitRequest.cs, SubmitRequest.csproj</span><span class="sxs-lookup"><span data-stu-id="d3ac9-148">AssemblyInfo.cs, DocInstance.xml, SubmitRequest.cs, SubmitRequest.csproj</span></span>|<span data-ttu-id="d3ac9-149">Proporciona un proyecto de C# para la aplicación de consola que pasa un archivo .xml (DocInstance.xml) que contiene dos enteros que van a multiplicarse.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-149">Provides a C# project for the console application that passes an .xml file (DocInstance.xml) containing two integers to be multiplied.</span></span>|  
|<span data-ttu-id="d3ac9-150">En la carpeta \TransportProxyUtils:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-150">In the \TransportProxyUtils folder:</span></span><br /><br /> <span data-ttu-id="d3ac9-151">AssemblyInfo.cs, MessageHelper.cs, MessagingAPIInterface.cs, MessagingAPIs.cs, ResponseCallBack.cs, TpBatchAsyncCallback.cs, TpBatchAsyncResult.cs, TpBatchStatus.cs, TransportProxyUtils.csproj</span><span class="sxs-lookup"><span data-stu-id="d3ac9-151">AssemblyInfo.cs, MessageHelper.cs, MessagingAPIInterface.cs, MessagingAPIs.cs, ResponseCallBack.cs, TpBatchAsyncCallback.cs, TpBatchAsyncResult.cs, TpBatchStatus.cs, TransportProxyUtils.csproj</span></span>|<span data-ttu-id="d3ac9-152">Proporciona un proyecto de C# para la parte en tiempo de ejecución del adaptador de envío, que implementa métodos para el envío de mensajes de forma sincrónica y asíncrona, y para el envío de mensajes de solicitud únicos y por lotes.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-152">Provides a C# project for the run-time portion of the Submit adapter that implements methods for synchronous and asynchronous message submission, and for batch and single request message submission.</span></span>|  
|<span data-ttu-id="d3ac9-153">En la carpeta \TransportProxyUtilsReg:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-153">In the \TransportProxyUtilsReg folder:</span></span><br /><br /> <span data-ttu-id="d3ac9-154">AssemblyInfo.cs, RegisterAdapter.cs, TransportProxyUtilsReg.csproj</span><span class="sxs-lookup"><span data-stu-id="d3ac9-154">AssemblyInfo.cs, RegisterAdapter.cs, TransportProxyUtilsReg.csproj</span></span>|<span data-ttu-id="d3ac9-155">Proporciona un proyecto de Visual C# que muestra el código que puede usar para registrar adaptadores con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-155">Provides a Visual C# project that demonstrates code that you can use to register adapters with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>|  
|<span data-ttu-id="d3ac9-156">En la carpeta \TransportProxyUtilsUI:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-156">In the \TransportProxyUtilsUI folder:</span></span><br /><br /> <span data-ttu-id="d3ac9-157">AssemblyInfo.cs, TransportProxyUtilsMgmt.cs, TransportProxyUtilsUI.csproj</span><span class="sxs-lookup"><span data-stu-id="d3ac9-157">AssemblyInfo.cs, TransportProxyUtilsMgmt.cs, TransportProxyUtilsUI.csproj</span></span>|<span data-ttu-id="d3ac9-158">Proporciona un proyecto de Visual C# para la parte de la interfaz de usuario del adaptador de envío.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-158">Provides a Visual C# project for the user interface portion of the Submit adapter.</span></span>|  
  
## <a name="building-and-initializing-the-sample"></a><span data-ttu-id="d3ac9-159">Crear e inicializar el ejemplo</span><span class="sxs-lookup"><span data-stu-id="d3ac9-159">Building and Initializing the Sample</span></span>  
  
#### <a name="to-build-and-initialize-the-submitdirect-sample"></a><span data-ttu-id="d3ac9-160">Para crear e inicializar el ejemplo SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="d3ac9-160">To build and initialize the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="d3ac9-161">En una ventana de comandos, desplácese a la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-161">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="d3ac9-162">\<*Ejemplos de ruta de acceso*\>\AdaptersDevelopment\SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="d3ac9-162">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect</span></span>  
  
2.  <span data-ttu-id="d3ac9-163">Ejecute el archivo Setup.bat que realiza las acciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-163">Run the file Setup.bat, which performs the following actions:</span></span>  
  
    -   <span data-ttu-id="d3ac9-164">Crea la siguiente carpeta de salida para la parte de envío por lotes de este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-164">Creates the following output folder for the batch submission portion of this sample.</span></span>  
  
         <span data-ttu-id="d3ac9-165">\<*Ejemplos de ruta de acceso*\>\AdaptersDevelopment\SubmitDirect\Out</span><span class="sxs-lookup"><span data-stu-id="d3ac9-165">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\Out</span></span>  
  
    -   <span data-ttu-id="d3ac9-166">Compila los diversos proyectos de [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] para este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-166">Compiles the various [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] projects for this sample.</span></span>  
  
    -   <span data-ttu-id="d3ac9-167">Registra el adaptador de envío con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-167">Registers the Submit adapter with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
    -   <span data-ttu-id="d3ac9-168">Crea y enlaza las ubicaciones de recepción de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], así como los puertos de envío y recepción.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-168">Creates and binds the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive locations, and the send and receive ports.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="d3ac9-169">Este ejemplo muestra las siguientes advertencias al crear y enlazar los puertos:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-169">This sample displays the following warnings when creating and binding the ports:</span></span>  
        >   
        >  `Warning: Receive handler not specified for receive location "SubmitDirectRL"; updating with first receive handler with matching transport type.`  
        >   
        >  `Warning: Host not specified for orchestration "Microsoft.Samples.BizTalk.ProcessRequest.Multiplier"; updating with first available host.`  
        >   
        >  <span data-ttu-id="d3ac9-170">Puede omitir estas advertencias de forma segura.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-170">You can safely ignore these warnings.</span></span> <span data-ttu-id="d3ac9-171">(Para dar cabida a posibles diferencias de nombre en las instalaciones de usuario, se han omitido del archivo de enlace el nombre del host y el controlador de recepción).</span><span class="sxs-lookup"><span data-stu-id="d3ac9-171">(To accommodate for possible naming differences in user installations, the host name and receive handler have been omitted from the binding file.)</span></span>  
  
    -   <span data-ttu-id="d3ac9-172">Habilita las ubicaciones de recepción e inicia los puertos de envío y orquestación.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-172">Enables the receive locations, and starts the send ports and orchestration.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="d3ac9-173">Antes de intentar ejecutar este ejemplo, debe confirmar que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] no ha informado de ningún error durante el proceso de generación e inicialización.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-173">You should confirm that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] did not report any errors during the build and initialization process before attempting to run this sample.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="d3ac9-174">Si opta por abrir y crear los proyectos de este ejemplo sin ejecutar el archivo Setup.bat, debe crear, en primer lugar, un par de claves de nombre seguro mediante la utilidad de nombre seguro de .NET Framework (sn.exe).</span><span class="sxs-lookup"><span data-stu-id="d3ac9-174">If you choose to open and build the projects in this sample without running the file Setup.bat, you must first create a strong name key pair using the .NET Framework Strong Name Utility (sn.exe).</span></span> <span data-ttu-id="d3ac9-175">Utilice este par de claves para firmar los ensamblados resultantes.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-175">Use this key pair to sign the resulting assemblies.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="d3ac9-176">Para deshacer los cambios realizados por Setup.bat, ejecute Cleanup.bat.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-176">To undo changes made by Setup.bat, run Cleanup.bat.</span></span> <span data-ttu-id="d3ac9-177">Debe ejecutar Cleanup.bat antes de ejecutar Setup.bat por segunda vez.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-177">You must run Cleanup.bat before running Setup.bat a second time.</span></span>  
  
## <a name="running-the-sample"></a><span data-ttu-id="d3ac9-178">Ejecutar el ejemplo</span><span class="sxs-lookup"><span data-stu-id="d3ac9-178">Running the Sample</span></span>  
 <span data-ttu-id="d3ac9-179">Dado que este ejemplo usa el adaptador de archivo, el host de BizTalk (BizTalkServerApplication) debe estar en ejecución.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-179">Because this sample uses File adapter, the BizTalk host (BizTalkServerApplication) must be running.</span></span> <span data-ttu-id="d3ac9-180">Use los procedimientos que se exponen a continuación para ejecutar el ejemplo SubmitDirect.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-180">Use the following procedures to run the SubmitDirect sample.</span></span>  
  
#### <a name="to-run-the-batch-submission-portion-of-the-submitdirect-sample"></a><span data-ttu-id="d3ac9-181">Para ejecutar la parte de envío por lotes del ejemplo SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="d3ac9-181">To run the batch submission portion of the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="d3ac9-182">En una ventana de comandos, desplácese a la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-182">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="d3ac9-183">\<*Ejemplos de ruta de acceso*\>\AdaptersDevelopment\SubmitDirect\SubmitMessages\bin\Debug</span><span class="sxs-lookup"><span data-stu-id="d3ac9-183">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\SubmitMessages\bin\Debug</span></span>  
  
2.  <span data-ttu-id="d3ac9-184">Ejecute el archivo SubmitMessages.exe, y pase varias cadenas de la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-184">Run the file SubmitMessages.exe, passing multiple strings on the command line.</span></span>  
  
     <span data-ttu-id="d3ac9-185">Ejemplo: SubmitMessages msg1 msg2 msg3</span><span class="sxs-lookup"><span data-stu-id="d3ac9-185">Example: SubmitMessages msg1 msg2 msg3</span></span>  
  
3.  <span data-ttu-id="d3ac9-186">Observe los diversos archivos de texto creados en la carpeta de salida Out. Estos archivos contienen las cadenas pasadas de la línea de comandos, una por archivo.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-186">Observe the multiple text files created in the output folder Out. These files contain the strings passed on the command line, one per file.</span></span>  
  
#### <a name="to-run-the-requestresponse-portion-of-the-submitdirect-sample"></a><span data-ttu-id="d3ac9-187">Para ejecutar la parte de solicitud-respuesta del ejemplo SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="d3ac9-187">To run the request/response portion of the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="d3ac9-188">En una ventana de comandos, desplácese a la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="d3ac9-188">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="d3ac9-189">\<*Ejemplos de ruta de acceso*\>\AdaptersDevelopment\SubmitDirect\SubmitRequest\bin\Debug</span><span class="sxs-lookup"><span data-stu-id="d3ac9-189">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\SubmitRequest\bin\Debug</span></span>  
  
2.  <span data-ttu-id="d3ac9-190">Ejecute el archivo SubmitRequest.exe. Para ello, pase un nombre de archivo .xml correspondiente en la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-190">Run the file SubmitRequest.exe, passing an appropriate .xml file name on the command line.</span></span>  
  
     <span data-ttu-id="d3ac9-191">Ejemplo: SubmitRequest... \\.. \DocInstance.Xml</span><span class="sxs-lookup"><span data-stu-id="d3ac9-191">Example: SubmitRequest ..\\..\DocInstance.xml</span></span>  
  
3.  <span data-ttu-id="d3ac9-192">Observe el mensaje de respuesta XML, que contiene el resultado de la operación de multiplicación, que aparece en la consola.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-192">Observe the response XML message, containing the result of the multiplication operation, displayed to the console.</span></span>  
  
## <a name="comments"></a><span data-ttu-id="d3ac9-193">Comentarios</span><span class="sxs-lookup"><span data-stu-id="d3ac9-193">Comments</span></span>  
 <span data-ttu-id="d3ac9-194">Puede usar el adaptador de envío en otras aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-194">You can use the Submit adapter in other applications.</span></span> <span data-ttu-id="d3ac9-195">Puede usarlo desde cualquier código basado en .NET para enviar mensajes a su servidor de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] mediante programación.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-195">You can use it from any .NET-based code to submit messages to your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] programmatically.</span></span> <span data-ttu-id="d3ac9-196">Para usar este adaptador con su código, lleve a cabo el procedimiento que se expone a continuación.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-196">To use this adapter with your code, use the following procedure.</span></span>  
  
#### <a name="to-use-the-sample-adapter-with-your-code"></a><span data-ttu-id="d3ac9-197">Para usar el adaptador de ejemplo con su código</span><span class="sxs-lookup"><span data-stu-id="d3ac9-197">To use the sample adapter with your code</span></span>  
  
1.  <span data-ttu-id="d3ac9-198">Registra el adaptador de envío con [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-198">Register the Submit adapter with your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d3ac9-199">Si ha ejecutado el archivo Setup.bat proporcionado con este ejemplo, el adaptador debe estar registrado y listo para usarse.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-199">If you have run the file Setup.bat provided with this sample, the adapter should be registered and ready to use.</span></span> <span data-ttu-id="d3ac9-200">En caso contrario, puede registrarlo mediante la generación de los proyectos TransportProxyUtils.csproj, TransportProxyUtilsUI.csproj y TransportProxyUtilsReg.csproj y, a continuación, mediante la ejecución el ejecutable producido por el último proyecto, RegisterAdapter.exe.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-200">Otherwise, you can register it by building the projects TransportProxyUtils.csproj, TransportProxyUtilsUI.csproj, and TransportProxyUtilsReg.csproj, and then running the executable produced by the latter project, RegisterAdapter.exe.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="d3ac9-201">Si instala BizTalk en un equipo de 64 bits, cambie todas las instancias de la entrada de registro HKEY_CLASSES_ROOT\CLSID\ a HKEY_CLASSES_ROOT\Wow6432Node\CLSID\ en el **RegisterAdapter.cs** archivo.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-201">If you install BizTalk on a 64 bit machine, change all instances of the HKEY_CLASSES_ROOT\CLSID\ registry entry to HKEY_CLASSES_ROOT\Wow6432Node\CLSID\ in the **RegisterAdapter.cs** file.</span></span>  
  
2.  <span data-ttu-id="d3ac9-202">Cree un puerto de recepción con una ubicación de recepción que use el adaptador de envío.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-202">Create a receive port with a receive location that uses the Submit adapter.</span></span> <span data-ttu-id="d3ac9-203">Especifique la dirección de la ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-203">Specify the address of the receive location.</span></span> <span data-ttu-id="d3ac9-204">La dirección puede ser cualquier cadena que sea única en las ubicaciones de recepción que usen este adaptador.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-204">The address can be any string that is unique within the receive locations that use this adapter.</span></span>  
  
3.  <span data-ttu-id="d3ac9-205">En su proyecto de [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], haga referencia al ensamblado Microsoft.BizTalk.SDKSamples.AdaptersDevelopment.TransportProxyUtils.dll.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-205">Reference the assembly Microsoft.BizTalk.SDKSamples.AdaptersDevelopment.TransportProxyUtils.dll in your [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] project.</span></span>  
  
4.  <span data-ttu-id="d3ac9-206">Envíe mensajes a su [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] mediante el uso de uno o varios de los métodos siguientes proporcionados por el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-206">Submit messages to your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] by using one or more of the following methods provided by this assembly.</span></span>  
  
    |<span data-ttu-id="d3ac9-207">Métodos</span><span class="sxs-lookup"><span data-stu-id="d3ac9-207">Method(s)</span></span>|<span data-ttu-id="d3ac9-208">Description</span><span class="sxs-lookup"><span data-stu-id="d3ac9-208">Description</span></span>|  
    |-----------------|-----------------|  
    |<span data-ttu-id="d3ac9-209">**SubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-209">**SubmitMessage()**</span></span><br /><br /> <span data-ttu-id="d3ac9-210">**BeginSubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-210">**BeginSubmitMessage()**</span></span><br /><br /> <span data-ttu-id="d3ac9-211">**EndSubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-211">**EndSubmitMessage()**</span></span>|<span data-ttu-id="d3ac9-212">Métodos sincrónicos y asíncronos para enviar un mensaje unidireccional a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-212">Synchronous and asynchronous methods to submit a one-way message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d3ac9-213">La dirección de la ubicación de recepción que se envía el mensaje debe establecerse en el contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-213">The address of the receive location where the message is submitted must be set on the message context.</span></span><br /><br /> <span data-ttu-id="d3ac9-214">Un valor booleano que indica que el estado del envío (correcto o con errores) se ha devuelto.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-214">A Boolean value indicating the status of submission (success/failure) is returned.</span></span>|  
    |<span data-ttu-id="d3ac9-215">**SubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-215">**SubmitMessages()**</span></span><br /><br /> <span data-ttu-id="d3ac9-216">**BeginSubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-216">**BeginSubmitMessages()**</span></span><br /><br /> <span data-ttu-id="d3ac9-217">**EndSubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-217">**EndSubmitMessages()**</span></span>|<span data-ttu-id="d3ac9-218">Métodos sincrónicos y asíncronos para enviar una matriz de mensajes unidireccionales a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-218">Synchronous and asynchronous methods to submit an array of one-way messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d3ac9-219">Las direcciones de las ubicaciones de recepción en las que se envían los mensajes deben estar establecidas en el contexto de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-219">The addresses of the receive locations where the messages are submitted should be set on the context of the messages.</span></span><br /><br /> <span data-ttu-id="d3ac9-220">Un valor booleano que indica que el estado del envío (correcto o con errores) se ha devuelto.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-220">A Boolean value indicating the status of submission (success/failure) is returned.</span></span>|  
    |<span data-ttu-id="d3ac9-221">**SubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-221">**SubmitSyncMessage()**</span></span><br /><br /> <span data-ttu-id="d3ac9-222">**BeginSubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-222">**BeginSubmitSyncMessage()**</span></span><br /><br /> <span data-ttu-id="d3ac9-223">**EndSubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-223">**EndSubmitSyncMessage()**</span></span>|<span data-ttu-id="d3ac9-224">Métodos sincrónicos y asíncronos para enviar un mensaje de solicitud a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-224">Synchronous and asynchronous methods to submit a request message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d3ac9-225">La dirección de la ubicación de recepción en la que se envía el mensaje debe estar establecida en el contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-225">The address of the receive location where the message is submitted should be set on the message context.</span></span><br /><br /> <span data-ttu-id="d3ac9-226">Se devuelve el mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-226">The response message is returned.</span></span>|  
    |<span data-ttu-id="d3ac9-227">**CreateMessageFromString()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-227">**CreateMessageFromString()**</span></span>|<span data-ttu-id="d3ac9-228">Crea un objeto de mensaje de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] desde una cadena y establece la propiedad de dirección de ubicación de recepción en el contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-228">Creates a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object from a string and sets the receive location address property on the message context.</span></span><br /><br /> <span data-ttu-id="d3ac9-229">Devuelve un objeto de mensaje de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-229">Returns a BizTalk message object.</span></span>|  
    |<span data-ttu-id="d3ac9-230">**CreateMessageFromStream()**</span><span class="sxs-lookup"><span data-stu-id="d3ac9-230">**CreateMessageFromStream()**</span></span>|<span data-ttu-id="d3ac9-231">Crea un objeto de mensaje de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] desde una secuencia y establece la propiedad de dirección de ubicación de recepción en el contexto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-231">Creates a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object from a stream and sets the receive location address property on the message context.</span></span><br /><br /> <span data-ttu-id="d3ac9-232">Devuelve un objeto de mensaje de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3ac9-232">Returns a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object.</span></span>|  
  
     <span data-ttu-id="d3ac9-233">Para obtener más detalles sobre los parámetros y los tipos de valores devueltos de estos métodos, vea el archivo MessagingAPIInterface.cs, que se encuentra en la carpeta TransportProxyUtils.</span><span class="sxs-lookup"><span data-stu-id="d3ac9-233">For details about the parameter and return types for these methods, see the file MessagingAPIInterface.cs in the TransportProxyUtils folder.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d3ac9-234">Vea también</span><span class="sxs-lookup"><span data-stu-id="d3ac9-234">See Also</span></span>  
 <span data-ttu-id="d3ac9-235">[Ejemplos de adaptador: desarrollo](../core/adapter-samples-development.md) </span><span class="sxs-lookup"><span data-stu-id="d3ac9-235">[Adapter Samples - Development](../core/adapter-samples-development.md) </span></span>  
 [<span data-ttu-id="d3ac9-236">Registro de un adaptador</span><span class="sxs-lookup"><span data-stu-id="d3ac9-236">Registering an Adapter</span></span>](../core/registering-an-adapter.md)