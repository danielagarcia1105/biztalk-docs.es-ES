---
title: Información de configuración | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Call Rules shape [Orchestration Designer], planning
- Call Rules shape [Orchestration Designer], configuring
ms.assetid: aa4924c6-4270-473b-aa0a-6d8b18375a39
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f9a35767815eaf7406a7baae5d9dccb833492287
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22233468"
---
# <a name="configuration-information"></a><span data-ttu-id="2d75f-102">Información de configuración</span><span class="sxs-lookup"><span data-stu-id="2d75f-102">Configuration Information</span></span>
<span data-ttu-id="2d75f-103">Este tema describe cómo configurar la **reglas de llamada** forma.</span><span class="sxs-lookup"><span data-stu-id="2d75f-103">This topic describes how to configure the **Call Rules** shape.</span></span>  
  
## <a name="orchestration-variables-and-fact-types"></a><span data-ttu-id="2d75f-104">Tipos de hechos y variables de orquestación</span><span class="sxs-lookup"><span data-stu-id="2d75f-104">Orchestration variables and fact types</span></span>  
 <span data-ttu-id="2d75f-105">En la orquestación donde la **reglas de llamada** forma reside, debe disponer de las variables que coinciden con los tipos utilizados en la directiva.</span><span class="sxs-lookup"><span data-stu-id="2d75f-105">In the orchestration where the **Call Rules** shape resides, you must have variables that match types used in the policy.</span></span> <span data-ttu-id="2d75f-106">Si no tiene el tipo de variables correcto, no puede suministrar los parámetros correctos a la directiva.</span><span class="sxs-lookup"><span data-stu-id="2d75f-106">If you do not have the correct types of variables, you cannot supply the correct parameters to the policy.</span></span> <span data-ttu-id="2d75f-107">Suponga que tiene un **reglas de llamada** forma de una orquestación, CallMyRules y utiliza CallMyRules para llamar a MyPolicy.</span><span class="sxs-lookup"><span data-stu-id="2d75f-107">Suppose that you have a **Call Rules** shape in an orchestration, CallMyRules, and you use CallMyRules to call MyPolicy.</span></span> <span data-ttu-id="2d75f-108">Si una clase .NET, MyClass, se utiliza en MyPolicy, deberá crear una variable de tipo MyAssembly.MyClass en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="2d75f-108">If a .NET class, MyClass, is used in MyPolicy, you must create a variable of a MyAssembly.MyClass type in the orchestration.</span></span> <span data-ttu-id="2d75f-109">De forma similar, si MyPolicy tiene **DataConnection** enlaces, debe crear una variable de un **Microsoft.RuleEngine.DataConnection** tipo en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="2d75f-109">Similarly, if MyPolicy has **DataConnection** bindings, you must create a variable of a **Microsoft.RuleEngine.DataConnection** type in the orchestration.</span></span>  
  
 <span data-ttu-id="2d75f-110">Además de crear las variables en la orquestación, deberá también crear instancias para estas variables.</span><span class="sxs-lookup"><span data-stu-id="2d75f-110">In addition to creating the variables in the orchestration, you must also create instances for these variables.</span></span> <span data-ttu-id="2d75f-111">Puede hacerlo agregando una **expresión** forma a la orquestación.</span><span class="sxs-lookup"><span data-stu-id="2d75f-111">You can do this by adding an **Expression** shape to your orchestration.</span></span> <span data-ttu-id="2d75f-112">En el ejemplo anterior, debe crear una instancia MyAssembly.MyClass y un **DataConnection** instancia.</span><span class="sxs-lookup"><span data-stu-id="2d75f-112">Using the preceding example, you should instantiate a MyAssembly.MyClass instance and a **DataConnection** instance.</span></span> <span data-ttu-id="2d75f-113">Para crear una instancia de la **DataConnection** instancia, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2d75f-113">To instantiate the **DataConnection** instance, you do the following:</span></span>  
  
-   <span data-ttu-id="2d75f-114">Crear un **SqlConnection** instancia y asígnela a MySqlCon.</span><span class="sxs-lookup"><span data-stu-id="2d75f-114">Create a **SqlConnection** instance and assign it to MySqlCon.</span></span>  
  
-   <span data-ttu-id="2d75f-115">Crear un **DataConnection** instancia y asígnela a dataConnection (variable de **DataConnection** tipo), tal y como se muestra en el siguiente fragmento de código:</span><span class="sxs-lookup"><span data-stu-id="2d75f-115">Create a **DataConnection** instance and assign it to dataConnection (variable of **DataConnection** type), as shown in the following code fragment:</span></span>  
  
    ```  
    dataConnection = new Microsoft.RuleEngine.DataConnection("NameOfSqlDatabaseHere", "NameOfYourTableHere", MySqlCon);  
    ```  
  
> [!NOTE]
>  <span data-ttu-id="2d75f-116">Si no tiene variables que coincidan con los tipos de hechos, estos tipos no aparecerán como parámetros en la **especificar parámetros de la directiva** cuadro de lista en la **configuración de directiva CallRules** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2d75f-116">If you do not have variables matching the fact types, these types will not appear as parameters in the **Specify policy parameters** list box in the **CallRules policy configuration** dialog box.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2d75f-117">El motor de orquestación convierte automáticamente las variables de mensaje que indique como parámetros a una directiva del BRE en **TypedXmlDocument** objetos y los impone en la memoria de trabajo del motor de reglas antes de ejecutar la directiva.</span><span class="sxs-lookup"><span data-stu-id="2d75f-117">The orchestration engine automatically converts the message variables you specify as parameters to a BRE policy into **TypedXmlDocument** objects, and asserts them into working memory of the rule engine prior to executing the policy.</span></span> <span data-ttu-id="2d75f-118">Por lo tanto, no es necesario que declare variables de tipo TypedXmlDocument como hizo para los hechos de base de datos y .NET.</span><span class="sxs-lookup"><span data-stu-id="2d75f-118">Therefore, you do not need to declare variables of type TypedXmlDocument as you did for .NET and database facts.</span></span>  
  
## <a name="message-type-and-document-type"></a><span data-ttu-id="2d75f-119">Tipo de mensaje y tipo de documento</span><span class="sxs-lookup"><span data-stu-id="2d75f-119">Message type and document type</span></span>  
 <span data-ttu-id="2d75f-120">Debe asegurarse de que el **DocumentType** propiedad para nodos XML utilizada en la regla de negocios (que implementó en el Compositor de reglas de negocios) es el mismo que el **MessageType** para aquellos nodos XML definidos en el orquestación, debe coincidir con el **MessageType** del mensaje o parte del mensaje que se pasa al motor de reglas en la **reglas de llamada** forma.</span><span class="sxs-lookup"><span data-stu-id="2d75f-120">You must ensure that the **DocumentType** property for XML nodes used in your business rule (that you implement in the Business Rule Composer) is the same as the **MessageType** for those XML nodes defined in the orchestration—it must match the **MessageType** of the message or message part that will be passed to the rule engine in the **Call Rules** shape.</span></span>  
  
 <span data-ttu-id="2d75f-121">Por ejemplo, si se define un esquema XML de pedido (PO) en un proyecto de BizTalk, el **MessageType** definido para este esquema es **BTSProject.PO** (si **BTSProject** es el espacio de nombres o el nombre del proyecto mediante el espacio de nombres predeterminado).</span><span class="sxs-lookup"><span data-stu-id="2d75f-121">For example, if you define a purchase order (PO) XML schema in a BizTalk project, the **MessageType** defined for this schema is **BTSProject.PO** (if **BTSProject** is the namespace or the project name using the default namespace).</span></span>  
  
 <span data-ttu-id="2d75f-122">En el caso de los **Pedido\Cantidad** elemento, antes de colocarlo en una definición de regla, debe cambiar su **DocumentType**propiedad **BTSProject.PO** en la ventana Propiedades .</span><span class="sxs-lookup"><span data-stu-id="2d75f-122">In the case of the **PO\Amount** element, before you drop it into a rule definition, you must change its **DocumentType**property to **BTSProject.PO** in the properties window.</span></span> <span data-ttu-id="2d75f-123">Puede tener acceso a la ventana Propiedades cuando se selecciona cualquier nodo en el esquema en el **esquemas XML** pestaña en el Explorador de hechos.</span><span class="sxs-lookup"><span data-stu-id="2d75f-123">You can access the properties window when any node in the schema is selected on the **XML Schemas** tab in the Facts Explorer.</span></span> <span data-ttu-id="2d75f-124">Este cambio se aplica a todos los elementos del esquema, pero no se almacenará con él.</span><span class="sxs-lookup"><span data-stu-id="2d75f-124">This change is applied for all elements in the schema, but is not persisted with the schema.</span></span> <span data-ttu-id="2d75f-125">Debe volver a establecerse al iniciar el Compositor de reglas de negocio o al volver a cargar el esquema.</span><span class="sxs-lookup"><span data-stu-id="2d75f-125">It must be reset when the Business Rule Composer is launched or the schema is reloaded.</span></span> <span data-ttu-id="2d75f-126">Esto es necesario para definiciones de vocabulario basadas en esquemas XML o en reglas generadas directamente desde esquemas XML.</span><span class="sxs-lookup"><span data-stu-id="2d75f-126">This is required for vocabulary definitions based either on XML schemas or on rules built directly from XML schemas.</span></span> <span data-ttu-id="2d75f-127">Si no lo hace, aún puede ejecutar la directiva, pero la **reglas de llamada** forma no funcionará correctamente y el tipo de mensaje no aparecerá en la **especificar parámetros de la directiva** cuadro de lista en la  **Configuración de directiva CallRules** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2d75f-127">If you do not do this, you can still execute the policy, but the **Call Rules** shape will not work correctly, and message type will not appear in the **Specify policy parameters** list box in the **CallRules policy configuration** dialog box.</span></span>