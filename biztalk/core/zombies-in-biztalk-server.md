---
title: Zombies en BizTalk Server | Documentos de Microsoft
description: Causas comunes de mensajes zombies en BizTalk Server
ms.custom: 
ms.date: 03/23/2016
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 0c684891-e984-442f-b5fd-de5f7cf32b44
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9764522d2ff5265b6f28f2f125cb33b2982a7605
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="zombies-in-biztalk-server"></a><span data-ttu-id="de596-103">Zombies en BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="de596-103">Zombies in BizTalk Server</span></span>

## <a name="what-is-a-zombie"></a><span data-ttu-id="de596-104">¿Qué es un zombie?</span><span class="sxs-lookup"><span data-stu-id="de596-104">What is a zombie?</span></span>  
  
-   <span data-ttu-id="de596-105">Un mensaje zombie es un mensaje que se ha enrutado hacia una orquestación en ejecución desde el cuadro de mensajes y estaba "en proceso" cuando finalizó la orquestación.</span><span class="sxs-lookup"><span data-stu-id="de596-105">A zombie message is a message that was routed to a running orchestration from the messagebox and was "in flight" when the orchestration ended.</span></span> <span data-ttu-id="de596-106">Un mensaje "en proceso" es un mensaje que se ha enrutado hacia una instancia de servicio y, por consiguiente, se encuentra en una cola del cuadro de mensajes destinada a esa instancia de servicio.</span><span class="sxs-lookup"><span data-stu-id="de596-106">An "in flight" message is a message that has been routed to a service instance and so is in a messagebox queue destined for the service instance.</span></span> <span data-ttu-id="de596-107">Dado que la instancia de la orquestación suscriptora ya no puede consumir el mensaje, éste último queda suspendido y se marca con el valor "Suspendido (No reanudable)" en ServiceInstance/State.</span><span class="sxs-lookup"><span data-stu-id="de596-107">Since the message can no longer be consumed by the subscribing orchestration instance, the message is suspended and marked with a ServiceInstance/State value of "Suspended (Non-resumable)".</span></span>  
  
-   <span data-ttu-id="de596-108">Una instancia de servicio zombie es una instancia de una orquestación que se completó mientras un mensaje enrutado hacia la instancia de orquestación desde el cuadro de mensajes estaba aún "en proceso".</span><span class="sxs-lookup"><span data-stu-id="de596-108">A zombie service instance is an instance of an orchestration which has completed while a message that was routed to the orchestration instance from the messagebox was still "in flight".</span></span> <span data-ttu-id="de596-109">Dado que la instancia de la orquestación ha finalizado, ya no puede consumir los mensajes "en proceso", por lo que queda suspendida y se marca con el valor "Suspendido (No reanudable)" en ServiceInstance/State.</span><span class="sxs-lookup"><span data-stu-id="de596-109">Since the orchestration instance has ended, it cannot consume the "in flight" messages and so is suspended and marked with a ServiceInstance/State value of "Suspended (Non-resumable)".</span></span>  
  
## <a name="typical-causes"></a><span data-ttu-id="de596-110">Causas habituales</span><span class="sxs-lookup"><span data-stu-id="de596-110">Typical causes</span></span>
<span data-ttu-id="de596-111">Los zombies suelen corresponder a una de las siguientes categorías:</span><span class="sxs-lookup"><span data-stu-id="de596-111">The occurrence of zombies typically falls into one of the following categories:</span></span>  
  
1.  <span data-ttu-id="de596-112">**Mensajes de control finalizados** : el motor de orquestaciones permite el uso de mensajes de control para cancelar todo el trabajo que se está ejecutando en una instancia de orquestación específica.</span><span class="sxs-lookup"><span data-stu-id="de596-112">**Terminate control messages** – The orchestration engine allows the use of control messages to cancel all currently running work in a specific orchestration instance.</span></span> <span data-ttu-id="de596-113">Puesto que el mensaje de control detiene inmediatamente la orquestación en ejecución, cabe esperar que se produzca alguna instancia zombie.</span><span class="sxs-lookup"><span data-stu-id="de596-113">Since the control message immediately halts the running orchestration, zombie instances are not unexpected.</span></span> <span data-ttu-id="de596-114">Algunos diseños, como los relacionados con el flujo de trabajo de usuarios, suelen usar este mecanismo.</span><span class="sxs-lookup"><span data-stu-id="de596-114">A number of Human Workflow related designs tend to use this mechanism as well as some other designs.</span></span>  
  
2.  <span data-ttu-id="de596-115">**Recepciones con escucha paralela** : en este escenario la instancia de servicio espera 1 de n mensajes y cuando recibe ese mensaje realiza algunas tareas y finaliza.</span><span class="sxs-lookup"><span data-stu-id="de596-115">**Parallel listen receives** – In this scenario the service instance waits for 1 of n messages and when it receives certain messages it does some work and terminates.</span></span> <span data-ttu-id="de596-116">Si se reciben mensajes por una rama paralela justo mientras la instancia de servicio está finalizando, se crean zombies.</span><span class="sxs-lookup"><span data-stu-id="de596-116">If messages are received on a parallel branch just as the service instance is terminating, zombies are created.</span></span>  
  
3.  <span data-ttu-id="de596-117">**Convoyes secuenciales con extremos no deterministas** : en este escenario, una programación de orquestación principal está diseñada para controlar todos los mensajes de un tipo determinado para cumplir con algún tipo de requisito de diseño del sistema.</span><span class="sxs-lookup"><span data-stu-id="de596-117">**Sequential convoys with non-deterministic endpoints** – In this scenario, a master orchestration schedule is designed to handle all messages of a certain type in order to meet some type of system design requirement.</span></span> <span data-ttu-id="de596-118">Estos requisitos del sistema pueden incluir entrega ordenada, distribuidor de recursos y procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="de596-118">These design requirements may include ordered delivery, resource dispenser, and batching.</span></span> <span data-ttu-id="de596-119">Para este escenario, la tendencia es definir un bucle while que rodea un comando listen con una rama que tenga una forma de recepción y otra rama con una forma de retraso, seguido por algún tipo de construcción que establece una variable para indicar que el bucle while debe detenerse.</span><span class="sxs-lookup"><span data-stu-id="de596-119">For this scenario, the tendency is to define a while loop surrounding a listen with one branch having a receive and the other having a delay shape followed by some construct which sets some variable to indicate that the while loop should stop.</span></span> <span data-ttu-id="de596-120">Se trata de un código no determinista, puesto que podría activarse el retraso y, aún así, entregarse un mensaje.</span><span class="sxs-lookup"><span data-stu-id="de596-120">This is non-deterministic since the delay could be triggered, but a message could still be delivered.</span></span> <span data-ttu-id="de596-121">Los extremos no deterministas como éste son proclives a generar zombies.</span><span class="sxs-lookup"><span data-stu-id="de596-121">Non-deterministic endpoints like this are prone to generating zombies.</span></span>  
  
 <span data-ttu-id="de596-122">Cuando se suspende una instancia de servicio zombie, se genera el siguiente mensaje de error:</span><span class="sxs-lookup"><span data-stu-id="de596-122">When a zombie service instance is suspended,  the following error message is generated:</span></span>  
  
`0xC0C01B4C The instance completed without consuming all of its messages. The instance and its unconsumed messages have been suspended.`  
  
 <span data-ttu-id="de596-123">Puede usar el [terminador de BizTalk](https://www.microsoft.com/download/details.aspx?id=2846) para ayudar a quitar zombies.</span><span class="sxs-lookup"><span data-stu-id="de596-123">You can use the [BizTalk Terminator](https://www.microsoft.com/download/details.aspx?id=2846) to help remove zombies.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="de596-124">Vea también</span><span class="sxs-lookup"><span data-stu-id="de596-124">See Also</span></span>  
 <span data-ttu-id="de596-125">**Quitar instancias de servicio suspendidas**[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]</span><span class="sxs-lookup"><span data-stu-id="de596-125">**Removing Suspended Service Instances** [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]</span></span>