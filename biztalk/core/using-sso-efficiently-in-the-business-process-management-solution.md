---
title: "Usar SSO de forma eficaz en la solución de administración de procesos empresariales | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- SSO, process management solutions
- SSO, configuration values
- caching, configuration values [SSO]
- SSO, caching
- process management solution tutorial, SSO
ms.assetid: 39fbc42d-caa4-4003-a13b-5cde578eb5e1
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 99575e54b887124bfa4c33fc5257cd057ea818fb
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="using-sso-efficiently-in-the-business-process-management-solution"></a><span data-ttu-id="c5d13-102">Usar SSO de forma eficaz en la solución de administración de procesos empresariales</span><span class="sxs-lookup"><span data-stu-id="c5d13-102">Using SSO Efficiently in the Business Process Management Solution</span></span>
<span data-ttu-id="c5d13-103">Como la solución orientada a servicios, la solución Administración de procesos empresariales utiliza el inicio de sesión único (SSO) empresarial para almacenar valores de configuración como el número de fases de procesamiento de pedido.</span><span class="sxs-lookup"><span data-stu-id="c5d13-103">Like the Service Oriented solution, the Business Process Management solution uses Enterprise Single Sign-On (SSO) to store configuration values such as the number of order processing stages.</span></span> <span data-ttu-id="c5d13-104">Utiliza el almacén secreto porque está presente siempre que se instala BizTalk, SSO almacena la información de configuración en caché para que los valores estén fácilmente disponibles y pueda proteger información como cadenas de conexiones de base de datos y contraseñas.</span><span class="sxs-lookup"><span data-stu-id="c5d13-104">It uses the secret store because it is present whenever BizTalk is installed, SSO caches the configuration information so that the values are readily available, and it can protect information such as database connection strings and passwords.</span></span> <span data-ttu-id="c5d13-105">Por todas estas razones, el almacén secreto es un buen sitio para la información de configuración incluso si el inicio de sesión único no se estaba utilizando para administrar conexiones a las aplicaciones de servidor.</span><span class="sxs-lookup"><span data-stu-id="c5d13-105">For all of these reasons, the secret store is a good place for the configuration information even if Single Sign-On weren't being used for managing connections to the backend applications.</span></span>  
  
 <span data-ttu-id="c5d13-106">Para reducir latencia, la solución utiliza una caché local para los valores de configuración.</span><span class="sxs-lookup"><span data-stu-id="c5d13-106">To reduce latency, the solution uses a local cache for the configuration values.</span></span> <span data-ttu-id="c5d13-107">La solución actualiza la caché cada cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="c5d13-107">The solution refreshes the cache every five minutes.</span></span>  
  
 <span data-ttu-id="c5d13-108">En este tema se describe el mecanismo de almacenamiento en caché que utiliza la solución.</span><span class="sxs-lookup"><span data-stu-id="c5d13-108">This topic describes the caching mechanism used by the solution.</span></span> <span data-ttu-id="c5d13-109">Esta solución trata el almacenamiento de SSO en caché de un modo ligeramente diferente al de la solución orientada a servicios.</span><span class="sxs-lookup"><span data-stu-id="c5d13-109">This solution takes a slightly different approach to SSO caching than does the service oriented solution.</span></span> <span data-ttu-id="c5d13-110">Para obtener una descripción de cómo la solución orientada almacena en caché valores SSO, vea [usar SSO de forma eficaz en la solución orientada a servicios](../core/using-sso-efficiently-in-the-service-oriented-solution.md).</span><span class="sxs-lookup"><span data-stu-id="c5d13-110">For a description of how the service oriented solution caches SSO values, see [Using SSO Efficiently in the Service Oriented Solution](../core/using-sso-efficiently-in-the-service-oriented-solution.md).</span></span>  
  
## <a name="caching-configuration-values-locally"></a><span data-ttu-id="c5d13-111">Almacenar en caché localmente valores de configuración</span><span class="sxs-lookup"><span data-stu-id="c5d13-111">Caching Configuration Values Locally</span></span>  
 <span data-ttu-id="c5d13-112">La solución Administración de procesos empresariales utiliza propiedades en un objeto Singleton para proporcionar acceso a los valores SSO.</span><span class="sxs-lookup"><span data-stu-id="c5d13-112">The business process management solution uses properties on a singleton object to provide access to the SSO values.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c5d13-113">Recuerde que un objeto Singleton es un objeto que sólo puede tener una instancia.</span><span class="sxs-lookup"><span data-stu-id="c5d13-113">Recall that a singleton object is an object that can have only one instance.</span></span> <span data-ttu-id="c5d13-114">Para obtener más información sobre objetos singleton y su creación en C#, vea [http://go.microsoft.com/fwlink/?LinkId=58806](http://go.microsoft.com/fwlink/?LinkId=58806).</span><span class="sxs-lookup"><span data-stu-id="c5d13-114">For more information about singleton objects and creating them in C#, see [http://go.microsoft.com/fwlink/?LinkId=58806](http://go.microsoft.com/fwlink/?LinkId=58806).</span></span>  
  
 <span data-ttu-id="c5d13-115">En la solución, una orquestación primero recupera el objeto singleton y, a continuación, hace referencia a los valores a través de las propiedades del objeto.</span><span class="sxs-lookup"><span data-stu-id="c5d13-115">In the solution, an orchestration first retrieves the singleton object and then references the values through the object's properties.</span></span> <span data-ttu-id="c5d13-116">Este es el código de la **OrderManager** orquestación:</span><span class="sxs-lookup"><span data-stu-id="c5d13-116">Here is code from the **OrderManager** orchestration:</span></span>  
  
```  
configData = Microsoft.Samples.BizTalk.SouthridgeVideo.Utilities  
                .SsoConfigHelper.Singleton;  
numStages = configData.TotalStages;  
```  
  
 <span data-ttu-id="c5d13-117">La orquestación llama el **Singleton** método en el **SsoConfigHelper** objeto que se va a obtener acceso a una copia del objeto.</span><span class="sxs-lookup"><span data-stu-id="c5d13-117">The orchestration calls the **Singleton** method on the **SsoConfigHelper** object to get access to the one copy of the object.</span></span> <span data-ttu-id="c5d13-118">Con el objeto en mano, la orquestación recupera el número de fases de procesamiento, **TotalStages**.</span><span class="sxs-lookup"><span data-stu-id="c5d13-118">With the object in hand, the orchestration retrieves the number of processing stages, **TotalStages**.</span></span>  
  
 <span data-ttu-id="c5d13-119">La solución sigue un método común para crear un singleton: marque el constructor como privado, tener el objeto de crear una instancia de sí mismo y asígnela a una variable privada y, a través de un método o propiedad, proporcionan acceso al valor de esa variable.</span><span class="sxs-lookup"><span data-stu-id="c5d13-119">The solution follows a common method of creating a singleton: make the constructor private, have the object create an instance of itself and assign that to a private variable, and, through a method or property, provide access to the value of that variable.</span></span> <span data-ttu-id="c5d13-120">El **SsoConfigHelper** objeto utiliza una propiedad, **Singleton**, para proporcionar acceso a la única copia de sí mismo.</span><span class="sxs-lookup"><span data-stu-id="c5d13-120">The **SsoConfigHelper** object uses a property, **Singleton**, to provide access to the single copy of itself.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c5d13-121">El **SsoConfigHelper** objeto utiliza un constructor estático que se va a obtener los valores iniciales de la caché SSO como configurar el mecanismo de actualización.</span><span class="sxs-lookup"><span data-stu-id="c5d13-121">The **SsoConfigHelper** object uses a static constructor to get the initial values from the SSO cache and to set up the refresh mechanism.</span></span> <span data-ttu-id="c5d13-122">Debido a que no se puede llamar a un constructor estático, éste conserva el diseño Singleton.</span><span class="sxs-lookup"><span data-stu-id="c5d13-122">Because a static constructor cannot be called, it preserves the singleton design.</span></span> <span data-ttu-id="c5d13-123">Para obtener más información sobre los constructores estáticos, vea [http://go.microsoft.com/fwlink/?LinkId=59142](http://go.microsoft.com/fwlink/?LinkId=59142).</span><span class="sxs-lookup"><span data-stu-id="c5d13-123">For more information about static constructors, see [http://go.microsoft.com/fwlink/?LinkId=59142](http://go.microsoft.com/fwlink/?LinkId=59142).</span></span>  
  
 <span data-ttu-id="c5d13-124">Todos los objetos a los que hace referencia una orquestación ya sea directa o indirectamente, deben serializarse.</span><span class="sxs-lookup"><span data-stu-id="c5d13-124">All objects that an orchestration references, whether directly or indirectly, must be serializable.</span></span> <span data-ttu-id="c5d13-125">Para obtener más información, vea "Serialización" en [persistencia y el motor de orquestaciones](../core/persistence-and-the-orchestration-engine.md).</span><span class="sxs-lookup"><span data-stu-id="c5d13-125">For more information, see "Serialization" in [Persistence and the Orchestration Engine](../core/persistence-and-the-orchestration-engine.md).</span></span> <span data-ttu-id="c5d13-126">Aunque la **SsoConfigHelper** objeto es necesariamente serializable, si el motor deshidrata la orquestación, cuando la orquestación se rehidrate, seguirá usa la instancia única, actual del objeto.</span><span class="sxs-lookup"><span data-stu-id="c5d13-126">Although the **SsoConfigHelper** object is necessarily serializable, if the engine dehydrates the orchestration, when the orchestration rehydrates it will still use the single, current instance of the object.</span></span> <span data-ttu-id="c5d13-127">Para obtener más información sobre serialización y las variables de servidor BizTalk Server, vea [tipos de variables de orquestación](../core/orchestration-variable-types.md).</span><span class="sxs-lookup"><span data-stu-id="c5d13-127">For more information about serialization and BizTalk Server variables, see [Orchestration Variable Types](../core/orchestration-variable-types.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c5d13-128">Todos los métodos públicos en el objeto de la solución orientada a servicios son estáticos.</span><span class="sxs-lookup"><span data-stu-id="c5d13-128">All public methods on the object in the service oriented solution are static.</span></span> <span data-ttu-id="c5d13-129">Por lo tanto, la orquestación no necesita asignar una instancia a una variable y no es necesario que se serialice la clase.</span><span class="sxs-lookup"><span data-stu-id="c5d13-129">Thus the orchestration does not need to assign an instance to a variable, and there is no need for the class to be serialized.</span></span>  
  
 <span data-ttu-id="c5d13-130">El **SsoConfigHelper** objeto utiliza los mismos mecanismos para recuperar y actualizar los valores de configuración como la solución orientada a servicios.</span><span class="sxs-lookup"><span data-stu-id="c5d13-130">The **SsoConfigHelper** object uses the same mechanisms to retrieve and refresh configuration values as does the service oriented solution.</span></span> <span data-ttu-id="c5d13-131">También se utiliza el mismo patrón de bloqueo.</span><span class="sxs-lookup"><span data-stu-id="c5d13-131">The same pattern of locking is also used.</span></span> <span data-ttu-id="c5d13-132">Para obtener más información acerca de estos mecanismos, vea [usar SSO de forma eficaz en la solución orientada a servicios](../core/using-sso-efficiently-in-the-service-oriented-solution.md) y el código fuente de **SsoConfigHelper**.</span><span class="sxs-lookup"><span data-stu-id="c5d13-132">For more information about these mechanisms, see [Using SSO Efficiently in the Service Oriented Solution](../core/using-sso-efficiently-in-the-service-oriented-solution.md) and the source code for **SsoConfigHelper**.</span></span>  
  
 <span data-ttu-id="c5d13-133">Al igual que el inicio de sesión único almacenamiento en caché se realiza en la solución orientada a servicios, la solución de administración de procesos empresariales implementa la **IPropertyBag** de la interfaz de la **Microsoft.BizTalk.SSOClient.Interop** espacio de nombres para almacenar los valores.</span><span class="sxs-lookup"><span data-stu-id="c5d13-133">Like the Single Sign-On caching performed in the service oriented solution, the business process management solution implements the **IPropertyBag** interface from the **Microsoft.BizTalk.SSOClient.Interop** namespace to store the values.</span></span> <span data-ttu-id="c5d13-134">La solución de administración de procesos empresariales utiliza una **HybridDictionary** objeto en lugar de un **NameValueCollection** objeto.</span><span class="sxs-lookup"><span data-stu-id="c5d13-134">The business process management solution uses a **HybridDictionary** object rather than a **NameValueCollection** object.</span></span>  
  
 <span data-ttu-id="c5d13-135">A diferencia de la solución orientada a servicios, la solución Administración de procesos empresariales expone un objeto con propiedades que corresponden a los datos de configuración.</span><span class="sxs-lookup"><span data-stu-id="c5d13-135">Unlike the Service Oriented solution, the Business Process Management solution exposes an object with properties that correspond to the configuration data.</span></span> <span data-ttu-id="c5d13-136">Esto evita que la orquestación tenga que ocuparse de diferencias en los tipos de mensaje.</span><span class="sxs-lookup"><span data-stu-id="c5d13-136">This prevents the orchestration from having to deal with differences in message types.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c5d13-137">Vea también</span><span class="sxs-lookup"><span data-stu-id="c5d13-137">See Also</span></span>  
 [<span data-ttu-id="c5d13-138">Aspectos destacados de la implementación de la solución de administración de procesos empresariales</span><span class="sxs-lookup"><span data-stu-id="c5d13-138">Implementation Highlights of the Business Process Management Solution</span></span>](../core/implementation-highlights-of-the-business-process-management-solution.md)