---
title: 'Paso 9: Comprobar el escenario de lote de entrada fragmentado | Microsoft Docs'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 1ba61866-2e1b-49e2-be57-ef281407d0a5
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4dce0f283695af423b96c07103a1c2f5837cf4b6
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36970679"
---
# <a name="step-9-verify-the-fragmented-inbound-batch-scenario"></a><span data-ttu-id="060cc-102">Paso 9: Comprobar el escenario de lote de entrada fragmentado</span><span class="sxs-lookup"><span data-stu-id="060cc-102">Step 9: Verify the Fragmented Inbound Batch Scenario</span></span>
<span data-ttu-id="060cc-103">En este paso, compruebe el escenario de lote de entrada fragmentado.</span><span class="sxs-lookup"><span data-stu-id="060cc-103">In this step, you verify the Fragmented Inbound Batch scenario.</span></span>  
  
 <span data-ttu-id="060cc-104">Comprobar el escenario implica el uso de las siguientes herramientas:</span><span class="sxs-lookup"><span data-stu-id="060cc-104">Verifying the scenario involves using the following tools:</span></span>  
  
- <span data-ttu-id="060cc-105">**Herramienta MllpSend**, que usa la línea de comandos para enviar un mensaje por lotes para el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="060cc-105">**MllpSend Tool**, which you use from the command line to send a batch message to the receive port.</span></span>  
  
- <span data-ttu-id="060cc-106">**Herramienta MllpReceive**, que se utiliza desde la línea de comandos para comprobar la recepción de los mensajes individuales (como contenido en el lote) desde el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="060cc-106">**MllpReceive Tool**, which you use from the command line to verify reception of the individual messages (as contained in the batch) from the send port.</span></span> <span data-ttu-id="060cc-107">Esta instancia de la herramienta MllpReceive funciona como una aplicación de línea de negocio simulada.</span><span class="sxs-lookup"><span data-stu-id="060cc-107">This instance of the MllpReceive Tool functions as a simulated line-of-business application.</span></span> <span data-ttu-id="060cc-108">En la recepción de los mensajes, también genera una confirmación a la [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] motor de integración.</span><span class="sxs-lookup"><span data-stu-id="060cc-108">On reception of the messages, it also generates an acknowledgment back to the [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] integration engine.</span></span>  
  
- <span data-ttu-id="060cc-109">Una segunda instancia de la herramienta MllpReceive, que se utiliza para comprobar la recepción de confirmaciones desde el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="060cc-109">A second instance of the MllpReceive Tool, which you use to verify reception of acknowledgments from the send port.</span></span>  
  
### <a name="to-test-the-fragmented-inbound-batch-scenario"></a><span data-ttu-id="060cc-110">Para probar el escenario de lote de entrada fragmentado</span><span class="sxs-lookup"><span data-stu-id="060cc-110">To test the Fragmented Inbound Batch scenario</span></span>  
  
1. <span data-ttu-id="060cc-111">Haga clic en **iniciar**, apunte a **todos los programas**, apunte a **Accesorios**y, a continuación, haga clic en **símbolo**.</span><span class="sxs-lookup"><span data-stu-id="060cc-111">Click **Start**, point to **All Programs**, point to **Accessories**, and then click **Command Prompt**.</span></span>  
  
2. <span data-ttu-id="060cc-112">En el símbolo del sistema, vaya a  **\< *unidad*\>: \Program Files\Microsoft BizTalk \<versión\> Acelerador para utilidades HL7\SDK\MLLP**.</span><span class="sxs-lookup"><span data-stu-id="060cc-112">At the command prompt, move to **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\MLLP Utilities**.</span></span>  
  
3. <span data-ttu-id="060cc-113">En el símbolo del sistema, escriba **mllpreceive /p 41000/SB 11 /eb 28 /cr 13 /hl7ack "\<*unidad*\>: \Program Files\Microsoft BizTalk \<versión\> Acelerador para HL7\Samples\Sample aplicación acepte ACK.txt**y, a continuación, presione **ENTRAR**.</span><span class="sxs-lookup"><span data-stu-id="060cc-113">At the command prompt, type **mllpreceive /p 41000 /sb 11 /eb 28 /cr 13 /hl7ack "\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\Samples\Sample Application Accept ACK.txt**, and then press **Enter**.</span></span> <span data-ttu-id="060cc-114">La ventana de símbolo del sistema entra en estado de espera hasta que realice el paso 5 y el sistema recibe la entrada.</span><span class="sxs-lookup"><span data-stu-id="060cc-114">The Command Prompt window enters a waiting state until you perform step 5 and the system receives input.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="060cc-115">El comando en el paso 3 ejecuta la aplicación de agente de escucha MLLP que escucha el puerto 41000.</span><span class="sxs-lookup"><span data-stu-id="060cc-115">The command in step 3 runs the MLLP listener application that listens to port 41000.</span></span> <span data-ttu-id="060cc-116">Este puerto está asociado con el puerto de envío que envía mensajes (como se crearon en [paso 5: crear un puerto de envío para entregar mensajes](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md)).</span><span class="sxs-lookup"><span data-stu-id="060cc-116">This port is associated with the send port that delivers messages (as created in [Step 5: Create a Send Port to Deliver Messages](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md)).</span></span> <span data-ttu-id="060cc-117">La herramienta MllpReceive actúa como la aplicación de línea de negocio que recibe los mensajes y envía la confirmación (ACK) al BTAHL7 (como contenido en el archivo de ejemplo ACK.txt de aceptación de aplicación de ejemplo).</span><span class="sxs-lookup"><span data-stu-id="060cc-117">The MllpReceive Tool acts as the line-of-business application that receives the messages, and sends the acknowledgment (ACK) back to BTAHL7 (as contained in the sample file Sample Application Accept ACK.txt).</span></span> <span data-ttu-id="060cc-118">La herramienta muestra los mensajes devueltos a él en la ventana de símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="060cc-118">The tool displays any messages returned to it in the Command Prompt window.</span></span> <span data-ttu-id="060cc-119">El comando en el paso 3 especifica los caracteres de CR, SB y EB predeterminado del mensaje MLLP.</span><span class="sxs-lookup"><span data-stu-id="060cc-119">The command in step 3 specifies the default EB, SB, and CR characters of the MLLP message.</span></span>  
  
4. <span data-ttu-id="060cc-120">Repita los pasos 1 y 2 para abrir otra ventana del símbolo del sistema y vaya al directorio utilidades de MLLP.</span><span class="sxs-lookup"><span data-stu-id="060cc-120">Repeat steps 1 and 2 to open another Command Prompt window and browse to the MLLP Utilities directory.</span></span> <span data-ttu-id="060cc-121">En el símbolo del sistema, escriba **mllpreceive /p 41002**y, a continuación, presione **ENTRAR**.</span><span class="sxs-lookup"><span data-stu-id="060cc-121">At the command prompt, type **mllpreceive /p 41002**, and then press **Enter**.</span></span> <span data-ttu-id="060cc-122">La ventana de símbolo del sistema entra en estado de espera hasta que realice el paso 5 y el sistema recibe la salida.</span><span class="sxs-lookup"><span data-stu-id="060cc-122">The Command Prompt window enters a waiting state until you perform step 5 and the system receives output.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="060cc-123">El comando en el paso 4 ejecuta la aplicación de agente de escucha MLLP escuchar el puerto 41002.</span><span class="sxs-lookup"><span data-stu-id="060cc-123">The command in step 4 runs the MLLP listener application listening to port 41002.</span></span> <span data-ttu-id="060cc-124">Este puerto está asociado con el puerto de envío que ofrece las confirmaciones en el origen del mensaje por lotes (como se crearon en [paso 6: crear un puerto de envío para entregar confirmaciones](../../adapters-and-accelerators/accelerator-hl7/step-6-create-a-send-port-to-deliver-acknowledgments.md)).</span><span class="sxs-lookup"><span data-stu-id="060cc-124">This port is associated with the send port that delivers acknowledgments back to the source of the batch message (as created in [Step 6: Create a Send Port to Deliver Acknowledgments](../../adapters-and-accelerators/accelerator-hl7/step-6-create-a-send-port-to-deliver-acknowledgments.md)).</span></span> <span data-ttu-id="060cc-125">La herramienta MllpReceive actúa como la aplicación de línea de negocio que envió el lote original.</span><span class="sxs-lookup"><span data-stu-id="060cc-125">The MllpReceive Tool acts as the line-of-business application that sent the original batch.</span></span> <span data-ttu-id="060cc-126">La herramienta muestra confirmaciones devueltas a él en la ventana de símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="060cc-126">The tool displays any acknowledgments returned to it in the Command Prompt window.</span></span> <span data-ttu-id="060cc-127">El comando en el paso 4 especifica los caracteres de CR, SB y EB predeterminado del mensaje MLLP.</span><span class="sxs-lookup"><span data-stu-id="060cc-127">The command in step 4 specifies the default EB, SB, and CR characters of the MLLP message.</span></span>  
  
5. <span data-ttu-id="060cc-128">Repita los pasos 1 y 2 para abrir otra ventana del símbolo del sistema y vaya al directorio utilidades de MLLP.</span><span class="sxs-lookup"><span data-stu-id="060cc-128">Repeat steps 1 and 2 to open another Command Prompt window and browse to the MLLP Utilities directory.</span></span> <span data-ttu-id="060cc-129">En el símbolo del sistema, escriba **mllpsend /twoway/SB 11 /eb 28 /cr 13 /f "\<*unidad*\>: \Batching Tutorial\Instances\FragmentedInboundBatch.txt" /p 21000**, donde \< *unidad* \> es la letra de unidad de instalación y, a continuación, presione **ENTRAR**.</span><span class="sxs-lookup"><span data-stu-id="060cc-129">At the command prompt, type **mllpsend /twoway /sb 11 /eb 28 /cr 13 /f "\<*drive*\>:\Batching Tutorial\Instances\FragmentedInboundBatch.txt" /p 21000**, where \<*drive*\> is your installation drive letter, and then press **Enter**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="060cc-130">El comando en el paso 5 simula el envío del mensaje al puerto de recepción por lotes original.</span><span class="sxs-lookup"><span data-stu-id="060cc-130">The command in step 5 simulates sending of the original batch message to the receive port.</span></span> <span data-ttu-id="060cc-131">La consola debería mostrar "los mensajes enviados: 1", que indica que la herramienta MllpSend envió el mensaje de lote único.</span><span class="sxs-lookup"><span data-stu-id="060cc-131">The console should display "Sent message: 1", indicating that the MllpSend tool sent the single batch message.</span></span> <span data-ttu-id="060cc-132">Si no se muestra "mensaje enviado: 1", compruebe el Visor de eventos.</span><span class="sxs-lookup"><span data-stu-id="060cc-132">If it does not display "Sent message: 1", check the event viewer.</span></span> <span data-ttu-id="060cc-133">Compruebe el texto del comando especificado en el paso 5, a continuación, solucionar problemas de la configuración de envío y puertos de recepción y el estado de [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] y BTAHL7.</span><span class="sxs-lookup"><span data-stu-id="060cc-133">Verify the text of the command entered in step 5, then troubleshoot the configuration of the send and receive ports, and the status of [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] and BTAHL7.</span></span>  
  
### <a name="to-verify-the-results-of-the-fragmented-inbound-batch-tutorial"></a><span data-ttu-id="060cc-134">Para comprobar los resultados del Tutorial de lote de entrada fragmentado</span><span class="sxs-lookup"><span data-stu-id="060cc-134">To verify the results of the Fragmented Inbound Batch Tutorial</span></span>  
  
1.  <span data-ttu-id="060cc-135">Compruebe que, tras una breve demora, la herramienta MllpReceive escucha los mensajes en el puerto 41000 muestra el contenido de los mensajes individuales fragmentado del lote y envía a la entidad Tutorial_BatchSource.</span><span class="sxs-lookup"><span data-stu-id="060cc-135">Verify that after a short delay, the MllpReceive tool listening for messages on port 41000 displays the contents of the individual messages fragmented from the batch and sent to the Tutorial_BatchSource party.</span></span> <span data-ttu-id="060cc-136">El contenido de los dos mensajes debe ser como sigue:</span><span class="sxs-lookup"><span data-stu-id="060cc-136">The contents of the two messages should be as follows:</span></span>  
  
    |<span data-ttu-id="060cc-137">MSH.9</span><span class="sxs-lookup"><span data-stu-id="060cc-137">MSH.9</span></span>|<span data-ttu-id="060cc-138">MSH.10</span><span class="sxs-lookup"><span data-stu-id="060cc-138">MSH.10</span></span>|<span data-ttu-id="060cc-139">MSH.3</span><span class="sxs-lookup"><span data-stu-id="060cc-139">MSH.3</span></span>|<span data-ttu-id="060cc-140">MSH.5</span><span class="sxs-lookup"><span data-stu-id="060cc-140">MSH.5</span></span>|  
    |-----------|------------|-----------|-----------|  
    |<span data-ttu-id="060cc-141">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="060cc-141">ADT^A03</span></span>|<span data-ttu-id="060cc-142">000001</span><span class="sxs-lookup"><span data-stu-id="060cc-142">000001</span></span>|<span data-ttu-id="060cc-143">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="060cc-143">Tutorial_BatchSource</span></span>|<span data-ttu-id="060cc-144">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="060cc-144">MESA_IS</span></span>|  
    |<span data-ttu-id="060cc-145">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="060cc-145">ADT^A03</span></span>|<span data-ttu-id="060cc-146">000002</span><span class="sxs-lookup"><span data-stu-id="060cc-146">000002</span></span>|<span data-ttu-id="060cc-147">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="060cc-147">Tutorial_BatchSource</span></span>|<span data-ttu-id="060cc-148">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="060cc-148">MESA_IS</span></span>|  
  
2.  <span data-ttu-id="060cc-149">Compruebe que, tras una breve demora, la herramienta MllpReceive escucha las confirmaciones en el puerto 41002 muestra el contenido de dos confirmaciones que se devuelve desde el motor de integración de BTAHL7 al origen del lote.</span><span class="sxs-lookup"><span data-stu-id="060cc-149">Verify that after a short delay, the MllpReceive tool listening for acknowledgments on port 41002 displays the contents of two acknowledgments returned from the BTAHL7 integration engine to the source of the batch.</span></span> <span data-ttu-id="060cc-150">El contenido de las dos confirmaciones debería ser como sigue:</span><span class="sxs-lookup"><span data-stu-id="060cc-150">The contents of the two acknowledgments should be as follows:</span></span>  
  
    |<span data-ttu-id="060cc-151">MSH.9</span><span class="sxs-lookup"><span data-stu-id="060cc-151">MSH.9</span></span>|<span data-ttu-id="060cc-152">MSH.3</span><span class="sxs-lookup"><span data-stu-id="060cc-152">MSH.3</span></span>|<span data-ttu-id="060cc-153">MSH.5</span><span class="sxs-lookup"><span data-stu-id="060cc-153">MSH.5</span></span>|<span data-ttu-id="060cc-154">MSA.2</span><span class="sxs-lookup"><span data-stu-id="060cc-154">MSA.2</span></span>|<span data-ttu-id="060cc-155">MSA.1</span><span class="sxs-lookup"><span data-stu-id="060cc-155">MSA.1</span></span>|  
    |-----------|-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="060cc-156">CONFIRMACIÓN ^ A03 ^ ACK</span><span class="sxs-lookup"><span data-stu-id="060cc-156">ACK^A03^ACK</span></span>|<span data-ttu-id="060cc-157">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="060cc-157">MESA_IS</span></span>|<span data-ttu-id="060cc-158">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="060cc-158">Tutorial_BatchSource</span></span>|<span data-ttu-id="060cc-159">000001</span><span class="sxs-lookup"><span data-stu-id="060cc-159">000001</span></span>|<span data-ttu-id="060cc-160">AA</span><span class="sxs-lookup"><span data-stu-id="060cc-160">AA</span></span>|  
    |<span data-ttu-id="060cc-161">CONFIRMACIÓN ^ A03 ^ ACK</span><span class="sxs-lookup"><span data-stu-id="060cc-161">ACK^A03^ACK</span></span>|<span data-ttu-id="060cc-162">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="060cc-162">MESA_IS</span></span>|<span data-ttu-id="060cc-163">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="060cc-163">Tutorial_BatchSource</span></span>|<span data-ttu-id="060cc-164">000002</span><span class="sxs-lookup"><span data-stu-id="060cc-164">000002</span></span>|<span data-ttu-id="060cc-165">AA</span><span class="sxs-lookup"><span data-stu-id="060cc-165">AA</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="060cc-166">Vea también</span><span class="sxs-lookup"><span data-stu-id="060cc-166">See Also</span></span>  
 <span data-ttu-id="060cc-167">[Parte 2: Proceso por lotes en / escenario de lote](../../adapters-and-accelerators/accelerator-hl7/part-2-batch-in-batch-out-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="060cc-167">[Part 2: Batch In/Batch Out Scenario](../../adapters-and-accelerators/accelerator-hl7/part-2-batch-in-batch-out-scenario.md) </span></span>  
 [<span data-ttu-id="060cc-168">Parte 3: Escenario de creación de lote</span><span class="sxs-lookup"><span data-stu-id="060cc-168">Part 3: Create-Batch Scenario</span></span>](../../adapters-and-accelerators/accelerator-hl7/part-3-create-batch-scenario.md)