---
title: Codificación de caracteres con texto sin formato | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a69dffe1-3fb2-4902-a9a2-093f3ea7b11f
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 59a89a1748112e9dc8f639fd408ed2525242505b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36987469"
---
# <a name="encoding-characters-using-free-text"></a>Codificación de caracteres con texto sin formato
A partir de [!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)], "FreeText" puede utilizarse en un campo o segmento. No se analizan los datos en el campo "FreeText" y segmentos.  
  
## <a name="what-you-need-to-know"></a>Lo que necesita saber  
  
|                            |                                                                                                                                                Comportamiento                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Ejemplo                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  ~: Separador de repeticiones   |                                  En un campo, la repetición (~) se trata como un delimitador de repetición. En un segmento no disponibles, la repetición (~) se trata como un delimitador de repetición. En un segmento libre, repetición (~) se trata como parte del texto sin formato, no una repetición nuevo.                                   | En el ejemplo siguiente, "fre" es el segmento libre. Puede tener cualquier carácter como texto sin formato, incluido ~. Cualquier repeticiones adicionales (~) no se consideran un delimitador de repetición y se tratan como el contenido de texto sin formato. Validación se realiza correctamente aunque el elemento secundario del segmento libre es no repetibles y contiene repeticiones (~). Ejemplo de "fre":<br /><br /> **"Fre"&#124; Foo & ^&#124;Foo & ^&#124;Foo & ^&#124;Foo & ^ ~ Foo & ^&#124;Foo & ^&#124;Foo & ^&#124;Foo & ^**<br /><br /> En el ejemplo siguiente, EVN4 se define como texto sin formato porque contiene *&^*. Cuando el "&#124;" se encontró el delimitador, se trata como el final del texto libre actual. Ejemplo EVN:<br /><br /> **EVN&#124;&#124;&#124;&#124;Foo & ^ Foo & ^ Foo & ^ Foo & ^ Foo & ^&#124;&#124;**<br /><br /> En el ejemplo siguiente, el primer elemento secundario de EVN5 se define como texto sin formato porque contiene *&*. Cuando el "^" se encontró el delimitador, se trata como el final del texto libre actual. Ejemplo de EVN5:<br /><br /> **EVN&#124; &#124; &#124; &#124; &#124; Foo & Foo & Foo & Foo Foo & ^ 5.2&#124;**<br /><br /> En el ejemplo siguiente, 5.2.1 y 5.2.2 no pueden tener delimitadores como texto sin formato, incluso si está definido como FreeText en el esquema. ejemplo de 5.2.1 y 5.2.2:<br /><br /> **EVN&#124; &#124; &#124; &#124; &#124; Foo1 ^ 5.2.1 & 5.2.2&#124;**<br /><br /> En el ejemplo siguiente, suponga EVN4 puede repetirse y es del tipo de texto sin formato. *Foo1 & ^* se trata como la primera repetición y *Foo2 & ^* se trata como la segunda repetición. Si no es repetible EVN4 (MaxOccurs = 1), la validación no se realizará correctamente si contiene ~, incluso si es de tipo de texto sin formato (como en los casos de los campos que no son texto libre). Ejemplo de EVN4:<br /><br /> <strong>EVN &#124; &#124; &#124; &#124; Foo1 & ^ ~ Foo2 & ^&#124;&#124;</strong> |
|  &#124;: Separador de campos   |                                                                                                     Si falta un delimitador de campo después de la etiqueta de segmento de un segmento gratis, la validación es correcta.                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            En los ejemplos siguientes, "fre" es un tipo de texto sin formato. Contenido de texto libre se puede iniciar inmediatamente después de la "fre" segmentar la etiqueta, con o sin "&#124;" delimitador de campo. Ambos ejemplos se realice correctamente:<br /><br /> **FREabc** <br /> **"Fre"&#124;abc**<br /><br /> En los ejemplos siguientes, validación es correcta:<br /><br /> Mensaje de entrada a DASM: **"fre"&#124;abcd**<br />Salida de DASM:  **\<SegmentData\>&#124;abcd\</SegmentData\>**<br />Salida de ASM: **"fre"&#124;abcd**<br /><br /> Mensaje de entrada a DASM: **FREabcd**<br />Salida de DASM:  **\<SegmentData\>abcd\</SegmentData\>**<br />Salida de ASM: **FREabcd**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|   Elementos primarios y secundarios opcionales    |                                                                                                                        Se siguen aplican las reglas de validación opcional de elementos primarios y secundarios.                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Supongamos que el elemento primario es opcional y, a continuación, uno de sus elementos secundarios es obligatorio:<br /><br /> -Si no se rellenan ninguno de los demás elementos secundarios y el elemento secundario obligatorio, validación de mensajes se realiza correctamente.<br />-Si se rellena al menos un elemento secundario, el elemento secundario obligatorio también debe rellenarse. En caso contrario, se produce un error en la validación de mensajes.<br /><br /> En el ejemplo siguiente, el campo 1 como opcionales. Su *1.a* secundario es opcional y es el tipo de texto sin formato. Su *1.b* secundario es obligatorio:<br /><br /> **XYZ&#124;1.a^1.b&#124;2**<br /><br /> En el siguiente mensaje de ejemplo, *dfssdf*<em>&</em>*sdf* se considera como un solo elemento - 1.a. El analizador comprueba si existe 1.b. Cuando el *&#124;* es alcanzado, supone 1.b no se rellena y se produce un error de validación de mensajes:<br /><br /> **XYZ&#124;dfssdf & sdf&#124;2**                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Segmentos de MSH, FSH y a BSH |                                                                  Texto sin formato se omite para todos los campos. Estos segmentos corresponden a la sección de encabezado. Validación se produce como lo haría normalmente, incluso si están definidos como texto sin formato.                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|    \\: Carácter de escape    | Si hay un número par de "\" en el elemento, la validación se realiza correctamente (incluso si no son contiguas). Si hay un número impar, se produce un error de validación. Sigue el mismo comportamiento para los campos que no son texto libre. Con los campos de texto sin formato, no hay ninguna validación del número; trata como el contenido de texto sin formato. |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
  
 [Delimitadores de mensaje](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md) proporciona más información sobre los separadores en estos ejemplos.  
  
## <a name="using-free-text"></a>Con texto sin formato  
  
1.  En el proyecto en Visual Studio, abra el esquema.  
  
2.  Haga clic en un registro, seleccione **Insertar nodo de esquema**, seleccione **elemento de campo secundario**.  
  
3.  En Propiedades, seleccione **tipo de datos**y, a continuación, seleccione **texto sin formato (SimpleType)**.  
  
## <a name="see-also"></a>Vea también  
 [Procesamiento de mensajes de HL7](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md)