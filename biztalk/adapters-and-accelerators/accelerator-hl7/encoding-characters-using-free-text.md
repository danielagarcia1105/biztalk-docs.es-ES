---
title: Codificación de caracteres con texto sin formato | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a69dffe1-3fb2-4902-a9a2-093f3ea7b11f
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 59a89a1748112e9dc8f639fd408ed2525242505b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36987469"
---
# <a name="encoding-characters-using-free-text"></a><span data-ttu-id="8a503-102">Codificación de caracteres con texto sin formato</span><span class="sxs-lookup"><span data-stu-id="8a503-102">Encoding Characters using Free Text</span></span>
<span data-ttu-id="8a503-103">A partir de [!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)], "FreeText" puede utilizarse en un campo o segmento.</span><span class="sxs-lookup"><span data-stu-id="8a503-103">Starting with [!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)], “FreeText” can be used in a field or segment.</span></span> <span data-ttu-id="8a503-104">No se analizan los datos en el campo "FreeText" y segmentos.</span><span class="sxs-lookup"><span data-stu-id="8a503-104">Data in the “FreeText” field/segment is not parsed.</span></span>  
  
## <a name="what-you-need-to-know"></a><span data-ttu-id="8a503-105">Lo que necesita saber</span><span class="sxs-lookup"><span data-stu-id="8a503-105">What you need to know</span></span>  
  
|                            |                                                                                                                                                <span data-ttu-id="8a503-106">Comportamiento</span><span class="sxs-lookup"><span data-stu-id="8a503-106">Behavior</span></span>                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="8a503-107">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="8a503-107">Example</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  <span data-ttu-id="8a503-108">~: Separador de repeticiones</span><span class="sxs-lookup"><span data-stu-id="8a503-108">~: Repetition separator</span></span>   |                                  <span data-ttu-id="8a503-109">En un campo, la repetición (~) se trata como un delimitador de repetición.</span><span class="sxs-lookup"><span data-stu-id="8a503-109">In a field, Repetition (~) is treated as a repeating delimiter.</span></span> <span data-ttu-id="8a503-110">En un segmento no disponibles, la repetición (~) se trata como un delimitador de repetición.</span><span class="sxs-lookup"><span data-stu-id="8a503-110">In a non-free segment, Repetition (~) is treated as a repeating delimiter.</span></span> <span data-ttu-id="8a503-111">En un segmento libre, repetición (~) se trata como parte del texto sin formato, no una repetición nuevo.</span><span class="sxs-lookup"><span data-stu-id="8a503-111">In a free segment, Repetition (~) is treated as part of Free Text, not a new repetition.</span></span>                                   | <span data-ttu-id="8a503-112">En el ejemplo siguiente, "fre" es el segmento libre.</span><span class="sxs-lookup"><span data-stu-id="8a503-112">In the following example, FRE is free Segment.</span></span> <span data-ttu-id="8a503-113">Puede tener cualquier carácter como texto sin formato, incluido ~.</span><span class="sxs-lookup"><span data-stu-id="8a503-113">It can have any character as free text, including ~.</span></span> <span data-ttu-id="8a503-114">Cualquier repeticiones adicionales (~) no se consideran un delimitador de repetición y se tratan como el contenido de texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="8a503-114">Any additional repetitions (~) are not considered a repetition delimiter and are treated as the Free Text content.</span></span> <span data-ttu-id="8a503-115">Validación se realiza correctamente aunque el elemento secundario del segmento libre es no repetibles y contiene repeticiones (~).</span><span class="sxs-lookup"><span data-stu-id="8a503-115">Validation succeeds even if the child of the Free Segment is non-repeatable and contains repetition (~).</span></span> <span data-ttu-id="8a503-116">Ejemplo de "fre":</span><span class="sxs-lookup"><span data-stu-id="8a503-116">FRE example:</span></span><br /><br /> <span data-ttu-id="8a503-117">**"Fre"&#124; Foo & ^&#124;Foo & ^&#124;Foo & ^&#124;Foo & ^ ~ Foo & ^&#124;Foo & ^&#124;Foo & ^&#124;Foo & ^**</span><span class="sxs-lookup"><span data-stu-id="8a503-117">**FRE&#124; Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^~Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^**</span></span><br /><br /> <span data-ttu-id="8a503-118">En el ejemplo siguiente, EVN4 se define como texto sin formato porque contiene *&^*.</span><span class="sxs-lookup"><span data-stu-id="8a503-118">In the following example, EVN4 is defined as free text because it contains *&^*.</span></span> <span data-ttu-id="8a503-119">Cuando el "&#124;" se encontró el delimitador, se trata como el final del texto libre actual.</span><span class="sxs-lookup"><span data-stu-id="8a503-119">When the “&#124;” delimiter is encountered, it is treated as the end of the current Free Text.</span></span> <span data-ttu-id="8a503-120">Ejemplo EVN:</span><span class="sxs-lookup"><span data-stu-id="8a503-120">EVN example:</span></span><br /><br /> <span data-ttu-id="8a503-121">**EVN&#124;&#124;&#124;&#124;Foo & ^ Foo & ^ Foo & ^ Foo & ^ Foo & ^&#124;&#124;**</span><span class="sxs-lookup"><span data-stu-id="8a503-121">**EVN&#124;&#124;&#124;&#124;Foo&^Foo&^Foo&^Foo&^Foo&^&#124;&#124;**</span></span><br /><br /> <span data-ttu-id="8a503-122">En el ejemplo siguiente, el primer elemento secundario de EVN5 se define como texto sin formato porque contiene *&*.</span><span class="sxs-lookup"><span data-stu-id="8a503-122">In the following example, the first child of EVN5 is defined as free text because it contains *&*.</span></span> <span data-ttu-id="8a503-123">Cuando el "^" se encontró el delimitador, se trata como el final del texto libre actual.</span><span class="sxs-lookup"><span data-stu-id="8a503-123">When the “^” delimiter is encountered, it is treated as the end of the current Free Text.</span></span> <span data-ttu-id="8a503-124">Ejemplo de EVN5:</span><span class="sxs-lookup"><span data-stu-id="8a503-124">EVN5 example:</span></span><br /><br /> <span data-ttu-id="8a503-125">**EVN&#124; &#124; &#124; &#124; &#124; Foo & Foo & Foo & Foo Foo & ^ 5.2&#124;**</span><span class="sxs-lookup"><span data-stu-id="8a503-125">**EVN&#124;&#124;&#124;&#124; &#124; Foo&Foo&Foo&Foo&Foo&^5.2&#124;**</span></span><br /><br /> <span data-ttu-id="8a503-126">En el ejemplo siguiente, 5.2.1 y 5.2.2 no pueden tener delimitadores como texto sin formato, incluso si está definido como FreeText en el esquema.</span><span class="sxs-lookup"><span data-stu-id="8a503-126">In the following example, 5.2.1 and 5.2.2 cannot have any delimiters as Free Text, even if it is defined as FreeText in the schema.</span></span> <span data-ttu-id="8a503-127">ejemplo de 5.2.1 y 5.2.2:</span><span class="sxs-lookup"><span data-stu-id="8a503-127">5.2.1 and 5.2.2 example:</span></span><br /><br /> <span data-ttu-id="8a503-128">**EVN&#124; &#124; &#124; &#124; &#124; Foo1 ^ 5.2.1 & 5.2.2&#124;**</span><span class="sxs-lookup"><span data-stu-id="8a503-128">**EVN&#124;&#124;&#124;&#124; &#124; Foo1^5.2.1&5.2.2&#124;**</span></span><br /><br /> <span data-ttu-id="8a503-129">En el ejemplo siguiente, suponga EVN4 puede repetirse y es del tipo de texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="8a503-129">In the following example, assume EVN4 can be repeated and is of the Free Text type.</span></span> <span data-ttu-id="8a503-130">*Foo1 & ^* se trata como la primera repetición y *Foo2 & ^* se trata como la segunda repetición.</span><span class="sxs-lookup"><span data-stu-id="8a503-130">*Foo1&^* is treated as the first repetition and *Foo2&^* is treated as the second repetition.</span></span> <span data-ttu-id="8a503-131">Si no es repetible EVN4 (MaxOccurs = 1), la validación no se realizará correctamente si contiene ~, incluso si es de tipo de texto sin formato (como en los casos de los campos que no son texto libre).</span><span class="sxs-lookup"><span data-stu-id="8a503-131">If EVN4 is not repeatable (MaxOccurs = 1), then the validation fails if it contains ~, even if it is of Free Text type (like in the cases of non-Free Text fields).</span></span> <span data-ttu-id="8a503-132">Ejemplo de EVN4:</span><span class="sxs-lookup"><span data-stu-id="8a503-132">EVN4 example:</span></span><br /><br /> <span data-ttu-id="8a503-133"><strong>EVN &#124; &#124; &#124; &#124; Foo1 & ^ ~ Foo2 & ^&#124;&#124;</strong></span><span class="sxs-lookup"><span data-stu-id="8a503-133"><strong>EVN &#124;&#124;&#124;&#124; Foo1&^~ Foo2&^ &#124;&#124;</strong></span></span> |
|  <span data-ttu-id="8a503-134">&#124;: Separador de campos</span><span class="sxs-lookup"><span data-stu-id="8a503-134">&#124;: Field separator</span></span>   |                                                                                                     <span data-ttu-id="8a503-135">Si falta un delimitador de campo después de la etiqueta de segmento de un segmento gratis, la validación es correcta.</span><span class="sxs-lookup"><span data-stu-id="8a503-135">If a field delimiter is missing after the segment tag of a free segment, Validation succeeds.</span></span>                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="8a503-136">En los ejemplos siguientes, "fre" es un tipo de texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="8a503-136">In the following examples, FRE is a Free Text type.</span></span> <span data-ttu-id="8a503-137">Contenido de texto libre se puede iniciar inmediatamente después de la "fre" segmentar la etiqueta, con o sin "&#124;" delimitador de campo.</span><span class="sxs-lookup"><span data-stu-id="8a503-137">Free Text content can be started immediately after the FRE segment Tag, with or without “&#124;” field delimiter.</span></span> <span data-ttu-id="8a503-138">Ambos ejemplos se realice correctamente:</span><span class="sxs-lookup"><span data-stu-id="8a503-138">Both examples succeed:</span></span><br /><br /> <span data-ttu-id="8a503-139">**FREabc**</span><span class="sxs-lookup"><span data-stu-id="8a503-139">**FREabc**</span></span> <br /> <span data-ttu-id="8a503-140">**"Fre"&#124;abc**</span><span class="sxs-lookup"><span data-stu-id="8a503-140">**FRE&#124;abc**</span></span><br /><br /> <span data-ttu-id="8a503-141">En los ejemplos siguientes, validación es correcta:</span><span class="sxs-lookup"><span data-stu-id="8a503-141">In the following examples, validation succeeds:</span></span><br /><br /> <span data-ttu-id="8a503-142">Mensaje de entrada a DASM: **"fre"&#124;abcd**</span><span class="sxs-lookup"><span data-stu-id="8a503-142">Input message to DASM: **FRE&#124;abcd**</span></span><br /><span data-ttu-id="8a503-143">Salida de DASM:  **\<SegmentData\>&#124;abcd\</SegmentData\>**</span><span class="sxs-lookup"><span data-stu-id="8a503-143">Output from DASM: **\<SegmentData\>&#124;abcd\</SegmentData\>**</span></span><br /><span data-ttu-id="8a503-144">Salida de ASM: **"fre"&#124;abcd**</span><span class="sxs-lookup"><span data-stu-id="8a503-144">Output from ASM: **FRE&#124;abcd**</span></span><br /><br /> <span data-ttu-id="8a503-145">Mensaje de entrada a DASM: **FREabcd**</span><span class="sxs-lookup"><span data-stu-id="8a503-145">Input message to DASM: **FREabcd**</span></span><br /><span data-ttu-id="8a503-146">Salida de DASM:  **\<SegmentData\>abcd\</SegmentData\>**</span><span class="sxs-lookup"><span data-stu-id="8a503-146">Output from DASM: **\<SegmentData\>abcd\</SegmentData\>**</span></span><br /><span data-ttu-id="8a503-147">Salida de ASM: **FREabcd**</span><span class="sxs-lookup"><span data-stu-id="8a503-147">Output from ASM: **FREabcd**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|   <span data-ttu-id="8a503-148">Elementos primarios y secundarios opcionales</span><span class="sxs-lookup"><span data-stu-id="8a503-148">Parent-Child optional</span></span>    |                                                                                                                        <span data-ttu-id="8a503-149">Se siguen aplican las reglas de validación opcional de elementos primarios y secundarios.</span><span class="sxs-lookup"><span data-stu-id="8a503-149">The parent-child optional validation rules still apply.</span></span>                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="8a503-150">Supongamos que el elemento primario es opcional y, a continuación, uno de sus elementos secundarios es obligatorio:</span><span class="sxs-lookup"><span data-stu-id="8a503-150">Assume the parent is optional and one of its children is mandatory, then:</span></span><br /><br /> <span data-ttu-id="8a503-151">-Si no se rellenan ninguno de los demás elementos secundarios y el elemento secundario obligatorio, validación de mensajes se realiza correctamente.</span><span class="sxs-lookup"><span data-stu-id="8a503-151">-   If none of the other children and the mandatory child are not populated, then message validation succeeds.</span></span><br /><span data-ttu-id="8a503-152">-Si se rellena al menos un elemento secundario, el elemento secundario obligatorio también debe rellenarse.</span><span class="sxs-lookup"><span data-stu-id="8a503-152">-   If at least one child is populated, then the mandatory child should also be populated.</span></span> <span data-ttu-id="8a503-153">En caso contrario, se produce un error en la validación de mensajes.</span><span class="sxs-lookup"><span data-stu-id="8a503-153">Otherwise, message validation fails.</span></span><br /><br /> <span data-ttu-id="8a503-154">En el ejemplo siguiente, el campo 1 como opcionales.</span><span class="sxs-lookup"><span data-stu-id="8a503-154">In the following example, Field 1 as optional.</span></span> <span data-ttu-id="8a503-155">Su *1.a* secundario es opcional y es el tipo de texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="8a503-155">Its *1.a* child is optional and is the Free Text type.</span></span> <span data-ttu-id="8a503-156">Su *1.b* secundario es obligatorio:</span><span class="sxs-lookup"><span data-stu-id="8a503-156">Its *1.b* child is mandatory:</span></span><br /><br /> <span data-ttu-id="8a503-157">**XYZ&#124;1.a^1.b&#124;2**</span><span class="sxs-lookup"><span data-stu-id="8a503-157">**xyz&#124;1.a^1.b&#124;2**</span></span><br /><br /> <span data-ttu-id="8a503-158">En el siguiente mensaje de ejemplo, *dfssdf*<em>&</em>*sdf* se considera como un solo elemento - 1.a.</span><span class="sxs-lookup"><span data-stu-id="8a503-158">In the following sample message, *dfssdf*<em>&</em>*sdf* is considered as one single element - 1.a.</span></span> <span data-ttu-id="8a503-159">El analizador comprueba si existe 1.b.</span><span class="sxs-lookup"><span data-stu-id="8a503-159">The parser checks if 1.b exists.</span></span> <span data-ttu-id="8a503-160">Cuando el *&#124;* es alcanzado, supone 1.b no se rellena y se produce un error de validación de mensajes:</span><span class="sxs-lookup"><span data-stu-id="8a503-160">When the *&#124;* is reached, it assumes 1.b is not populated and message validation fails:</span></span><br /><br /> <span data-ttu-id="8a503-161">**XYZ&#124;dfssdf & sdf&#124;2**</span><span class="sxs-lookup"><span data-stu-id="8a503-161">**xyz&#124;dfssdf&sdf&#124;2**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="8a503-162">Segmentos de MSH, FSH y a BSH</span><span class="sxs-lookup"><span data-stu-id="8a503-162">MSH, FSH, and BSH segments</span></span> |                                                                  <span data-ttu-id="8a503-163">Texto sin formato se omite para todos los campos.</span><span class="sxs-lookup"><span data-stu-id="8a503-163">Free Text is ignored for all fields.</span></span> <span data-ttu-id="8a503-164">Estos segmentos corresponden a la sección de encabezado.</span><span class="sxs-lookup"><span data-stu-id="8a503-164">These segments correspond to the header section.</span></span> <span data-ttu-id="8a503-165">Validación se produce como lo haría normalmente, incluso si están definidos como texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="8a503-165">Validation occurs as it normally would, even if they are defined as Free Text.</span></span>                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|    <span data-ttu-id="8a503-166">\\: Carácter de escape</span><span class="sxs-lookup"><span data-stu-id="8a503-166">\\: Escape character</span></span>    | <span data-ttu-id="8a503-167">Si hay un número par de "\" en el elemento, la validación se realiza correctamente (incluso si no son contiguas).</span><span class="sxs-lookup"><span data-stu-id="8a503-167">If there are even number of “\” in the element, validation succeeds (even if they are not contiguous).</span></span> <span data-ttu-id="8a503-168">Si hay un número impar, se produce un error de validación.</span><span class="sxs-lookup"><span data-stu-id="8a503-168">If there are odd number, validation fails.</span></span> <span data-ttu-id="8a503-169">Sigue el mismo comportamiento para los campos que no son texto libre.</span><span class="sxs-lookup"><span data-stu-id="8a503-169">The same behavior continues for non- Free Text fields.</span></span> <span data-ttu-id="8a503-170">Con los campos de texto sin formato, no hay ninguna validación del número; trata como el contenido de texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="8a503-170">With Free Text fields, there is no validation on the number; it treated as Free Text content.</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
  
 <span data-ttu-id="8a503-171">[Delimitadores de mensaje](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md) proporciona más información sobre los separadores en estos ejemplos.</span><span class="sxs-lookup"><span data-stu-id="8a503-171">[Message Delimiters](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md) provides more information on the separators in these examples.</span></span>  
  
## <a name="using-free-text"></a><span data-ttu-id="8a503-172">Con texto sin formato</span><span class="sxs-lookup"><span data-stu-id="8a503-172">Using Free Text</span></span>  
  
1.  <span data-ttu-id="8a503-173">En el proyecto en Visual Studio, abra el esquema.</span><span class="sxs-lookup"><span data-stu-id="8a503-173">In the project in Visual Studio, open the schema.</span></span>  
  
2.  <span data-ttu-id="8a503-174">Haga clic en un registro, seleccione **Insertar nodo de esquema**, seleccione **elemento de campo secundario**.</span><span class="sxs-lookup"><span data-stu-id="8a503-174">Right-click a record, select **Insert Schema Node**, select **Child Field Element**.</span></span>  
  
3.  <span data-ttu-id="8a503-175">En Propiedades, seleccione **tipo de datos**y, a continuación, seleccione **texto sin formato (SimpleType)**.</span><span class="sxs-lookup"><span data-stu-id="8a503-175">In Properties, select **Data Type**, and then select **Free Text (SimpleType)**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8a503-176">Vea también</span><span class="sxs-lookup"><span data-stu-id="8a503-176">See Also</span></span>  
 [<span data-ttu-id="8a503-177">Procesamiento de mensajes de HL7</span><span class="sxs-lookup"><span data-stu-id="8a503-177">Processing HL7 Messages</span></span>](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md)