---
title: "Cómo procesa el adaptador de recepción de MLLP | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- MLLP-encoded messages, receive adapters
- MLLP adapters, send adapters
- receive adapters
ms.assetid: 03c9a5f6-6f23-454f-8bab-e7c7b6057efa
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 28713e22c37c12ef6f2cb9f8df8d228759d00c8e
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="mllp-receive-adapter-processing"></a><span data-ttu-id="407ff-102">Cómo procesa el adaptador de recepción de MLLP</span><span class="sxs-lookup"><span data-stu-id="407ff-102">MLLP Receive Adapter Processing</span></span>
<span data-ttu-id="407ff-103">El protocolo de nivel inferior (MLLP) mínimo adaptador de recepción admite dos modos de respuesta de solicitud unidireccionales y bidireccionales.</span><span class="sxs-lookup"><span data-stu-id="407ff-103">The Minimal Lower Layer Protocol (MLLP) receive adapter supports both one-way and two-way request response modes.</span></span> <span data-ttu-id="407ff-104">El adaptador de escucha y acepta conexiones.</span><span class="sxs-lookup"><span data-stu-id="407ff-104">The adapter listens and accepts connections.</span></span>  
  
 <span data-ttu-id="407ff-105">Cuando reciba el MLLP adaptador funciona en modo bidireccional, el adaptador no recibirá un mensaje nuevo de la conexión hasta que la canalización ha generado la confirmación (ACK) para el mensaje anterior.</span><span class="sxs-lookup"><span data-stu-id="407ff-105">When the MLLP receive adapter operates in two-way mode, the adapter will not receive a new message from the connection until the pipeline has generated the acknowledgment (ACK) for the previous message.</span></span>  
  
## <a name="configuration-parameters"></a><span data-ttu-id="407ff-106">Parámetros de configuración</span><span class="sxs-lookup"><span data-stu-id="407ff-106">Configuration Parameters</span></span>  
 <span data-ttu-id="407ff-107">Los parámetros para un controlador de recepción estén configurados en el nivel de Host de BizTalk y se aplican a todas las ubicaciones de recepción MLLP asociadas a él.</span><span class="sxs-lookup"><span data-stu-id="407ff-107">The parameters for a receive handler are configured at the BizTalk Host level, and apply to all MLLP receive locations associated with it.</span></span>  
  
|<span data-ttu-id="407ff-108">Parámetro</span><span class="sxs-lookup"><span data-stu-id="407ff-108">Parameter</span></span>|<span data-ttu-id="407ff-109">Utilice</span><span class="sxs-lookup"><span data-stu-id="407ff-109">Use</span></span>|  
|---------------|---------|  
|<span data-ttu-id="407ff-110">*Max acepte el límite de conexiones*</span><span class="sxs-lookup"><span data-stu-id="407ff-110">*Max Accept Connection Limit*</span></span>|<span data-ttu-id="407ff-111">Limita el número de conexiones abiertas simultáneas que aceptará el adaptador de recepción.</span><span class="sxs-lookup"><span data-stu-id="407ff-111">Limits the number of concurrent open connections that the receive adapter will accept.</span></span>|  
  
## <a name="acknowledgments-with-the-two-way-mllp-receive-adapter"></a><span data-ttu-id="407ff-112">Adaptador de recepción de confirmaciones con la MLLP bidireccional</span><span class="sxs-lookup"><span data-stu-id="407ff-112">Acknowledgments with the two-way MLLP receive adapter</span></span>  
 <span data-ttu-id="407ff-113">Cuando recibe un MLLP bidireccional adaptador recibe un mensaje, [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] Acelerador de BizTalk para HL7 ([!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]) puede generar los siguientes tipos de mensajes de confirmación:</span><span class="sxs-lookup"><span data-stu-id="407ff-113">When a two-way MLLP receive adapter receives a message, [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk Accelerator for HL7 ([!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]) can generate the following types of ACKs:</span></span>  
  
-   <span data-ttu-id="407ff-114">HL7 Mejorado confirmación ACK: en este escenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] envía una confirmación confirmar en la misma conexión.</span><span class="sxs-lookup"><span data-stu-id="407ff-114">HL7 Enhanced Commit ACK: In this scenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] sends a Commit ACK on the same connection.</span></span> <span data-ttu-id="407ff-115">Envía una confirmación de Aceptar de aplicación en un puerto de envío diferentes.</span><span class="sxs-lookup"><span data-stu-id="407ff-115">It sends out an Application Accept ACK on a different send port.</span></span>  
  
-   <span data-ttu-id="407ff-116">Confirmación de aceptación de aplicación: En este escenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] envía una confirmación de aceptación de aplicación en la misma conexión.</span><span class="sxs-lookup"><span data-stu-id="407ff-116">Application Accept ACK: In this scenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] sends an Application Accept ACK on the same connection.</span></span>  
  
-   <span data-ttu-id="407ff-117">Estático ACK: en este escenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] envía una confirmación en la misma conexión.</span><span class="sxs-lookup"><span data-stu-id="407ff-117">Static ACK: In this scenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] sends an ACK on the same connection.</span></span>  
  
-   <span data-ttu-id="407ff-118">El tipo de confirmación generado depende el [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] configuración del explorador de configuración para la entidad que envía el mensaje.</span><span class="sxs-lookup"><span data-stu-id="407ff-118">The type of ACK generated depends on the [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Configuration Explorer settings for the party sending the message.</span></span> <span data-ttu-id="407ff-119">El valor en los campos MSH 15 y 16 de un mensaje individual puede invalidar esta configuración.</span><span class="sxs-lookup"><span data-stu-id="407ff-119">The value in fields MSH 15 and 16 of an individual message can override this setting.</span></span> <span data-ttu-id="407ff-120">Sin embargo, para las aplicaciones que confirmaciones estático, la configuración sólo se puede establecer mediante [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Explorador de configuración.</span><span class="sxs-lookup"><span data-stu-id="407ff-120">However, for applications expecting Static ACKs, the configuration can only be set through [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Configuration Explorer.</span></span>  
  
## <a name="error-conditions"></a><span data-ttu-id="407ff-121">Condiciones de error</span><span class="sxs-lookup"><span data-stu-id="407ff-121">Error Conditions</span></span>  
 <span data-ttu-id="407ff-122">Los siguientes eventos se producen cuando existe una condición de error o de inactividad:</span><span class="sxs-lookup"><span data-stu-id="407ff-122">The following events occur when there is an error condition or inactivity:</span></span>  
  
-   <span data-ttu-id="407ff-123">Si se deshabilita la ubicación de recepción o [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] se cierra, ocurre lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="407ff-123">If the receive location is disabled or [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] shuts down, the following occurs:</span></span>  
  
    -   <span data-ttu-id="407ff-124">La ubicación de recepción ya no acepta nuevas conexiones.</span><span class="sxs-lookup"><span data-stu-id="407ff-124">The receive location will no longer accept new connections.</span></span>  
  
    -   <span data-ttu-id="407ff-125">Para las conexiones existentes, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] completamente recibe el mensaje actual y, a continuación, cierra la conexión.</span><span class="sxs-lookup"><span data-stu-id="407ff-125">For existing connections, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] completely receives the current message, and then closes the connection.</span></span>  
  
-   <span data-ttu-id="407ff-126">Cuando se detecta inactividad (ningún dato de carga recibido en la ubicación de recepción en el tiempo de espera especificado), el adaptador cierra la conexión.</span><span class="sxs-lookup"><span data-stu-id="407ff-126">When inactivity is detected (no payload data received on the receive location within the specified timeout), the adapter closes the connection.</span></span>  
  
-   <span data-ttu-id="407ff-127">Si [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] recibe un mensaje incompleto, se suspende la parte que recibe.</span><span class="sxs-lookup"><span data-stu-id="407ff-127">If [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] receives an incomplete message, the portion received is suspended.</span></span> <span data-ttu-id="407ff-128">Se omiten todos los bytes recibidos fuera de un mensaje (antes del primer SB en una nueva conexión, entre EB/CR y SB del siguiente mensaje).</span><span class="sxs-lookup"><span data-stu-id="407ff-128">All bytes received outside of a message (before the first SB on a new connection, between EB/CR and SB of the next message) are ignored.</span></span>  
  
-   <span data-ttu-id="407ff-129">Si se produce un error en la canalización analizar el mensaje, el mensaje todavía se entrega a la base de datos de cuadro de mensajes, con una propiedad promocionada **ParseError = true**.</span><span class="sxs-lookup"><span data-stu-id="407ff-129">If the pipeline fails to parse the message, the message is still delivered to the MessageBox database, with a promoted property **ParseError=true**.</span></span>  
  
-   <span data-ttu-id="407ff-130">Si se produce un error en un mensaje debido a la ausencia de una suscripción o debido a errores estructurales en el encabezado, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] suspende el mensaje en su forma de "cable" original (antes de que se está analizando).</span><span class="sxs-lookup"><span data-stu-id="407ff-130">If a message fails due to the absence of a subscription, or due to structural errors in the header, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] suspends the message in its original "wire" form (prior to being parsed).</span></span> <span data-ttu-id="407ff-131">Un motivo frecuente del error de suscripción no es la falta de propiedades promocionadas.</span><span class="sxs-lookup"><span data-stu-id="407ff-131">A frequent reason for the no-subscription failure is the lack of promoted properties.</span></span> <span data-ttu-id="407ff-132">Puesto que [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] suspende el mensaje sin analizar, la **BTS. MessageType** estará en blanco.</span><span class="sxs-lookup"><span data-stu-id="407ff-132">Since [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] suspends the unparsed message, the **BTS.MessageType** will be blank.</span></span>  
  
 <span data-ttu-id="407ff-133">En la tabla siguiente se enumera los errores que el MLLP devuelve del adaptador de recepción.</span><span class="sxs-lookup"><span data-stu-id="407ff-133">The following table lists the errors that the MLLP receive adapter returns.</span></span>  
  
|<span data-ttu-id="407ff-134">Evento</span><span class="sxs-lookup"><span data-stu-id="407ff-134">Event</span></span>|<span data-ttu-id="407ff-135">ID</span><span class="sxs-lookup"><span data-stu-id="407ff-135">ID</span></span>|<span data-ttu-id="407ff-136">Condición de error</span><span class="sxs-lookup"><span data-stu-id="407ff-136">Error Condition</span></span>|  
|-----------|--------|---------------------|  
|<span data-ttu-id="407ff-137">**ErrorListening**</span><span class="sxs-lookup"><span data-stu-id="407ff-137">**ErrorListening**</span></span>|<span data-ttu-id="407ff-138">8448</span><span class="sxs-lookup"><span data-stu-id="407ff-138">8448</span></span>|<span data-ttu-id="407ff-139">No se pudo enlazar a un socket local (probablemente que otra aplicación local usa la misma combinación de Id. de dirección/puerto IP).</span><span class="sxs-lookup"><span data-stu-id="407ff-139">Could not bind to a local socket (most likely some other local application is using the same IP address/port ID combination).</span></span>|  
|<span data-ttu-id="407ff-140">**ErrorAcceptingConnection**</span><span class="sxs-lookup"><span data-stu-id="407ff-140">**ErrorAcceptingConnection**</span></span>|<span data-ttu-id="407ff-141">8449</span><span class="sxs-lookup"><span data-stu-id="407ff-141">8449</span></span>|<span data-ttu-id="407ff-142">No se pudo establecer una conexión de TCP con la parte remota.</span><span class="sxs-lookup"><span data-stu-id="407ff-142">Could not establish a TCP connection with the remote party.</span></span> <span data-ttu-id="407ff-143">Cualquier [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] alcanzó el límite máximo de conexiones o los recursos eran insuficientes.</span><span class="sxs-lookup"><span data-stu-id="407ff-143">Either [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] reached the maximum connection limit, or the resources were insufficient.</span></span>|  
|<span data-ttu-id="407ff-144">**ErrorSubmittingMessage**</span><span class="sxs-lookup"><span data-stu-id="407ff-144">**ErrorSubmittingMessage**</span></span>|<span data-ttu-id="407ff-145">8452</span><span class="sxs-lookup"><span data-stu-id="407ff-145">8452</span></span>|<span data-ttu-id="407ff-146">La base de datos de cuadro de mensajes no pudo aceptar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="407ff-146">The MessageBox database could not accept the message.</span></span> <span data-ttu-id="407ff-147">Cualquier [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] no estaba disponible o los recursos eran insuficientes.</span><span class="sxs-lookup"><span data-stu-id="407ff-147">Either [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] was unavailable or the resources were insufficient.</span></span>|  
|<span data-ttu-id="407ff-148">**ErrorSendingAck**</span><span class="sxs-lookup"><span data-stu-id="407ff-148">**ErrorSendingAck**</span></span>|<span data-ttu-id="407ff-149">8454</span><span class="sxs-lookup"><span data-stu-id="407ff-149">8454</span></span>|[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="407ff-150">no se pudo devolver la confirmación porque la conexión no estaba disponible.</span><span class="sxs-lookup"><span data-stu-id="407ff-150"> could not return the acknowledgment because the connection was not available.</span></span>|  
  
## <a name="performance-counters"></a><span data-ttu-id="407ff-151">Performance Counters</span><span class="sxs-lookup"><span data-stu-id="407ff-151">Performance Counters</span></span>  
 <span data-ttu-id="407ff-152">En la tabla siguiente se enumera los contadores de rendimiento que usa el adaptador MLLP.</span><span class="sxs-lookup"><span data-stu-id="407ff-152">The following table lists the performance counters that the MLLP adapter uses.</span></span>  
  
|<span data-ttu-id="407ff-153">Contador</span><span class="sxs-lookup"><span data-stu-id="407ff-153">Counter</span></span>|<span data-ttu-id="407ff-154">Significado</span><span class="sxs-lookup"><span data-stu-id="407ff-154">Meaning</span></span>|  
|-------------|-------------|  
|<span data-ttu-id="407ff-155">Bytes</span><span class="sxs-lookup"><span data-stu-id="407ff-155">Bytes</span></span>|<span data-ttu-id="407ff-156">Tamaño de la carga de todos los documentos recibidos o enviados.</span><span class="sxs-lookup"><span data-stu-id="407ff-156">Size of the payload of all documents received or sent.</span></span>|  
|<span data-ttu-id="407ff-157">Bytes/seg.</span><span class="sxs-lookup"><span data-stu-id="407ff-157">Bytes/sec</span></span>|<span data-ttu-id="407ff-158">El rendimiento actual de la carga recibidos o enviados.</span><span class="sxs-lookup"><span data-stu-id="407ff-158">Current throughput of the payload received or sent.</span></span>|  
|<span data-ttu-id="407ff-159">Documentos procesados</span><span class="sxs-lookup"><span data-stu-id="407ff-159">Documents processed</span></span>|<span data-ttu-id="407ff-160">**Recepción de MLLP**:</span><span class="sxs-lookup"><span data-stu-id="407ff-160">**MLLP Receive**:</span></span><br /><br /> <span data-ttu-id="407ff-161">Número de documentos se ha entregado correctamente a la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="407ff-161">Number of documents successfully delivered to the MessageBox database.</span></span><br /><br /> <span data-ttu-id="407ff-162">**Envío MLLP**:</span><span class="sxs-lookup"><span data-stu-id="407ff-162">**MLLP Send**:</span></span><br /><br /> <span data-ttu-id="407ff-163">Número de documentos se ha entregado correctamente a la aplicación remota.</span><span class="sxs-lookup"><span data-stu-id="407ff-163">Number of documents successfully delivered to the remote application.</span></span>|  
|<span data-ttu-id="407ff-164">Documentos con errores</span><span class="sxs-lookup"><span data-stu-id="407ff-164">Documents failed</span></span>|<span data-ttu-id="407ff-165">**Recepción de MLLP**:</span><span class="sxs-lookup"><span data-stu-id="407ff-165">**MLLP Receive**:</span></span><br /><br /> <span data-ttu-id="407ff-166">Número de documentos no correctamente entregados a la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="407ff-166">Number of documents not successfully delivered to the MessageBox database.</span></span><br /><br /> <span data-ttu-id="407ff-167">**Envío MLLP**:</span><span class="sxs-lookup"><span data-stu-id="407ff-167">**MLLP Send**:</span></span><br /><br /> <span data-ttu-id="407ff-168">Número de documentos que no se entregue a la aplicación remota.</span><span class="sxs-lookup"><span data-stu-id="407ff-168">Number of documents not successfully delivered to the remote application.</span></span>|  
|<span data-ttu-id="407ff-169">Estado de la conexión</span><span class="sxs-lookup"><span data-stu-id="407ff-169">Connection status</span></span>|<span data-ttu-id="407ff-170">El estado de la conexión del adaptador, 1 o 0 (1 = conectado).</span><span class="sxs-lookup"><span data-stu-id="407ff-170">The status of the adapter connection, 1 or 0 (1=connected).</span></span>|  
  
 <span data-ttu-id="407ff-171">Las instancias del contador de rendimiento utilizan el esquema de nomenclatura siguiente:</span><span class="sxs-lookup"><span data-stu-id="407ff-171">The performance counter instances use the following naming scheme:</span></span>  
  
```  
{recv|trans} : connection name : remote IP address : remote port ID  
```  
  
 <span data-ttu-id="407ff-172">Cuando reciba el MLLP adaptador utiliza el prefijo "recepción" y el adaptador de envío MLLP utiliza "transacciones".</span><span class="sxs-lookup"><span data-stu-id="407ff-172">Where the MLLP receive adapter uses the "recv" prefix, and the MLLP send adapter uses "trans".</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="407ff-173">Mensajes de confirmación enviados por (por ejemplo, un adaptador funciona en un modo bidireccional) de puertos de recepción y envían no se cuentan los puertos (funcionando para recibir los mensajes de confirmación en la misma conexión de socket).</span><span class="sxs-lookup"><span data-stu-id="407ff-173">ACKs sent by receive ports (for example, an adapter operating in a two-way mode) and send ports (operating to receive ACKs on the same socket connection) are not counted.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="407ff-174">Vea también</span><span class="sxs-lookup"><span data-stu-id="407ff-174">See Also</span></span>  
 <span data-ttu-id="407ff-175">[Procesamiento de mensajes con codificación MLLP](../../adapters-and-accelerators/accelerator-hl7/processing-mllp-encoded-messages.md) </span><span class="sxs-lookup"><span data-stu-id="407ff-175">[Processing MLLP-encoded Messages](../../adapters-and-accelerators/accelerator-hl7/processing-mllp-encoded-messages.md) </span></span>  
 <span data-ttu-id="407ff-176">[Parámetros de configuración para el envío y adaptadores de recepción](../../adapters-and-accelerators/accelerator-hl7/configuration-parameters-for-send-and-receive-adapters.md) </span><span class="sxs-lookup"><span data-stu-id="407ff-176">[Configuration Parameters for Send and Receive Adapters](../../adapters-and-accelerators/accelerator-hl7/configuration-parameters-for-send-and-receive-adapters.md) </span></span>  
 <span data-ttu-id="407ff-177">[Cómo procesa el adaptador MLLP envío](../../adapters-and-accelerators/accelerator-hl7/mllp-send-adapter-processing.md) </span><span class="sxs-lookup"><span data-stu-id="407ff-177">[MLLP Send Adapter Processing](../../adapters-and-accelerators/accelerator-hl7/mllp-send-adapter-processing.md) </span></span>  
 [<span data-ttu-id="407ff-178">Cómo configurar un puerto de envío para recibir mensajes de confirmación</span><span class="sxs-lookup"><span data-stu-id="407ff-178">Setting Up a Send Port for Receiving ACKs</span></span>](../../adapters-and-accelerators/accelerator-hl7/setting-up-a-send-port-for-receiving-acks.md)