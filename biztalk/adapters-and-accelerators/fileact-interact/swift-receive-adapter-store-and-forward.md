---
title: Adaptador de almacenamiento y reenvío de recepción de SWIFT | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 11eeb335-366b-4b29-9078-de9396b258ca
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 315b9bbe6985bbce5ccb44d8d4846b18730f292b
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
ms.locfileid: "22224476"
---
# <a name="swift-receive-adapter-store-and-forward"></a><span data-ttu-id="28e29-102">Adaptador de almacenamiento y reenvío de recepción de SWIFT</span><span class="sxs-lookup"><span data-stu-id="28e29-102">SWIFT Receive Adapter Store and Forward</span></span>
<span data-ttu-id="28e29-103">El adaptador de recepción recibe mensajes desde el almacén de SWIFT y reenviar cola (SnF).</span><span class="sxs-lookup"><span data-stu-id="28e29-103">The receive adapter receives messages from the SWIFT store and forward (SnF) queue.</span></span> <span data-ttu-id="28e29-104">Para recibir mensajes de la cola, el adaptador debe abrir una sesión con la cola de SnF.</span><span class="sxs-lookup"><span data-stu-id="28e29-104">To receive messages from the queue, the adapter must open a session with the SnF queue.</span></span> <span data-ttu-id="28e29-105">Para abrir la cola, debe tener un proceso de cliente dedicado que establece una sesión con la cola.</span><span class="sxs-lookup"><span data-stu-id="28e29-105">To open the queue, it must have a dedicated client process that establishes the session with the queue.</span></span> <span data-ttu-id="28e29-106">En el diseño, este proceso se implementa como una COM más componente fuera de proceso.</span><span class="sxs-lookup"><span data-stu-id="28e29-106">In the design, this process is implemented as a COM plus out-of-proc component.</span></span>  
  
## <a name="push-session-store-and-forward-sequence"></a><span data-ttu-id="28e29-107">Inserción secuencia hacia delante y el almacén de la sesión</span><span class="sxs-lookup"><span data-stu-id="28e29-107">Push session store and forward sequence</span></span>  
 <span data-ttu-id="28e29-108">En la lista siguiente describe el almacén y la secuencia hacia delante.</span><span class="sxs-lookup"><span data-stu-id="28e29-108">The following list describes the store and forward sequence.</span></span>  
  
1.  <span data-ttu-id="28e29-109">Inicie la aplicación de servidor que procesa los mensajes.</span><span class="sxs-lookup"><span data-stu-id="28e29-109">Start the server application that processes the messages.</span></span>  
  
2.  <span data-ttu-id="28e29-110">El proceso de servidor abre los contextos de seguridad necesarios durante la primera SwCallback con el Sw:HandleInitRequest como un primitivo de entrada.</span><span class="sxs-lookup"><span data-stu-id="28e29-110">The server process opens the required security contexts during the first SwCallback with the Sw:HandleInitRequest as an input primitive.</span></span>  
  
3.  <span data-ttu-id="28e29-111">El servidor responde a la Sw:HandleInitRequest con uno o ambos Sw:CryptoMode y Sw:FACryptoMode establecido en Opciones avanzadas.</span><span class="sxs-lookup"><span data-stu-id="28e29-111">The server responds to the Sw:HandleInitRequest with either or both Sw:CryptoMode and Sw:FACryptoMode set to Advanced.</span></span>  
  
     <span data-ttu-id="28e29-112">El servidor ahora está listo para empezar a procesar las solicitudes entrantes.</span><span class="sxs-lookup"><span data-stu-id="28e29-112">The server is now ready to start processing incoming requests.</span></span>  
  
4.  <span data-ttu-id="28e29-113">Para iniciar la entrega de mensajes de una cola, un proceso de cliente inicia una sesión de inserción.</span><span class="sxs-lookup"><span data-stu-id="28e29-113">To start the delivery of messages from a queue, a client process starts a push session.</span></span> <span data-ttu-id="28e29-114">En función de la configuración del adaptador (modo de inserción), el adaptador de recepción genera un proceso de cliente llamado a SnFQueueManager.exe para adquirir la cola en modo de inserción.</span><span class="sxs-lookup"><span data-stu-id="28e29-114">Based on the adapter configuration (push mode), the receive adapter spawns a client process called SnFQueueManager.exe to acquire the queue in push mode.</span></span>  
  
5.  <span data-ttu-id="28e29-115">Un SwCall() se ejecuta con Sw:AcquireSnFRequest (dentro de la Sw:ExchangeSnFRequest) como un primitivo de entrada.</span><span class="sxs-lookup"><span data-stu-id="28e29-115">An SwCall() runs with Sw:AcquireSnFRequest (within the Sw:ExchangeSnFRequest) as an input primitive.</span></span> <span data-ttu-id="28e29-116">Esta solicitud, inicia una sesión con la cola indicada (si el SwSec:AuthorisationContext tiene el rol RBAC necesarios).</span><span class="sxs-lookup"><span data-stu-id="28e29-116">This request starts a session with the queue indicated (if the SwSec:AuthorisationContext has the required RBAC role).</span></span>  
  
6.  <span data-ttu-id="28e29-117">Inmediatamente después de responder con "Aceptado" en el Sw:AcquireStatus, SWIFTNet SnF comienza a enviar mensajes al servidor de acuerdo con lo especificado en la adquisición.</span><span class="sxs-lookup"><span data-stu-id="28e29-117">Immediately after responding with “Accepted” in the Sw:AcquireStatus, SWIFTNet SnF starts sending messages to the server as specified in the acquire.</span></span> <span data-ttu-id="28e29-118">Si el adaptador de recepción no se ha iniciado, los mensajes lleguen a las excepciones.</span><span class="sxs-lookup"><span data-stu-id="28e29-118">If the receive adapter was not yet started, messages get exceptions.</span></span> <span data-ttu-id="28e29-119">(Que es por eso es importante contar con los adaptadores de recepción que se ha iniciado).</span><span class="sxs-lookup"><span data-stu-id="28e29-119">(That is why it is important to have the receive adapters already started).</span></span>  
  
7.  <span data-ttu-id="28e29-120">SWIFTNet SnF inicia e inserta un número de mensajes (hasta el tamaño de la ventana).</span><span class="sxs-lookup"><span data-stu-id="28e29-120">SWIFTNet SnF starts pushing a number of messages (up to the window size).</span></span>  
  
8.  <span data-ttu-id="28e29-121">Para cada mensaje que se confirma, se inserta un nuevo mensaje (si existe).</span><span class="sxs-lookup"><span data-stu-id="28e29-121">For every message acknowledged, a new message (if any) is pushed.</span></span>  
  
9. <span data-ttu-id="28e29-122">El proceso de cliente (SnFQueueManager.exe) ha terminado su trabajo y puede finalizar ahora.</span><span class="sxs-lookup"><span data-stu-id="28e29-122">The client process (SnFQueueManager.exe) has done its job and can now terminate.</span></span> <span data-ttu-id="28e29-123">El proceso emite SwSec:DestroyContextRequest, que limpia los contextos de seguridad abierta.</span><span class="sxs-lookup"><span data-stu-id="28e29-123">The process issues SwSec:DestroyContextRequest, which cleans up the open security contexts.</span></span> <span data-ttu-id="28e29-124">Después de la Sw:TermRequest, el proceso se cierra.</span><span class="sxs-lookup"><span data-stu-id="28e29-124">After the Sw:TermRequest, the process exits.</span></span>  
  
### <a name="message-correlation"></a><span data-ttu-id="28e29-125">Correlación de mensajes</span><span class="sxs-lookup"><span data-stu-id="28e29-125">Message Correlation</span></span>  
 <span data-ttu-id="28e29-126">El campo RequestRef se conservan y se sustituye en los mensajes de respuesta por el adaptador de recepción.</span><span class="sxs-lookup"><span data-stu-id="28e29-126">The RequestRef field is preserved and substituted back in the response messages by the receive adapter.</span></span> <span data-ttu-id="28e29-127">Esto garantiza la correlación de extremo a extremo entre el mensaje entrante y el mensaje de respuesta</span><span class="sxs-lookup"><span data-stu-id="28e29-127">This ensures end to end correlation between the incoming message and the response message</span></span>  
  
### <a name="duplicate-processing"></a><span data-ttu-id="28e29-128">Procesamiento duplicado</span><span class="sxs-lookup"><span data-stu-id="28e29-128">Duplicate processing</span></span>  
 <span data-ttu-id="28e29-129">Si recibe una solicitud de FileAct y la instancia de adaptador recibe un mensaje con un nodo de indicador posibles duplicados, a continuación, debe comprobar si la transferencia que se hace referencia ya se ha completado correctamente o si ha producido un error y realice la acción apropiada.</span><span class="sxs-lookup"><span data-stu-id="28e29-129">If receiving a FileAct request, and the adapter instance receives a message with a Possible Duplicate Indicator node, then it must check to see if the referenced transfer has already completed successfully or if it has failed, and take the appropriate action.</span></span> <span data-ttu-id="28e29-130">Si la transferencia de archivos ya ha llevado a cabo, a continuación, el adaptador actualiza el estado de la transferencia como "Duplicate" en caso contrario, actualiza como "Aceptado".</span><span class="sxs-lookup"><span data-stu-id="28e29-130">If the file transfer has already taken place then the adapter updates the transfer status as “Duplicate” otherwise it updates it as “Accepted.”</span></span>  
  
### <a name="acknowledgments"></a><span data-ttu-id="28e29-131">Confirmaciones</span><span class="sxs-lookup"><span data-stu-id="28e29-131">Acknowledgments</span></span>  
 <span data-ttu-id="28e29-132">Si el remitente solicita una confirmación de una solicitud de FileAct, el adaptador comprueba si el evento de finalización de la transferencia de archivos y genera la confirmación después de comprobar el valor de resumen de archivo.</span><span class="sxs-lookup"><span data-stu-id="28e29-132">If the sender requests an acknowledgement for a FileAct request, the adapter checks for the file transfer completion event and generates the acknowledgement after verifying the file digest value.</span></span> <span data-ttu-id="28e29-133">El adaptador envía el mensaje de confirmación a BizTalk para el adaptador de envío recogerlo y enviarlo al remitente.</span><span class="sxs-lookup"><span data-stu-id="28e29-133">The adapter sends the acknowledgement message to BizTalk for the send adapter to pick it up and send it to the sender.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="28e29-134">Vea también</span><span class="sxs-lookup"><span data-stu-id="28e29-134">See Also</span></span>  
 <span data-ttu-id="28e29-135">[Arquitectura del adaptador de recepción de SWIFT](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="28e29-135">[SWIFT Receive Adapter Architecture](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-architecture.md) </span></span>  
 <span data-ttu-id="28e29-136">[URI del adaptador de recepción de SWIFT](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-uri.md) </span><span class="sxs-lookup"><span data-stu-id="28e29-136">[SWIFT Receive Adapter URI](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-uri.md) </span></span>  
 <span data-ttu-id="28e29-137">[La inicialización del adaptador de recepción de SWIFT](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-initialization.md) </span><span class="sxs-lookup"><span data-stu-id="28e29-137">[SWIFT Receive Adapter Initialization](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-initialization.md) </span></span>  
 <span data-ttu-id="28e29-138">[Contexto de seguridad del adaptador de recepción de SWIFT](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-security-context.md) </span><span class="sxs-lookup"><span data-stu-id="28e29-138">[SWIFT Receive Adapter Security Context](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-security-context.md) </span></span>  
 [<span data-ttu-id="28e29-139">Modos sincrónico y diferido del adaptador de recepción de SWIFT</span><span class="sxs-lookup"><span data-stu-id="28e29-139">SWIFT Receive Adapter Synchronous and Deferred Modes</span></span>](../../adapters-and-accelerators/fileact-interact/swift-receive-adapter-synchronous-and-deferred-modes.md)