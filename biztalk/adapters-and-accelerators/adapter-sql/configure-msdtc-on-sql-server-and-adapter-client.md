<span data-ttu-id="6f8ea-101">--title: "configurar MSDTC en el cliente SQL Server y el adaptador | Microsoft Docs"ms.custom:" "ms.date:" 08/06/2017"ms.prod:"biztalk server"ms.reviewer:" "</span><span class="sxs-lookup"><span data-stu-id="6f8ea-101">-- title: "Configure MSDTC on SQL Server and adapter client | Microsoft Docs" ms.custom: "" ms.date: "06/08/2017" ms.prod: "biztalk-server" ms.reviewer: ""</span></span>

<span data-ttu-id="6f8ea-102">MS.Suite: "" ms.tgt_pltfrm: "" ms.topic: "article" ms.assetid: 2c87f455-a8c4-4169-bf18-695926136df1 caps.latest.revision: 14 author: "MandiOhlinger" ms.author: "mandia" manager: "anneta"</span><span class="sxs-lookup"><span data-stu-id="6f8ea-102">ms.suite: "" ms.tgt_pltfrm: "" ms.topic: "article" ms.assetid: 2c87f455-a8c4-4169-bf18-695926136df1 caps.latest.revision: 14 author: "MandiOhlinger" ms.author: "mandia" manager: "anneta"</span></span>
---
# <a name="configure-msdtc-on-sql-server-and-adapter-client"></a><span data-ttu-id="6f8ea-103">Configurar MSDTC en el cliente de SQL Server y el adaptador</span><span class="sxs-lookup"><span data-stu-id="6f8ea-103">Configure MSDTC on SQL Server and adapter client</span></span>
<span data-ttu-id="6f8ea-104">Las operaciones realizan en SQL Server mediante el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] (a través de [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], el modelo de servicio WCF o el modelo de canal WCF) se pueden realizar en un ámbito de transacción.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-104">The operations performed on SQL Server using the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] (through [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], the WCF service model, or the WCF channel model) can be performed within a transaction scope.</span></span> <span data-ttu-id="6f8ea-105">Si el programa cliente tiene más de un recurso transaccional como parte de la misma transacción, la transacción obtiene elevada a una transacción MSDTC.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-105">If the client program has more than one transactional resource as part of the same transaction, the transaction gets elevated to an MSDTC transaction.</span></span> <span data-ttu-id="6f8ea-106">Para habilitar el adaptador realizar operaciones dentro del ámbito de una transacción MSDTC, debe configurar MSDTC tanto en el equipo que ejecuta el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] y SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-106">To enable the adapter to perform operations within the scope of an MSDTC transaction, you must configure MSDTC both on the computer running the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] and SQL Server.</span></span> <span data-ttu-id="6f8ea-107">Además, debe agregar MSDTC a la lista de excepciones de Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-107">Also, you must add MSDTC to the exceptions list of Windows Firewall.</span></span> <span data-ttu-id="6f8ea-108">Esta sección proporciona información acerca de cómo realizar estas tareas en los equipos que ejecutan el cliente del adaptador y SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-108">This section provides information about how to perform these tasks on computers running the adapter client and SQL Server.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6f8ea-109">Realizar operaciones en SQL Server mediante [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] siempre implica dos recursos, el adaptador que se conecta a SQL Server y el cuadro de mensaje de BizTalk que se encuentran en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-109">Performing operations on SQL Server using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] always involves two resources—the adapter connecting to SQL Server and the BizTalk Message Box residing on SQL Server.</span></span> <span data-ttu-id="6f8ea-110">Por lo tanto, todas las operaciones realizan mediante [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] se realizan dentro del ámbito de una transacción MSDTC.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-110">Hence, all operations performed using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] are performed within the scope of an MSDTC transaction.</span></span> <span data-ttu-id="6f8ea-111">Por lo tanto, para usar el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] con [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], siempre debe habilitar MSDTC.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-111">So, to use the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], you must always enable MSDTC.</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="6f8ea-112">Para las operaciones donde el cliente del adaptador no escribe ningún dato en la base de datos de SQL Server, como una operación Select, no podría la sobrecarga adicional de llevar a cabo las operaciones dentro de una transacción.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-112">For operations where the adapter client does not write any data to the SQL Server database, such as a Select operation, you might not want the additional overhead of performing the operations inside a transaction.</span></span> <span data-ttu-id="6f8ea-113">En tales casos, puede configurar el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] para realizar las operaciones sin un contexto transaccional estableciendo el **UseAmbientTransaction** enlazar la propiedad a **false**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-113">In such cases, you can configure the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to perform operations without a transactional context by setting the **UseAmbientTransaction** binding property to **false**.</span></span> <span data-ttu-id="6f8ea-114">Para obtener más información acerca de la propiedad de enlace, consulte [Obtenga información sobre el adaptador de BizTalk para propiedades de enlace del adaptador de SQL Server](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6f8ea-114">For more information about the binding property, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span> <span data-ttu-id="6f8ea-115">En tales casos, no es necesario configurar MSDTC también.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-115">In such cases, you do not need to configure MSDTC as well.</span></span>  
  
## <a name="configure-msdtc"></a><span data-ttu-id="6f8ea-116">Configurar MSDTC</span><span class="sxs-lookup"><span data-stu-id="6f8ea-116">Configure MSDTC</span></span>  
  
1. <span data-ttu-id="6f8ea-117">Abra **servicios de componentes**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-117">Open **Component Services**.</span></span>  

   <span data-ttu-id="6f8ea-118">O bien, en **administrador del servidor**, seleccione **herramientas**y, a continuación, seleccione **servicios de componentes**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-118">Or, In **Server Manager**, select **Tools**, and then select **Component Services**.</span></span>  
  
2. <span data-ttu-id="6f8ea-119">Expanda **servicios de componentes**, expanda **equipos**, expanda **Mi PC**, expanda **Coordinador de transacciones distribuidas**, Haga clic en **DTC Local**y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-119">Expand **Component Services**, expand **Computers**, expand **My Computer**, expand **Distributed Transaction Coordinator**, right-click **Local DTC**, and select **Properties**.</span></span>  
  
3. <span data-ttu-id="6f8ea-120">Seleccione la pestaña **Seguridad** . En esta pestaña, seleccione todos los elementos siguientes:</span><span class="sxs-lookup"><span data-stu-id="6f8ea-120">Select the **Security** tab. In this tab, select all of the following:</span></span> 

   - <span data-ttu-id="6f8ea-121">**Acceso a DTC desde la red**</span><span class="sxs-lookup"><span data-stu-id="6f8ea-121">**Network DTC Access**</span></span>
   - <span data-ttu-id="6f8ea-122">**Permitir a clientes remotos**</span><span class="sxs-lookup"><span data-stu-id="6f8ea-122">**Allow Remote Clients**</span></span> 
   - <span data-ttu-id="6f8ea-123">**Permitir entrantes**</span><span class="sxs-lookup"><span data-stu-id="6f8ea-123">**Allow Inbound**</span></span> 
   - <span data-ttu-id="6f8ea-124">**Permitir salientes**</span><span class="sxs-lookup"><span data-stu-id="6f8ea-124">**Allow Outbound**</span></span> 
   - <span data-ttu-id="6f8ea-125">**No se requiere autenticación**</span><span class="sxs-lookup"><span data-stu-id="6f8ea-125">**No Authentication Required**</span></span>
  
4. <span data-ttu-id="6f8ea-126">Seleccione **Aceptar** para guardar los cambios.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-126">Select **OK** to save your changes.</span></span>  
  
5. <span data-ttu-id="6f8ea-127">Si se le pida que reinicie el servicio MSDTC, seleccione **Sí**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-127">If prompted to restart the MSDTC service, select **Yes**.</span></span> <span data-ttu-id="6f8ea-128">Después de reinicia el servicio MSDTC, cierre las propiedades y los servicios de componentes de MMC.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-128">After the MSDTC service is restarted, close the properties and the Component Services MMC.</span></span> 
  
## <a name="add-msdtc-to-windows-firewall-exceptions-list"></a><span data-ttu-id="6f8ea-129">Agregar MSDTC a la lista de excepciones de Firewall de Windows</span><span class="sxs-lookup"><span data-stu-id="6f8ea-129">Add MSDTC to Windows Firewall exceptions list</span></span>  

> [!TIP] 
>  <span data-ttu-id="6f8ea-130">Coordinador de transacción distribuida de Microsoft (MSDTC) puede que ya se permitidas en el firewall.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-130">Microsoft Distributed Tansaction Coordinator (MSDTC) may already be allowed in your firewall.</span></span> <span data-ttu-id="6f8ea-131">Si es así, aparece como una regla de entrada.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-131">If so, it is listed as an Inbound Rule.</span></span> <span data-ttu-id="6f8ea-132">Si no aparece, use esta sección para permitir MSDTC.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-132">If it's not listed, use this section to allow MSDTC.</span></span> 

1.  <span data-ttu-id="6f8ea-133">Abra **Windows Firewall**y seleccione **configuración avanzada** a la izquierda.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-133">Open **Windows Firewall**, and select **Advanced Settings** on the left.</span></span>  

    <span data-ttu-id="6f8ea-134">O bien, en **administrador del servidor**, seleccione **herramientas**y, a continuación, seleccione **Firewall de Windows con seguridad avanzada**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-134">Or, In **Server Manager**, select **Tools**, and then select **Windows Firewall with Advanced Security**.</span></span>  
  
2.  <span data-ttu-id="6f8ea-135">Haga clic en **reglas de entrada**y seleccione **nueva regla**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-135">Right click **Inbound Rules**, and select **New Rule**.</span></span>  
  
3.  <span data-ttu-id="6f8ea-136">En el asistente:</span><span class="sxs-lookup"><span data-stu-id="6f8ea-136">In the wizard:</span></span> 

    1. <span data-ttu-id="6f8ea-137">Seleccione **programa**y seleccione **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-137">Select **Program**, and select **Next**.</span></span> 
    2. <span data-ttu-id="6f8ea-138">Establecer el **ruta del programa** a `%SystemRoot%\system32\msdtc.exe`y seleccione **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-138">Set the **program path** to `%SystemRoot%\system32\msdtc.exe`, and select **Next**.</span></span>  
    3. <span data-ttu-id="6f8ea-139">**Permitir la conexión**y seleccione **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-139">**Allow the connection**, and select **Next**.</span></span>
    4. <span data-ttu-id="6f8ea-140">Seleccione **dominio**y seleccione **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-140">Select **Domain**, and select **Next**.</span></span>
    5. <span data-ttu-id="6f8ea-141">Escriba cualquier nombre, como `MSDTC for Oracle EBS`y seleccione **finalizar**.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-141">Enter any name, such as `MSDTC for Oracle EBS`, and select **Finish**.</span></span>
  
5.  <span data-ttu-id="6f8ea-142">Complete el asistente y cierre Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="6f8ea-142">Complete the wizard, and close Windows Firewall.</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="6f8ea-143">Vea también</span><span class="sxs-lookup"><span data-stu-id="6f8ea-143">See Also</span></span>  
[<span data-ttu-id="6f8ea-144">Desarrollar las aplicaciones SQL</span><span class="sxs-lookup"><span data-stu-id="6f8ea-144">Develop your SQL applications</span></span>](../../adapters-and-accelerators/adapter-sql/develop-your-sql-applications.md)
