---
title: Recibir fuertemente tipado mensajes de cambio de datos basado en sondeo desde SQL Server mediante BizTalk Server | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: e6e6ba7e-9e13-4e28-b57d-d24569277bbc
caps.latest.revision: "21"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8b12450e87e730e3713a89350fc2a16440e4d911
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/28/2017
---
# <a name="receive-strongly-typed-polling-based-data-changed-messages-from-sql-server-using-biztalk-server"></a><span data-ttu-id="eae1c-102">Recibir fuertemente tipado mensajes de cambio de datos basado en sondeo desde SQL Server mediante BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="eae1c-102">Receive strongly-typed polling-based data-changed messages from SQL Server using BizTalk Server</span></span>
<span data-ttu-id="eae1c-103">Puede configurar el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] para recibir mensajes de sondeo fuertemente tipado de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-103">You can configure the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to receive strongly-typed polling messages from SQL Server.</span></span> <span data-ttu-id="eae1c-104">Puede especificar una instrucción de sondeo que el adaptador se ejecuta para sondear la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-104">You can specify a polling statement that the adapter executes to poll the database.</span></span> <span data-ttu-id="eae1c-105">La instrucción de sondeo puede ser una instrucción SELECT o un procedimiento almacenado que devuelve un conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="eae1c-105">The polling statement can be a SELECT statement or a stored procedure that returns a result set.</span></span>  
  
 <span data-ttu-id="eae1c-106">Debe utilizar sondeo fuertemente tipado en un escenario donde desea asignar los elementos en el mensaje de sondeo para cualquier otro esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-106">You must use strongly-typed polling in a scenario where you want to map the elements in the polling message to any other schema.</span></span> <span data-ttu-id="eae1c-107">Podría ser el esquema que desea asignar a otra operación en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-107">The schema you want to map to could be for another operation on SQL Server.</span></span> <span data-ttu-id="eae1c-108">Por ejemplo, podría asignar determinados elementos en el mensaje de sondeo para el esquema para una operación de inserción en otra tabla.</span><span class="sxs-lookup"><span data-stu-id="eae1c-108">For example, you could map certain elements in the polling message to the schema for an Insert operation on another table.</span></span> <span data-ttu-id="eae1c-109">Por lo tanto, los valores en el mensaje de sondeo actúan como parámetros para la operación de inserción.</span><span class="sxs-lookup"><span data-stu-id="eae1c-109">So, the values in the polling message serve as parameters for the Insert operation.</span></span> <span data-ttu-id="eae1c-110">En un escenario más sencillo, puede asignar el esquema de mensaje de sondeo fuertemente tipado a un archivo de esquema que solo almacena la información.</span><span class="sxs-lookup"><span data-stu-id="eae1c-110">In a simpler scenario, you could map the schema for strongly-typed polling message to a schema file that just stores information.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="eae1c-111">Si desea tener más de un sondeo operación en una sola aplicación de BizTalk, debe especificar un **InboundID** propiedad de conexión como parte de la conexión de URI para que sea único.</span><span class="sxs-lookup"><span data-stu-id="eae1c-111">If you want to have more than one polling operation in a single BizTalk application, you must specify an **InboundID** connection property as part of the connection URI to make it unique.</span></span> <span data-ttu-id="eae1c-112">Con un URI de conexión único, puede crear varios puertos de recepción que sondean la misma base de datos, o incluso la misma tabla en una base de datos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-112">With a unique connection URI, you can create multiple receive ports that poll the same database, or even the same table in a database.</span></span> <span data-ttu-id="eae1c-113">Para obtener más información, consulte [de recepción de sondeo mensajes a través de varios puertos de recepción de SQL con Biztalk Server](../../adapters-and-accelerators/adapter-sql/receive-polling-messages-across-multiple-receive-ports-from-sql-using-biztalk.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-113">For more information, see [Receive Polling Messages Across Multiple Receive Ports from SQL using Biztalk Server](../../adapters-and-accelerators/adapter-sql/receive-polling-messages-across-multiple-receive-ports-from-sql-using-biztalk.md).</span></span>  
  
 <span data-ttu-id="eae1c-114">Para obtener más información acerca del modo en que el adaptador admite sondeo fuertemente tipado, consulte [soporte técnico para el sondeo](https://msdn.microsoft.com/library/dd788416.aspx).</span><span class="sxs-lookup"><span data-stu-id="eae1c-114">For more information about how the adapter supports strongly-typed polling, see [Support for Polling](https://msdn.microsoft.com/library/dd788416.aspx).</span></span> <span data-ttu-id="eae1c-115">Para obtener más información acerca del esquema de mensaje de sondeo fuertemente tipado, consulte [esquemas de mensaje para el sondeo y las operaciones de TypedPolling](../../adapters-and-accelerators/adapter-sql/message-schemas-for-the-polling-and-typedpolling-operations.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-115">For more information about the message schema for strongly-typed polling, see [Message Schemas for the Polling and TypedPolling Operations](../../adapters-and-accelerators/adapter-sql/message-schemas-for-the-polling-and-typedpolling-operations.md).</span></span>  
  
## <a name="how-this-topic-demonstrates-strongly-typed-polling"></a><span data-ttu-id="eae1c-116">Cómo este tema muestra el sondeo fuertemente tipado</span><span class="sxs-lookup"><span data-stu-id="eae1c-116">How this Topic Demonstrates Strongly-typed Polling</span></span>  
 <span data-ttu-id="eae1c-117">Este tema muestra cómo utilizar el sondeo fuertemente tipado para asignar el mensaje de sondeo a otro esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-117">This topic demonstrates how to use strongly-typed polling to map the polling message to another schema.</span></span> <span data-ttu-id="eae1c-118">Este tema muestra cómo crear un proyecto de BizTalk y genere el esquema para **TypedPolling** operación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-118">This topic shows how to create a BizTalk project and generate schema for **TypedPolling** operation.</span></span> <span data-ttu-id="eae1c-119">Antes de generar el esquema para **TypedPolling** operación, debe hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="eae1c-119">Before generating schema for **TypedPolling** operation, you must do the following:</span></span>  
  
-   <span data-ttu-id="eae1c-120">Debe especificar un **InboundID** como parte del URI de conexión.</span><span class="sxs-lookup"><span data-stu-id="eae1c-120">You must specify an **InboundID** as part of the connection URI.</span></span>  
  
-   <span data-ttu-id="eae1c-121">Debe especificar una instrucción de sondeo para la **PollingStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="eae1c-121">You must specify a polling statement for the **PollingStatement** binding property.</span></span>  
  
 <span data-ttu-id="eae1c-122">Como parte de la instrucción de sondeo, realice las siguientes operaciones:</span><span class="sxs-lookup"><span data-stu-id="eae1c-122">As part of the polling statement, perform the following operations:</span></span>  
  
-   <span data-ttu-id="eae1c-123">Seleccione todas las filas de la tabla de empleados.</span><span class="sxs-lookup"><span data-stu-id="eae1c-123">Select all the rows from the Employee table.</span></span>  
  
-   <span data-ttu-id="eae1c-124">Ejecutar un procedimiento almacenado (MOVE_EMP_DATA) para mover todos los registros de la tabla de empleados a una tabla HistorialEmpleados.</span><span class="sxs-lookup"><span data-stu-id="eae1c-124">Execute a stored procedure (MOVE_EMP_DATA) to move all the records from the Employee table to an EmployeeHistory table.</span></span>  
  
-   <span data-ttu-id="eae1c-125">Ejecutar un procedimiento almacenado (ADD_EMP_DETAILS) para agregar un nuevo registro a la tabla de empleados.</span><span class="sxs-lookup"><span data-stu-id="eae1c-125">Execute a stored procedure (ADD_EMP_DETAILS) to add a new record to the Employee table.</span></span> <span data-ttu-id="eae1c-126">Este procedimiento toma el nombre de empleado, designación y salario como parámetros.</span><span class="sxs-lookup"><span data-stu-id="eae1c-126">This procedure takes the employee name, designation, and salary as parameters.</span></span>  
  
 <span data-ttu-id="eae1c-127">Para llevar a cabo estas operaciones, debe especificar lo siguiente para el **PollingStatement** propiedad de enlace:</span><span class="sxs-lookup"><span data-stu-id="eae1c-127">To perform these operations, you must specify the following for the **PollingStatement** binding property:</span></span>  
  
```  
SELECT * FROM Employee;EXEC MOVE_EMP_DATA;EXEC ADD_EMP_DETAILS John, Tester, 100000   
```  
  
 <span data-ttu-id="eae1c-128">Dado que se genere el esquema para el **TypedPolling** operación, el esquema está fuertemente tipadas y contiene todos los elementos que se incluirán en el mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-128">Because you generate schema for the **TypedPolling** operation, the schema is strongly-typed and contains all the elements that will be included in the polling message.</span></span>  
  
 <span data-ttu-id="eae1c-129">Como parte del mismo proyecto de BizTalk, agregue otro archivo de esquema, por ejemplo EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="eae1c-129">As part of the same BizTalk project, you add another schema file, for example EmployeeDetails.xsd.</span></span> <span data-ttu-id="eae1c-130">El esquema para EmployeeDetails.xsd es similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="eae1c-130">The schema for EmployeeDetails.xsd resembles the following:</span></span>  
  
```  
<?xml version="1.0" encoding="utf-16" ?>   
<xs:schema xmlns:b="http://schemas.microsoft.com/BizTalk/2003" xmlns="http://Typed_Polling.EmployeeDetails" elementFormDefault="qualified" targetNamespace="http://Typed_Polling.EmployeeDetails" xmlns:xs="http://www.w3.org/2001/XMLSchema">  
  <xs:element name="EmployeeDetails">  
    <xs:complexType>  
      <xs:sequence>  
        <xs:element name="Employee_Info" type="xs:string" />   
        <xs:element name="Employee_Profile" type="xs:string" />   
        <xs:element name="Employee_Performance" type="xs:string" />   
      </xs:sequence>  
    </xs:complexType>  
  </xs:element>  
</xs:schema>  
```  
  
 <span data-ttu-id="eae1c-131">También agregará a un asignador de BizTalk al proyecto para asignar los elementos de la tabla Employee (recibida como mensaje de sondeo) a los elementos en el esquema de EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="eae1c-131">You also add a BizTalk Mapper to the project to map the elements from the Employee table (received as polling message) to the elements in the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="eae1c-132">Como parte de la asignación, combinar uno o más elementos del mensaje de sondeo y asignarla a un único elemento en el esquema de EmployeeDetails.</span><span class="sxs-lookup"><span data-stu-id="eae1c-132">As part of the map, you combine one or more elements from the polling message and map it to a single element in the EmployeeDetails schema.</span></span> <span data-ttu-id="eae1c-133">Puede hacerlo mediante el **concatenación de cadenas** functoid.</span><span class="sxs-lookup"><span data-stu-id="eae1c-133">You can do so by using the **String Concatenate** functoid.</span></span>  
  
 <span data-ttu-id="eae1c-134">Por último, como parte del proyecto de BizTalk, un archivo que se ajuste al esquema EmployeeDetails.xsd se coloca en un puerto de envío de archivo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-134">Finally, as part of the BizTalk project, a file conforming to the EmployeeDetails.xsd schema is dropped to a FILE send port.</span></span>  
  
## <a name="configure-typed-polling-with-the-sql-adapter-binding-properties"></a><span data-ttu-id="eae1c-135">Configurar el sondeo con tipo con el adaptador de SQL propiedades de enlace</span><span class="sxs-lookup"><span data-stu-id="eae1c-135">Configure Typed Polling with the SQL Adapter Binding Properties</span></span>  
 <span data-ttu-id="eae1c-136">La siguiente tabla resume el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] propiedades de enlace que se utiliza para configurar el adaptador para recibir mensajes de cambio de datos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-136">The following table summarizes the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] binding properties that you use to configure the adapter to receive data-change messages.</span></span> <span data-ttu-id="eae1c-137">Distinto de la **PollingStatement** propiedad de enlace, todas las demás propiedades de enlace enumerados en esta sección son necesarios al configurar el puerto de recepción en el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="eae1c-137">Other than the **PollingStatement** binding property, all the other binding properties listed in this section are required while configuring the receive port in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="eae1c-138">Debe especificar el **PollingStatement** propiedad de enlace antes de generar el esquema para el **TypedPolling** operación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-138">You must specify the **PollingStatement** binding property before generating schema for the **TypedPolling** operation.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="eae1c-139">Para el sondeo con tipo, debe especificar el **PollingStatement** enlace propiedad al generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-139">For typed polling, you must specify the **PollingStatement** biding property while generating the schema.</span></span> <span data-ttu-id="eae1c-140">Puede especificar también las demás propiedades de enlace al generar el esquema, incluso aunque no son obligatorias.</span><span class="sxs-lookup"><span data-stu-id="eae1c-140">You can choose to specify the other binding properties as well while generating the schema, even though they are not mandatory.</span></span> <span data-ttu-id="eae1c-141">Si se especifican las propiedades de enlace, el enlace de puerto de archivos que el [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] genera como parte de la generación de metadatos también contiene los valores especificados para las propiedades de enlace.</span><span class="sxs-lookup"><span data-stu-id="eae1c-141">If you do specify the binding properties, the port binding file that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates as part of the metadata generation also contains the values you specify for the binding properties.</span></span> <span data-ttu-id="eae1c-142">Más adelante puede importar este archivo de enlace en el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] puerto de recepción de la consola de administración para crear el WCF-custom o WCF-SQL con el enlace de propiedades ya establecidas.</span><span class="sxs-lookup"><span data-stu-id="eae1c-142">You can later import this binding file in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to create the WCF-custom or WCF-SQL receive port with the binding properties already set.</span></span> <span data-ttu-id="eae1c-143">Para obtener más información acerca de cómo crear un puerto mediante el archivo de enlace, vea [configurar un enlace de puerto físico mediante un archivo de enlace de puerto para utilizar el adaptador SQL](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-143">For more information about creating a port using the binding file, see [Configure a physical port binding using a port binding file to use the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span></span>  
  
|<span data-ttu-id="eae1c-144">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="eae1c-144">Binding Property</span></span>|<span data-ttu-id="eae1c-145">Description</span><span class="sxs-lookup"><span data-stu-id="eae1c-145">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="eae1c-146">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="eae1c-146">**InboundOperationType**</span></span>|<span data-ttu-id="eae1c-147">Especifica si desea realizar **sondeo**, **TypedPolling**, o **notificación** operación entrante.</span><span class="sxs-lookup"><span data-stu-id="eae1c-147">Specifies whether you want to perform **Polling**, **TypedPolling**, or **Notification** inbound operation.</span></span> <span data-ttu-id="eae1c-148">Valor predeterminado es **sondeo**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-148">Default is **Polling**.</span></span> <span data-ttu-id="eae1c-149">Para recibir mensajes de sondeo fuertemente tipado, establezca esta propiedad en **TypedPolling**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-149">To receive strongly-typed polling messages, set this to **TypedPolling**.</span></span>|  
|<span data-ttu-id="eae1c-150">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="eae1c-150">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="eae1c-151">Especifica la instrucción SQL que se ejecuta el adaptador para determinar si los datos están disponibles para el sondeo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-151">Specifies the SQL statement that the adapter executes to determine whether any data is available for polling.</span></span> <span data-ttu-id="eae1c-152">La instrucción SQL debe devolver un conjunto que consta de filas y columnas de resultados.</span><span class="sxs-lookup"><span data-stu-id="eae1c-152">The SQL statement must return a result set consisting of rows and columns.</span></span> <span data-ttu-id="eae1c-153">Solo si una fila está disponible, la instrucción SQL especificada para el **PollingStatement** se va a ejecutar la propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="eae1c-153">Only if a row is available, the SQL statement specified for the **PollingStatement** binding property will be executed.</span></span>|  
|<span data-ttu-id="eae1c-154">**PollingIntervalInSeconds**</span><span class="sxs-lookup"><span data-stu-id="eae1c-154">**PollingIntervalInSeconds**</span></span>|<span data-ttu-id="eae1c-155">Especifica el intervalo, en segundos, en el que el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] se ejecuta la instrucción especificada para la **PolledDataAvailableStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="eae1c-155">Specifies the interval, in seconds, at which the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] executes the statement specified for the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="eae1c-156">El valor predeterminado es 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-156">The default is 30 seconds.</span></span> <span data-ttu-id="eae1c-157">El intervalo de sondeo determina el intervalo de tiempo entre sondeos sucesivos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-157">The polling interval determines the time interval between successive polls.</span></span> <span data-ttu-id="eae1c-158">Si la instrucción se ejecuta en el intervalo especificado, el adaptador espera el tiempo restante en el intervalo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-158">If the statement is executed within the specified interval, the adapter waits for the remaining time in the interval.</span></span>|  
|<span data-ttu-id="eae1c-159">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="eae1c-159">**PollingStatement**</span></span>|<span data-ttu-id="eae1c-160">Especifica la instrucción SQL para sondear la tabla de base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-160">Specifies the SQL statement to poll the SQL Server database table.</span></span> <span data-ttu-id="eae1c-161">Puede especificar una instrucción SELECT simple o un procedimiento almacenado para la instrucción de sondeo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-161">You can specify a simple SELECT statement or a stored procedure for the polling statement.</span></span> <span data-ttu-id="eae1c-162">El valor predeterminado es null.</span><span class="sxs-lookup"><span data-stu-id="eae1c-162">The default is null.</span></span> <span data-ttu-id="eae1c-163">Debe especificar un valor para **PollingStatement** para habilitar el sondeo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-163">You must specify a value for **PollingStatement** to enable polling.</span></span> <span data-ttu-id="eae1c-164">Se ejecuta la instrucción de sondeo solo si hay datos disponibles para el sondeo, que viene determinado por la **PolledDataAvailableStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="eae1c-164">The polling statement is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="eae1c-165">Puede especificar cualquier número de instrucciones SQL separados por un punto y coma.</span><span class="sxs-lookup"><span data-stu-id="eae1c-165">You can specify any number of SQL statements separated by a semi-colon.</span></span><br /><br /> <span data-ttu-id="eae1c-166">**Importante:** para **TypedPolling**, debe especificar esta propiedad de enlace antes de generar los metadatos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-166">**Important:** For **TypedPolling**, you must specify this binding property before generating metadata.</span></span>|  
|<span data-ttu-id="eae1c-167">**PollWhileDataFound**</span><span class="sxs-lookup"><span data-stu-id="eae1c-167">**PollWhileDataFound**</span></span>|<span data-ttu-id="eae1c-168">Especifica si el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] pasa por alto el intervalo de sondeo y ejecuta continuamente la instrucción SQL especificada para el **PolledDataAvailableStatement** enlaza la propiedad, si los datos están disponibles en la tabla que se va a sondear.</span><span class="sxs-lookup"><span data-stu-id="eae1c-168">Specifies whether the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] ignores the polling interval and continuously executes the SQL statement specified for the **PolledDataAvailableStatement** binding property, if data is available in the table being polled.</span></span> <span data-ttu-id="eae1c-169">Si no hay datos disponibles en la tabla, el adaptador vuelve para ejecutar la instrucción SQL en el intervalo de sondeo especificado.</span><span class="sxs-lookup"><span data-stu-id="eae1c-169">If no data is available in the table, the adapter reverts to execute the SQL statement at the specified polling interval.</span></span> <span data-ttu-id="eae1c-170">Valor predeterminado es **false**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-170">Default is **false**.</span></span>|  
  
 <span data-ttu-id="eae1c-171">Para obtener una descripción más completa de estas propiedades, vea [obtener información sobre el adaptador de BizTalk para propiedades de enlace del adaptador de SQL Server](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-171">For a more complete description of these properties, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span> <span data-ttu-id="eae1c-172">Para obtener una descripción completa de cómo usar el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] para sondear SQL Server, seguir leyendo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-172">For a complete description of how to use the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to poll SQL Server, read further.</span></span>  
  
## <a name="how-to-receive-strongly-typed-data-change-messages-from-the-sql-server-database"></a><span data-ttu-id="eae1c-173">Cómo recibir mensajes de cambio de datos fuertemente tipado de la base de datos SQL Server</span><span class="sxs-lookup"><span data-stu-id="eae1c-173">How to Receive Strongly-typed Data-change Messages from the SQL Server Database</span></span>  
 <span data-ttu-id="eae1c-174">Realizar una operación en la base de datos de SQL Server mediante [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] con [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] conlleva las tareas de procedimientos descritas en [bloques de creación para desarrollar aplicaciones de BizTalk con el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-174">Performing an operation on the SQL Server database using [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves the procedural tasks described in [Building blocks to develop BizTalk applications with the SQL adapter](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md).</span></span> <span data-ttu-id="eae1c-175">Para configurar el adaptador para recibir mensajes de cambio de datos fuertemente tipados, estas tareas son:</span><span class="sxs-lookup"><span data-stu-id="eae1c-175">To configure the adapter to receive strongly-typed data-change messages, these tasks are:</span></span>  
  
1.  <span data-ttu-id="eae1c-176">Crear un proyecto de BizTalk y, a continuación, genere el esquema para el **TypedPolling** operación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-176">Create a BizTalk project, and then generate schema for the **TypedPolling** operation.</span></span> <span data-ttu-id="eae1c-177">Debe especificar el **InboundID** propiedad de conexión y la **PollingStatement** propiedad de enlace al generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-177">You must specify the **InboundID** connection property and the **PollingStatement** binding property while generating schema.</span></span> <span data-ttu-id="eae1c-178">Por ejemplo, un URI con el identificador de entrada especificado de conexión es similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="eae1c-178">For example, a connection URI with the inbound ID specified resembles the following:</span></span>  
  
    ```  
    mssql://mysqlserver//mysqldatabase?InboundID=mydatabaseId  
    ```  
  
2.  <span data-ttu-id="eae1c-179">Cree un mensaje en el proyecto de BizTalk para recibir mensajes de la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-179">Create a message in the BizTalk project for receiving messages from the SQL Server database.</span></span>  
  
3.  <span data-ttu-id="eae1c-180">Crear una orquestación para recibir mensajes de la base de datos de SQL Server y guardarlas en una carpeta.</span><span class="sxs-lookup"><span data-stu-id="eae1c-180">Create an orchestration to receive messages from the SQL Server database and to save them to a folder.</span></span>  
  
4.  <span data-ttu-id="eae1c-181">Agregue un esquema, por ejemplo, EmployeeDetails.xsd, en el proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eae1c-181">Add a schema, for example, EmployeeDetails.xsd, in the BizTalk project.</span></span>  
  
5.  <span data-ttu-id="eae1c-182">Agregue un asignador de BizTalk para asignar el esquema para el mensaje de sondeo al esquema EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="eae1c-182">Add a BizTalk Mapper to map the schema for the polling message to EmployeeDetails.xsd schema.</span></span>  
  
6.  <span data-ttu-id="eae1c-183">Compilar e implementar el proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eae1c-183">Build and deploy the BizTalk project.</span></span>  
  
7.  <span data-ttu-id="eae1c-184">Configurar la aplicación mediante la creación física de envío y puertos de recepción de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eae1c-184">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="eae1c-185">Para escenarios de entrada de sondeo siempre debe configurar un unidireccional WCF-Custom o puerto de recepción de WCF-SQL.</span><span class="sxs-lookup"><span data-stu-id="eae1c-185">For inbound polling scenarios you must always configure a one-way WCF-Custom or WCF-SQL receive port.</span></span> <span data-ttu-id="eae1c-186">Puertos de recepción bidireccional WCF-Custom o WCF-SQL no se admiten operaciones de entrada.</span><span class="sxs-lookup"><span data-stu-id="eae1c-186">Two-way WCF-Custom or WCF-SQL receive ports are not supported for inbound operations.</span></span>  
  
8.  <span data-ttu-id="eae1c-187">Inicie la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eae1c-187">Start the BizTalk application.</span></span>  
  
 <span data-ttu-id="eae1c-188">Este tema proporciona instrucciones para realizar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="eae1c-188">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="sample-based-on-this-topic"></a><span data-ttu-id="eae1c-189">Ejemplo basado en este tema</span><span class="sxs-lookup"><span data-stu-id="eae1c-189">Sample Based on This Topic</span></span>  
 <span data-ttu-id="eae1c-190">Un ejemplo, TypedPolling, basado en este tema se proporciona con el [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eae1c-190">A sample, TypedPolling, based on this topic is provided with the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span> <span data-ttu-id="eae1c-191">Para obtener más información, consulte [ejemplos del adaptador de SQL](../../adapters-and-accelerators/adapter-sql/samples-for-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-191">For more information, see [Samples for the SQL adapter](../../adapters-and-accelerators/adapter-sql/samples-for-the-sql-adapter.md).</span></span>  
  
## <a name="generate-schema"></a><span data-ttu-id="eae1c-192">Generar esquema</span><span class="sxs-lookup"><span data-stu-id="eae1c-192">Generate Schema</span></span>  
 <span data-ttu-id="eae1c-193">Debe generar el esquema para el **TypedPolling** operación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-193">You must generate the schema for the **TypedPolling** operation.</span></span> <span data-ttu-id="eae1c-194">Vea [recuperación de metadatos para operaciones de SQL Server en Visual Studio mediante el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md) para obtener más información acerca de cómo generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-194">See [Retrieving Metadata for SQL Server Operations in Visual Studio using the SQL adapter](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md) for more information about how to generate the schema.</span></span> <span data-ttu-id="eae1c-195">Realice las tareas siguientes al generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-195">Perform the following tasks when generating the schema.</span></span>  
  
1.  <span data-ttu-id="eae1c-196">Especifique el **InboundID** propiedad de conexión al especificar el URI de conexión.</span><span class="sxs-lookup"><span data-stu-id="eae1c-196">Specify the **InboundID** connection property while specifying the connection URI.</span></span> <span data-ttu-id="eae1c-197">En este tema, puede especificar el **InboundID** como **empleado**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-197">For this topic, you can specify the **InboundID** as **Employee**.</span></span> <span data-ttu-id="eae1c-198">Para obtener más información sobre el URI de conexión, consulte [crear el URI de conexión de SQL Server](../../adapters-and-accelerators/adapter-sql/create-the-sql-server-connection-uri.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-198">For more information about the connection URI, see [Create the SQL Server Connection URI](../../adapters-and-accelerators/adapter-sql/create-the-sql-server-connection-uri.md).</span></span>  
  
2.  <span data-ttu-id="eae1c-199">Especifique un valor para el **PollingStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="eae1c-199">Specify a value for the **PollingStatement** binding property.</span></span> <span data-ttu-id="eae1c-200">Para obtener más información acerca de esta propiedad de enlace, vea [obtener información sobre el adaptador de BizTalk para propiedades de enlace del adaptador de SQL Server](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-200">For more information about this binding property, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span>  
  
     <span data-ttu-id="eae1c-201">Para obtener instrucciones sobre cómo especificar las propiedades de enlace, consulte [configurar las propiedades de enlace para el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/configure-the-binding-properties-for-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-201">For instructions on how to specify binding properties, see [Configure the binding properties for the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-the-binding-properties-for-the-sql-adapter.md).</span></span>  
  
3.  <span data-ttu-id="eae1c-202">Seleccione el tipo de contrato **(operación de entrada) de servicio**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-202">Select the contract type as **Service (Inbound operation)**.</span></span>  
  
4.  <span data-ttu-id="eae1c-203">Genere el esquema para el **TypedPolling** operación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-203">Generate schema for the **TypedPolling** operation.</span></span>  
  
## <a name="define-messages-and-message-types"></a><span data-ttu-id="eae1c-204">Defina los mensajes y el mensaje tipos</span><span class="sxs-lookup"><span data-stu-id="eae1c-204">Define Messages and Message Types</span></span>  
 <span data-ttu-id="eae1c-205">El esquema que ha generado anteriormente describe los "tipos" necesarios para los mensajes en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-205">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="eae1c-206">Un mensaje suele ser una variable, el tipo para el que está definido por el esquema correspondiente.</span><span class="sxs-lookup"><span data-stu-id="eae1c-206">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="eae1c-207">Una vez que se genera el esquema, debe vincular a los mensajes desde la vista de orquestación de BizTalk del proyecto.</span><span class="sxs-lookup"><span data-stu-id="eae1c-207">Once the schema is generated, you must link it to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="eae1c-208">De este tema, debe crear un mensaje para recibir mensajes de la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-208">For this topic, you must create one message to receive messages from the SQL Server database.</span></span>  
  
 <span data-ttu-id="eae1c-209">Realice los pasos siguientes para crear mensajes y vincularlas a esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-209">Perform the following steps to create messages and link them to schema.</span></span>  
  
#### <a name="create-messages-and-link-to-schema"></a><span data-ttu-id="eae1c-210">Crear mensajes y vincular al esquema</span><span class="sxs-lookup"><span data-stu-id="eae1c-210">Create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="eae1c-211">Agregar una orquestación al proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eae1c-211">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="eae1c-212">En el Explorador de soluciones, haga clic en el nombre del proyecto de BizTalk, seleccione **agregar**y, a continuación, haga clic en **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-212">From the Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="eae1c-213">Escriba un nombre para la orquestación de BizTalk y, a continuación, haga clic en **agregar**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-213">Type a name for the BizTalk orchestration and then click **Add**.</span></span>  
  
2.  <span data-ttu-id="eae1c-214">Abra la ventana de vista de orquestación de BizTalk del proyecto, si no está ya abierto.</span><span class="sxs-lookup"><span data-stu-id="eae1c-214">Open the orchestration view window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="eae1c-215">Haga clic en **vista**, seleccione **otras ventanas**y, a continuación, haga clic en **Vista orquestación**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-215">Click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="eae1c-216">En el **Vista orquestación**, haga clic en **mensajes**y, a continuación, haga clic en **nuevo mensaje**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-216">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="eae1c-217">Haga clic en el mensaje recién creado y, a continuación, seleccione **ventana propiedades**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-217">Right-click the newly created message, and then select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="eae1c-218">En el **propiedades** panel para **Message_1**, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="eae1c-218">In the **Properties** pane for **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="eae1c-219">Use</span><span class="sxs-lookup"><span data-stu-id="eae1c-219">Use this</span></span>|<span data-ttu-id="eae1c-220">Para</span><span class="sxs-lookup"><span data-stu-id="eae1c-220">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="eae1c-221">Identificador</span><span class="sxs-lookup"><span data-stu-id="eae1c-221">Identifier</span></span>|<span data-ttu-id="eae1c-222">Tipo de **PollingMessage**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-222">Type **PollingMessage**.</span></span>|  
    |<span data-ttu-id="eae1c-223">Tipo de mensaje</span><span class="sxs-lookup"><span data-stu-id="eae1c-223">Message Type</span></span>|<span data-ttu-id="eae1c-224">En la lista desplegable, expanda **esquemas**y seleccione *Typed_Polling.TypedPolling_Employee.TypedPolling*, donde *Typed_Polling* es el nombre de su BizTalk proyecto.</span><span class="sxs-lookup"><span data-stu-id="eae1c-224">From the drop-down list, expand **Schemas**, and select *Typed_Polling.TypedPolling_Employee.TypedPolling*, where *Typed_Polling* is the name of your BizTalk project.</span></span> <span data-ttu-id="eae1c-225">*TypedPolling_Employee* es el esquema generado para el **TypedPolling** operación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-225">*TypedPolling_Employee* is the schema generated for the **TypedPolling** operation.</span></span>|  
  
## <a name="set-up-the-orchestration"></a><span data-ttu-id="eae1c-226">Configurar la orquestación</span><span class="sxs-lookup"><span data-stu-id="eae1c-226">Set up the Orchestration</span></span>  
 <span data-ttu-id="eae1c-227">Debe crear una orquestación de BizTalk para usar [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] para recibir mensajes de cambio de datos basado en sondeo de la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-227">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving polling-based data-change messages from the SQL Server database.</span></span> <span data-ttu-id="eae1c-228">En esta orquestación, el adaptador recibe el mensaje de sondeo para la instrucción de sondeo especificada.</span><span class="sxs-lookup"><span data-stu-id="eae1c-228">In this orchestration, the adapter receives the polling message for the specified polling statement.</span></span> <span data-ttu-id="eae1c-229">El asignador de BizTalk, a continuación, asigna el esquema de mensaje de sondeo al esquema EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="eae1c-229">The BizTalk Mapper then maps the polling message schema to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="eae1c-230">El mensaje asignado, a continuación, se guarda en una ubicación de archivo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-230">The mapped message is then saved to a FILE location.</span></span> <span data-ttu-id="eae1c-231">Contendría una orquestación típica para recibir el mensaje de sondeo fuertemente tipado desde una base de datos de SQL Server:</span><span class="sxs-lookup"><span data-stu-id="eae1c-231">A typical orchestration for receiving strongly-typed polling message from a SQL Server database would contain:</span></span>  
  
-   <span data-ttu-id="eae1c-232">Recepción y envío formas a fin de recibir mensajes de SQL Server y enviar a un puerto de archivo, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="eae1c-232">Receive and Send shapes to receive messages from SQL Server and send to a FILE port, respectively.</span></span>  
  
-   <span data-ttu-id="eae1c-233">Un unidireccional puerto de recepción para recibir mensajes de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-233">A one-way receive port to receive messages from SQL Server.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="eae1c-234">Para escenarios de entrada de sondeo siempre debe configurar un puerto de recepción unidireccional.</span><span class="sxs-lookup"><span data-stu-id="eae1c-234">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="eae1c-235">Bidireccional de recepción no se admiten los puertos para las operaciones de entrada.</span><span class="sxs-lookup"><span data-stu-id="eae1c-235">Two-way receive ports are not supported for inbound operations.</span></span>  
  
-   <span data-ttu-id="eae1c-236">Un puerto de envío unidireccional para enviar las respuestas del sondeo de una base de datos de SQL Server a una carpeta.</span><span class="sxs-lookup"><span data-stu-id="eae1c-236">A one-way send port to send polling responses from a SQL Server database to a folder.</span></span>  
  
-   <span data-ttu-id="eae1c-237">Asignador de BizTalk para asignar el esquema del mensaje de sondeo para cualquier otro esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-237">A BizTalk Mapper to map the schema of the polling message to any other schema.</span></span>  
  
 <span data-ttu-id="eae1c-238">Una orquestación de ejemplo es similar al siguiente.</span><span class="sxs-lookup"><span data-stu-id="eae1c-238">A sample orchestration resembles the following.</span></span>  
  
 <span data-ttu-id="eae1c-239">![Orquestación para fuertemente &#45; con tipo sondeo](../../adapters-and-accelerators/adapter-sql/media/1db03859-b7f8-470c-9158-2be4da0b45ae.gif "1db03859-b7f8-470c-9158-2be4da0b45ae")</span><span class="sxs-lookup"><span data-stu-id="eae1c-239">![Orchestration for strongly&#45;typed polling](../../adapters-and-accelerators/adapter-sql/media/1db03859-b7f8-470c-9158-2be4da0b45ae.gif "1db03859-b7f8-470c-9158-2be4da0b45ae")</span></span>  
  
### <a name="add-message-shapes"></a><span data-ttu-id="eae1c-240">Agregar formas de mensaje</span><span class="sxs-lookup"><span data-stu-id="eae1c-240">Add Message Shapes</span></span>  
 <span data-ttu-id="eae1c-241">Asegúrese de que especifique las siguientes propiedades para cada una de las formas de mensaje.</span><span class="sxs-lookup"><span data-stu-id="eae1c-241">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="eae1c-242">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación just-mencionado.</span><span class="sxs-lookup"><span data-stu-id="eae1c-242">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  
  
|<span data-ttu-id="eae1c-243">Forma</span><span class="sxs-lookup"><span data-stu-id="eae1c-243">Shape</span></span>|<span data-ttu-id="eae1c-244">Tipo de forma</span><span class="sxs-lookup"><span data-stu-id="eae1c-244">Shape Type</span></span>|<span data-ttu-id="eae1c-245">Propiedades</span><span class="sxs-lookup"><span data-stu-id="eae1c-245">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="eae1c-246">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="eae1c-246">ReceiveMessage</span></span>|<span data-ttu-id="eae1c-247">Receive</span><span class="sxs-lookup"><span data-stu-id="eae1c-247">Receive</span></span>|<span data-ttu-id="eae1c-248">-Establecer **nombre** a *ReceiveMessage*</span><span class="sxs-lookup"><span data-stu-id="eae1c-248">- Set **Name** to *ReceiveMessage*</span></span><br /><br /> <span data-ttu-id="eae1c-249">-Establecer **activar** a *es True*</span><span class="sxs-lookup"><span data-stu-id="eae1c-249">- Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="eae1c-250">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="eae1c-250">SaveMessage</span></span>|<span data-ttu-id="eae1c-251">Send</span><span class="sxs-lookup"><span data-stu-id="eae1c-251">Send</span></span>|<span data-ttu-id="eae1c-252">-Establecer **nombre** a *SaveMessage*</span><span class="sxs-lookup"><span data-stu-id="eae1c-252">- Set **Name** to *SaveMessage*</span></span>|  
  
### <a name="add-ports"></a><span data-ttu-id="eae1c-253">Agregar puertos</span><span class="sxs-lookup"><span data-stu-id="eae1c-253">Add Ports</span></span>  
 <span data-ttu-id="eae1c-254">Asegúrese de que especifique las siguientes propiedades para cada uno de los puertos lógicos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-254">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="eae1c-255">Los nombres que aparecen en la columna de puerto son los nombres de los puertos, como se muestra en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-255">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="eae1c-256">Puerto</span><span class="sxs-lookup"><span data-stu-id="eae1c-256">Port</span></span>|<span data-ttu-id="eae1c-257">Propiedades</span><span class="sxs-lookup"><span data-stu-id="eae1c-257">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="eae1c-258">SQLReceivePort</span><span class="sxs-lookup"><span data-stu-id="eae1c-258">SQLReceivePort</span></span>|<span data-ttu-id="eae1c-259">-Establecer **identificador** a *SQLReceivePort*</span><span class="sxs-lookup"><span data-stu-id="eae1c-259">- Set **Identifier** to *SQLReceivePort*</span></span><br /><br /> <span data-ttu-id="eae1c-260">-Establecer **tipo** a *SQLReceivePortType*</span><span class="sxs-lookup"><span data-stu-id="eae1c-260">- Set **Type** to *SQLReceivePortType*</span></span><br /><br /> <span data-ttu-id="eae1c-261">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="eae1c-261">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="eae1c-262">-Establecer **dirección de comunicación** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="eae1c-262">- Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="eae1c-263">SaveMessagePort</span><span class="sxs-lookup"><span data-stu-id="eae1c-263">SaveMessagePort</span></span>|<span data-ttu-id="eae1c-264">-Establecer **identificador** a *SaveMessagePort*</span><span class="sxs-lookup"><span data-stu-id="eae1c-264">- Set **Identifier** to *SaveMessagePort*</span></span><br /><br /> <span data-ttu-id="eae1c-265">-Establecer **tipo** a *SaveMessagePortType*</span><span class="sxs-lookup"><span data-stu-id="eae1c-265">- Set **Type** to *SaveMessagePortType*</span></span><br /><br /> <span data-ttu-id="eae1c-266">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="eae1c-266">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="eae1c-267">-Establecer **dirección de comunicación** a *enviar*</span><span class="sxs-lookup"><span data-stu-id="eae1c-267">- Set **Communication Direction** to *Send*</span></span>|  
  
### <a name="enter-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="eae1c-268">Escriba mensajes en las formas Acción y conectar a los puertos</span><span class="sxs-lookup"><span data-stu-id="eae1c-268">Enter Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="eae1c-269">En la tabla siguiente especifica las propiedades y sus valores que se deben establecer para especificar los mensajes para las formas de acción y vincular los mensajes a los puertos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-269">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="eae1c-270">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación que se ha mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="eae1c-270">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  
  
|<span data-ttu-id="eae1c-271">Forma</span><span class="sxs-lookup"><span data-stu-id="eae1c-271">Shape</span></span>|<span data-ttu-id="eae1c-272">Propiedades</span><span class="sxs-lookup"><span data-stu-id="eae1c-272">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="eae1c-273">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="eae1c-273">ReceiveMessage</span></span>|<span data-ttu-id="eae1c-274">Establecer **mensaje** a *PollingMessage*</span><span class="sxs-lookup"><span data-stu-id="eae1c-274">Set **Message** to *PollingMessage*</span></span><br /><br /> <span data-ttu-id="eae1c-275">Establecer **operación** a *SQLReceivePort.TypedPolling.Request*</span><span class="sxs-lookup"><span data-stu-id="eae1c-275">Set **Operation** to *SQLReceivePort.TypedPolling.Request*</span></span>|  
|<span data-ttu-id="eae1c-276">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="eae1c-276">SaveMessage</span></span>|<span data-ttu-id="eae1c-277">Establecer **mensaje** a *PollingMessage*</span><span class="sxs-lookup"><span data-stu-id="eae1c-277">Set **Message** to *PollingMessage*</span></span><br /><br /> <span data-ttu-id="eae1c-278">Establecer **operación** a *SaveMessagePort.TypedPolling.Request*</span><span class="sxs-lookup"><span data-stu-id="eae1c-278">Set **Operation** to *SaveMessagePort.TypedPolling.Request*</span></span>|  
  
 <span data-ttu-id="eae1c-279">Después de especificar estas propiedades, se conectan los puertos y formas de mensaje.</span><span class="sxs-lookup"><span data-stu-id="eae1c-279">After you have specified these properties, the message shapes and ports are connected.</span></span>  
  
### <a name="add-a-biztalk-mapper"></a><span data-ttu-id="eae1c-280">Agregar a un asignador de BizTalk</span><span class="sxs-lookup"><span data-stu-id="eae1c-280">Add a BizTalk Mapper</span></span>  
 <span data-ttu-id="eae1c-281">Debe agregar al asignador de BizTalk a la orquestación para asignar el esquema de mensaje de sondeo para el esquema de EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="eae1c-281">You must add a BizTalk Mapper to the orchestration to map the polling message schema to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="eae1c-282">En el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración, se usará este asignador para asignar el esquema para el mensaje de sondeo para el esquema de EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="eae1c-282">In the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console, you will use this Mapper to map the schema for the polling message to the EmployeeDetails.xsd schema.</span></span>  
  

1.  <span data-ttu-id="eae1c-283">Agregue a un asignador de BizTalk al proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eae1c-283">Add a BizTalk Mapper to the BizTalk project.</span></span> <span data-ttu-id="eae1c-284">Haga clic en el proyecto de BizTalk, seleccione **agregar**y haga clic en **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-284">Right-click the BizTalk project, point to **Add**, and click **New Item**.</span></span>  
  
     <span data-ttu-id="eae1c-285">En el **Agregar nuevo elemento** cuadro de diálogo, en el panel izquierdo, seleccione **archivos de asignación**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-285">In the **Add New Item** dialog box, from the left pane, select **Map Files**.</span></span> <span data-ttu-id="eae1c-286">En el panel derecho, seleccione **mapa**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-286">From the right pane, select **Map**.</span></span> <span data-ttu-id="eae1c-287">Especifique un nombre para la asignación, como `MapSchema.btm`.</span><span class="sxs-lookup"><span data-stu-id="eae1c-287">Specify a name for the map, such as `MapSchema.btm`.</span></span> <span data-ttu-id="eae1c-288">Haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-288">Click **Add**.</span></span>  
  
2.  <span data-ttu-id="eae1c-289">En el panel de esquema de origen, haga clic en **Abrir esquema de origen**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-289">From the Source Schema pane, click **Open Source Schema**.</span></span>  
  
3.  <span data-ttu-id="eae1c-290">En el **selector de tipos de BizTalk** diálogo cuadro, expanda el nombre del proyecto, **esquemas**y seleccione el esquema para el mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-290">In the **BizTalk Type Picker** dialog box, expand the project name, expand **Schemas**, and select the schema for the polling message.</span></span> <span data-ttu-id="eae1c-291">En este tema, seleccione Typed_Polling.TypedPolling_Employee.</span><span class="sxs-lookup"><span data-stu-id="eae1c-291">For this topic, select Typed_Polling.TypedPolling_Employee.</span></span> <span data-ttu-id="eae1c-292">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-292">Click **OK**.</span></span>  
  
4.  <span data-ttu-id="eae1c-293">En el **nodo raíz para esquema de origen** cuadro de diálogo, seleccione TypedPolling y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-293">In the **Root Node for Source Schema** dialog box, select TypedPolling and click **OK**.</span></span>  
  
5.  <span data-ttu-id="eae1c-294">En el panel de esquema de destino, haga clic en **Abrir esquema de destino**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-294">From the Destination Schema pane, click **Open Destination Schema**.</span></span>  
  
6.  <span data-ttu-id="eae1c-295">En el **selector de tipos de BizTalk** diálogo cuadro, expanda el nombre del proyecto, **esquemas**y seleccione el esquema para EmployeeDetails.</span><span class="sxs-lookup"><span data-stu-id="eae1c-295">In the **BizTalk Type Picker** dialog box, expand the project name, expand **Schemas**, and select the schema for EmployeeDetails.</span></span> <span data-ttu-id="eae1c-296">En este tema, seleccione Typed_Polling.EmployeeDetails.</span><span class="sxs-lookup"><span data-stu-id="eae1c-296">For this topic, select Typed_Polling.EmployeeDetails.</span></span> <span data-ttu-id="eae1c-297">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-297">Click **OK**.</span></span>  
  
7.  <span data-ttu-id="eae1c-298">En el esquema de origen del mensaje de sondeo, expanda el nodo TypedPollingResultSet0 y los nodos siguientes para ver los elementos que se devuelven en el mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-298">In the source schema of polling message, expand the TypedPollingResultSet0 node and the subsequent nodes to see the elements that are returned in the polling message.</span></span> <span data-ttu-id="eae1c-299">En el esquema de destino, expanda el nodo de EmployeeDetails para ver los distintos elementos en el esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-299">In the destination schema, expand the EmployeeDetails node to see the different elements in the schema.</span></span> <span data-ttu-id="eae1c-300">De este tema, debe asignar los esquemas de tal manera que:</span><span class="sxs-lookup"><span data-stu-id="eae1c-300">For this topic, you must map the schemas in such a way that:</span></span>  
  
    -   <span data-ttu-id="eae1c-301">**Id_Empleado** y **nombre** en el origen de esquema debe asignarse a **Employee_Info** en el esquema de destino.</span><span class="sxs-lookup"><span data-stu-id="eae1c-301">**Employee_ID** and **Name** in the source schema must map to **Employee_Info** in the destination schema.</span></span>  
  
    -   <span data-ttu-id="eae1c-302">**Designación** y **Job_Description** en el origen de esquema debe asignarse a **Employee_Profile** en el esquema de destino.</span><span class="sxs-lookup"><span data-stu-id="eae1c-302">**Designation** and **Job_Description** in the source schema must map to **Employee_Profile** in the destination schema.</span></span>  
  
    -   <span data-ttu-id="eae1c-303">**Clasificación** y **salario** en el origen de esquema debe asignarse a **Employee_Performance** en el esquema de destino.</span><span class="sxs-lookup"><span data-stu-id="eae1c-303">**Rating** and **Salary** in the source schema must map to **Employee_Performance** in the destination schema.</span></span>  
  
     <span data-ttu-id="eae1c-304">Para combinar más de un nodo en el esquema de origen y asignarlos a un único nodo del esquema de destino, debe utilizar el **functoid concatenación de cadenas**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-304">To combine more than one node in source schema and map them to a single node in the destination schema, you must use the **String Concatenate functoid**.</span></span> <span data-ttu-id="eae1c-305">Detalles [!INCLUDE[ui-guidance-developers-reference](../../includes/ui-guidance-developers-reference.md)].</span><span class="sxs-lookup"><span data-stu-id="eae1c-305">Details [!INCLUDE[ui-guidance-developers-reference](../../includes/ui-guidance-developers-reference.md)].</span></span>
  
8.  <span data-ttu-id="eae1c-306">Para usar el functoid de concatenación de cadenas:</span><span class="sxs-lookup"><span data-stu-id="eae1c-306">To use the String Concatenate functoid:</span></span>  
  
    1.  <span data-ttu-id="eae1c-307">Desde el **cuadro de herramientas**, arrastre el **concatenación de cadenas** functoid y colóquela en la cuadrícula del asignador.</span><span class="sxs-lookup"><span data-stu-id="eae1c-307">From the **Toolbox**, drag the **String Concatenate** functoid and drop it on the Mapper grid.</span></span>  
  
    2.  <span data-ttu-id="eae1c-308">Conectar el **Id_Empleado** y **nombre** elementos del esquema de origen hasta el functoid.</span><span class="sxs-lookup"><span data-stu-id="eae1c-308">Connect the **Employee_ID** and **Name** elements in the source schema to the functoid.</span></span>  
  
    3.  <span data-ttu-id="eae1c-309">Conecte el functoid a la **Employee_Info** elemento del esquema de destino.</span><span class="sxs-lookup"><span data-stu-id="eae1c-309">Connect the functoid to the **Employee_Info** element in the destination schema.</span></span>  
  
    4.  <span data-ttu-id="eae1c-310">Repita estos pasos para todos los elementos que desea asignar.</span><span class="sxs-lookup"><span data-stu-id="eae1c-310">Repeat these steps for all the elements that you want to map.</span></span> <span data-ttu-id="eae1c-311">Un mapa terminado será similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="eae1c-311">A finished map will resemble the following:</span></span>  
  
         <span data-ttu-id="eae1c-312">![Asignar el esquema de sondeo fuertemente tipado](../../adapters-and-accelerators/adapter-sql/media/0a4a2608-3b84-4bac-9a16-512cf42c7525.gif "0a4a2608-3b84-4bac-9a16-512cf42c7525")</span><span class="sxs-lookup"><span data-stu-id="eae1c-312">![Map the strongly-typed polling schema](../../adapters-and-accelerators/adapter-sql/media/0a4a2608-3b84-4bac-9a16-512cf42c7525.gif "0a4a2608-3b84-4bac-9a16-512cf42c7525")</span></span>  
  
    5.  <span data-ttu-id="eae1c-313">Guarde el mapa.</span><span class="sxs-lookup"><span data-stu-id="eae1c-313">Save the map.</span></span>  
  
 <span data-ttu-id="eae1c-314">La orquestación está completa después de crear al asignador.</span><span class="sxs-lookup"><span data-stu-id="eae1c-314">The orchestration is complete after you create the Mapper.</span></span> <span data-ttu-id="eae1c-315">Ahora debe compilar la solución de BizTalk e implementarlo en un [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eae1c-315">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="eae1c-316">Para obtener más información, consulte [compilar y ejecutar orquestaciones](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-316">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>
  
## <a name="configure-the-biztalk-application"></a><span data-ttu-id="eae1c-317">Configurar la aplicación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="eae1c-317">Configure the BizTalk Application</span></span>  
 <span data-ttu-id="eae1c-318">Después de haber implementado el proyecto de BizTalk, aparece la orquestación que creó anteriormente en el **orquestaciones** panel de la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-318">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="eae1c-319">Debe usar la consola de administración de BizTalk Server para configurar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-319">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="eae1c-320">Para obtener un tutorial, vea [Tutorial: implementar una aplicación básica de BizTalk](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-320">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>
  
 <span data-ttu-id="eae1c-321">Configuración de una aplicación implica:</span><span class="sxs-lookup"><span data-stu-id="eae1c-321">Configuring an application involves:</span></span>  
  
-   <span data-ttu-id="eae1c-322">Selección de un host de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-322">Selecting a host for the application.</span></span>  
  
-   <span data-ttu-id="eae1c-323">Asignación de los puertos que ha creado en la orquestación con puertos físicos en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-323">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="eae1c-324">Para que esta orquestación debe:</span><span class="sxs-lookup"><span data-stu-id="eae1c-324">For this orchestration you must:</span></span>  
  
    -   <span data-ttu-id="eae1c-325">Definir un WCF-Custom físico o puerto de recepción unidireccionales de WCF-SQL.</span><span class="sxs-lookup"><span data-stu-id="eae1c-325">Define a physical WCF-Custom or WCF-SQL one-way receive port.</span></span> <span data-ttu-id="eae1c-326">Este puerto sondea la base de datos de SQL Server con la instrucción de sondeo que especifique para el puerto.</span><span class="sxs-lookup"><span data-stu-id="eae1c-326">This port polls the SQL Server database with the polling statement you specify for the port.</span></span> <span data-ttu-id="eae1c-327">Para obtener información sobre cómo crear puertos, consulte [configurar manualmente un enlace de puerto físico para el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-327">For information about how to create ports, see [Manually configure a physical port binding to the SQL adapter](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span></span> <span data-ttu-id="eae1c-328">Asegúrese de que especificar las siguientes propiedades de enlace para el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="eae1c-328">Make sure you specify the following binding properties for the receive port.</span></span>  
  
        > [!IMPORTANT]
        >  <span data-ttu-id="eae1c-329">Asegúrese de especificar el **InboundID** como parte del URI de conexión.</span><span class="sxs-lookup"><span data-stu-id="eae1c-329">Make sure you specify the **InboundID** as part of the connection URI.</span></span> <span data-ttu-id="eae1c-330">El identificador de entrada debe ser el mismo que especificó al generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="eae1c-330">The inbound ID must be the same you specified while generating the schema.</span></span>  
  
        > [!IMPORTANT]
        >  <span data-ttu-id="eae1c-331">No es necesario realizar este paso si especifica las propiedades de enlace en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="eae1c-331">You do not need to perform this step if you specified the binding properties at design-time.</span></span> <span data-ttu-id="eae1c-332">En tal caso, puede crear un WCF-custom o WCF-SQL puerto de recepción, en el conjunto de propiedades de enlace necesaria, importando el archivo de enlace creado por la [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eae1c-332">In such a case, you can create a WCF-custom or WCF-SQL receive port, with the required binding properties set, by importing the binding file created by the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="eae1c-333">Para obtener más información, consulte [configurar un enlace de puerto físico mediante un archivo de enlace de puerto para utilizar el adaptador SQL](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-333">For more information see [Configure a physical port binding using a port binding file to use the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span></span>  
  
        |<span data-ttu-id="eae1c-334">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="eae1c-334">Binding Property</span></span>|<span data-ttu-id="eae1c-335">Valor</span><span class="sxs-lookup"><span data-stu-id="eae1c-335">Value</span></span>|  
        |----------------------|-----------|  
        |<span data-ttu-id="eae1c-336">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="eae1c-336">**InboundOperationType**</span></span>|<span data-ttu-id="eae1c-337">Asegúrese de que se establece en **TypedPolling**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-337">Make sure you set this to **TypedPolling**.</span></span>|  
        |<span data-ttu-id="eae1c-338">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="eae1c-338">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="eae1c-339">Asegúrese de que especificar la misma instrucción SQL que especificó al generar el esquema, que es:</span><span class="sxs-lookup"><span data-stu-id="eae1c-339">Make sure you specify the same SQL statement you specified while generating the schema, which is:</span></span><br /><br /> `SELECT COUNT(*) FROM Employee`|  
        |<span data-ttu-id="eae1c-340">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="eae1c-340">**PollingStatement**</span></span>|<span data-ttu-id="eae1c-341">Asegúrese de que proporcionar la misma instrucción de sondeo que especificó al generar el esquema, que es:</span><span class="sxs-lookup"><span data-stu-id="eae1c-341">Make sure you provide the same polling statement you specified while generating the schema, which is:</span></span><br /><br /> `SELECT * FROM Employee;EXEC MOVE_EMP_DATA;EXEC ADD_EMP_DETAILS John, Tester, 100000`|  
  
         <span data-ttu-id="eae1c-342">Para obtener más información acerca de las propiedades de enlace diferente, consulte [obtener información sobre el adaptador de BizTalk para propiedades de enlace del adaptador de SQL Server](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-342">For more information about the different binding properties, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="eae1c-343">Se recomienda configurar el nivel de aislamiento de transacción y el tiempo de espera de transacciones al realizar operaciones de entrada mediante el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eae1c-343">We recommend configuring the transaction isolation level and the transaction timeout while performing inbound operations using the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span> <span data-ttu-id="eae1c-344">Puede hacerlo agregando el servicio de puerto de recepción de comportamiento al configurar el WCF-Custom o WCF-SQL.</span><span class="sxs-lookup"><span data-stu-id="eae1c-344">You can do so by adding the service behavior while configuring the WCF-Custom or WCF-SQL receive port.</span></span> <span data-ttu-id="eae1c-345">Para obtener instrucciones sobre cómo agregar el comportamiento del servicio, consulte [configurar el nivel de aislamiento de transacción y el tiempo de espera de transacción con SQL](../../adapters-and-accelerators/adapter-sql/configure-transaction-isolation-level-and-transaction-timeout-with-sql.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-345">For instruction on how to add the service behavior, see [Configure Transaction Isolation Level and Transaction Timeout with SQL](../../adapters-and-accelerators/adapter-sql/configure-transaction-isolation-level-and-transaction-timeout-with-sql.md).</span></span>  
  
    -   <span data-ttu-id="eae1c-346">Definir un puerto de envío de archivo donde el adaptador quitará el mensaje.</span><span class="sxs-lookup"><span data-stu-id="eae1c-346">Define a FILE send port where the adapter will drop the message.</span></span> <span data-ttu-id="eae1c-347">Este puerto de envío utiliza la asignación creada en la orquestación para asignar el mensaje de sondeo a un mensaje que se ajuste al esquema EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="eae1c-347">This send port will also use the map you created in the orchestration to map the polling message to a message conforming to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="eae1c-348">Realice los pasos siguientes para configurar el puerto de envío de archivo para utilizar la asignación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-348">Perform the following steps to configure the FILE send port to use the map.</span></span>  
  
        1.  <span data-ttu-id="eae1c-349">Cree un puerto de envío de archivos.</span><span class="sxs-lookup"><span data-stu-id="eae1c-349">Create a FILE send port.</span></span>  
  
        2.  <span data-ttu-id="eae1c-350">En el panel izquierdo del cuadro de diálogo de propiedades de puerto de envío, haga clic en **asignaciones de salida**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-350">From the left pane of the send port properties dialog box, click **Outbound Maps**.</span></span> <span data-ttu-id="eae1c-351">En el panel derecho, haga clic en el campo en el **mapa** columna y en la lista desplegable, seleccione **MapSchema**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-351">From the right pane, click the field under the **Map** column, and from the drop-down select **MapSchema**.</span></span> <span data-ttu-id="eae1c-352">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="eae1c-352">Click **OK**.</span></span>  
  
             <span data-ttu-id="eae1c-353">![Configurar asignación de salida en el puerto de envío de archivo](../../adapters-and-accelerators/adapter-sql/media/831c9aee-fd97-466f-9270-3b04dbccd9fe.gif "831c9aee-fd97-466f-9270-3b04dbccd9fe")</span><span class="sxs-lookup"><span data-stu-id="eae1c-353">![Configure outbound map on the FILE send port](../../adapters-and-accelerators/adapter-sql/media/831c9aee-fd97-466f-9270-3b04dbccd9fe.gif "831c9aee-fd97-466f-9270-3b04dbccd9fe")</span></span>  
  
## <a name="start-the-application"></a><span data-ttu-id="eae1c-354">Iniciar la aplicación</span><span class="sxs-lookup"><span data-stu-id="eae1c-354">Start the Application</span></span>  
 <span data-ttu-id="eae1c-355">Debe iniciar la aplicación de BizTalk para recibir mensajes de la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eae1c-355">You must start the BizTalk application for receiving messages from the SQL Server database.</span></span> <span data-ttu-id="eae1c-356">Para obtener instrucciones acerca de cómo iniciar una aplicación de BizTalk, consulte [cómo iniciar una orquestación](../../core/how-to-start-an-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-356">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>
  
 <span data-ttu-id="eae1c-357">En esta fase, asegúrese de que:</span><span class="sxs-lookup"><span data-stu-id="eae1c-357">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="eae1c-358">El WCF-Custom o WCF-SQL unidireccional puerto de recepción, que sondea la base de datos de SQL Server mediante las instrucciones especificadas para el **PollingStatement** enlaza la propiedad, se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="eae1c-358">The WCF-Custom or WCF-SQL one-way receive port, which polls the SQL Server database using the statements specified for the **PollingStatement** binding property, is running.</span></span>  
  
-   <span data-ttu-id="eae1c-359">El puerto de envío de archivo que se asignará el mensaje de sondeo para el esquema de EmployeeDetails, se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="eae1c-359">The FILE send port, which will map the polling message to the EmployeeDetails schema, is running.</span></span>  
  
-   <span data-ttu-id="eae1c-360">La orquestación de BizTalk para la operación se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="eae1c-360">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="execute-the-operation"></a><span data-ttu-id="eae1c-361">Ejecutar la operación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-361">Execute the Operation</span></span>  
 <span data-ttu-id="eae1c-362">Después de ejecutar la aplicación, el siguiente conjunto de acciones tienen lugar, en la misma secuencia:</span><span class="sxs-lookup"><span data-stu-id="eae1c-362">After you run the application, the following set of actions take place, in the same sequence:</span></span>  
  
-   <span data-ttu-id="eae1c-363">El adaptador se ejecuta el **PolledDataAvailableStatement** en el empleado de la tabla y determina que la tabla tiene registros de sondeo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-363">The adapter executes the **PolledDataAvailableStatement** on the Employee table and determines that the table has records for polling.</span></span>  
  
-   <span data-ttu-id="eae1c-364">El adaptador ejecuta la instrucción de sondeo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-364">The adapter executes the polling statement.</span></span> <span data-ttu-id="eae1c-365">Dado que la instrucción de sondeo consta de una instrucción SELECT y procedimientos almacenados, el adaptador ejecutará todas las instrucciones uno detrás de otra.</span><span class="sxs-lookup"><span data-stu-id="eae1c-365">Because the polling statement consists of a SELECT statement and stored procedures, the adapter will execute all the statements one after the other.</span></span>  
  
    -   <span data-ttu-id="eae1c-366">El adaptador ejecuta primero la instrucción SELECT que devuelve todos los registros de la tabla Employee.</span><span class="sxs-lookup"><span data-stu-id="eae1c-366">The adapter first executes the SELECT statement that returns all the records in the Employee table.</span></span>  
  
    -   <span data-ttu-id="eae1c-367">El adaptador, a continuación, ejecuta el procedimiento MOVE_EMP_DATA almacenados que mueve todos los datos de la tabla de empleados a la tabla HistorialEmpleados.</span><span class="sxs-lookup"><span data-stu-id="eae1c-367">The adapter then executes the MOVE_EMP_DATA stored procedure that moves all data from the Employee table to the EmployeeHistory table.</span></span> <span data-ttu-id="eae1c-368">Este procedimiento almacenado no devuelve ningún valor.</span><span class="sxs-lookup"><span data-stu-id="eae1c-368">This stored procedure does not return any value.</span></span>  
  
    -   <span data-ttu-id="eae1c-369">El adaptador, a continuación, ejecuta el procedimiento ADD_EMP_DETAILS almacenados que agrega un registro a la tabla de empleados.</span><span class="sxs-lookup"><span data-stu-id="eae1c-369">The adapter then executes the ADD_EMP_DETAILS stored procedure that adds one record to the Employee table.</span></span> <span data-ttu-id="eae1c-370">Este procedimiento almacenado devuelve el identificador de empleado para el registro insertado.</span><span class="sxs-lookup"><span data-stu-id="eae1c-370">This stored procedure returns the Employee ID for the inserted record.</span></span>  
  
     <span data-ttu-id="eae1c-371">Cuando se ejecuta la instrucción de sondeo y se recibe el mensaje, el mensaje de sondeo obtenga el envío al puerto de envío de archivo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-371">After the polling statement is executed and the message is received, the polling message gets send to the FILE send port.</span></span> <span data-ttu-id="eae1c-372">Aquí, la asignación de salida (**MapSchema**) configurada en las asignaciones de puerto de envío el mensaje de sondeo para el esquema de EmployeeDetails y coloca el mensaje en una ubicación de archivo.</span><span class="sxs-lookup"><span data-stu-id="eae1c-372">Here, the outbound map (**MapSchema**)configured on the send port maps the polling message to the EmployeeDetails schema and drops the message to a file location.</span></span> <span data-ttu-id="eae1c-373">El mensaje es similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="eae1c-373">The message resembles the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <EmployeeDetails xmlns="http://Typed_Polling.EmployeeDetails">  
      <Employee_Info>10751John</Employee_Info>   
      <Employee_Profile>TesterManagesTesting</Employee_Profile>   
      <Employee_Performance>100000</EmployeePerformance>  
    </EmployeeDetails>  
    ```  
  
     <span data-ttu-id="eae1c-374">En la respuesta anterior, puede observar que el elemento Employee_Info contiene una combinación de Id. de empleado (10751) y el nombre de empleado (Juan).</span><span class="sxs-lookup"><span data-stu-id="eae1c-374">In the preceding response, you can notice that the Employee_Info element contains a combination of employee ID (10751) and employee name (John).</span></span> <span data-ttu-id="eae1c-375">Los demás elementos también contienen combinaciones según se ha asignado en el asignador que creó como parte de la orquestación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-375">The other elements also contain combinations as mapped in the Mapper you created as part of the orchestration.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="eae1c-376">El [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] continuarán sondea hasta que se deshabilite explícitamente el puerto de recepción desde el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="eae1c-376">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] will continue to poll until you explicitly disable the receive port from the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="eae1c-377">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="eae1c-377">Best Practices</span></span>  
 <span data-ttu-id="eae1c-378">Una vez haya implementado y configurado el proyecto de BizTalk, puede exportar la configuración en un archivo XML denominado archivo de enlace.</span><span class="sxs-lookup"><span data-stu-id="eae1c-378">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the binding file.</span></span> <span data-ttu-id="eae1c-379">Una vez que se genera un archivo de enlace, puede importar los valores de configuración desde el archivo, por lo que no es necesario crear los puertos de envío y puertos de recepción para la misma orquestación.</span><span class="sxs-lookup"><span data-stu-id="eae1c-379">Once you generate a binding file, you can import the configuration settings from the file, so that you do not need to create the send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="eae1c-380">Para obtener más información acerca de los archivos de enlace, vea [reutilizar enlaces del adaptador](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="eae1c-380">For more information about binding files, see [Reuse adapter bindings](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="eae1c-381">Vea también</span><span class="sxs-lookup"><span data-stu-id="eae1c-381">See Also</span></span>  
 [<span data-ttu-id="eae1c-382">Sondear el servidor SQL mediante el adaptador SQL con BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="eae1c-382">Poll SQL Server by Using the SQL Adapter with BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-sql/poll-sql-server-using-the-sql-adapter-with-biztalk-server.md)