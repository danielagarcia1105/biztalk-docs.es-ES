---
title: Ejecutar operaciones compuestas en SQL Server con BizTalk Server | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 86fd2aa1-20c7-4b58-9f35-83ba0c959cf1
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 62605fef85727311b2a2396463c2b43b690e86e2
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37004333"
---
# <a name="run-composite-operations-on-sql-server-using-biztalk-server"></a><span data-ttu-id="77d29-102">Ejecutar operaciones compuestas en SQL Server con BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="77d29-102">Run composite operations on SQL Server using BizTalk Server</span></span>
<span data-ttu-id="77d29-103">El [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] permite a los clientes del adaptador realizar operaciones compuestas en la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-103">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] enables adapter clients to perform composite operations on the SQL Server database.</span></span> <span data-ttu-id="77d29-104">Puede incluir una operación compuesta:</span><span class="sxs-lookup"><span data-stu-id="77d29-104">A composite operation can include:</span></span>  
  
- <span data-ttu-id="77d29-105">Insertar, actualizar y eliminar operaciones.</span><span class="sxs-lookup"><span data-stu-id="77d29-105">Insert, Update, and Delete operations.</span></span> <span data-ttu-id="77d29-106">No se admite una operación de selección como parte de una operación compuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-106">A Select operation is not supported as part of a composite operation.</span></span>  
  
- <span data-ttu-id="77d29-107">Ejecutado como operaciones de procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="77d29-107">Stored procedures executed as operations.</span></span>  
  
  <span data-ttu-id="77d29-108">Una operación compuesta solo puede tener cualquier número de estas operaciones, en cualquier orden.</span><span class="sxs-lookup"><span data-stu-id="77d29-108">A single composite operation can have any number of these operations, in any order.</span></span> <span data-ttu-id="77d29-109">Por ejemplo, puede tener dos operaciones de inserción seguidas de una operación de eliminación y, finalmente, la ejecución de un procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="77d29-109">For example, you can have two Insert operations followed by a Delete operation, and finally a stored procedure execution.</span></span> <span data-ttu-id="77d29-110">Además, puede tener diferentes operaciones destinadas a la base de datos diferentes tablas o vistas.</span><span class="sxs-lookup"><span data-stu-id="77d29-110">Also, you can have different operations targeting different database tables or views.</span></span> <span data-ttu-id="77d29-111">Para obtener más información acerca de cómo el adaptador admite operaciones compuestas, vea [ejecutar operaciones compuestas en SQL Server mediante el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/run-composite-operations-in-sql-server-using-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-111">For more information about how the adapter supports composite operations, see [Run composite operations in SQL Server using the SQL adapter](../../adapters-and-accelerators/adapter-sql/run-composite-operations-in-sql-server-using-the-sql-adapter.md).</span></span> <span data-ttu-id="77d29-112">Para obtener información acerca de la estructura del mensaje SOAP para operaciones compuestas, vea [esquemas de mensaje para operaciones compuestas](../../adapters-and-accelerators/adapter-sql/message-schemas-for-composite-operations.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-112">For information about the structure of the SOAP message for composite operations, see [Message Schemas for Composite Operations](../../adapters-and-accelerators/adapter-sql/message-schemas-for-composite-operations.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="77d29-113">Si va a realizar la operación en tablas con columnas de tipos definidos por el usuario, asegúrese de que se hace referencia a [operaciones en tablas y vistas con tipos definidos por el usuario mediante el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/operations-on-tables-and-views-with-user-defined-types-using-the-sql-adapter.md) antes de empezar a desarrollar su aplicación.</span><span class="sxs-lookup"><span data-stu-id="77d29-113">If you are performing operation on tables that have columns of user-defined types, make sure you refer to [Operations on Tables and Views with User-Defined Types using the SQL adapter](../../adapters-and-accelerators/adapter-sql/operations-on-tables-and-views-with-user-defined-types-using-the-sql-adapter.md) before you start developing your application.</span></span>  
  
## <a name="how-to-perform-composite-operations-on-sql-server"></a><span data-ttu-id="77d29-114">Cómo realizar operaciones compuestas en SQL Server</span><span class="sxs-lookup"><span data-stu-id="77d29-114">How to Perform Composite Operations on SQL Server</span></span>  
 <span data-ttu-id="77d29-115">Realizar una operación en SQL Server mediante el [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] con [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] implica tareas de procedimientos se describe en [bloques de creación para desarrollar aplicaciones de BizTalk con el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-115">Performing an operation on SQL Server using the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves procedural tasks described in [Building blocks to develop BizTalk applications with the SQL adapter](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md).</span></span> <span data-ttu-id="77d29-116">Para llevar a cabo operaciones compuestas en la base de datos de SQL Server, estas tareas son:</span><span class="sxs-lookup"><span data-stu-id="77d29-116">To perform composite operations on the SQL Server database, these tasks are:</span></span>  
  
1. <span data-ttu-id="77d29-117">Crear un proyecto de BizTalk y genere el esquema para todas las operaciones que desea invocar.</span><span class="sxs-lookup"><span data-stu-id="77d29-117">Create a BizTalk project, and generate schema for all the operations you want to invoke.</span></span>  
  
2. <span data-ttu-id="77d29-118">Crear manualmente un archivo de esquema que incluya referencias a todos los esquemas que generó en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="77d29-118">Manually create a schema file that includes references to all the schemas you generated in the previous step.</span></span>  
  
3. <span data-ttu-id="77d29-119">Crear mensajes en el proyecto de BizTalk para enviar y recibir mensajes de la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-119">Create messages in the BizTalk project for sending and receiving messages from the SQL Server database.</span></span> <span data-ttu-id="77d29-120">Estos mensajes deben cumplir el esquema de solicitud y respuesta que ha creado en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="77d29-120">These messages must conform to the request and response schema you created in the previous step.</span></span>  
  
4. <span data-ttu-id="77d29-121">Crear una orquestación para invocar la operación compuesta de la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-121">Create an orchestration to invoke the composite operation on the SQL Server database.</span></span>  
  
5. <span data-ttu-id="77d29-122">Compile e implemente el proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77d29-122">Build and deploy the BizTalk project.</span></span>  
  
6. <span data-ttu-id="77d29-123">Configurar la aplicación mediante la creación física de envío y puertos de recepción de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77d29-123">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
7. <span data-ttu-id="77d29-124">Inicie la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77d29-124">Start the BizTalk application.</span></span>  
  
   <span data-ttu-id="77d29-125">Este tema proporciona instrucciones sobre cómo realizar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="77d29-125">This topic provides instructions on how to perform these tasks.</span></span>  
  
## <a name="sample-based-on-this-topic"></a><span data-ttu-id="77d29-126">Ejemplo basado en este tema.</span><span class="sxs-lookup"><span data-stu-id="77d29-126">Sample Based on This Topic</span></span>  
 <span data-ttu-id="77d29-127">Un ejemplo, CompositeOperations, basado en este tema se proporciona con el [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="77d29-127">A sample, CompositeOperations, based on this topic is provided with the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span> <span data-ttu-id="77d29-128">Para obtener más información, consulte [ejemplos del adaptador de SQL](../../adapters-and-accelerators/adapter-sql/samples-for-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-128">For more information, see [Samples for the SQL adapter](../../adapters-and-accelerators/adapter-sql/samples-for-the-sql-adapter.md).</span></span>  
  
## <a name="generating-schema"></a><span data-ttu-id="77d29-129">Generar el esquema</span><span class="sxs-lookup"><span data-stu-id="77d29-129">Generating Schema</span></span>  
 <span data-ttu-id="77d29-130">En este tema, para demostrar cómo realizar operaciones compuestas, las siguientes tareas se realizarán en el orden especificado:</span><span class="sxs-lookup"><span data-stu-id="77d29-130">In this topic, to demonstrate how to perform composite operations, the following tasks will be performed in the order specified:</span></span>  
  
- <span data-ttu-id="77d29-131">Insertar el registro en la tabla EMPLOYEE.</span><span class="sxs-lookup"><span data-stu-id="77d29-131">Insert record into the EMPLOYEE table.</span></span>  
  
- <span data-ttu-id="77d29-132">Recuperar todas las columnas para el último registro insertado al invocar el procedimiento almacenado de GET_LAST_EMP_DATA.</span><span class="sxs-lookup"><span data-stu-id="77d29-132">Retrieve all the columns for the last inserted record by invoking the GET_LAST_EMP_DATA stored procedure.</span></span>  
  
- <span data-ttu-id="77d29-133">Eliminar el registro de la tabla EMPLOYEE.</span><span class="sxs-lookup"><span data-stu-id="77d29-133">Delete the record from the EMPLOYEE table.</span></span>  
  
  <span data-ttu-id="77d29-134">Ejecute los scripts proporcionados con los ejemplos para crear la tabla de empleados.</span><span class="sxs-lookup"><span data-stu-id="77d29-134">Run the scripts provided with the samples to create the EMPLOYEE table.</span></span> <span data-ttu-id="77d29-135">Para obtener más información acerca de los ejemplos, vea [ejemplos de esquema](../../adapters-and-accelerators/accelerator-rosettanet/schema-samples.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-135">For more information about the samples, see [Schema Samples](../../adapters-and-accelerators/accelerator-rosettanet/schema-samples.md).</span></span>  
  
  <span data-ttu-id="77d29-136">Debe crear un proyecto de BizTalk y utilice el [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] para generar el esquema para estas operaciones.</span><span class="sxs-lookup"><span data-stu-id="77d29-136">You must create a BizTalk project and use the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] to generate the schema for these operations.</span></span> <span data-ttu-id="77d29-137">Consulte [recuperación de metadatos para operaciones de SQL Server en Visual Studio mediante el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md) para obtener más información acerca de cómo generar esquemas.</span><span class="sxs-lookup"><span data-stu-id="77d29-137">See [Retrieving Metadata for SQL Server Operations in Visual Studio using the SQL adapter](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md) for more information about how to generate schemas.</span></span>  
  
## <a name="creating-a-composite-schema-definition"></a><span data-ttu-id="77d29-138">Creación de una definición de esquema compuesto</span><span class="sxs-lookup"><span data-stu-id="77d29-138">Creating a Composite Schema Definition</span></span>  
 <span data-ttu-id="77d29-139">Ahora debe crear un esquema compuesto que hace referencia a los esquemas creados para las operaciones individuales.</span><span class="sxs-lookup"><span data-stu-id="77d29-139">You must now create a composite schema that references the schemas you created for the individual operations.</span></span> <span data-ttu-id="77d29-140">Realice los pasos siguientes para crear una definición de esquema compuesto.</span><span class="sxs-lookup"><span data-stu-id="77d29-140">Perform the following steps to create a composite schema definition.</span></span>  
  
#### <a name="to-add-a-composite-schema-definition"></a><span data-ttu-id="77d29-141">Para agregar una definición de esquema compuesto</span><span class="sxs-lookup"><span data-stu-id="77d29-141">To add a composite schema definition</span></span>  
  
1. <span data-ttu-id="77d29-142">Agregue un archivo de esquema al proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77d29-142">Add a schema file to the BizTalk project.</span></span> <span data-ttu-id="77d29-143">Haga clic en el nombre del proyecto, elija **agregar**y, a continuación, haga clic en **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="77d29-143">Right-click the project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="77d29-144">En el **Agregar nuevo elemento** cuadro de diálogo desde el **categorías** cuadro, haga clic en **archivos de esquema**.</span><span class="sxs-lookup"><span data-stu-id="77d29-144">In the **Add New Item** dialog box, from the **Categories** box, click **Schema Files**.</span></span> <span data-ttu-id="77d29-145">Desde el **plantillas** cuadro, haga clic en **esquema**.</span><span class="sxs-lookup"><span data-stu-id="77d29-145">From the **Templates** box, click **Schema**.</span></span> <span data-ttu-id="77d29-146">Especifique un nombre para el archivo de esquema y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="77d29-146">Specify a name for the schema file, and then click **OK**.</span></span>  
  
    <span data-ttu-id="77d29-147">En este ejemplo, especifique el nombre de archivo de esquema como `CompositeSchema.xsd`.</span><span class="sxs-lookup"><span data-stu-id="77d29-147">For this example, specify the schema file name as `CompositeSchema.xsd`.</span></span>  
  
2. <span data-ttu-id="77d29-148">Agregar referencias para el esquema generado para las distintas operaciones que desee realizar.</span><span class="sxs-lookup"><span data-stu-id="77d29-148">Add references to the schema generated for the different operations that you want to perform.</span></span> <span data-ttu-id="77d29-149">En este ejemplo, los distintos esquemas generados para las operaciones son:</span><span class="sxs-lookup"><span data-stu-id="77d29-149">In this example, the different schemas generated for operations are:</span></span>  
  
   - <span data-ttu-id="77d29-150">TableOperation.dbo.Employee.xsd, para las operaciones Insert y Delete.</span><span class="sxs-lookup"><span data-stu-id="77d29-150">TableOperation.dbo.Employee.xsd, for Insert and Delete operations.</span></span>  
  
   - <span data-ttu-id="77d29-151">Procedure.dbo.xsd, para el GET_LAST_EMP_DATA procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="77d29-151">Procedure.dbo.xsd, for the GET_LAST_EMP_DATA stored procedure.</span></span>  
  
     <span data-ttu-id="77d29-152">Para agregar referencias:</span><span class="sxs-lookup"><span data-stu-id="77d29-152">To add references:</span></span>  
  
   1.  <span data-ttu-id="77d29-153">Haga clic en la raíz **\<esquema\>** nodo en el CompositeSchema.xsd y haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="77d29-153">Right-click the root **\<Schema\>** node in the CompositeSchema.xsd, and click **Properties**.</span></span>  
  
   2.  <span data-ttu-id="77d29-154">En el **propiedad** cuadro, haga clic en el botón de puntos suspensivos **(...)**  contra la **importaciones** propiedad.</span><span class="sxs-lookup"><span data-stu-id="77d29-154">In the **Property** box, click the ellipsis button **(…)** against the **Imports** property.</span></span>  
  
        <span data-ttu-id="77d29-155">![Importar definiciones de esquema](../../adapters-and-accelerators/adapter-oracle-database/media/d084d0f0-60b5-4ae8-9e80-7ed2c9e3ecca.gif "d084d0f0-60b5-4ae8-9e80-7ed2c9e3ecca")</span><span class="sxs-lookup"><span data-stu-id="77d29-155">![Import schema definitions](../../adapters-and-accelerators/adapter-oracle-database/media/d084d0f0-60b5-4ae8-9e80-7ed2c9e3ecca.gif "d084d0f0-60b5-4ae8-9e80-7ed2c9e3ecca")</span></span>  
  
   3.  <span data-ttu-id="77d29-156">En el **importaciones** cuadro de diálogo desde el **importar un esquema nuevo como** lista, seleccione **XSD Import**y, a continuación, haga clic en **agregar**.</span><span class="sxs-lookup"><span data-stu-id="77d29-156">In the **Imports** dialog box, from the **Import new schema as** list, select **XSD Import**, and then click **Add**.</span></span>  
  
   4.  <span data-ttu-id="77d29-157">En el **selector de tipos de BizTalk** diálogo cuadro, expanda el nodo de nombre del proyecto de BizTalk, expanda **esquemas**y, a continuación, seleccione el esquema que desea importar.</span><span class="sxs-lookup"><span data-stu-id="77d29-157">In the **BizTalk Type Picker** dialog box, expand the BizTalk project name node, expand **Schemas**, and then select the schema you want to import.</span></span> <span data-ttu-id="77d29-158">En este ejemplo, seleccione < BizTalk_project_name >. TableOperation_dbo_Employee.</span><span class="sxs-lookup"><span data-stu-id="77d29-158">For this example, select <BizTalk_project_name>.TableOperation_dbo_Employee.</span></span> <span data-ttu-id="77d29-159">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="77d29-159">Click **OK**.</span></span>  
  
        <span data-ttu-id="77d29-160">Repita este paso para importar < BizTalk_project_name >. Procedure_dbo demasiado.</span><span class="sxs-lookup"><span data-stu-id="77d29-160">Repeat this step to import <BizTalk_project_name>.Procedure_dbo too.</span></span>  
  
   5.  <span data-ttu-id="77d29-161">En el **importaciones** cuadro de diálogo, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="77d29-161">In the **Imports** dialog box, click **OK**.</span></span>  
  
3. <span data-ttu-id="77d29-162">Agregue dos nodos secundarios del nodo de esquema raíz.</span><span class="sxs-lookup"><span data-stu-id="77d29-162">Add two child nodes to the root schema node.</span></span> <span data-ttu-id="77d29-163">Un nodo secundario corresponde al esquema de solicitud para realizar la operación compuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-163">One child node corresponds to the request schema for performing the composite operation.</span></span> <span data-ttu-id="77d29-164">El otro nodo secundario corresponde al esquema de respuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-164">The other child node corresponds to the response schema.</span></span> <span data-ttu-id="77d29-165">El nodo que se corresponde con el esquema de solicitud puede tener cualquier nombre.</span><span class="sxs-lookup"><span data-stu-id="77d29-165">The node that corresponds to the request schema can have any name.</span></span> <span data-ttu-id="77d29-166">El nodo que se corresponde con el esquema de respuesta se debe llamar a < request_schema_node > respuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-166">The node that corresponds to the response schema must be called <request_schema_node>Response.</span></span> <span data-ttu-id="77d29-167">En este ejemplo, se llamará el nodo de esquema de solicitud como **solicitud**.</span><span class="sxs-lookup"><span data-stu-id="77d29-167">For this example, we will call the request schema node as **Request**.</span></span> <span data-ttu-id="77d29-168">Por lo tanto, el nodo de esquema de respuesta se denomina **RequestResponse**.</span><span class="sxs-lookup"><span data-stu-id="77d29-168">So, the response schema node is called **RequestResponse**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="77d29-169">De forma predeterminada, un **raíz** nodo también se agrega a un nuevo archivo de esquema.</span><span class="sxs-lookup"><span data-stu-id="77d29-169">By default, a **Root** node is also added to a new schema file.</span></span> <span data-ttu-id="77d29-170">Puede cambiar el nombre del **raíz** nodo **solicitar**.</span><span class="sxs-lookup"><span data-stu-id="77d29-170">You can rename the **Root** node to **Request**.</span></span> <span data-ttu-id="77d29-171">Para cambiar el nombre de un nodo, haga clic en el nombre de nodo y haga clic en **cambiar el nombre**.</span><span class="sxs-lookup"><span data-stu-id="77d29-171">To rename a node, right-click the node name and click **Rename**.</span></span>  
  
    <span data-ttu-id="77d29-172">Para agregar un nodo bajo el **\<esquema\>** nodo:</span><span class="sxs-lookup"><span data-stu-id="77d29-172">To add a node under the **\<Schema\>** node:</span></span>  
  
   1.  <span data-ttu-id="77d29-173">Haga clic en el **\<esquema\>** nodo, seleccione **Insertar nodo de esquema**y haga clic en **registro secundario**.</span><span class="sxs-lookup"><span data-stu-id="77d29-173">Right-click the **\<Schema\>** node, point to **Insert Schema Node**, and click **Child Record**.</span></span>  
  
   2.  <span data-ttu-id="77d29-174">Cambiar el nombre del nuevo nodo a **RequestResponse**.</span><span class="sxs-lookup"><span data-stu-id="77d29-174">Rename the new node to **RequestResponse**.</span></span>  
  
4. <span data-ttu-id="77d29-175">Agregar nodos secundarios bajo el **solicitud** nodo que se corresponden con el esquema de solicitud para cada operación que llevará a cabo como parte de la operación compuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-175">Add child nodes under the **Request** node that correspond to the request schema for each operation that you will perform as part of the composite operation.</span></span> <span data-ttu-id="77d29-176">En este ejemplo, debe agregar los nodos secundarios correspondientes a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="77d29-176">For this example, you must add child nodes corresponding to the following:</span></span>  
  
   -   <span data-ttu-id="77d29-177">Insertar y eliminar operaciones en la tabla EMPLOYEE.</span><span class="sxs-lookup"><span data-stu-id="77d29-177">Insert and Delete operations on the EMPLOYEE table.</span></span>  
  
   -   <span data-ttu-id="77d29-178">GET_LAST_EMP_DATA el procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="77d29-178">GET_LAST_EMP_DATA stored procedure.</span></span>  
  
   > [!IMPORTANT]
   >  <span data-ttu-id="77d29-179">Debe agregar los nodos en el mismo orden en el que desea realizar las operaciones.</span><span class="sxs-lookup"><span data-stu-id="77d29-179">You must add the nodes in the same order in which you want to perform the operations.</span></span> <span data-ttu-id="77d29-180">Por ejemplo, si desea insertar un registro, a continuación, ejecutar un procedimiento almacenado y, a continuación, elimine un registro en primer lugar debe agregar un nodo para la operación de inserción, seguido de un nodo para el procedimiento almacenado y, finalmente, un nodo para la operación de eliminación.</span><span class="sxs-lookup"><span data-stu-id="77d29-180">For example, if you want to insert a record, then execute a stored procedure, and then delete a record you must first add a node for the Insert operation, followed by a node for the stored procedure, and finally a node for the Delete operation.</span></span>  
  
    <span data-ttu-id="77d29-181">Para agregar nodos secundarios a la **solicitar** nodo:</span><span class="sxs-lookup"><span data-stu-id="77d29-181">To add child nodes to the **Request** node:</span></span>  
  
   1.  <span data-ttu-id="77d29-182">Haga clic en el **solicitar** nodo, seleccione **Insertar nodo de esquema**y, a continuación, haga clic en **registro secundario**.</span><span class="sxs-lookup"><span data-stu-id="77d29-182">Right-click the **Request** node, point to **Insert Schema Node**, and then click  **Child Record**.</span></span>  
  
        <span data-ttu-id="77d29-183">![Insertar nodos secundarios para un esquema](../../adapters-and-accelerators/adapter-oracle-database/media/58992131-13a6-45c3-9513-5c0995091fae.gif "58992131-13a6-45c3-9513-5c0995091fae")</span><span class="sxs-lookup"><span data-stu-id="77d29-183">![Insert child nodes for a schema](../../adapters-and-accelerators/adapter-oracle-database/media/58992131-13a6-45c3-9513-5c0995091fae.gif "58992131-13a6-45c3-9513-5c0995091fae")</span></span>  
  
   2.  <span data-ttu-id="77d29-184">Cambie el nombre del registro para que correspondan a un esquema de solicitud para una operación que se realiza como parte de la operación compuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-184">Rename the record to correspond to a request schema for an operation that you perform as part of the composite operation.</span></span> <span data-ttu-id="77d29-185">Por ejemplo, cambie el nombre del nodo para "Insert".</span><span class="sxs-lookup"><span data-stu-id="77d29-185">For example, rename the node to “Insert”.</span></span>  
  
   3.  <span data-ttu-id="77d29-186">Mapa del **insertar** nodo con el esquema de solicitud para la operación de inserción en la tabla EMPLOYEE.</span><span class="sxs-lookup"><span data-stu-id="77d29-186">Map the **Insert** node to the request schema for the Insert operation on the EMPLOYEE table.</span></span> <span data-ttu-id="77d29-187">Para ello, haga clic en el **insertar** nodo y haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="77d29-187">To do so, right-click the **Insert** node, and click **Properties**.</span></span> <span data-ttu-id="77d29-188">En el **propiedades** cuadro, desde el **Data Structure Type** lista, seleccione **Insert (referencia)**.</span><span class="sxs-lookup"><span data-stu-id="77d29-188">In the **Properties** box, from the **Data Structure Type** list, select **Insert (Reference)**.</span></span>  
  
        <span data-ttu-id="77d29-189">![Asignar nodos secundarios al esquema de solicitud](../../adapters-and-accelerators/adapter-sql/media/5ace18be-0fe8-44c6-bd2f-cb19035494b5.gif "5ace18be-0fe8-44c6-bd2f-cb19035494b5")</span><span class="sxs-lookup"><span data-stu-id="77d29-189">![Map child nodes to the request schema](../../adapters-and-accelerators/adapter-sql/media/5ace18be-0fe8-44c6-bd2f-cb19035494b5.gif "5ace18be-0fe8-44c6-bd2f-cb19035494b5")</span></span>  
  
   4.  <span data-ttu-id="77d29-190">Repita estos pasos para agregar nodos para los esquemas de solicitud para el procedimiento almacenado de GET_LAST_EMP_DATA y la operación de eliminación.</span><span class="sxs-lookup"><span data-stu-id="77d29-190">Repeat these steps to add nodes for the request schemas for GET_LAST_EMP_DATA stored procedure and the Delete operation.</span></span> <span data-ttu-id="77d29-191">Especifique los nombres de nodo y asignarlas al esquema correspondiente, tal como se mencionó en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="77d29-191">Specify the node names and map them to the corresponding schema as mentioned in the following table.</span></span>  
  
       |<span data-ttu-id="77d29-192">Nombre de nodo</span><span class="sxs-lookup"><span data-stu-id="77d29-192">Node name</span></span>|<span data-ttu-id="77d29-193">Asigna al esquema</span><span class="sxs-lookup"><span data-stu-id="77d29-193">Mapped to schema</span></span>|  
       |---------------|----------------------|  
       |<span data-ttu-id="77d29-194">GET_LAST_EMP_DATA</span><span class="sxs-lookup"><span data-stu-id="77d29-194">GET_LAST_EMP_DATA</span></span>|<span data-ttu-id="77d29-195">GET_LAST_EMP_DATA (referencia)</span><span class="sxs-lookup"><span data-stu-id="77d29-195">GET_LAST_EMP_DATA (Reference)</span></span>|  
       |<span data-ttu-id="77d29-196">DELETE</span><span class="sxs-lookup"><span data-stu-id="77d29-196">Delete</span></span>|<span data-ttu-id="77d29-197">Delete (referencia)</span><span class="sxs-lookup"><span data-stu-id="77d29-197">Delete (Reference)</span></span>|  
  
5. <span data-ttu-id="77d29-198">Agregar nodos secundarios bajo el **RequestResponse** nodo que se corresponden con el esquema de respuesta para cada operación que llevará a cabo como parte de la operación compuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-198">Add child nodes under the **RequestResponse** node that correspond to the response schema for each operation that you will perform as part of the composite operation.</span></span> <span data-ttu-id="77d29-199">En este ejemplo, debe agregar los nodos secundarios correspondientes a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="77d29-199">For this example, you must add child nodes corresponding to the following:</span></span>  
  
   -   <span data-ttu-id="77d29-200">Insertar y eliminar operaciones en la tabla EMPLOYEE.</span><span class="sxs-lookup"><span data-stu-id="77d29-200">Insert and Delete operations on the EMPLOYEE table.</span></span>  
  
   -   <span data-ttu-id="77d29-201">GET_LAST_EMP_DATA el procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="77d29-201">GET_LAST_EMP_DATA stored procedure.</span></span>  
  
   > [!IMPORTANT]
   >  <span data-ttu-id="77d29-202">Debe agregar los nodos secundarios en el mismo orden que los nodos secundarios bajo el **solicitar** nodo.</span><span class="sxs-lookup"><span data-stu-id="77d29-202">You must add the child nodes in the same order as the child nodes under the **Request** node.</span></span>  
  
    <span data-ttu-id="77d29-203">Para agregar nodos secundarios a la **RequestResponse** nodo:</span><span class="sxs-lookup"><span data-stu-id="77d29-203">To add child nodes to the **RequestResponse** node:</span></span>  
  
   1.  <span data-ttu-id="77d29-204">Haga clic en el **RequestResponse** nodo, seleccione **Insertar nodo de esquema**y haga clic en **registro secundario**.</span><span class="sxs-lookup"><span data-stu-id="77d29-204">Right-click the **RequestResponse** node, point to **Insert Schema Node**, and click **Child Record**.</span></span>  
  
   2.  <span data-ttu-id="77d29-205">Cambie el nombre del registro para que correspondan a un esquema de respuesta para una operación que se realiza como parte de la operación compuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-205">Rename the record to correspond to a response schema for an operation that you perform as part of the composite operation.</span></span> <span data-ttu-id="77d29-206">Por ejemplo, cambie el nombre del nodo para "InsertResponse".</span><span class="sxs-lookup"><span data-stu-id="77d29-206">For example, rename the node to “InsertResponse”.</span></span>  
  
   3.  <span data-ttu-id="77d29-207">Mapa del **InsertResponse** nodo con el esquema de respuesta para la operación de inserción en la tabla EMPLOYEE.</span><span class="sxs-lookup"><span data-stu-id="77d29-207">Map the **InsertResponse** node to the response schema for the Insert operation on the EMPLOYEE table.</span></span> <span data-ttu-id="77d29-208">Para ello, haga clic en el **InsertResponse** nodo y haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="77d29-208">To do so, right-click the **InsertResponse** node, and click **Properties**.</span></span> <span data-ttu-id="77d29-209">En el **propiedades** cuadro, desde el **Data Structure Type** lista, seleccione **InsertResponse (referencia)**.</span><span class="sxs-lookup"><span data-stu-id="77d29-209">In the **Properties** box, from the **Data Structure Type** list, select **InsertResponse (Reference)**.</span></span>  
  
   4.  <span data-ttu-id="77d29-210">Repita estos pasos para agregar nodos para los esquemas de respuesta para el procedimiento almacenado de GET_LAST_EMP_DATA y la operación de eliminación.</span><span class="sxs-lookup"><span data-stu-id="77d29-210">Repeat these steps to add nodes for the response schemas for the GET_LAST_EMP_DATA stored procedure and the Delete operation.</span></span> <span data-ttu-id="77d29-211">Especifique los nombres de nodo y asignarlas al esquema correspondiente, tal como se mencionó en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="77d29-211">Specify the node names and map them to the corresponding schema as mentioned in the following table.</span></span>  
  
       |<span data-ttu-id="77d29-212">Nombre de nodo</span><span class="sxs-lookup"><span data-stu-id="77d29-212">Node name</span></span>|<span data-ttu-id="77d29-213">Asigna al esquema</span><span class="sxs-lookup"><span data-stu-id="77d29-213">Mapped to schema</span></span>|  
       |---------------|----------------------|  
       |<span data-ttu-id="77d29-214">GET_LAST_EMP_DATAResponse</span><span class="sxs-lookup"><span data-stu-id="77d29-214">GET_LAST_EMP_DATAResponse</span></span>|<span data-ttu-id="77d29-215">GET_LAST_EMP_DATAResponse (referencia)</span><span class="sxs-lookup"><span data-stu-id="77d29-215">GET_LAST_EMP_DATAResponse (Reference)</span></span>|  
       |<span data-ttu-id="77d29-216">DeleteResponse</span><span class="sxs-lookup"><span data-stu-id="77d29-216">DeleteResponse</span></span>|<span data-ttu-id="77d29-217">DeleteResponse (referencia)</span><span class="sxs-lookup"><span data-stu-id="77d29-217">DeleteResponse (Reference)</span></span>|  
  
6. <span data-ttu-id="77d29-218">Guardar el **CompositeSchema.xsd** archivo.</span><span class="sxs-lookup"><span data-stu-id="77d29-218">Save the **CompositeSchema.xsd** file.</span></span>  
  
## <a name="defining-messages-and-message-types"></a><span data-ttu-id="77d29-219">Definición de los mensajes y tipos de mensaje</span><span class="sxs-lookup"><span data-stu-id="77d29-219">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="77d29-220">El esquema compuesto que creó en el último paso describe los "tipos" necesarios para los mensajes en una orquestación.</span><span class="sxs-lookup"><span data-stu-id="77d29-220">The composite schema that you created in the last step describes the “types” required for the messages in an orchestration.</span></span> <span data-ttu-id="77d29-221">Un mensaje suele ser una variable, el tipo para el que está definido por el esquema correspondiente.</span><span class="sxs-lookup"><span data-stu-id="77d29-221">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="77d29-222">Ahora debe crear mensajes para la orquestación y vincularlos a esquema que ha creado en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="77d29-222">You must now create messages for the orchestration and link them to schema you created in the previous step.</span></span>  
  
#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="77d29-223">Para crear mensajes y vínculo a esquema</span><span class="sxs-lookup"><span data-stu-id="77d29-223">To create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="77d29-224">Agregar una orquestación al proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77d29-224">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="77d29-225">Desde el Explorador de soluciones, haga clic en el nombre del proyecto de BizTalk, seleccione **agregar**y, a continuación, haga clic en **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="77d29-225">From Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="77d29-226">Escriba un nombre para la orquestación de BizTalk y, a continuación, haga clic en **agregar**.</span><span class="sxs-lookup"><span data-stu-id="77d29-226">Type a name for the BizTalk orchestration, and then click **Add**.</span></span>  
  
2.  <span data-ttu-id="77d29-227">Abra la ventana Vista orquestación del proyecto de BizTalk, si aún no está abierto.</span><span class="sxs-lookup"><span data-stu-id="77d29-227">Open the Orchestration View window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="77d29-228">Para ello, haga clic en **vista**, apunte a **Other Windows**y, a continuación, haga clic en **Vista orquestación**.</span><span class="sxs-lookup"><span data-stu-id="77d29-228">To do so, click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="77d29-229">En la Vista orquestación, haga clic en **mensajes**y, a continuación, haga clic en **nuevo mensaje**.</span><span class="sxs-lookup"><span data-stu-id="77d29-229">In Orchestration View, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="77d29-230">Haga clic en el mensaje recién creado y, a continuación, seleccione **ventana propiedades**.</span><span class="sxs-lookup"><span data-stu-id="77d29-230">Right-click the newly created message, and then select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="77d29-231">En el **propiedades** panel para el **Message_1**, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="77d29-231">In the **Properties** pane for the **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="77d29-232">Use</span><span class="sxs-lookup"><span data-stu-id="77d29-232">Use this</span></span>|<span data-ttu-id="77d29-233">Para</span><span class="sxs-lookup"><span data-stu-id="77d29-233">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="77d29-234">Identificador</span><span class="sxs-lookup"><span data-stu-id="77d29-234">Identifier</span></span>|<span data-ttu-id="77d29-235">Escriba `Request`</span><span class="sxs-lookup"><span data-stu-id="77d29-235">Type `Request`</span></span>|  
    |<span data-ttu-id="77d29-236">Tipo de mensaje</span><span class="sxs-lookup"><span data-stu-id="77d29-236">Message Type</span></span>|<span data-ttu-id="77d29-237">En la lista desplegable, expanda **esquemas**y, a continuación, seleccione *CompositeOp.CompositeSchema.Request*, donde CompositeOp es el nombre de su proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="77d29-237">From the drop-down list, expand **Schemas**, and then select *CompositeOp.CompositeSchema.Request*, where CompositeOp is the name of your BizTalk project.</span></span> <span data-ttu-id="77d29-238">CompositeSchema es el esquema que ha creado manualmente para las operaciones compuestas.</span><span class="sxs-lookup"><span data-stu-id="77d29-238">CompositeSchema is the schema you created manually for the composite operations.</span></span>|  
  
6.  <span data-ttu-id="77d29-239">Repita el paso 2 para crear un nuevo mensaje.</span><span class="sxs-lookup"><span data-stu-id="77d29-239">Repeat step 2 to create a new message.</span></span> <span data-ttu-id="77d29-240">En el **propiedades** panel para el nuevo mensaje, haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="77d29-240">In the **Properties** pane for the new message, do the following:</span></span>  
  
    |<span data-ttu-id="77d29-241">Use</span><span class="sxs-lookup"><span data-stu-id="77d29-241">Use this</span></span>|<span data-ttu-id="77d29-242">Para</span><span class="sxs-lookup"><span data-stu-id="77d29-242">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="77d29-243">Identificador</span><span class="sxs-lookup"><span data-stu-id="77d29-243">Identifier</span></span>|<span data-ttu-id="77d29-244">Escriba `Response`</span><span class="sxs-lookup"><span data-stu-id="77d29-244">Type `Response`</span></span>|  
    |<span data-ttu-id="77d29-245">Tipo de mensaje</span><span class="sxs-lookup"><span data-stu-id="77d29-245">Message Type</span></span>|<span data-ttu-id="77d29-246">En la lista desplegable, expanda **esquemas**y, a continuación, seleccione *CompositeOp.CompositeSchema.RequestResponse*.</span><span class="sxs-lookup"><span data-stu-id="77d29-246">From the drop-down list, expand **Schemas**, and then select *CompositeOp.CompositeSchema.RequestResponse*.</span></span>|  
  
## <a name="setting-up-the-orchestration"></a><span data-ttu-id="77d29-247">Configuración de la orquestación</span><span class="sxs-lookup"><span data-stu-id="77d29-247">Setting up the Orchestration</span></span>  
 <span data-ttu-id="77d29-248">Debe crear una orquestación de BizTalk para utilizar [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] para llevar a cabo operaciones compuestas en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-248">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for performing composite operations on SQL Server.</span></span> <span data-ttu-id="77d29-249">En esta orquestación, se coloca un mensaje de solicitud en una determinada ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="77d29-249">In this orchestration, you drop a request message at a defined receive location.</span></span> <span data-ttu-id="77d29-250">El mensaje de solicitud debe ajustarse al esquema compuesto que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="77d29-250">The request message must conform to the composite schema you created earlier.</span></span> <span data-ttu-id="77d29-251">El [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] consume este mensaje y lo pasa a SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-251">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] consumes this message and passes it on to SQL Server.</span></span> <span data-ttu-id="77d29-252">La respuesta de SQL Server se guarda en otra ubicación.</span><span class="sxs-lookup"><span data-stu-id="77d29-252">The response from SQL Server is saved to another location.</span></span> <span data-ttu-id="77d29-253">Debe incluir el envío y recepción de formas para enviar mensajes a SQL Server y recibir respuestas, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="77d29-253">You must include Send and Receive shapes to send messages to SQL Server and receive responses, respectively.</span></span> <span data-ttu-id="77d29-254">Una orquestación básica para realizar operaciones compuestas es similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="77d29-254">A basic orchestration for performing composite operations resembles the following:</span></span>  
  
 <span data-ttu-id="77d29-255">![Orquestación para efectuar operaciones compuestas](../../adapters-and-accelerators/adapter-oracle-database/media/4a1ecae7-8bf2-4c8a-a413-34d6a402cbfb.gif "4a1ecae7-8bf2-4c8a-a413-34d6a402cbfb")</span><span class="sxs-lookup"><span data-stu-id="77d29-255">![Orchestration to peform composite operations](../../adapters-and-accelerators/adapter-oracle-database/media/4a1ecae7-8bf2-4c8a-a413-34d6a402cbfb.gif "4a1ecae7-8bf2-4c8a-a413-34d6a402cbfb")</span></span>  
  
### <a name="adding-message-shapes"></a><span data-ttu-id="77d29-256">Agregar formas de mensaje</span><span class="sxs-lookup"><span data-stu-id="77d29-256">Adding Message Shapes</span></span>  
 <span data-ttu-id="77d29-257">Asegúrese de que especificar las siguientes propiedades para cada una de las formas de mensaje.</span><span class="sxs-lookup"><span data-stu-id="77d29-257">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="77d29-258">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación simplemente mencionadas.</span><span class="sxs-lookup"><span data-stu-id="77d29-258">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  
  
|<span data-ttu-id="77d29-259">Forma</span><span class="sxs-lookup"><span data-stu-id="77d29-259">Shape</span></span>|<span data-ttu-id="77d29-260">Tipo de forma</span><span class="sxs-lookup"><span data-stu-id="77d29-260">Shape Type</span></span>|<span data-ttu-id="77d29-261">Propiedades</span><span class="sxs-lookup"><span data-stu-id="77d29-261">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="77d29-262">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="77d29-262">ReceiveMessage</span></span>|<span data-ttu-id="77d29-263">Receive</span><span class="sxs-lookup"><span data-stu-id="77d29-263">Receive</span></span>|<span data-ttu-id="77d29-264">-Establecer **nombre** a *ReceiveMessage*</span><span class="sxs-lookup"><span data-stu-id="77d29-264">-   Set **Name** to *ReceiveMessage*</span></span><br /><span data-ttu-id="77d29-265">-Establecer **activar** a *True*</span><span class="sxs-lookup"><span data-stu-id="77d29-265">-   Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="77d29-266">SendMessage</span><span class="sxs-lookup"><span data-stu-id="77d29-266">SendMessage</span></span>|<span data-ttu-id="77d29-267">Send</span><span class="sxs-lookup"><span data-stu-id="77d29-267">Send</span></span>|<span data-ttu-id="77d29-268">-Establecer **nombre** a *SendMessage*</span><span class="sxs-lookup"><span data-stu-id="77d29-268">-   Set **Name** to *SendMessage*</span></span>|  
|<span data-ttu-id="77d29-269">ReceiveResponse</span><span class="sxs-lookup"><span data-stu-id="77d29-269">ReceiveResponse</span></span>|<span data-ttu-id="77d29-270">Receive</span><span class="sxs-lookup"><span data-stu-id="77d29-270">Receive</span></span>|<span data-ttu-id="77d29-271">-Establecer **nombre** a *ReceiveResponse*</span><span class="sxs-lookup"><span data-stu-id="77d29-271">-   Set **Name** to *ReceiveResponse*</span></span><br /><span data-ttu-id="77d29-272">-Establecer **activar** a *False*</span><span class="sxs-lookup"><span data-stu-id="77d29-272">-   Set **Activate** to *False*</span></span>|  
|<span data-ttu-id="77d29-273">SendResponse</span><span class="sxs-lookup"><span data-stu-id="77d29-273">SendResponse</span></span>|<span data-ttu-id="77d29-274">Send</span><span class="sxs-lookup"><span data-stu-id="77d29-274">Send</span></span>|<span data-ttu-id="77d29-275">-Establecer **nombre** a *SendResponse*</span><span class="sxs-lookup"><span data-stu-id="77d29-275">-   Set **Name** to *SendResponse*</span></span>|  
  
### <a name="adding-ports"></a><span data-ttu-id="77d29-276">Agregar puertos</span><span class="sxs-lookup"><span data-stu-id="77d29-276">Adding Ports</span></span>  
 <span data-ttu-id="77d29-277">Asegúrese de que especificar las siguientes propiedades para cada uno de los puertos lógicos.</span><span class="sxs-lookup"><span data-stu-id="77d29-277">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="77d29-278">Los nombres que aparecen en la columna puerto son los nombres de los puertos tal como se muestra en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="77d29-278">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="77d29-279">Puerto</span><span class="sxs-lookup"><span data-stu-id="77d29-279">Port</span></span>|<span data-ttu-id="77d29-280">Propiedades</span><span class="sxs-lookup"><span data-stu-id="77d29-280">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="77d29-281">MessageIn</span><span class="sxs-lookup"><span data-stu-id="77d29-281">MessageIn</span></span>|<span data-ttu-id="77d29-282">-Establecer **identificador** a *MessageIn*</span><span class="sxs-lookup"><span data-stu-id="77d29-282">-   Set **Identifier** to *MessageIn*</span></span><br /><span data-ttu-id="77d29-283">-Establecer **tipo** a *MessageInType*</span><span class="sxs-lookup"><span data-stu-id="77d29-283">-   Set **Type** to *MessageInType*</span></span><br /><span data-ttu-id="77d29-284">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="77d29-284">-   Set **Communication Pattern** to *One-Way*</span></span><br /><span data-ttu-id="77d29-285">-Establecer **dirección de comunicación** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="77d29-285">-   Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="77d29-286">LOBPort</span><span class="sxs-lookup"><span data-stu-id="77d29-286">LOBPort</span></span>|<span data-ttu-id="77d29-287">-Establecer **identificador** a *LOBPort*</span><span class="sxs-lookup"><span data-stu-id="77d29-287">-   Set **Identifier** to *LOBPort*</span></span><br /><span data-ttu-id="77d29-288">-Establecer **tipo** a *LOBPortType*</span><span class="sxs-lookup"><span data-stu-id="77d29-288">-   Set **Type** to *LOBPortType*</span></span><br /><span data-ttu-id="77d29-289">-Establecer **patrón de comunicación** a *de solicitud-respuesta*</span><span class="sxs-lookup"><span data-stu-id="77d29-289">-   Set **Communication Pattern** to *Request-Response*</span></span><br /><span data-ttu-id="77d29-290">-Establecer **dirección de comunicación** a *envío y recepción*</span><span class="sxs-lookup"><span data-stu-id="77d29-290">-   Set **Communication Direction** to *Send-Receive*</span></span>|  
|<span data-ttu-id="77d29-291">ResponseOut</span><span class="sxs-lookup"><span data-stu-id="77d29-291">ResponseOut</span></span>|<span data-ttu-id="77d29-292">-Establecer **identificador** a *ResponseOut*</span><span class="sxs-lookup"><span data-stu-id="77d29-292">-   Set **Identifier** to *ResponseOut*</span></span><br /><span data-ttu-id="77d29-293">-Establecer **tipo** a *ResponseOutType*</span><span class="sxs-lookup"><span data-stu-id="77d29-293">-   Set **Type** to *ResponseOutType*</span></span><br /><span data-ttu-id="77d29-294">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="77d29-294">-   Set **Communication Pattern** to *One-Way*</span></span><br /><span data-ttu-id="77d29-295">-Establecer **dirección de comunicación** a *enviar*</span><span class="sxs-lookup"><span data-stu-id="77d29-295">-   Set **Communication Direction** to *Send*</span></span>|  
  
### <a name="specify-messages-for-action-shapes-and-connect-them-to-ports"></a><span data-ttu-id="77d29-296">Especifique los mensajes para las formas Acción y conectarlos a puertos</span><span class="sxs-lookup"><span data-stu-id="77d29-296">Specify Messages for Action Shapes, and Connect Them to Ports</span></span>  
 <span data-ttu-id="77d29-297">En la tabla siguiente especifica las propiedades y sus valores que se deben establecer para especificar los mensajes para las formas Acción y vincular los mensajes a los puertos.</span><span class="sxs-lookup"><span data-stu-id="77d29-297">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="77d29-298">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación que se ha mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="77d29-298">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  
  
|<span data-ttu-id="77d29-299">Forma</span><span class="sxs-lookup"><span data-stu-id="77d29-299">Shape</span></span>|<span data-ttu-id="77d29-300">Propiedades</span><span class="sxs-lookup"><span data-stu-id="77d29-300">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="77d29-301">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="77d29-301">ReceiveMessage</span></span>|<span data-ttu-id="77d29-302">-Establecer **mensaje** a *de solicitud*</span><span class="sxs-lookup"><span data-stu-id="77d29-302">-   Set **Message** to *Request*</span></span><br /><span data-ttu-id="77d29-303">-Establecer **operación** a *MessageIn.CompositeOp.Request*</span><span class="sxs-lookup"><span data-stu-id="77d29-303">-   Set **Operation** to *MessageIn.CompositeOp.Request*</span></span>|  
|<span data-ttu-id="77d29-304">SendMessage</span><span class="sxs-lookup"><span data-stu-id="77d29-304">SendMessage</span></span>|<span data-ttu-id="77d29-305">-Establecer **mensaje** a *de solicitud*</span><span class="sxs-lookup"><span data-stu-id="77d29-305">-   Set **Message** to *Request*</span></span><br /><span data-ttu-id="77d29-306">-Establecer **operación** a *LOBPort.CompositeOp.Request*</span><span class="sxs-lookup"><span data-stu-id="77d29-306">-   Set **Operation** to *LOBPort.CompositeOp.Request*</span></span>|  
|<span data-ttu-id="77d29-307">ReceiveResponse</span><span class="sxs-lookup"><span data-stu-id="77d29-307">ReceiveResponse</span></span>|<span data-ttu-id="77d29-308">-Establecer **mensaje** a *respuesta*</span><span class="sxs-lookup"><span data-stu-id="77d29-308">-   Set **Message** to *Response*</span></span><br /><span data-ttu-id="77d29-309">-Establecer **operación** a *LOBPort.CompositeOp.Response*</span><span class="sxs-lookup"><span data-stu-id="77d29-309">-   Set **Operation** to *LOBPort.CompositeOp.Response*</span></span>|  
|<span data-ttu-id="77d29-310">SendResponse</span><span class="sxs-lookup"><span data-stu-id="77d29-310">SendResponse</span></span>|<span data-ttu-id="77d29-311">-Establecer **mensaje** a *respuesta*</span><span class="sxs-lookup"><span data-stu-id="77d29-311">-   Set **Message** to *Response*</span></span><br /><span data-ttu-id="77d29-312">-Establecer **operación** a *ResponseOut.CompositeOp.Request*</span><span class="sxs-lookup"><span data-stu-id="77d29-312">-   Set **Operation** to *ResponseOut.CompositeOp.Request*</span></span>|  
  
 <span data-ttu-id="77d29-313">Después de especificar estas propiedades, están conectados a los puertos y formas de mensaje y se completa la orquestación.</span><span class="sxs-lookup"><span data-stu-id="77d29-313">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  
  
 <span data-ttu-id="77d29-314">Ahora debe compilar la solución de BizTalk e implementarla en un [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="77d29-314">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="77d29-315">Para obtener más información, consulte [compilar y ejecutar orquestaciones](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-315">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>
  
## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="77d29-316">Configuración de la aplicación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="77d29-316">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="77d29-317">Después de haber implementado el proyecto de BizTalk, aparece la orquestación que creó anteriormente en el panel orquestaciones, en la [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="77d29-317">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the Orchestrations pane in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="77d29-318">Debe usar el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración para configurar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="77d29-318">You must use the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to configure the application.</span></span> <span data-ttu-id="77d29-319">Para ver un tutorial, vea [Tutorial: implementar una aplicación básica de BizTalk](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-319">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>
  
 <span data-ttu-id="77d29-320">Configuración de una aplicación implica:</span><span class="sxs-lookup"><span data-stu-id="77d29-320">Configuring an application involves:</span></span>  
  
- <span data-ttu-id="77d29-321">Selección de un host de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="77d29-321">Selecting a host for the application.</span></span>  
  
- <span data-ttu-id="77d29-322">Asignación de los puertos que ha creado en la orquestación con puertos físicos en el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="77d29-322">Mapping the ports that you created in your orchestration to physical ports in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="77d29-323">Para esta orquestación, debe:</span><span class="sxs-lookup"><span data-stu-id="77d29-323">For this orchestration you must:</span></span>  
  
  - <span data-ttu-id="77d29-324">Definir una ubicación en el disco duro y un puerto de archivo correspondiente donde se colocará un mensaje de solicitud.</span><span class="sxs-lookup"><span data-stu-id="77d29-324">Define a location on the hard disk and a corresponding file port where you will drop a request message.</span></span> <span data-ttu-id="77d29-325">La orquestación de BizTalk usarán el mensaje de solicitud y enviarla a la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-325">The BizTalk orchestration will consume the request message and send it to the SQL Server database.</span></span>  
  
  - <span data-ttu-id="77d29-326">Definir una ubicación en el disco duro y un puerto de archivo correspondiente donde la orquestación de BizTalk quitará el mensaje de respuesta que contiene la respuesta de la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-326">Define a location on the hard disk and a corresponding file port where the BizTalk orchestration will drop the response message containing the response from the SQL Server database.</span></span>  
  
  - <span data-ttu-id="77d29-327">Definir un puerto de envío físico de WCF-Custom o WCF-SQL para enviar mensajes a la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-327">Define a physical WCF-Custom or WCF-SQL send port to send messages to the SQL Server database.</span></span> <span data-ttu-id="77d29-328">Dado que las operaciones que son es como parte de la operación compuesta se ejecutan en una sola transacción, asegúrese de que el **UseAmbientTransaction** enlaza la propiedad se establece en **True**.</span><span class="sxs-lookup"><span data-stu-id="77d29-328">Because the operations that are being as part of the composite operation are executed in a single transaction, make sure the **UseAmbientTransaction** binding property is set to **True**.</span></span>  
  
     <span data-ttu-id="77d29-329">También debe especificar la acción en el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="77d29-329">You must also specify the action in the send port.</span></span> <span data-ttu-id="77d29-330">La acción para una operación compuesta es "**CompositeOperation**".</span><span class="sxs-lookup"><span data-stu-id="77d29-330">The action for a composite operation is “**CompositeOperation**”.</span></span> <span data-ttu-id="77d29-331">Para obtener información sobre cómo crear los puertos, consulte [configurar manualmente un enlace de puerto físico al adaptador de SQL](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-331">For information about how to create ports, see [Manually configure a physical port binding to the SQL adapter](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span></span> <span data-ttu-id="77d29-332">Para obtener más información sobre cómo especificar acciones para los puertos, consulte [configurar la acción SOAP para el adaptador de SQL](../../adapters-and-accelerators/adapter-sql/configure-the-soap-action-for-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-332">For more information about how to specify actions for ports, see [Configure the SOAP action for the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-the-soap-action-for-the-sql-adapter.md).</span></span>
  
    > [!NOTE]
    >  <span data-ttu-id="77d29-333">Generar el esquema mediante el [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] también crea un archivo de enlace que contiene información sobre los puertos y las acciones que se establecerá para esos puertos.</span><span class="sxs-lookup"><span data-stu-id="77d29-333">Generating the schema using the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] also creates a binding file that contains information about the ports and the actions to be set for those ports.</span></span> <span data-ttu-id="77d29-334">Puede importar este archivo de enlace desde el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración para crear puertos de envío (para las llamadas salientes) o la recepción (para las llamadas entrantes).</span><span class="sxs-lookup"><span data-stu-id="77d29-334">You can import this binding file from the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to create send ports (for outbound calls) or receive ports (for inbound calls).</span></span> <span data-ttu-id="77d29-335">Para obtener más información, consulte [configurar un enlace de puerto físico mediante un archivo de enlace de puerto para usar el adaptador SQL](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-335">For more information, see [Configure a physical port binding using a port binding file to use the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span></span> <span data-ttu-id="77d29-336">Si importa este archivo de enlace, se establece la acción en el puerto de envío WCF-Custom o WCF-SQL en una acción dinámica relacionadas con todas las operaciones que seleccionó en el [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] al generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="77d29-336">If you import this binding file, the action on the WCF-Custom or WCF-SQL send port is set to a dynamic action involving all the operations you selected in the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] while generating the schema.</span></span> <span data-ttu-id="77d29-337">Para una operación compuesta, debe reemplazar la acción dinámica con "CompositeOperation".</span><span class="sxs-lookup"><span data-stu-id="77d29-337">For a composite operation, you must replace the dynamic action with “CompositeOperation”.</span></span>  
  
## <a name="starting-the-application"></a><span data-ttu-id="77d29-338">Iniciar la aplicación</span><span class="sxs-lookup"><span data-stu-id="77d29-338">Starting the Application</span></span>  
 <span data-ttu-id="77d29-339">Debe iniciar la aplicación de BizTalk para realizar operaciones compuestas en la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-339">You must start the BizTalk application for performing composite operations on the SQL Server database.</span></span> <span data-ttu-id="77d29-340">Para obtener instrucciones acerca de cómo iniciar una aplicación de BizTalk, consulte [cómo iniciar una orquestación](../../core/how-to-start-an-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-340">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>
  
 <span data-ttu-id="77d29-341">En esta etapa, asegúrese de que:</span><span class="sxs-lookup"><span data-stu-id="77d29-341">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="77d29-342">El archivo de puerto de recepción para recibir mensajes de solicitud para la orquestación se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="77d29-342">The FILE receive port to receive request messages for the orchestration is running.</span></span>  
  
-   <span data-ttu-id="77d29-343">El puerto de envío de archivo para recibir los mensajes de respuesta de la orquestación se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="77d29-343">The FILE send port to receive the response messages from the orchestration is running.</span></span>  
  
-   <span data-ttu-id="77d29-344">El puerto de envío WCF-Custom o WCF-SQL para enviar mensajes a la base de datos de SQL Server se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="77d29-344">The WCF-Custom or WCF-SQL send port to send messages to the SQL Server database is running.</span></span>  
  
-   <span data-ttu-id="77d29-345">La orquestación de BizTalk para la operación se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="77d29-345">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="executing-the-operation"></a><span data-ttu-id="77d29-346">Ejecutar la operación</span><span class="sxs-lookup"><span data-stu-id="77d29-346">Executing the Operation</span></span>  
 <span data-ttu-id="77d29-347">Después de ejecutar la aplicación, debe quitar un mensaje de solicitud en el archivo de ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="77d29-347">After you run the application, you must drop a request message to the FILE receive location.</span></span> <span data-ttu-id="77d29-348">El esquema del mensaje de solicitud debe cumplir el esquema para las operaciones compuestas que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="77d29-348">The schema for the request message must conform to the schema for the composite operations you created earlier.</span></span> <span data-ttu-id="77d29-349">Por ejemplo, es un mensaje de solicitud que inserta un registro en la tabla de empleados, invoca el procedimiento almacenado de GET_LAST_EMP_DATA y elimina un registro de la tabla de empleados:</span><span class="sxs-lookup"><span data-stu-id="77d29-349">For example, a request message that inserts a record in the EMPLOYEE table, invokes the GET_LAST_EMP_DATA stored procedure, and deletes a record from the EMPLOYEE table is:</span></span>  
  
```  
<Request xmlns="http://CompositeTest.CompositeSchema">  
  <Insert xmlns="http://schemas.microsoft.com/Sql/2008/05/TableOp/dbo/Employee">  
    <Rows>  
      <Employee xmlns="http://schemas.microsoft.com/Sql/2008/05/Types/Tables/dbo">  
        <Name>John</Name>  
        <Designation>Manager</Designation>  
        <Salary>100000</Salary>  
      </Employee>  
    </Rows>  
  </Insert>  
  <GET_LAST_EMP_DATA xmlns="http://schemas.microsoft.com/Sql/2008/05/Procedures/dbo" />  
  <Delete xmlns="http://schemas.microsoft.com/Sql/2008/05/TableOp/dbo/Employee">  
    <Rows>  
      <Employee xmlns="http://schemas.microsoft.com/Sql/2008/05/Types/Tables/dbo">  
        <Name>John</Name>  
      </Employee>  
    </Rows>  
  </Delete>  
</Request>  
```  
  
 <span data-ttu-id="77d29-350">Consulte [esquemas de mensaje para operaciones compuestas](../../adapters-and-accelerators/adapter-sql/message-schemas-for-composite-operations.md) para obtener más información sobre el esquema de mensaje de solicitud para realizar operaciones compuestas en el servidor de SQL database mediante la [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="77d29-350">See [Message Schemas for Composite Operations](../../adapters-and-accelerators/adapter-sql/message-schemas-for-composite-operations.md) for more information about the request message schema for performing composite operations on the SQL Server database using the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span>  
  
 <span data-ttu-id="77d29-351">La orquestación consume el mensaje y lo envía a la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="77d29-351">The orchestration consumes the message and sends it to the SQL Server database.</span></span> <span data-ttu-id="77d29-352">La respuesta de la base de datos de SQL Server se guarda en la otra ubicación de archivo definida como parte de la orquestación.</span><span class="sxs-lookup"><span data-stu-id="77d29-352">The response from the SQL Server database is saved at the other FILE location defined as part of the orchestration.</span></span> <span data-ttu-id="77d29-353">Por ejemplo, la respuesta de la base de datos de SQL Server para el mensaje de solicitud anterior es:</span><span class="sxs-lookup"><span data-stu-id="77d29-353">For example, the response from the SQL Server database for the preceding request message is:</span></span>  
  
```  
<?xml version="1.0" encoding="utf-8" ?>   
<RequestResponse xmlns="http://CompositeTest.CompositeSchema">  
  <InsertResponse xmlns="http://schemas.microsoft.com/Sql/2008/05/TableOp/dbo/Employee">  
    <InsertResult>  
      <long xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">10080</long>   
    </InsertResult>  
  </InsertResponse>  
  <GET_LAST_EMP_DATAResponse xmlns="http://schemas.microsoft.com/Sql/2008/05/Procedures/dbo">  
    <GET_LAST_EMP_DATAResult>  
      <DataSet xmlns="http://schemas.datacontract.org/2004/07/System.Data">  
        <xs:schema id="NewDataSet" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata">  
          <xs:element msdata:IsDataSet="true" name="NewDataSet">  
            <xs:complexType>  
              <xs:sequence>  
                <xs:element minOccurs="0" maxOccurs="unbounded" name="NewTable">  
                  <xs:complexType>  
                    <xs:sequence>  
                      <xs:element minOccurs="0" name="Employee_ID" type="xs:int" />   
                      <xs:element minOccurs="0" name="Name" type="xs:string" />   
                      <xs:element minOccurs="0" name="DOJ" type="xs:dateTime" />   
                      <xs:element minOccurs="0" name="Designation" type="xs:string" />   
                      <xs:element minOccurs="0" name="Job_Description" type="xs:string" />   
                      <xs:element minOccurs="0" name="Photo" type="xs:base64Binary" />   
                      <xs:element minOccurs="0" name="Rating" type="xs:string" />   
                      <xs:element minOccurs="0" name="Salary" type="xs:decimal" />   
                      <xs:element minOccurs="0" name="Last_Modified" type="xs:base64Binary" />   
                    </xs:sequence>  
                  </xs:complexType>  
                </xs:element>  
              </xs:sequence>  
            </xs:complexType>  
          </xs:element>  
        </xs:schema>  
        <diffgr:diffgram xmlns:diffgr="urn:schemas-microsoft-com:xml-diffgram-v1">  
          <NewDataSet xmlns="">  
            <NewTable>  
              <Employee_ID>10080</Employee_ID>   
              <Name>John</Name>   
              <Designation>Manager</Designation>   
              <Salary>100000.00</Salary>   
              <Last_Modified>AAAAAAAAF40=</Last_Modified>   
            </NewTable>  
          </NewDataSet>  
        </diffgr:diffgram>  
      </DataSet>  
    </GET_LAST_EMP_DATAResult>  
    <ReturnValue>0</ReturnValue>   
  </GET_LAST_EMP_DATAResponse>  
  <DeleteResponse xmlns="http://schemas.microsoft.com/Sql/2008/05/TableOp/dbo/Employee">  
    <DeleteResult>1</DeleteResult>   
  </DeleteResponse>  
</RequestResponse>  
```  
  
 <span data-ttu-id="77d29-354">La respuesta anterior contiene varios conjuntos de resultados correspondiente a las diferentes operaciones realizadas como parte de la operación compuesta.</span><span class="sxs-lookup"><span data-stu-id="77d29-354">The preceding response contains multiple result sets corresponding the different operations performed as part of the composite operation.</span></span> <span data-ttu-id="77d29-355">Por ejemplo, el `InsertResult` elemento contiene 10080, que es el identificador único para el registro recién agregado.</span><span class="sxs-lookup"><span data-stu-id="77d29-355">For example, the `InsertResult` element contains 10080, which is the unique identifier for the newly added record.</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="77d29-356">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="77d29-356">Best Practices</span></span>  
 <span data-ttu-id="77d29-357">Una vez que haya implementado y configurado el proyecto de BizTalk, puede exportar opciones de configuración a un archivo XML llamado el archivo de enlace.</span><span class="sxs-lookup"><span data-stu-id="77d29-357">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the binding file.</span></span> <span data-ttu-id="77d29-358">Cuando genere un archivo de enlace, puede importar los valores de configuración desde el archivo, por lo que no es necesario crear elementos como puertos de envío y recepción para la misma orquestación.</span><span class="sxs-lookup"><span data-stu-id="77d29-358">Once you generate a binding file, you can import the configuration settings from the file, so that you do not need to create items such as send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="77d29-359">Para obtener más información acerca de los archivos de enlace, consulte [reutilizar los enlaces del adaptador](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="77d29-359">For more information about binding files, see [Reuse adapter bindings](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="77d29-360">Vea también</span><span class="sxs-lookup"><span data-stu-id="77d29-360">See Also</span></span>  
[<span data-ttu-id="77d29-361">Desarrollar aplicaciones de BizTalk con el adaptador de SQL</span><span class="sxs-lookup"><span data-stu-id="77d29-361">Develop BizTalk applications using the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/develop-biztalk-applications-using-the-sql-adapter.md)