---
title: Recibir llamadas de RFC de entrada de SAP mediante BizTalk Server | Documentos de Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: RFC calls, receiving using BizTalk Server
ms.assetid: 822fd9fb-772f-4910-a11e-25c1d5dca6e1
caps.latest.revision: "9"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bb1c9ba4d51b0c1b402c35c5f4763e4a934de085
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="receive-inbound-rfc-calls-from-sap-using-biztalk-server"></a><span data-ttu-id="eda45-102">Recibir llamadas de RFC de entrada de SAP con BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="eda45-102">Receive Inbound RFC Calls from SAP using BizTalk Server</span></span>
<span data-ttu-id="eda45-103">En un escenario de servidor RFC, hay tres entidades:</span><span class="sxs-lookup"><span data-stu-id="eda45-103">In an RFC server scenario, there are three entities:</span></span>  
  
-   <span data-ttu-id="eda45-104">Un cliente SAP que envía una solicitud a SAP para invocar una solicitud de cambio.</span><span class="sxs-lookup"><span data-stu-id="eda45-104">An SAP client that sends a request to SAP to invoke an RFC.</span></span> <span data-ttu-id="eda45-105">Esto se podría invocar mediante la GUI de SAP o mediante la realización de un cliente RFC llaman a través de la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eda45-105">This could be invoked either by using the SAP GUI or by making an RFC client call through the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
-   <span data-ttu-id="eda45-106">El sistema SAP que contiene una definición de función RFC, se invoca el cliente SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-106">The SAP system that contains an RFC function definition that the SAP client invokes.</span></span> <span data-ttu-id="eda45-107">El sistema SAP se pasa en la solicitud al servidor RFC (el adaptador).</span><span class="sxs-lookup"><span data-stu-id="eda45-107">The SAP system passes on the request to the RFC server (the adapter).</span></span> <span data-ttu-id="eda45-108">Se usa el adaptador para obtener los metadatos de la llamada RFC que realiza el servidor SAP en el adaptador.</span><span class="sxs-lookup"><span data-stu-id="eda45-108">This is used by the adapter to get the metadata of the RFC call that the SAP server makes into the adapter.</span></span>  
  
-   <span data-ttu-id="eda45-109">La [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] que actúa como el servidor RFC y hospeda la solicitud de cambio real.</span><span class="sxs-lookup"><span data-stu-id="eda45-109">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] that acts as the RFC server and hosts the actual RFC.</span></span>  
  
 <span data-ttu-id="eda45-110">La primera entidad, el cliente SAP, no se describe en este tema.</span><span class="sxs-lookup"><span data-stu-id="eda45-110">The first entity, the SAP client, is not discussed in this topic.</span></span> <span data-ttu-id="eda45-111">Si usas la GUI de SAP para invocar una solicitud de cambio, consulte la documentación de SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-111">If you are using the SAP GUI to invoke an RFC, refer to SAP documentation.</span></span> <span data-ttu-id="eda45-112">Si usas el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] para invocar una solicitud de cambio, consulte [invocar RFC en SAP utilizando BizTalk Server](../../adapters-and-accelerators/adapter-sap/invoke-rfcs-in-sap-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-112">If you are using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] to invoke an RFC, see [Invoke RFCs in SAP by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/invoke-rfcs-in-sap-using-biztalk-server.md).</span></span>  
  
 <span data-ttu-id="eda45-113">Esta sección proporciona instrucciones sobre cómo usar el adaptador para recibir una llamada de servidor RFC, tras la solicitud de cambio es invocado por un cliente SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-113">This section provides instructions on how to use the adapter to receive an RFC server call, once the RFC is invoked by an SAP client.</span></span> <span data-ttu-id="eda45-114">Para obtener más información sobre cómo el adaptador es compatible con RFC receptora server llama usando la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)], consulte [operaciones en RFC en SAP](../../adapters-and-accelerators/adapter-sap/operations-on-rfcs-in-sap.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-114">For more information on how the adapter supports receiving RFC server calls using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)], see [Operations on RFCs in SAP](../../adapters-and-accelerators/adapter-sap/operations-on-rfcs-in-sap.md).</span></span>  
  
## <a name="how-to-receive-an-inbound-rfc-call-from-the-sap-system"></a><span data-ttu-id="eda45-115">¿Cómo recibir una llamada de RFC entrantes desde el sistema SAP?</span><span class="sxs-lookup"><span data-stu-id="eda45-115">How to Receive an Inbound RFC Call from the SAP System?</span></span>  
 <span data-ttu-id="eda45-116">Realizar una operación en un sistema SAP mediante [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] implica procedimientos tareas que se describen en [bloques de creación para crear aplicaciones de SAP](../../adapters-and-accelerators/adapter-sap/building-blocks-to-create-sap-applications.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-116">Performing an operation on an SAP system using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves procedural tasks described in [Building blocks to create SAP applications](../../adapters-and-accelerators/adapter-sap/building-blocks-to-create-sap-applications.md).</span></span> <span data-ttu-id="eda45-117">Para recibir una llamada de RFC desde el sistema SAP, estas tareas son:</span><span class="sxs-lookup"><span data-stu-id="eda45-117">To receive an RFC call from the SAP system, these tasks are:</span></span>  
  
1.  <span data-ttu-id="eda45-118">Configurar el sistema SAP para enviar RFC a una aplicación externa, en este caso el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eda45-118">Configure your SAP system to send RFC to an external application, in this case the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
2.  <span data-ttu-id="eda45-119">Crear un proyecto de BizTalk y generar esquema para la solicitud de cambio que el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] va a recibir desde el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-119">Create a BizTalk project and generate schema for the RFC that the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] will be receiving from the SAP system.</span></span>  
  
3.  <span data-ttu-id="eda45-120">Crear mensajes en el proyecto de BizTalk para recibir mensajes desde el sistema SAP y enviar respuestas.</span><span class="sxs-lookup"><span data-stu-id="eda45-120">Create messages in the BizTalk project for receiving messages from the SAP system and sending responses.</span></span>  
  
4.  <span data-ttu-id="eda45-121">Crear una orquestación para recibir una solicitud de cambio desde el sistema SAP, procesarlo y enviar la respuesta al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-121">Create an orchestration to receive an RFC from the SAP system, process it, and send the response to the SAP system.</span></span>  
  
5.  <span data-ttu-id="eda45-122">Compilar e implementar el proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eda45-122">Build and deploy the BizTalk project.</span></span>  
  
6.  <span data-ttu-id="eda45-123">Configurar la aplicación mediante la creación física de envío y puertos de recepción de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eda45-123">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
7.  <span data-ttu-id="eda45-124">Inicie la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eda45-124">Start the BizTalk application.</span></span>  
  
 <span data-ttu-id="eda45-125">Este tema proporciona instrucciones para realizar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="eda45-125">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="activities-on-the-sap-system"></a><span data-ttu-id="eda45-126">Actividades en el sistema SAP</span><span class="sxs-lookup"><span data-stu-id="eda45-126">Activities on the SAP System</span></span>  
 <span data-ttu-id="eda45-127">Antes de usar el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] para recibir llamadas RFC entrantes desde el sistema SAP, asegúrese de completar las tareas siguientes en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-127">Before using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] to receive inbound RFC calls from the SAP system, make sure you complete the following tasks on the SAP system.</span></span>  
  
-   <span data-ttu-id="eda45-128">Debe existir un destino RFC para el adaptador SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-128">An RFC destination for the SAP adapter must exist.</span></span> <span data-ttu-id="eda45-129">El [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] recibe las solicitudes de cambio desde el sistema SAP a través de un destino RFC definido en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-129">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] receives RFCs from the SAP system through an RFC destination defined on the SAP system.</span></span> <span data-ttu-id="eda45-130">El destino RFC que contiene el Host de puerta de enlace de SAP, el servicio de puerta de enlace de SAP y el identificador de programa de SAP que debe especificar en el URI de conexión en el código.</span><span class="sxs-lookup"><span data-stu-id="eda45-130">The RFC destination contains the SAP Gateway Host, the SAP Gateway Service, and the SAP Program ID that you must specify in the connection URI in your code.</span></span> <span data-ttu-id="eda45-131">Para obtener información acerca de cómo configurar un destino RFC en SAP, consulte [crear una solicitud de cambio, el destino de RFC y enviar una solicitud de cambio de sistema SAP](creating-an-rfc-in-an-sap-system.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-131">For information about how to setup an RFC destination on SAP, see [Create an RFC, RFC destination, and send an RFC from SAP system](creating-an-rfc-in-an-sap-system.md).</span></span>  
  
-   <span data-ttu-id="eda45-132">Debe crear un módulo de función que define la solicitud de cambio en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-132">You must create a function module that defines the RFC on the SAP system.</span></span> <span data-ttu-id="eda45-133">El [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] usa la definición de RFC en el sistema SAP para recuperar metadatos sobre la solicitud de cambio (tanto en tiempo de diseño y en tiempo de ejecución).</span><span class="sxs-lookup"><span data-stu-id="eda45-133">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses the RFC definition on the SAP system to retrieve metadata about the RFC (both at design-time and at runtime).</span></span> <span data-ttu-id="eda45-134">Para obtener más información, consulte [crear una solicitud de cambio en un sistema SAP](../../adapters-and-accelerators/adapter-sap/creating-an-rfc-in-an-sap-system.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-134">For more information see [Creating an RFC in an SAP System](../../adapters-and-accelerators/adapter-sap/creating-an-rfc-in-an-sap-system.md).</span></span>  
  
     <span data-ttu-id="eda45-135">El siguiente es un ejemplo del código fuente en el sistema SAP para una solicitud de cambio que agrega dos enteros y devuelve su resultado.</span><span class="sxs-lookup"><span data-stu-id="eda45-135">The following is an example of the source code on the SAP system for an RFC that adds two integers and returns their result.</span></span> <span data-ttu-id="eda45-136">El código llama simplemente la solicitud de cambio a través de un destino especificado.</span><span class="sxs-lookup"><span data-stu-id="eda45-136">The code merely calls the RFC through a specified destination.</span></span> <span data-ttu-id="eda45-137">La implementación de la función se realiza mediante el código de cliente del adaptador SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-137">The implementation of the function is done by the SAP adapter client code.</span></span>  
  
    ```  
    FUNCTION Z_RFC_ADD.  
    *"------------------------------------------------------------------  
    *"  
    *"Local interface:  
    *"  IMPORTING  
    *"     VALUE(X) TYPE  INT4  
    *"     VALUE(Y) TYPE  INT4  
    *"     VALUE(DEST) TYPE  CHAR20 DEFAULT 'SAPADAPTER'  
    *"  EXPORTING  
    *"     VALUE(RESULT) TYPE  INT4  
    *"------------------------------------------------------------------  
    CALL FUNCTION 'Z_RFC_ADD' DESTINATION DEST  
      EXPORTING X = X  
                Y = Y  
      IMPORTING RESULT = RESULT.  
  
    ENDFUNCTION.  
    ```  
  
## <a name="sample-based-on-this-topic"></a><span data-ttu-id="eda45-138">Ejemplo basado en este tema</span><span class="sxs-lookup"><span data-stu-id="eda45-138">Sample Based On This Topic</span></span>  
 <span data-ttu-id="eda45-139">Un ejemplo, RFCServer, basado en este tema también se proporciona con el [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eda45-139">A sample, RFCServer, based on this topic is also provided with the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span> <span data-ttu-id="eda45-140">Para obtener más información, consulte [ejemplos para el adaptador SAP](../../adapters-and-accelerators/adapter-sap/samples-for-the-sap-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-140">For more information, see [Samples for the SAP adapter](../../adapters-and-accelerators/adapter-sap/samples-for-the-sap-adapter.md).</span></span>  
  
## <a name="generating-the-schema"></a><span data-ttu-id="eda45-141">Generar el esquema</span><span class="sxs-lookup"><span data-stu-id="eda45-141">Generating the Schema</span></span>  
 <span data-ttu-id="eda45-142">En este tema, para demostrar cómo recibir una llamada RFC entrante desde el sistema SAP, se genera el esquema para *Z_RFC_ADD* RFC.</span><span class="sxs-lookup"><span data-stu-id="eda45-142">In this topic, to demonstrate how to receive an inbound RFC call from the SAP system, we generate the schema for *Z_RFC_ADD* RFC.</span></span> <span data-ttu-id="eda45-143">Este RFC ha creado en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="eda45-143">You created this RFC in the previous step.</span></span> <span data-ttu-id="eda45-144">Este RFC toma dos valores enteros como parámetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="eda45-144">This RFC takes two integer values as input parameters.</span></span>  
  
 <span data-ttu-id="eda45-145">Vea [exploración, búsqueda y get de metadatos para las operaciones de RFC en SAP](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-rfc-operations-in-sap.md) para obtener instrucciones sobre cómo generar el esquema para un determinado RFC.</span><span class="sxs-lookup"><span data-stu-id="eda45-145">See [Browse, search, and get Metadata for RFC Operations in SAP](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-rfc-operations-in-sap.md) for instructions on how to generate schema for a particular RFC.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="eda45-146">Dado que va a generar el esquema para una llamada entrante de RFC, asegúrese de seleccionar **servicio (operación entrante)** desde el **seleccione el tipo de contrato** lista desplegable situada en la [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eda45-146">Because you are generating the schema for an inbound RFC call, make sure you select **Service (Inbound operation)** from the **Select contract type** drop-down list in the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)].</span></span>  
  
## <a name="defining-messages-and-message-types"></a><span data-ttu-id="eda45-147">Definición de mensajes y tipos de mensaje</span><span class="sxs-lookup"><span data-stu-id="eda45-147">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="eda45-148">El esquema que ha generado anteriormente describe los "tipos" necesarios para los mensajes en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="eda45-148">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="eda45-149">Un mensaje suele ser una variable, el tipo para el que está definido por el esquema correspondiente.</span><span class="sxs-lookup"><span data-stu-id="eda45-149">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="eda45-150">Debe vincular el esquema generado en el primer paso para los mensajes desde la vista de orquestación de BizTalk del proyecto.</span><span class="sxs-lookup"><span data-stu-id="eda45-150">You must link the schema you generated in the first step to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="eda45-151">En este tema, debe crear dos mensajes: uno para recibir mensajes desde el sistema SAP y el otro para enviar una respuesta al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-151">For this topic, you must create two messages—one to receive messages from the SAP system and the other to send a response to the SAP system.</span></span>  
  
 <span data-ttu-id="eda45-152">Realice los pasos siguientes para crear mensajes y vincularlas al esquema:</span><span class="sxs-lookup"><span data-stu-id="eda45-152">Perform the following steps to create messages and link them to the schema:</span></span>  
  
#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="eda45-153">Para crear mensajes y vincular al esquema</span><span class="sxs-lookup"><span data-stu-id="eda45-153">To create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="eda45-154">Agregue una nueva orquestación al proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eda45-154">Add a new orchestration to the BizTalk project.</span></span>  
  
2.  <span data-ttu-id="eda45-155">Abra la vista de orquestación del proyecto de BizTalk, si no está abierto.</span><span class="sxs-lookup"><span data-stu-id="eda45-155">Open the orchestration view the BizTalk project, if not already open.</span></span> <span data-ttu-id="eda45-156">Haga clic en **vista**, seleccione **otras ventanas**y haga clic en **Vista orquestación**.</span><span class="sxs-lookup"><span data-stu-id="eda45-156">Click **View**, point to **Other Windows**, and click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="eda45-157">En el **Vista orquestación**, haga clic en **mensajes**y, a continuación, haga clic en **nuevo mensaje**.</span><span class="sxs-lookup"><span data-stu-id="eda45-157">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="eda45-158">Haga clic en el recién crear mensaje y seleccione **ventana propiedades**.</span><span class="sxs-lookup"><span data-stu-id="eda45-158">Right-click the newly create message and select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="eda45-159">En el **propiedades** panel para **Message_1**, realice lo siguiente.</span><span class="sxs-lookup"><span data-stu-id="eda45-159">In the **Properties** pane for **Message_1**, do the following.</span></span>  
  
    |<span data-ttu-id="eda45-160">Use</span><span class="sxs-lookup"><span data-stu-id="eda45-160">Use this</span></span>|<span data-ttu-id="eda45-161">Para</span><span class="sxs-lookup"><span data-stu-id="eda45-161">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="eda45-162">Identificador</span><span class="sxs-lookup"><span data-stu-id="eda45-162">Identifier</span></span>|<span data-ttu-id="eda45-163">Tipo de **solicitar**.</span><span class="sxs-lookup"><span data-stu-id="eda45-163">Type **Request**.</span></span>|  
    |<span data-ttu-id="eda45-164">Tipo de mensaje</span><span class="sxs-lookup"><span data-stu-id="eda45-164">Message Type</span></span>|<span data-ttu-id="eda45-165">En la lista desplegable, expanda **esquemas**y seleccione *RFCServer.SAPBindingSchema.Z_RFC_ADD*, donde *RFCServer* es el nombre de su proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eda45-165">From the drop-down list, expand **Schemas**, and select *RFCServer.SAPBindingSchema.Z_RFC_ADD*, where *RFCServer* is the name of your BizTalk project.</span></span> <span data-ttu-id="eda45-166">*SAPBindingSchema* es el esquema generado para la solicitud de cambio *Z_RFC_ADD*.</span><span class="sxs-lookup"><span data-stu-id="eda45-166">*SAPBindingSchema* is the schema generated for the RFC *Z_RFC_ADD*.</span></span>|  
  
6.  <span data-ttu-id="eda45-167">Repita el paso 2 para crear un nuevo mensaje.</span><span class="sxs-lookup"><span data-stu-id="eda45-167">Repeat step 2 to create a new message.</span></span> <span data-ttu-id="eda45-168">En el **propiedades** panel para el nuevo mensaje, haga lo siguiente.</span><span class="sxs-lookup"><span data-stu-id="eda45-168">In the **Properties** pane for the new message, do the following.</span></span>  
  
    |<span data-ttu-id="eda45-169">Use</span><span class="sxs-lookup"><span data-stu-id="eda45-169">Use this</span></span>|<span data-ttu-id="eda45-170">Para</span><span class="sxs-lookup"><span data-stu-id="eda45-170">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="eda45-171">Identificador</span><span class="sxs-lookup"><span data-stu-id="eda45-171">Identifier</span></span>|<span data-ttu-id="eda45-172">Tipo de **respuesta**.</span><span class="sxs-lookup"><span data-stu-id="eda45-172">Type **Response**.</span></span>|  
    |<span data-ttu-id="eda45-173">Tipo de mensaje</span><span class="sxs-lookup"><span data-stu-id="eda45-173">Message Type</span></span>|<span data-ttu-id="eda45-174">En la lista desplegable, expanda **esquemas**y seleccione *RFCServer.SAPBindingSchema.Z_RFC_ADDResponse*.</span><span class="sxs-lookup"><span data-stu-id="eda45-174">From the drop-down list, expand **Schemas**, and select *RFCServer.SAPBindingSchema.Z_RFC_ADDResponse*.</span></span>|  
  
## <a name="setting-up-the-orchestration"></a><span data-ttu-id="eda45-175">Configuración de la orquestación</span><span class="sxs-lookup"><span data-stu-id="eda45-175">Setting up the Orchestration</span></span>  
 <span data-ttu-id="eda45-176">Debe crear una orquestación de BizTalk para usar [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] para recibir llamadas de servidor RFC desde el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-176">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving RFC server calls from the SAP system.</span></span> <span data-ttu-id="eda45-177">En este ejemplo, considere un escenario donde un cliente RFC envía una solicitud al sistema SAP para agregar dos enteros.</span><span class="sxs-lookup"><span data-stu-id="eda45-177">For this example, consider a scenario where an RFC client sends a request to the SAP system to add two integers.</span></span> <span data-ttu-id="eda45-178">El sistema SAP recibe la solicitud, con los parámetros de entrada y lo pasa al servidor RFC externo hospedado por la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eda45-178">The SAP system takes the request, with the input parameters, and passes it on to the external RFC server hosted by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="eda45-179">El [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] recibe la solicitud desde el sistema SAP, proceso de la solicitud para agregar dos números enteros y genera una respuesta.</span><span class="sxs-lookup"><span data-stu-id="eda45-179">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] receives the request from the SAP system, process the request to add two integers, and generates a response.</span></span> <span data-ttu-id="eda45-180">El [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] pasa la respuesta al sistema SAP, que a su vez, se pasa al cliente RFC.</span><span class="sxs-lookup"><span data-stu-id="eda45-180">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] passes the response to the SAP system, which in turn, is passed on to the RFC client.</span></span>  
  
 <span data-ttu-id="eda45-181">Para lograr esto como parte de una orquestación, la orquestación debe contener:</span><span class="sxs-lookup"><span data-stu-id="eda45-181">To achieve this as part of an orchestration, the orchestration must contain:</span></span>  
  
-   <span data-ttu-id="eda45-182">Puerto para recibir la solicitud al servidor RFC desde el sistema SAP y enviar la respuesta de recepción bidireccional.</span><span class="sxs-lookup"><span data-stu-id="eda45-182">A two-way receive port to receive the RFC server request from the SAP system and send the response.</span></span>  
  
-   <span data-ttu-id="eda45-183">Formas de recepción y envío.</span><span class="sxs-lookup"><span data-stu-id="eda45-183">Send and Receive shapes.</span></span>  
  
-   <span data-ttu-id="eda45-184">Forma construir mensaje, y en el que una forma asignación de mensajes, para procesar la solicitud al servidor RFC procedentes del sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-184">Construct Message shape, and within that a Message Assignment shape, to process the RFC server request coming from the SAP system.</span></span>  
  
 <span data-ttu-id="eda45-185">Una orquestación de ejemplo para una llamada de servidor RFC es similar al siguiente.</span><span class="sxs-lookup"><span data-stu-id="eda45-185">A sample orchestration for an RFC server call resembles the following.</span></span>  
  
 <span data-ttu-id="eda45-186">![Orquestación para realizar servidor RFC llamada](../../adapters-and-accelerators/adapter-sap/media/f5da2947-56d6-41f0-b411-c8e6eacf68cd.gif "f5da2947-56d6-41f0-b411-c8e6eacf68cd")</span><span class="sxs-lookup"><span data-stu-id="eda45-186">![Orchestration to make RFC server call](../../adapters-and-accelerators/adapter-sap/media/f5da2947-56d6-41f0-b411-c8e6eacf68cd.gif "f5da2947-56d6-41f0-b411-c8e6eacf68cd")</span></span>  
  
### <a name="adding-message-shapes"></a><span data-ttu-id="eda45-187">Agregar formas de mensaje</span><span class="sxs-lookup"><span data-stu-id="eda45-187">Adding Message Shapes</span></span>  
 <span data-ttu-id="eda45-188">Asegúrese de que especifique las siguientes propiedades para cada una de las formas de mensaje.</span><span class="sxs-lookup"><span data-stu-id="eda45-188">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="eda45-189">Los nombres que aparecen en la *forma* columna son los nombres de las formas de mensaje como se muestra en la orquestación anterior.</span><span class="sxs-lookup"><span data-stu-id="eda45-189">The names listed in the *Shape* column are the names of the message shapes as displayed in the preceding orchestration.</span></span>  
  
|<span data-ttu-id="eda45-190">Forma</span><span class="sxs-lookup"><span data-stu-id="eda45-190">Shape</span></span>|<span data-ttu-id="eda45-191">Tipo de forma</span><span class="sxs-lookup"><span data-stu-id="eda45-191">Shape Type</span></span>|<span data-ttu-id="eda45-192">Propiedades</span><span class="sxs-lookup"><span data-stu-id="eda45-192">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="eda45-193">ListenToSAP</span><span class="sxs-lookup"><span data-stu-id="eda45-193">ListenToSAP</span></span>|<span data-ttu-id="eda45-194">Receive</span><span class="sxs-lookup"><span data-stu-id="eda45-194">Receive</span></span>|<span data-ttu-id="eda45-195">-Establecer **nombre** a *ListenToSAP*</span><span class="sxs-lookup"><span data-stu-id="eda45-195">-   Set **Name** to *ListenToSAP*</span></span><br /><span data-ttu-id="eda45-196">-Establecer **activar** a *es True*</span><span class="sxs-lookup"><span data-stu-id="eda45-196">-   Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="eda45-197">SendResponse</span><span class="sxs-lookup"><span data-stu-id="eda45-197">SendResponse</span></span>|<span data-ttu-id="eda45-198">Send</span><span class="sxs-lookup"><span data-stu-id="eda45-198">Send</span></span>|<span data-ttu-id="eda45-199">-Establecer **nombre** a *SendResponse*</span><span class="sxs-lookup"><span data-stu-id="eda45-199">-   Set **Name** to *SendResponse*</span></span>|  
  
### <a name="adding-construct-message-shape"></a><span data-ttu-id="eda45-200">Agregar forma construir mensaje</span><span class="sxs-lookup"><span data-stu-id="eda45-200">Adding Construct Message Shape</span></span>  
 <span data-ttu-id="eda45-201">Para procesar la llamada RFC entrante para agregar dos valores enteros, debe agregar una forma construir mensaje y en el que una forma asignación de mensajes a la orquestación, entre las dos formas de envío.</span><span class="sxs-lookup"><span data-stu-id="eda45-201">To process the incoming RFC call to add two integer values, you must add a Construct Message shape and within that a Message Assignment shape to your orchestration, between the two send shapes.</span></span> <span data-ttu-id="eda45-202">En este ejemplo, la forma asignación de mensajes, se invoca para agregar dos enteros.</span><span class="sxs-lookup"><span data-stu-id="eda45-202">For this example, the Message Assignment shape invokes to add two integers.</span></span> <span data-ttu-id="eda45-203">La forma asignación de mensajes también establece la acción de la respuesta que se enviarán al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-203">The Message Assignment shape also sets the action for the response to be sent to the SAP system.</span></span>  
  
 <span data-ttu-id="eda45-204">Para la forma construir mensaje, establezca la **construir mensaje** propiedad **respuesta**.</span><span class="sxs-lookup"><span data-stu-id="eda45-204">For the Construct Message shape, set the **Message Constructed** property to **Response**.</span></span>  
  
 <span data-ttu-id="eda45-205">El código para procesar la solicitud RFC podría formar parte de la misma solución de Visual Studio que el proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eda45-205">The code to process the RFC request could be part of the same Visual Studio solution as your BizTalk project.</span></span> <span data-ttu-id="eda45-206">Código de ejemplo para sumar dos enteros tiene el siguiente aspecto.</span><span class="sxs-lookup"><span data-stu-id="eda45-206">A sample code for adding two integers looks like this.</span></span>  
  
```  
namespace RFCServerResponseCreator  
{  
    public class RFCServerResponseCreator  
    {  
        private static XmlDocument messageIn;  
        private static XmlDocument messageOut;  
        public static XmlDocument CreateRequest(int a, int b, string destination)  
        {  
            messageIn = new XmlDocument();  
            messageIn.LoadXml(  "\<Z_RFC_ADD xmlns=\"http://Microsoft.LobServices.Sap/2007/03/Rfc/\">" +  
                                "<DEST>" + destination + "</DEST>" +  
                                "<X>" + a + "</X>" +  
                                "<Y>" + b + "</Y>" +   
                                "</Z_RFC_ADD>"  
                             );  
            return messageIn;  
        }  
        public static XmlDocument CreateResponse(int a, int b)  
        {  
            int c = a + b;  
            messageOut = new XmlDocument();  
            messageOut.LoadXml( "\<Z_RFC_ADDResponse xmlns=\"http://Microsoft.LobServices.Sap/2007/03/Rfc/\">" +  
                                "<RESULT>" + c + "</RESULT>" +   
                                "</Z_RFC_ADDResponse>"  
                              );  
            return messageOut;  
        }  
    }  
}  
```  
  
> [!NOTE]
>  <span data-ttu-id="eda45-207">Después de compilar el proyecto, RFCServerResponseCreator.dll se creará en el directorio del proyecto.</span><span class="sxs-lookup"><span data-stu-id="eda45-207">After you build the project, RFCServerResponseCreator.dll will be created in the project directory.</span></span> <span data-ttu-id="eda45-208">Debe agregar este archivo DLL a la caché de ensamblados global (GAC).</span><span class="sxs-lookup"><span data-stu-id="eda45-208">You must add this DLL to the global assembly cache (GAC).</span></span>  
  
 <span data-ttu-id="eda45-209">Agregue la siguiente expresión para invocar este código de la forma asignación de mensajes y establecer la acción para la respuesta enviada al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-209">Add the following expression to invoke this code from the Message Assignment shape and to set the action for the response sent to the SAP system.</span></span> <span data-ttu-id="eda45-210">Para agregar una expresión, haga doble clic en la forma asignación de mensajes para abrir el Editor de expresiones.</span><span class="sxs-lookup"><span data-stu-id="eda45-210">To add an expression, double-click the Message Assignment shape to open the Expression Editor.</span></span>  
  
```  
Response = RFCServerResponseCreator.RFCServerResponseCreator.CreateResponse(Request.X, Request.Y);  
Response(WCF.Action) = "http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADD/response";  
```  
  
> [!IMPORTANT]
>  <span data-ttu-id="eda45-211">Debe establecer explícitamente la acción en el mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="eda45-211">You must explicitly set the action on the response message.</span></span> <span data-ttu-id="eda45-212">Si no establece la acción, adaptador de WCF-Custom llega en el mensaje de acción mediante la anexión de "Respuesta" a la acción de solicitud.</span><span class="sxs-lookup"><span data-stu-id="eda45-212">If you do not set the action, WCF-Custom adapter arrives at the action message by appending “Response” to the request action.</span></span> <span data-ttu-id="eda45-213">Por lo tanto, se convierte en la acción para el mensaje de respuesta `http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADDResponse`.</span><span class="sxs-lookup"><span data-stu-id="eda45-213">So, the action for the response message becomes `http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADDResponse`.</span></span> <span data-ttu-id="eda45-214">Sin embargo, la sapBinding espera a que la acción de respuesta anexando "/ respuesta" a la acción de solicitud, por ejemplo `http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADD/response`.</span><span class="sxs-lookup"><span data-stu-id="eda45-214">However, the sapBinding expects the response action by appending “/response” to the request action, for example `http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADD/response`.</span></span>  
  
### <a name="adding-ports"></a><span data-ttu-id="eda45-215">Agregar puertos</span><span class="sxs-lookup"><span data-stu-id="eda45-215">Adding Ports</span></span>  
 <span data-ttu-id="eda45-216">Asegúrese de que especificar las siguientes propiedades para el puerto lógico.</span><span class="sxs-lookup"><span data-stu-id="eda45-216">Make sure you specify the following properties for the logical port.</span></span> <span data-ttu-id="eda45-217">El nombre que aparece en el *puerto* columna es el nombre del puerto, tal como se muestra en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="eda45-217">The name listed in the *Port* column is the name of the port as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="eda45-218">Puerto</span><span class="sxs-lookup"><span data-stu-id="eda45-218">Port</span></span>|<span data-ttu-id="eda45-219">Propiedades</span><span class="sxs-lookup"><span data-stu-id="eda45-219">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="eda45-220">RFCServerPort</span><span class="sxs-lookup"><span data-stu-id="eda45-220">RFCServerPort</span></span>|<span data-ttu-id="eda45-221">-Establecer **identificador** a *RFCServerPort*</span><span class="sxs-lookup"><span data-stu-id="eda45-221">-   Set **Identifier** to *RFCServerPort*</span></span><br /><span data-ttu-id="eda45-222">-Establecer **tipo** a *RFCServerPortType*</span><span class="sxs-lookup"><span data-stu-id="eda45-222">-   Set **Type** to *RFCServerPortType*</span></span><br /><span data-ttu-id="eda45-223">-Establecer **patrón de comunicación** a *solicitudes y respuestas*</span><span class="sxs-lookup"><span data-stu-id="eda45-223">-   Set **Communication Pattern** to *Request-Response*</span></span><br /><span data-ttu-id="eda45-224">-Establecer **dirección de comunicación** a *envío recepción*</span><span class="sxs-lookup"><span data-stu-id="eda45-224">-   Set **Communication Direction** to *Receive-Send*</span></span>|  
  
## <a name="specify-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="eda45-225">Especificar mensajes de las formas Acción y conectar a los puertos</span><span class="sxs-lookup"><span data-stu-id="eda45-225">Specify Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="eda45-226">En la tabla siguiente especifica las propiedades y los valores que se pueden establecer para especificar los mensajes para formas de acción y vincularlos a los puertos.</span><span class="sxs-lookup"><span data-stu-id="eda45-226">The following table specifies the properties and their values to be set to specify messages for action shapes and linking them to the ports.</span></span> <span data-ttu-id="eda45-227">Los nombres que aparecen en la *forma* columna son los nombres de las formas de mensaje como se muestra en la orquestación anterior.</span><span class="sxs-lookup"><span data-stu-id="eda45-227">The names listed in the *Shape* column are the names of the message shapes as displayed in the preceding orchestration.</span></span>  
  
|<span data-ttu-id="eda45-228">Forma</span><span class="sxs-lookup"><span data-stu-id="eda45-228">Shape</span></span>|<span data-ttu-id="eda45-229">Propiedades</span><span class="sxs-lookup"><span data-stu-id="eda45-229">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="eda45-230">ListenToSAP</span><span class="sxs-lookup"><span data-stu-id="eda45-230">ListenToSAP</span></span>|<span data-ttu-id="eda45-231">-Establecer **mensaje** a *de solicitud*</span><span class="sxs-lookup"><span data-stu-id="eda45-231">-   Set **Message** to *Request*</span></span><br /><span data-ttu-id="eda45-232">-Establecer **operación** a *RFCServerPort.Add.Request*</span><span class="sxs-lookup"><span data-stu-id="eda45-232">-   Set **Operation** to *RFCServerPort.Add.Request*</span></span>|  
|<span data-ttu-id="eda45-233">SendResponse</span><span class="sxs-lookup"><span data-stu-id="eda45-233">SendResponse</span></span>|<span data-ttu-id="eda45-234">-Establecer **mensaje** a *FuncResponse*</span><span class="sxs-lookup"><span data-stu-id="eda45-234">-   Set **Message** to *FuncResponse*</span></span><br /><span data-ttu-id="eda45-235">-Establecer **operación** a *RFCServerPort.Add.Response*</span><span class="sxs-lookup"><span data-stu-id="eda45-235">-   Set **Operation** to *RFCServerPort.Add.Response*</span></span>|  
  
 <span data-ttu-id="eda45-236">Después de especificar estas propiedades, las formas de mensaje y los puertos que están conectados y la orquestación se completa.</span><span class="sxs-lookup"><span data-stu-id="eda45-236">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  
  
 <span data-ttu-id="eda45-237">Debe compilar ahora la solución de BizTalk y, a continuación, implementarlo en un servidor BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="eda45-237">You must now build the BizTalk solution and then deploy it to a BizTalk Server.</span></span> <span data-ttu-id="eda45-238">Para obtener más información, consulte [compilar y ejecutar orquestaciones](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-238">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>
  
## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="eda45-239">Configuración de la aplicación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="eda45-239">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="eda45-240">Después de haber implementado el proyecto de BizTalk, aparece la orquestación que creó anteriormente en el **orquestaciones** panel de la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="eda45-240">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="eda45-241">Debe usar la consola de administración de BizTalk Server para configurar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eda45-241">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="eda45-242">Para obtener más información acerca de cómo configurar una aplicación, consulte [cómo configurar una aplicación](../../core/how-to-configure-an-application.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-242">For more information about configuring an application, see [How to Configure an Application](../../core/how-to-configure-an-application.md).</span></span>
  
 <span data-ttu-id="eda45-243">Configuración de una aplicación implica:</span><span class="sxs-lookup"><span data-stu-id="eda45-243">Configuring an application involves:</span></span>  
  
-   <span data-ttu-id="eda45-244">Selección de un host de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eda45-244">Selecting a host for the application.</span></span>  
  
-   <span data-ttu-id="eda45-245">Asignación de los puertos que ha creado en la orquestación con puertos físicos en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="eda45-245">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="eda45-246">Para que esta orquestación debe:</span><span class="sxs-lookup"><span data-stu-id="eda45-246">For this orchestration you must:</span></span>  
  
    -   <span data-ttu-id="eda45-247">Definir un WCF-Custom o puerto de recepción de WCF-SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-247">Define a WCF-Custom or WCF-SAP receive port.</span></span> <span data-ttu-id="eda45-248">Este puerto recibirá llamadas RFC entrantes desde el sistema SAP y enviará la respuesta al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-248">This port will receive inbound RFC calls from the SAP system and will send the response back to the SAP system.</span></span> <span data-ttu-id="eda45-249">Para obtener información sobre cómo crear puertos, consulte [configurar manualmente un enlace de puerto físico para el adaptador SAP](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-249">For information about how to create ports, see [Manually configure a physical port binding to the SAP adapter](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="eda45-250">Generar el esquema mediante el [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] también crea un archivo de enlace que contiene información sobre los puertos y las acciones que se establecerá para esos puertos.</span><span class="sxs-lookup"><span data-stu-id="eda45-250">Generating the schema using the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] also creates a binding file containing information about the ports and the actions to be set for those ports.</span></span> <span data-ttu-id="eda45-251">Puede importar este archivo de enlace desde la consola de administración de BizTalk para crear puertos de envío (para las llamadas salientes) o puertos de recepción (para las llamadas entrantes).</span><span class="sxs-lookup"><span data-stu-id="eda45-251">You can import this binding file from the BizTalk Administration Console to create send ports (for outbound calls) or receive ports (for inbound calls).</span></span> <span data-ttu-id="eda45-252">Para obtener más información, consulte [configurar un enlace de puerto físico mediante un archivo de enlace de puerto a SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-252">For more information, see [Configure a physical port binding using a port binding file to SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span></span>
  
 <span data-ttu-id="eda45-253">También debe agregar el ensamblado del proyecto RFCServerResponseCreator a la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="eda45-253">You must also add the assembly for the RFCServerResponseCreator project to your BizTalk application.</span></span> <span data-ttu-id="eda45-254">Ha creado este proyecto para procesar la llamada RFC recibida desde el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-254">You created this project to process the RFC call received from the SAP system.</span></span> <span data-ttu-id="eda45-255">Para ello:</span><span class="sxs-lookup"><span data-stu-id="eda45-255">To do so:</span></span>  
  
1.  <span data-ttu-id="eda45-256">En el árbol de consola en el lado izquierdo de la consola de administración de BizTalk Server, en la aplicación de BizTalk que ha importado los enlaces, haga clic en **recursos**, seleccione **agregar**y, a continuación, haga clic en **Ensamblados de BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="eda45-256">In the console tree on the left side of the BizTalk Server Administration console, under the BizTalk application where you imported the bindings, right-click **Resources**, point to **Add**, and then click **BizTalk Assemblies**.</span></span>  
  
2.  <span data-ttu-id="eda45-257">En el **agregar recursos** cuadro de diálogo, haga clic en **agregar**y, a continuación, navegue hasta la carpeta que contiene RFCServerResponseCreator.dll.</span><span class="sxs-lookup"><span data-stu-id="eda45-257">In the **Add Resources** dialog box, Click **Add**, and then navigate to the folder containing RFCServerResponseCreator.dll.</span></span> <span data-ttu-id="eda45-258">Seleccione el archivo y, a continuación, haga clic en **abiertos**.</span><span class="sxs-lookup"><span data-stu-id="eda45-258">Select the file and then click **Open**.</span></span>  
  
3.  <span data-ttu-id="eda45-259">En el **agregar recursos** cuadro de diálogo, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="eda45-259">In the **Add Resources** dialog box, click **OK**.</span></span>  
  
## <a name="starting-the-application"></a><span data-ttu-id="eda45-260">A partir de la aplicación</span><span class="sxs-lookup"><span data-stu-id="eda45-260">Starting the Application</span></span>  
 <span data-ttu-id="eda45-261">Debe iniciar la aplicación de BizTalk para recibir llamadas entrantes de RFC de un sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-261">You must start the BizTalk application for receiving inbound RFC calls from an SAP system.</span></span> <span data-ttu-id="eda45-262">Para obtener instrucciones acerca de cómo iniciar una aplicación de BizTalk, consulte [cómo iniciar una orquestación](../../core/how-to-start-an-orchestration.md), y [cómo iniciar una aplicación](../../core/how-to-start-and-stop-a-biztalk-application.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-262">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md), and [How to start an application](../../core/how-to-start-and-stop-a-biztalk-application.md).</span></span>
  
 <span data-ttu-id="eda45-263">En esta fase, asegúrese de que:</span><span class="sxs-lookup"><span data-stu-id="eda45-263">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="eda45-264">El WCF-Custom o WCF-SAP puerto de recepción para recibir llamadas RFC de SAP se ejecuta el sistema.</span><span class="sxs-lookup"><span data-stu-id="eda45-264">The WCF-Custom or WCF-SAP receive port to receive RFC calls from the SAP system is running.</span></span>  
  
-   <span data-ttu-id="eda45-265">La orquestación de BizTalk para la operación se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="eda45-265">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="executing-the-operation"></a><span data-ttu-id="eda45-266">Ejecutar la operación</span><span class="sxs-lookup"><span data-stu-id="eda45-266">Executing the Operation</span></span>  
 <span data-ttu-id="eda45-267">Después de ejecutar la aplicación, debe enviar una solicitud de cambio para el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eda45-267">After you run the application, you must send an RFC to the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="eda45-268">Puede hacerlo mediante la ejecución de la transacción SE37 en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-268">You can do so by executing the transaction SE37 on the SAP system.</span></span> <span data-ttu-id="eda45-269">También debe especificar los parámetros de entrada para la llamada RFC.</span><span class="sxs-lookup"><span data-stu-id="eda45-269">You must also specify the input parameters for the RFC call.</span></span> <span data-ttu-id="eda45-270">El adaptador recibe la llamada junto con los parámetros, lo procesa y envía la respuesta al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="eda45-270">The adapter receives the call along with the parameters, processes it, and sends the response back to the SAP system.</span></span> <span data-ttu-id="eda45-271">Podrá ver la respuesta en la misma transacción del que envió la solicitud de cambio.</span><span class="sxs-lookup"><span data-stu-id="eda45-271">You will be able to see the response on the same transaction from where you sent the RFC.</span></span>  
  
## <a name="possible-exceptions"></a><span data-ttu-id="eda45-272">Posibles excepciones</span><span class="sxs-lookup"><span data-stu-id="eda45-272">Possible Exceptions</span></span>  
 <span data-ttu-id="eda45-273">Para obtener información sobre las excepciones que puede surgir al recibir una llamada de servidor RFC desde un sistema SAP mediante BizTalk Server, vea [excepciones y control de errores con el adaptador SAP](../../adapters-and-accelerators/adapter-sap/exceptions-and-error-handling-with-the-sap-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-273">For information about the exceptions you might encounter while receiving an RFC server call from an SAP system using BizTalk Server, see [Exceptions and Error Handling with the SAP adapter](../../adapters-and-accelerators/adapter-sap/exceptions-and-error-handling-with-the-sap-adapter.md).</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="eda45-274">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="eda45-274">Best Practices</span></span>  
 <span data-ttu-id="eda45-275">Una vez haya implementado y configurado el proyecto de BizTalk, puede exportar la configuración en un archivo XML denominado archivo de enlaces.</span><span class="sxs-lookup"><span data-stu-id="eda45-275">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the bindings file.</span></span> <span data-ttu-id="eda45-276">Una vez que se genera un archivo de enlaces, puede importar los valores de configuración desde el archivo para que no es necesario crear los puertos de envío, recepción, puertos, etc. para la misma orquestación.</span><span class="sxs-lookup"><span data-stu-id="eda45-276">Once you generate a bindings file, you can import the configuration settings from the file so that you do not need to create the send ports, receive ports, etc. for the same orchestration.</span></span> <span data-ttu-id="eda45-277">Para obtener más información acerca de los archivos de enlace, vea [enlaces del adaptador SAP reutilizar](../../adapters-and-accelerators/adapter-sap/reuse-sap-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="eda45-277">For more information about binding files, see [Reuse SAP adapter bindings](../../adapters-and-accelerators/adapter-sap/reuse-sap-adapter-bindings.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="eda45-278">Vea también</span><span class="sxs-lookup"><span data-stu-id="eda45-278">See Also</span></span>  
[<span data-ttu-id="eda45-279">Desarrollar aplicaciones de BizTalk</span><span class="sxs-lookup"><span data-stu-id="eda45-279">Develop BizTalk applications</span></span>](../../adapters-and-accelerators/adapter-sap/develop-biztalk-applications-using-the-sap-adapter.md)