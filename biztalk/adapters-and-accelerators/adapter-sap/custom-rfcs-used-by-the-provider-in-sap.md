---
title: RFC personalizadas usadas por el proveedor de SAP | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Z_EXTRACT_DATA_OO, limitations related to
- RFC, Z_EXTRACT_DATA_OO
- Z_EXTRACT_DATA_OO
- Z_EXTRACT_DATA_OO, best practice
- Z_EXTRACT_DATA_OO, security issue
ms.assetid: 95661f4c-0431-40ca-8a53-3fbe359b8afd
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 36b359fc893b8616fd4fb7339e9efbc42d7d3e13
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36992725"
---
# <a name="custom-rfcs-used-by-the-provider-in-sap"></a><span data-ttu-id="618aa-102">RFC personalizadas usadas por el proveedor de SAP</span><span class="sxs-lookup"><span data-stu-id="618aa-102">Custom RFCs Used by the Provider in SAP</span></span>
<span data-ttu-id="618aa-103">El [!INCLUDE[adoprovidersapshort](../../includes/adoprovidersapshort-md.md)] proporciona las siguientes RFC personalizadas que usa internamente para realizar operaciones en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="618aa-103">The [!INCLUDE[adoprovidersapshort](../../includes/adoprovidersapshort-md.md)] provides the following custom RFCs that it internally uses to perform operations on the SAP system.</span></span>  
  
- <span data-ttu-id="618aa-104">**RFC Z_EXTRACT_DATA_OO**.</span><span class="sxs-lookup"><span data-stu-id="618aa-104">**Z_EXTRACT_DATA_OO RFC**.</span></span> <span data-ttu-id="618aa-105">La extracción de datos RFC, Z_EXTRACT_DATA_OO, extrae datos de tablas o vistas en el sistema SAP R/3, convierte los datos y devuelve los datos de forma sincrónica en una tabla de SQL Server o volcados de datos a un archivo plano.</span><span class="sxs-lookup"><span data-stu-id="618aa-105">The data extraction RFC, Z_EXTRACT_DATA_OO, extracts data from tables or views in the SAP R/3 system, converts the data, and either returns the data synchronously in a SQL Server table or dumps data to a flat file.</span></span> <span data-ttu-id="618aa-106">El Z_EXTRACT_DATA_OO se usa para realizar la operación de selección con las cláusulas WHERE.</span><span class="sxs-lookup"><span data-stu-id="618aa-106">The Z_EXTRACT_DATA_OO is used to perform SELECT operation with WHERE clauses.</span></span> <span data-ttu-id="618aa-107">El rendimiento de esta solicitud de cambio depende del hardware del sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="618aa-107">The performance of this RFC is dependent on your SAP system hardware.</span></span>  
  
   <span data-ttu-id="618aa-108">Para obtener información sobre cómo se asignan los tipos de datos de .NET y SAP Z_EXTRACT_DATA_OO RFC, consulte [Data Type Mapping for Custom RFC](../../adapters-and-accelerators/adapter-sap/data-type-mapping-for-custom-rfcs.md).</span><span class="sxs-lookup"><span data-stu-id="618aa-108">For information on how the .NET and SAP data types are mapped for Z_EXTRACT_DATA_OO RFC, see [Data Type Mapping for Custom RFCs](../../adapters-and-accelerators/adapter-sap/data-type-mapping-for-custom-rfcs.md).</span></span>  
  
- <span data-ttu-id="618aa-109">**RFC Z_EXECUTE_SAP_QUERY**.</span><span class="sxs-lookup"><span data-stu-id="618aa-109">**Z_EXECUTE_SAP_QUERY RFC**.</span></span> <span data-ttu-id="618aa-110">Esta RFC se usa por la [!INCLUDE[adoprovidersapshort](../../includes/adoprovidersapshort-md.md)] para ejecutar consultas que ya están definidas en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="618aa-110">This RFC is used by the [!INCLUDE[adoprovidersapshort](../../includes/adoprovidersapshort-md.md)] to execute queries that are already defined in the SAP system.</span></span> <span data-ttu-id="618aa-111">Este RFC ejecuta internamente la RFC de SAP, RSAQ_REMOTE_QUERY_CALL.</span><span class="sxs-lookup"><span data-stu-id="618aa-111">This RFC internally executes the SAP RFC, RSAQ_REMOTE_QUERY_CALL.</span></span> <span data-ttu-id="618aa-112">Las consultas SAP son consultas que se crean gráficamente mediante la GUI de SAP mediante la selección de las tablas, columnas, parámetros de entrada, el criterio de ordenación del conjunto de resultados, etcetera. Mediante el [!INCLUDE[adoprovidersapshort](../../includes/adoprovidersapshort-md.md)] ahora puede ejecutar estas consultas SAP desde un cliente ADO.NET.</span><span class="sxs-lookup"><span data-stu-id="618aa-112">SAP queries are queries that are graphically created using the SAP GUI by selecting the tables, columns, input parameters, sort order of the result set, etc. Using the [!INCLUDE[adoprovidersapshort](../../includes/adoprovidersapshort-md.md)] you can now execute such SAP queries from an ADO.NET client.</span></span>  
  
   <span data-ttu-id="618aa-113">Todos los valores devueltos por la operación de EXECQUERY son del tipo de cadena.</span><span class="sxs-lookup"><span data-stu-id="618aa-113">All values returned by the EXECQUERY operation are of string type.</span></span>  
  
## <a name="limitations-related-to-the-zextractdataoo-rfc"></a><span data-ttu-id="618aa-114">Limitaciones relacionadas a la RFC Z_EXTRACT_DATA_OO</span><span class="sxs-lookup"><span data-stu-id="618aa-114">Limitations Related to the Z_EXTRACT_DATA_OO RFC</span></span>  
  
-   <span data-ttu-id="618aa-115">La RFC Z_EXTRACT_DATA_OO admite la lectura de datos de tablas que cumplen las condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="618aa-115">The Z_EXTRACT_DATA_OO RFC supports reading data from tables that satisfy the following conditions:</span></span>  
  
    -   <span data-ttu-id="618aa-116">TabClass para la tabla es TRANSP, clúster o grupo.</span><span class="sxs-lookup"><span data-stu-id="618aa-116">TabClass for the table is TRANSP, CUSTER, or POOL.</span></span>  
  
    -   <span data-ttu-id="618aa-117">TabClass es la vista y ViewClass es D o P.</span><span class="sxs-lookup"><span data-stu-id="618aa-117">TabClass is VIEW and ViewClass is either D or P.</span></span>  
  
-   <span data-ttu-id="618aa-118">Z_EXTRACT_DATA_OO no admite tablas de clúster de recursos humanos, por ejemplo PCL1, PCL2, PCL3, PCL4, PCL5.</span><span class="sxs-lookup"><span data-stu-id="618aa-118">Z_EXTRACT_DATA_OO does not support HR cluster tables, for example PCL1, PCL2, PCL3, PCL4, PCL5.</span></span>  
  
-   <span data-ttu-id="618aa-119">El número de filas que se pueden extraer Z_EXTRACT_DATA_OO depende de los recursos de hardware en el servidor SAP.</span><span class="sxs-lookup"><span data-stu-id="618aa-119">The number of rows that can be extracted by Z_EXTRACT_DATA_OO depends on the hardware resources on the SAP server.</span></span>  
  
-   <span data-ttu-id="618aa-120">Todos los datos extraídos se devuelven en orden de las claves principales.</span><span class="sxs-lookup"><span data-stu-id="618aa-120">All extracted data is returned in order of the primary keys.</span></span>  
  
-   <span data-ttu-id="618aa-121">No se admiten tablas o vistas que contienen los tipos de datos de longitud variable de cadena, SSTRING y RAWSTRING.</span><span class="sxs-lookup"><span data-stu-id="618aa-121">Tables or views containing the variable-length data types STRING, SSTRING and RAWSTRING are not supported.</span></span> <span data-ttu-id="618aa-122">No se puede extraer las tablas o vistas que contienen estos tipos de datos.</span><span class="sxs-lookup"><span data-stu-id="618aa-122">Tables or views containing these data types cannot be extracted.</span></span>  
  
-   <span data-ttu-id="618aa-123">Z_EXTRACT_DATA_OO ejecuta sale de la conversión en todos los campos que tienen salidas de conversión asignados a ellos.</span><span class="sxs-lookup"><span data-stu-id="618aa-123">Z_EXTRACT_DATA_OO runs conversion exits on all fields that have conversion exits assigned to them.</span></span> <span data-ttu-id="618aa-124">Los valores convertidos resultantes deben especificarse en la cláusula WHERE de una instrucción SELECT.</span><span class="sxs-lookup"><span data-stu-id="618aa-124">The resulting converted values must be entered in the WHERE clause of a SELECT statement.</span></span> <span data-ttu-id="618aa-125">También se devuelven los valores convertidos.</span><span class="sxs-lookup"><span data-stu-id="618aa-125">Converted values are also returned.</span></span> <span data-ttu-id="618aa-126">Esto puede provocar incoherencias entre los resultados devueltos por Z_EXTRACT_DATA_OO y los resultados devueltos en el Explorador de datos SAP (SE16).</span><span class="sxs-lookup"><span data-stu-id="618aa-126">This might cause inconsistencies between the results returned by Z_EXTRACT_DATA_OO and the results returned in the SAP data browser (SE16).</span></span>  
  
-   <span data-ttu-id="618aa-127">Las tablas seleccionadas no pueden contener nombres de campo que son nombres reservados de ABAP (por ejemplo, la conexión).</span><span class="sxs-lookup"><span data-stu-id="618aa-127">Selected tables cannot contain field names that are reserved names in ABAP (for example, CONNECTION).</span></span>  
  
-   <span data-ttu-id="618aa-128">Debido a una limitación en el procesador de consultas de SAP R/3 4.6C, versión valores para los campos de tipo entero INT4 debe ser mayor o igual que-999999999 en la cláusula WHERE.</span><span class="sxs-lookup"><span data-stu-id="618aa-128">Due to a limitation in the query processor in SAP R/3 version 4.6C, values for integer fields of type INT4 must be greater than or equal to -999999999 in the WHERE clause.</span></span> <span data-ttu-id="618aa-129">No se extraerá las filas con valores de INT4 menor-999999999 independientemente de si se selecciona el campo que contiene el valor.</span><span class="sxs-lookup"><span data-stu-id="618aa-129">Rows with INT4 values less than -999999999 will not be extracted regardless of whether the field containing the value is selected.</span></span>  
  
-   <span data-ttu-id="618aa-130">Tipos de valores para todos los datos en una cláusula WHERE están limitados a 256 caracteres cuando se ejecuta en la versión 4.7 o superior; del sistema SAP el límite es de 70 caracteres en la versión 4.6c.</span><span class="sxs-lookup"><span data-stu-id="618aa-130">Values for all data types in a WHERE clause are limited to 256 characters when executing on SAP system version 4.7 or greater; the limit is 70 characters in version 4.6c.</span></span> <span data-ttu-id="618aa-131">Para los valores de tipo de datos sin procesar, estos límites se reduce a la mitad a 35 y 128 caracteres, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="618aa-131">For RAW data type values, these limits are halved to 128 and 35 characters, respectively.</span></span> <span data-ttu-id="618aa-132">No hay ningún límite en la longitud del tipo de datos RAW y LCHR cuando se devuelven como resultado.</span><span class="sxs-lookup"><span data-stu-id="618aa-132">There is no limit on RAW and LCHR data type length when they are returned as a result.</span></span>  
  
-   <span data-ttu-id="618aa-133">En SAP R/3 4.6C, versión campos en el lugar en la cláusula se limitan a 70 caracteres.</span><span class="sxs-lookup"><span data-stu-id="618aa-133">In SAP R/3 version 4.6C, fields in the WHERE clause are limited to 70 characters.</span></span>  
  
-   <span data-ttu-id="618aa-134">En SAP R/3 4.6C versión, no se puede extraer todas las tablas con un campo de clave principal que tiene una longitud mayor que 70 caracteres de la salida.</span><span class="sxs-lookup"><span data-stu-id="618aa-134">In SAP R/3 version 4.6C, any table with a primary key field that has an output length greater than 70 characters cannot be extracted.</span></span>  
  
-   <span data-ttu-id="618aa-135">En SAP R/3, versión 4.6 c, las tablas y vistas que contienen tipos de datos de longitud variable (`VARC`) no se admiten y las tablas y vistas que contienen estos tipos de datos no se puede extraer del origen de datos mediante la llamada de función Z_EXTRACT_DATA_OO.</span><span class="sxs-lookup"><span data-stu-id="618aa-135">In SAP R/3, version 4.6c, tables and views that contain variable length data types (`VARC`) are not supported, and tables and views containing these data types cannot be extracted from the data source using the Z_EXTRACT_DATA_OO function call.</span></span>  
  
-   <span data-ttu-id="618aa-136">En el modo de archivo, la llamada de función Z_EXTRACT_DATA_OO no comprueba si un archivo de destino ya está abierto, por sí mismo o por otra aplicación.</span><span class="sxs-lookup"><span data-stu-id="618aa-136">In file mode, the Z_EXTRACT_DATA_OO function call does not check whether a destination file is already opened, either by itself or by another application.</span></span> <span data-ttu-id="618aa-137">Por lo tanto, la función incorrectamente puede escribir en un archivo abierto mientras se anexan al mismo tiempo los datos en el mismo archivo.</span><span class="sxs-lookup"><span data-stu-id="618aa-137">Therefore, the function can incorrectly write to an open file while simultaneously appending data to the same file.</span></span> <span data-ttu-id="618aa-138">Se produce ningún error.</span><span class="sxs-lookup"><span data-stu-id="618aa-138">No error is raised.</span></span>  
  
-   <span data-ttu-id="618aa-139">En el modo de archivo, la llamada de función Z_EXTRACT_DATA_OO puede sobrescribir archivos existentes.</span><span class="sxs-lookup"><span data-stu-id="618aa-139">In file mode, the Z_EXTRACT_DATA_OO function call can overwrite existing files.</span></span> <span data-ttu-id="618aa-140">Asegúrese de que los usuarios SAP que usan Z_EXTRACT_DATA_OO han restringido el acceso de sistema de archivos por medio de S_DATASET.</span><span class="sxs-lookup"><span data-stu-id="618aa-140">Ensure that SAP users who use Z_EXTRACT_DATA_OO have restricted file-system access by way of S_DATASET.</span></span>  
  
## <a name="security-considerations-with-the-custom-rfc"></a><span data-ttu-id="618aa-141">Consideraciones de seguridad con la RFC personalizada</span><span class="sxs-lookup"><span data-stu-id="618aa-141">Security Considerations with the Custom RFC</span></span>  
  
-   <span data-ttu-id="618aa-142">`Security Issue`: No hay posibles para exponer los datos que se escriben en archivos planos, si no le ayudan a proteger esos archivos.</span><span class="sxs-lookup"><span data-stu-id="618aa-142">`Security Issue`: There is potential to expose data that is written to flat files if you do not help protect those files.</span></span>  
  
     <span data-ttu-id="618aa-143">`Best practice`: Mejorar la seguridad del recurso compartido al que se escriban los datos mediante la llamada de función Z_EXTRACT_DATA_OO en modo de archivo sin formato.</span><span class="sxs-lookup"><span data-stu-id="618aa-143">`Best practice`: Improve the security of the file share to which any data is written by the Z_EXTRACT_DATA_OO function call in flat file mode.</span></span>  
  
-   <span data-ttu-id="618aa-144">`Security Issue`: Es posible que se deben sobrescribir los archivos en cualquier recurso compartido que se escribe en el uso de la llamada de función Z_EXTRACT_DATA_OO en modo de archivo.</span><span class="sxs-lookup"><span data-stu-id="618aa-144">`Security Issue`: There is the potential to overwrite files on any share that is written to using the Z_EXTRACT_DATA_OO function call in file mode.</span></span> <span data-ttu-id="618aa-145">Esto puede ocurrir en cualquier archivo en cualquier recurso compartido al que la cuenta de dominio SAP tiene acceso.</span><span class="sxs-lookup"><span data-stu-id="618aa-145">This can occur to any file on any share to which the SAP domain account has access.</span></span>  
  
     <span data-ttu-id="618aa-146">`Best practice`: Se esfuerzan por proteger todos los recursos compartidos a los que la cuenta de dominio SAP tiene acceso.</span><span class="sxs-lookup"><span data-stu-id="618aa-146">`Best practice`: Strive to protect all shares to which the SAP domain account has access.</span></span>  
  
-   <span data-ttu-id="618aa-147">`Security Issue`: Los usuarios tienen la capacidad para inspeccionar datos (o "Examinar") durante la transmisión desde un servidor de aplicaciones de SAP para su recurso compartido de archivos de destino, en los casos, cuando el destino está en un equipo físico diferente.</span><span class="sxs-lookup"><span data-stu-id="618aa-147">`Security Issue`: Users have the ability to inspect (or "sniff") data during transmission from an SAP application server to its target file share, in cases when the target is on a different physical machine.</span></span>  
  
     <span data-ttu-id="618aa-148">`Best practice`: Use IPsec u otro método adecuado para ayudar a proteger la comunicación entre el servidor SAP y sus destinos.</span><span class="sxs-lookup"><span data-stu-id="618aa-148">`Best practice`: Use IPsec or another appropriate method to help make communication more secure between the SAP server and its targets.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="618aa-149">Vea también</span><span class="sxs-lookup"><span data-stu-id="618aa-149">See Also</span></span>  
 [<span data-ttu-id="618aa-150">Acerca del proveedor de datos de .NET Framework para mySAP Business Suite</span><span class="sxs-lookup"><span data-stu-id="618aa-150">About the .NET Framework Data Provider for mySAP Business Suite</span></span>](../../adapters-and-accelerators/adapter-sap/about-the-net-framework-data-provider-for-mysap-business-suite.md)