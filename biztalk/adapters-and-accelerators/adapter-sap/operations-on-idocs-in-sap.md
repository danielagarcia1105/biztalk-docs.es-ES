---
title: Operaciones en IDOC en SAP | Documentos de Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- IDOC, operations to receive an
- IDOCs
- IDOCs, operations on
- tRFC server
- IDOC, operations to send an
- RFC server
ms.assetid: 6abcc646-c7a3-48cf-a09e-01f516dcef97
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cebc9e3fb8382fecf7791d14d52a21ac96f77cde
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/28/2017
ms.locfileid: "25964554"
---
# <a name="operations-on-idocs-in-sap"></a><span data-ttu-id="485ed-102">Operaciones en IDOC en SAP</span><span class="sxs-lookup"><span data-stu-id="485ed-102">Operations on IDOCs in SAP</span></span>
<span data-ttu-id="485ed-103">IDOC está estandarizados documentos EDI similar que es compatible con SAP para comunicarse de forma asincrónica con SAP y los sistemas SAP no.</span><span class="sxs-lookup"><span data-stu-id="485ed-103">IDOCs are standardized EDI-like documents that SAP supports for asynchronously communicating with SAP and non-SAP systems.</span></span> <span data-ttu-id="485ed-104">IDOC se usa para enviar y recibir documentos de "business", como pedidos de ventas, por ejemplo, a o desde el sistema SAP de un socio comercial o un programa externo.</span><span class="sxs-lookup"><span data-stu-id="485ed-104">IDOCs are used for sending and receiving “business” documents such as sales orders, for example, to or from a trading partner’s SAP system or an external program.</span></span>  
  
 <span data-ttu-id="485ed-105">Aunque el sistema SAP admite varios tipos de puerto para enviar y recibir IDOC (como puerto file, puerto CPIC), el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] admite el envío y recepción de IDOC a través del puerto tRFC.</span><span class="sxs-lookup"><span data-stu-id="485ed-105">Although the SAP system supports a number of port types to send and receive IDOCs (such as file port, CPIC port), the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports sending and receiving IDOCs via the tRFC port.</span></span>  
  
## <a name="operations-to-send-an-idoc"></a><span data-ttu-id="485ed-106">Operaciones para enviar un IDOC</span><span class="sxs-lookup"><span data-stu-id="485ed-106">Operations to Send an IDOC</span></span>  
 <span data-ttu-id="485ed-107">Todas las llamadas IDOC a SAP internamente se tratan como llamadas de tRFC en que el adaptador actúa como un cliente tRFC y llama a una solicitud de cambio de SAP para enviar un IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-107">All IDOC calls to SAP are internally treated as tRFC calls in which the adapter acts as a tRFC client and calls an RFC in SAP to send an IDOC.</span></span> <span data-ttu-id="485ed-108">Al igual que cualquier otra llamada de cliente tRFC, el cliente de adaptador pasa opcionalmente un GUID para el adaptador, que a su vez se asocia con la transacción TID (Id.) que utiliza para la llamada en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-108">Just like any other tRFC client call, the adapter client optionally passes a GUID to the adapter, which in turn associates it with the transaction ID (TID) that it uses for the call on the SAP system.</span></span> <span data-ttu-id="485ed-109">(Si el cliente del adaptador no pasa un GUID, el adaptador genera su propio GUID). El GUID se devuelve al cliente de adaptador en el mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="485ed-109">(If the adapter client does not pass a GUID, the adapter generates its own GUID.) The GUID is returned to the adapter client in the response message.</span></span> <span data-ttu-id="485ed-110">El cliente de adaptador puede utilizar este GUID para confirmar el TID en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-110">The adapter client can use this GUID to confirm the TID on the SAP system.</span></span> <span data-ttu-id="485ed-111">El TID SAP real utilizado por el adaptador para la llamada de tRFC puede obtenerse mediante la invocación de un método estático especial en el enlace de SAP, **ConvertGuidToTid**.</span><span class="sxs-lookup"><span data-stu-id="485ed-111">The actual SAP TID used by the adapter for the tRFC call can be obtained by invoking a special static method in the SAP binding, **ConvertGuidToTid**.</span></span> <span data-ttu-id="485ed-112">Tener el TID real puede ser útil para solucionar problemas relacionados con el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-112">Having the actual TID may be useful for troubleshooting issues on the SAP system.</span></span>  
  
 <span data-ttu-id="485ed-113">Después de la llamada para enviar que el IDOC se ha completado, se debe confirmar el TID en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-113">After the call to send the IDOC is completed, the TID must be confirmed on the SAP system.</span></span> <span data-ttu-id="485ed-114">Esto permite al sistema SAP eliminar el TID de su base de datos.</span><span class="sxs-lookup"><span data-stu-id="485ed-114">This enables the SAP system to delete the TID from its database.</span></span> <span data-ttu-id="485ed-115">El cliente de adaptador puede confirmar el TID en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-115">The adapter client can confirm the TID on the SAP system.</span></span>  
  
-   <span data-ttu-id="485ed-116">Explícitamente, mediante la invocación de la **RfcConfirmTransID** operación en el adaptador.</span><span class="sxs-lookup"><span data-stu-id="485ed-116">Explicitly, by invoking the **RfcConfirmTransID** operation on the adapter.</span></span> <span data-ttu-id="485ed-117">Esta operación toma un GUID (se devuelve en el mensaje de respuesta anterior) y hace que el adaptador confirmar el TID asociado en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-117">This operation takes a GUID (returned in the response message above) and causes the adapter to confirm the associated TID on the SAP system.</span></span>  
  
-   <span data-ttu-id="485ed-118">Implícitamente, estableciendo el **AutoConfirmSentIdocs** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="485ed-118">Implicitly, by setting the **AutoConfirmSentIdocs** binding property.</span></span> <span data-ttu-id="485ed-119">Si esta propiedad de enlace es true, el adaptador confirma automáticamente el TID después de enviar el IDOC al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-119">If this binding property is true, the adapter automatically commits the TID after it sends the IDOC to the SAP system.</span></span> <span data-ttu-id="485ed-120">Vea [obtener información sobre el adaptador de BizTalk para mySAP Business Suite enlace propiedades](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="485ed-120">See [Read about BizTalk Adapter for mySAP Business Suite Binding Properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md) for more information.</span></span>  
  
 <span data-ttu-id="485ed-121">El [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] usa las siguientes RFC para enviar un IDOC:</span><span class="sxs-lookup"><span data-stu-id="485ed-121">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses the following RFCs to send an IDOC:</span></span>  
  
-   <span data-ttu-id="485ed-122">INBOUND_IDOC_PROCESS.</span><span class="sxs-lookup"><span data-stu-id="485ed-122">INBOUND_IDOC_PROCESS.</span></span> <span data-ttu-id="485ed-123">Este módulo de función se usa para SAP se libera antes de 4.0.</span><span class="sxs-lookup"><span data-stu-id="485ed-123">This function module is used for SAP releases before 4.0.</span></span>  
  
-   <span data-ttu-id="485ed-124">IDOC_INBOUND_ASYNCHRONOUS.</span><span class="sxs-lookup"><span data-stu-id="485ed-124">IDOC_INBOUND_ASYNCHRONOUS.</span></span> <span data-ttu-id="485ed-125">Este módulo de función se utiliza para la versión 4.0 de SAP y posterior.</span><span class="sxs-lookup"><span data-stu-id="485ed-125">This function module is used for SAP release 4.0 and later.</span></span>  
  
### <a name="sending-idocs-with-segment-data-across-multiple-lines"></a><span data-ttu-id="485ed-126">Enviar IDOC con datos segmento a través de varias líneas</span><span class="sxs-lookup"><span data-stu-id="485ed-126">Sending IDOCs with Segment Data Across Multiple Lines</span></span>  
 <span data-ttu-id="485ed-127">IDOC se constituye de segmentos.</span><span class="sxs-lookup"><span data-stu-id="485ed-127">IDOCs are constituted of segments.</span></span> <span data-ttu-id="485ed-128">Cada entrada de segmento de un archivo sin formato IDOC contiene la información de encabezado de segmento (que contiene el campo DOCNUM) y los datos del segmento.</span><span class="sxs-lookup"><span data-stu-id="485ed-128">Each segment entry in an IDOC flat-file contains the segment header info (containing the DOCNUM field) and the segment data.</span></span> <span data-ttu-id="485ed-129">En algunos IDOC, los datos del segmento se pueden dividir en varias líneas.</span><span class="sxs-lookup"><span data-stu-id="485ed-129">In some IDOCs, the segment data can be split across multiple lines.</span></span> <span data-ttu-id="485ed-130">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="485ed-130">For example:</span></span>  
  
```  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
Segment data wrapped from the previous line  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
```  
  
 <span data-ttu-id="485ed-131">Basado en WCF [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] admite el envío de este tipo IDOC al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-131">The WCF-based [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports sending such IDOCs to the SAP system.</span></span> <span data-ttu-id="485ed-132">Para admitir el envío de este tipo IDOC el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] determina si los datos de cada segmento están una continuación de la anterior, o si es un nuevos datos de segmento.</span><span class="sxs-lookup"><span data-stu-id="485ed-132">To support sending such IDOCs, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] determines whether each segment data is a continuation of the previous one, or whether it is a new segment data.</span></span> <span data-ttu-id="485ed-133">El [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] Esto decide analizar cada encabezado de segmento y buscando el campo DOCNUM.</span><span class="sxs-lookup"><span data-stu-id="485ed-133">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] decides this by parsing each segment header and looking for the DOCNUM field.</span></span> <span data-ttu-id="485ed-134">Si los datos del segmento se dividen en dos líneas, la segunda línea no tiene un encabezado de segmento y como resultado la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] no se encontró el campo DOCNUM.</span><span class="sxs-lookup"><span data-stu-id="485ed-134">If the segment data is split across two lines, the second line does not have a segment header and as a result the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] does not find the DOCNUM field.</span></span> <span data-ttu-id="485ed-135">Por lo tanto, el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] puede determinar que es una continuación de los datos del segmento anterior.</span><span class="sxs-lookup"><span data-stu-id="485ed-135">Hence, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can determine that it is a continuation of the previous segment data.</span></span>  
  
 <span data-ttu-id="485ed-136">Por ejemplo, en la representación de un IDOC mostrado anteriormente, la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] no encuentra ningún campo DOCNUM en "`Segment data wrapped from the previous line`" y puede decidir que la línea es una continuación de los datos del segmento anterior.</span><span class="sxs-lookup"><span data-stu-id="485ed-136">For example, in the representation of an IDOC shown above, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] does not find any DOCNUM field in “`Segment data wrapped from the previous line`” and is able to decide that the line is a continuation of the previous segment data.</span></span> <span data-ttu-id="485ed-137">Teniendo en cuenta el tamaño de IDOC archivos sin formato en entornos de producción, llevar a cabo esas comprobaciones para datos de cada segmento pueden producir más tiempo de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="485ed-137">Considering the size of IDOC flat files in production environments, performing such checks for each segment data may result in increased processing time.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="485ed-138">El adaptador utiliza el campo DOCNUM en lugar de una línea de retorno de carro (CRLF) de la fuente de distribución para identificar y extraer cada registro de segmento de datos IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-138">The adapter uses the DOCNUM field instead of a carriage return line feed (CRLF) to identify and extract each segment record from IDOC data.</span></span> <span data-ttu-id="485ed-139">Si los campos DOCNUM en los registros de control y los datos están en parte en blanco o no válido, el adaptador no se puede analizar el IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-139">If the DOCNUM fields in the control and data records are invalid or partly blank, the adapter fails to parse the IDOC.</span></span> <span data-ttu-id="485ed-140">Por lo tanto, no se envía el IDOC al sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-140">Hence, the IDOC is not sent to the SAP system.</span></span>  
  
### <a name="operations-to-send-an-idoc"></a><span data-ttu-id="485ed-141">Operaciones para enviar un IDOC</span><span class="sxs-lookup"><span data-stu-id="485ed-141">Operations to Send an IDOC</span></span>  
 <span data-ttu-id="485ed-142">Se admiten las siguientes operaciones para enviar IDOC a un sistema SAP:</span><span class="sxs-lookup"><span data-stu-id="485ed-142">The following operations are supported for sending IDOCs to an SAP system:</span></span>  
  
-   <span data-ttu-id="485ed-143">**Enviar**.</span><span class="sxs-lookup"><span data-stu-id="485ed-143">**Send**.</span></span> <span data-ttu-id="485ed-144">Use esta operación para enviar un IDOC al sistema SAP mediante un esquema fuertemente tipado.</span><span class="sxs-lookup"><span data-stu-id="485ed-144">Use this operation to send an IDOC to the SAP system using a strongly-typed schema.</span></span> <span data-ttu-id="485ed-145">El esquema para esta operación expone campos de registro de control y campos de registro de datos, incluidos los encabezados de segmento y campos del segmento.</span><span class="sxs-lookup"><span data-stu-id="485ed-145">The schema for this operation exposes control record fields and data record fields, including segment headers and segment fields.</span></span> <span data-ttu-id="485ed-146">La operación de envío es específica de un IDocType CimType ReleaseNumber + + versión combinación.</span><span class="sxs-lookup"><span data-stu-id="485ed-146">The Send operation is specific to an IDocType + CimType + ReleaseNumber + Version combination.</span></span>  
  
     <span data-ttu-id="485ed-147">Esta operación aparece para cada IDOC y está disponible en un nodo IDOC específico en el [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] o [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="485ed-147">This operation is surfaced for each IDOC and is available under a specific IDOC node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="485ed-148">Para poder realizar correctamente una **enviar** operación, debe tener autorización pertinente en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-148">To be able to successfully perform a **Send** operation, you must have relevant authorization in the SAP system.</span></span> <span data-ttu-id="485ed-149">Para obtener más información,</span><span class="sxs-lookup"><span data-stu-id="485ed-149">For more information.</span></span>  
  
-   <span data-ttu-id="485ed-150">**SendIdoc**.</span><span class="sxs-lookup"><span data-stu-id="485ed-150">**SendIdoc**.</span></span> <span data-ttu-id="485ed-151">Use esta operación para enviar un IDOC al sistema SAP mediante un esquema débilmente tipada.</span><span class="sxs-lookup"><span data-stu-id="485ed-151">Use this operation to send an IDOC to the SAP system using a weakly-typed schema.</span></span> <span data-ttu-id="485ed-152">El esquema para esta operación expone IDOC como un único campo de cadena que consta del registro de control y el registro de datos.</span><span class="sxs-lookup"><span data-stu-id="485ed-152">The schema for this operation exposes IDOCs as a single string field consisting the control record and data record.</span></span> <span data-ttu-id="485ed-153">La operación de SendIdoc toma una cadena IDOC y un GUID como un parámetro.</span><span class="sxs-lookup"><span data-stu-id="485ed-153">The SendIdoc operation takes an IDOC string and a GUID as a parameter.</span></span>  
  
     <span data-ttu-id="485ed-154">Esto es una sola operación exhibe para todos los IDOC expuesto por el sistema SAP y está disponible bajo la raíz de **IDOC** nodo en el [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] o [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="485ed-154">This is a single operation surfaced for all IDOCs exposed by the SAP system and is available under the root **IDOC** node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
 <span data-ttu-id="485ed-155">Para obtener más información acerca de:</span><span class="sxs-lookup"><span data-stu-id="485ed-155">For more information about:</span></span>  
  
-   <span data-ttu-id="485ed-156">Enviar un IDOC a un sistema SAP mediante BizTalk Server, consulte [enviar IDOC a SAP utilizando BizTalk Server](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="485ed-156">Sending an IDOC to an SAP system using BizTalk Server, see [Send IDOCs to SAP by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="485ed-157">Enviar un IDOC a un sistema SAP mediante el modelo de servicio WCF, consulte [enviar IDOC a SAP mediante el modelo de servicio de WCF](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-the-wcf-service-model.md).</span><span class="sxs-lookup"><span data-stu-id="485ed-157">Sending an IDOC to an SAP system using WCF service model, see [Send IDOCs to SAP by Using the WCF Service Model](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-the-wcf-service-model.md).</span></span>  
  
-   <span data-ttu-id="485ed-158">Acción de SOAP para enviar un IDOC y estructuras de mensajes, vea [esquemas de mensaje para las operaciones de IDOC](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span><span class="sxs-lookup"><span data-stu-id="485ed-158">Message structures and SOAP action for sending an IDOC, see [Message Schemas for IDOC Operations](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span></span>  
  
## <a name="operations-to-receive-an-idoc"></a><span data-ttu-id="485ed-159">Operaciones para recibir un IDOC</span><span class="sxs-lookup"><span data-stu-id="485ed-159">Operations to Receive an IDOC</span></span>  
 <span data-ttu-id="485ed-160">Para recibir un IDOC, el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] puede comportarse como un servidor de tRFC o un servidor RFC:</span><span class="sxs-lookup"><span data-stu-id="485ed-160">To receive an IDOC, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can behave either as a tRFC server or an RFC server:</span></span>  
  
-   <span data-ttu-id="485ed-161">Para que el adaptador se comportan como un servidor de tRFC, la propiedad de enlace **TidDatabaseConnectionString** debe establecerse en la cadena de conexión para la base de datos TID en el equipo.</span><span class="sxs-lookup"><span data-stu-id="485ed-161">For the adapter to behave as a tRFC server, the binding property **TidDatabaseConnectionString** must be set to the connection string for the TID database on your computer.</span></span> <span data-ttu-id="485ed-162">Para un escenario de servidor tRFC, el adaptador acepta una llamada de cliente tRFC desde el sistema SAP para recibir el IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-162">For a tRFC server scenario, the adapter accepts a tRFC client call from the SAP system to receive the IDOC.</span></span>  
  
-   <span data-ttu-id="485ed-163">Para que el adaptador se comportan como un servidor RFC, el **TidDatabaseConnectionString** debe ser null (valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="485ed-163">For the adapter to behave as an RFC server, the **TidDatabaseConnectionString** should be null (default).</span></span> <span data-ttu-id="485ed-164">Para ver un escenario de servidor RFC, el adaptador acepta una llamada de cliente RFC desde el sistema SAP para recibir el IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-164">For an RFC server scenario, the adapter accepts an RFC client call from the SAP system to receive the IDOC.</span></span>  
  
 <span data-ttu-id="485ed-165">Las siguientes RFC se usan para enviar y recibir IDOC; al enviar IDOC, el adaptador utiliza estos RFC, mientras que al recibir IDOC, usa el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-165">The following RFCs are used to send and receive IDOCs; when sending IDOCs, the adapter uses these RFCs, whereas when receiving IDOCS, the SAP system uses them.</span></span>  
  
-   <span data-ttu-id="485ed-166">INBOUND_IDOC_PROCESS.</span><span class="sxs-lookup"><span data-stu-id="485ed-166">INBOUND_IDOC_PROCESS.</span></span> <span data-ttu-id="485ed-167">Este módulo de función se usa para SAP se libera antes de 4.0.</span><span class="sxs-lookup"><span data-stu-id="485ed-167">This function module is used for SAP releases before 4.0.</span></span>  
  
-   <span data-ttu-id="485ed-168">IDOC_INBOUND_ASYNCHRONOUS.</span><span class="sxs-lookup"><span data-stu-id="485ed-168">IDOC_INBOUND_ASYNCHRONOUS.</span></span> <span data-ttu-id="485ed-169">Este módulo de función se utiliza para la versión 4.0 de SAP y posterior.</span><span class="sxs-lookup"><span data-stu-id="485ed-169">This function module is used for SAP release 4.0 and later.</span></span>  
  
 <span data-ttu-id="485ed-170">Se admiten las siguientes operaciones para recibir IDOC desde un sistema SAP:</span><span class="sxs-lookup"><span data-stu-id="485ed-170">The following operations are supported for receiving IDOCs from an SAP system:</span></span>  
  
-   <span data-ttu-id="485ed-171">**Recibir**.</span><span class="sxs-lookup"><span data-stu-id="485ed-171">**Receive**.</span></span> <span data-ttu-id="485ed-172">Use esta operación para recibir un IDOC desde el sistema SAP mediante un esquema fuertemente tipado.</span><span class="sxs-lookup"><span data-stu-id="485ed-172">Use this operation to receive an IDOC from the SAP system using a strongly-typed schema.</span></span> <span data-ttu-id="485ed-173">El esquema para esta operación expone campos de registro de control y los campos de los registros de datos como encabezados de segmento y campos del segmento.</span><span class="sxs-lookup"><span data-stu-id="485ed-173">The schema for this operation exposes control record fields and data record fields including segment headers and segment fields.</span></span>  
  
     <span data-ttu-id="485ed-174">Esta operación aparece para cada IDOC y está disponible en un nodo IDOC específico en el [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] o [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="485ed-174">This operation is surfaced for each IDOC and is available under a specific IDOC node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="485ed-175">Para poder realizar correctamente una **recepción** operación, debe tener autorización pertinente en el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-175">To be able to successfully perform a **Receive** operation, you must have relevant authorization in the SAP system.</span></span> <span data-ttu-id="485ed-176">Para obtener más información,</span><span class="sxs-lookup"><span data-stu-id="485ed-176">For more information.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="485ed-177">Mediante el **recepción** operación, también puede recibir varios IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-177">Using the **Receive** operation, you can also receive multiple IDOCs.</span></span>  
  
-   <span data-ttu-id="485ed-178">**ReceiveIdoc**.</span><span class="sxs-lookup"><span data-stu-id="485ed-178">**ReceiveIdoc**.</span></span> <span data-ttu-id="485ed-179">Use esta operación para recibir un IDOC desde el sistema SAP mediante un esquema débilmente tipada.</span><span class="sxs-lookup"><span data-stu-id="485ed-179">Use this operation to receive an IDOC from the SAP system using a weakly-typed schema.</span></span> <span data-ttu-id="485ed-180">El esquema para esta operación expone IDOC como un único campo de cadena formada por el registro de control y el registro de datos.</span><span class="sxs-lookup"><span data-stu-id="485ed-180">The schema for this operation exposes IDOCs as a single string field consisting of the control record and data record.</span></span> <span data-ttu-id="485ed-181">Esta operación recibe IDOC como una cadena en un mensaje XML en el \<idocData\> etiqueta.</span><span class="sxs-lookup"><span data-stu-id="485ed-181">This operation receives IDOCs as a string in an XML message under the \<idocData\> tag.</span></span>  
  
     <span data-ttu-id="485ed-182">Esto es una sola operación exhibe para todos los IDOC expuesto por el sistema SAP y está disponible bajo la raíz de **IDOC** nodo en el [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] o [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="485ed-182">This is a single operation surfaced for all IDOCs exposed by the SAP system and is available under the root **IDOC** node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
 <span data-ttu-id="485ed-183">Al recibir IDOC, el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] es compatible con diferentes formatos de mensaje, que pueden especificarse como un valor para la propiedad de enlace, **ReceiveIDocFormat** expuestos por la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="485ed-183">When receiving IDOCs, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports different message formats, which can be specified as a value for the binding property, **ReceiveIDocFormat** exposed by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
-   <span data-ttu-id="485ed-184">Si se establece en "Tipadas", el esquema XML está fuertemente tipado en el IDOC específicos que se reciben.</span><span class="sxs-lookup"><span data-stu-id="485ed-184">If set to "Typed", the XML schema is strongly typed to the specific IDOC being received.</span></span> <span data-ttu-id="485ed-185">(El esquema para este mensaje se puede ver en las operaciones de recepción.</span><span class="sxs-lookup"><span data-stu-id="485ed-185">(The schema for this message can be seen from the Receive operations.</span></span> <span data-ttu-id="485ed-186">Tenga en cuenta que el esquema es diferente para los IDOC diferente).</span><span class="sxs-lookup"><span data-stu-id="485ed-186">Note that the schema is different for different IDOCs).</span></span> <span data-ttu-id="485ed-187">Esto da como resultado un IDOC XML.</span><span class="sxs-lookup"><span data-stu-id="485ed-187">This yields an XML IDOC.</span></span>  
  
-   <span data-ttu-id="485ed-188">Si se establece en "String", los datos IDOC entrantes se devuelven como un valor de cadena.</span><span class="sxs-lookup"><span data-stu-id="485ed-188">If set to "String", the incoming IDOC data is returned as a String value.</span></span> <span data-ttu-id="485ed-189">(El esquema para este mensaje se puede ver en la operación de ReceiveIdoc).</span><span class="sxs-lookup"><span data-stu-id="485ed-189">(The schema for this message can be seen from the ReceiveIdoc operation).</span></span> <span data-ttu-id="485ed-190">Esto da como resultado un mensaje XML con el \<idocData\> etiqueta.</span><span class="sxs-lookup"><span data-stu-id="485ed-190">This yields an XML message with the \<idocData\> tag.</span></span>  
  
-   <span data-ttu-id="485ed-191">Si establece en "Rfc", el esquema del mensaje coincide con el esquema RFC (o tRFC) para las operaciones de RFC IDOC_INBOUND_ASYNCHRONOUS o INBOUND_IDOC_PROCESS, dependiendo de la versión IDOC entrante.</span><span class="sxs-lookup"><span data-stu-id="485ed-191">If set to "Rfc", the message schema matches the RFC (or tRFC) schema for the RFC operations IDOC_INBOUND_ASYNCHRONOUS or INBOUND_IDOC_PROCESS, depending on the incoming IDOC version.</span></span> <span data-ttu-id="485ed-192">Si se especifica esta propiedad de enlace que se debe utilizar el IDOC_INBOUND_ASYNCHRONOUS o INBOUND_IDOC_PROCESS RFC para recibir el IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-192">If you specify this binding property you should use the IDOC_INBOUND_ASYNCHRONOUS or INBOUND_IDOC_PROCESS RFC to receive the IDOC.</span></span> <span data-ttu-id="485ed-193">En las dos primeras opciones, el adaptador utiliza internamente esta RFC.</span><span class="sxs-lookup"><span data-stu-id="485ed-193">In the first two options, the adapter internally uses this RFC.</span></span> <span data-ttu-id="485ed-194">En esta opción, se utiliza explícitamente esta RFC para recibir un IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-194">In this option, you explicitly use this RFC to receive an IDOC.</span></span>  
  
 <span data-ttu-id="485ed-195">La operación que se utiliza para recibir un IDOC debe coincidir con el formato de los datos IDOC emitidos por el adaptador.</span><span class="sxs-lookup"><span data-stu-id="485ed-195">The operation that you use to receive an IDOC must match the format of the IDOC data emitted by the adapter.</span></span> <span data-ttu-id="485ed-196">En la tabla siguiente proporciona un resumen de las combinaciones diferentes en el que puede recibir un IDOC de SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-196">The following table provides a summary of the different combinations in which you can receive an IDOC from SAP.</span></span>  
  
|<span data-ttu-id="485ed-197">Para recibir un IDOC utilizando</span><span class="sxs-lookup"><span data-stu-id="485ed-197">To receive an IDOC using</span></span>|<span data-ttu-id="485ed-198">Establezca la propiedad de enlace ReceiveIDOCFormat para</span><span class="sxs-lookup"><span data-stu-id="485ed-198">Set the binding property ReceiveIDOCFormat to</span></span>|  
|------------------------------|---------------------------------------------------|  
|<span data-ttu-id="485ed-199">**Recibir** operación</span><span class="sxs-lookup"><span data-stu-id="485ed-199">**Receive** operation</span></span>|<span data-ttu-id="485ed-200">Con tipo</span><span class="sxs-lookup"><span data-stu-id="485ed-200">Typed</span></span>|  
|<span data-ttu-id="485ed-201">**ReciveIdoc** operación</span><span class="sxs-lookup"><span data-stu-id="485ed-201">**ReciveIdoc** operation</span></span>|<span data-ttu-id="485ed-202">String</span><span class="sxs-lookup"><span data-stu-id="485ed-202">String</span></span>|  
|<span data-ttu-id="485ed-203">RFC IDOC_INBOUND_ASYNCHRONOUS</span><span class="sxs-lookup"><span data-stu-id="485ed-203">IDOC_INBOUND_ASYNCHRONOUS RFC</span></span>|<span data-ttu-id="485ed-204">RFC</span><span class="sxs-lookup"><span data-stu-id="485ed-204">Rfc</span></span>|  
|<span data-ttu-id="485ed-205">RFC INBOUND_IDOC_PROCESS</span><span class="sxs-lookup"><span data-stu-id="485ed-205">INBOUND_IDOC_PROCESS RFC</span></span>|<span data-ttu-id="485ed-206">RFC</span><span class="sxs-lookup"><span data-stu-id="485ed-206">Rfc</span></span>|  
  
 <span data-ttu-id="485ed-207">Otra propiedad de enlace **PadReceivedIdocsWithSpaces** rellena el IDOC recibido con espacios en blanco para campos opcionales cuando recibir formato esperado es "String".</span><span class="sxs-lookup"><span data-stu-id="485ed-207">Another binding property **PadReceivedIdocsWithSpaces** pads the received IDOC with white spaces for optional fields when receive format expected is “String”.</span></span> <span data-ttu-id="485ed-208">Esto habilita la compatibilidad con el formato de datos IDOC recibido con la versión anterior del adaptador.</span><span class="sxs-lookup"><span data-stu-id="485ed-208">This enables compatibility with the IDOC data format received using the previous version of the adapter.</span></span>  
  
 <span data-ttu-id="485ed-209">Para obtener más información acerca de las propiedades de enlace, vea [obtener información sobre el adaptador de BizTalk para mySAP Business Suite enlace propiedades](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="485ed-209">For more information about binding properties, see [Read about BizTalk Adapter for mySAP Business Suite Binding Properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span></span>  
  
 <span data-ttu-id="485ed-210">Para obtener más información acerca de:</span><span class="sxs-lookup"><span data-stu-id="485ed-210">For more information about:</span></span>  
  
-   <span data-ttu-id="485ed-211">Recibir un IDOC desde un sistema SAP mediante BizTalk Server, vea [recibir IDOC desde SAP utilizando BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="485ed-211">Receiving an IDOC from an SAP system using BizTalk Server, see [Receive IDOCs from SAP by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="485ed-212">Recibir un IDOC desde un sistema SAP en un contexto transaccional usando el servidor BizTalk Server, vea [recibir IDOC desde SAP en un contexto transaccional usando el servidor BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-in-a-transactional-context-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="485ed-212">Receiving an IDOC from an SAP system in a transactional context using BizTalk Server, see [Receive IDOCs from SAP in a Transactional Context by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-in-a-transactional-context-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="485ed-213">Acción de SOAP para recibir un IDOC y estructuras de mensajes, vea [esquemas de mensaje para las operaciones de IDOC](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span><span class="sxs-lookup"><span data-stu-id="485ed-213">Message structures and SOAP action for receiving an IDOC, see [Message Schemas for IDOC Operations](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span></span>  
  
##  <a name="BKMK_Authorize"></a><span data-ttu-id="485ed-214">Autorización de SAP para el uso de envío o recepción operaciones</span><span class="sxs-lookup"><span data-stu-id="485ed-214">SAP Authorization for Using Send or Receive Operations</span></span>  
 <span data-ttu-id="485ed-215">Cuando se usa el **enviar** o **recepción** operaciones para enviar o recibir IDOCs mediante un esquema fuertemente tipada, el [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] llama internamente a la RFC IDOCTYPE_READ_COMPLETE para recuperar los metadatos para el IDOC.</span><span class="sxs-lookup"><span data-stu-id="485ed-215">When you use the **Send** or **Receive** operations to send or receive IDOCs using a strongly-typed schema, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] internally invokes the IDOCTYPE_READ_COMPLETE RFC to retrieve the metadata for the IDOC.</span></span> <span data-ttu-id="485ed-216">Invocar esta RFC, necesita la siguiente autorización en SAP:</span><span class="sxs-lookup"><span data-stu-id="485ed-216">Invoking this RFC requires the following authorization in SAP:</span></span>  
  
```  
Authorisation object S_IDOCDEFT, Fields:  
EDI_TCD, value 'WE30'  
ACTVT, value - 03 (display)  
EDI_DOC, value  *  
EDI_CIM, value *  
```  
  
 <span data-ttu-id="485ed-217">Puede usar la transacción SU01 en SAP para agregar un objeto de autorización.</span><span class="sxs-lookup"><span data-stu-id="485ed-217">You can use the SU01 transaction in SAP to add an authorization object.</span></span> <span data-ttu-id="485ed-218">Para obtener más información acerca de la transacción, póngase en contacto con el Administrador de SAP o consulte la documentación de SAP.</span><span class="sxs-lookup"><span data-stu-id="485ed-218">For more information about the transaction, contact your SAP administrator or refer to SAP documentation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="485ed-219">Vea también</span><span class="sxs-lookup"><span data-stu-id="485ed-219">See Also</span></span>  
 <span data-ttu-id="485ed-220">[¿Qué operaciones pueden ser realizadas utilizando el adaptador?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="485ed-220">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>