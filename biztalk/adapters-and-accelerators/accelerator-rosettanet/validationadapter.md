---
title: ValidationAdapter | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5fe99350-14c0-4ddb-b257-af9a0c4258f6
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fbcf26ee8a3a97d2df34bb29dad5d0cf31d4db1a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36987909"
---
# <a name="validationadapter"></a><span data-ttu-id="2cafb-102">ValidationAdapter</span><span class="sxs-lookup"><span data-stu-id="2cafb-102">ValidationAdapter</span></span>
<span data-ttu-id="2cafb-103">El ejemplo ValidationAdapter muestra cómo ejecutar las reglas de validación especiales en un mensaje en un proceso público del Respondedor.</span><span class="sxs-lookup"><span data-stu-id="2cafb-103">The ValidationAdapter sample demonstrates how to run special validation rules on a message in a responder public process.</span></span> <span data-ttu-id="2cafb-104">Microsoft® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] realiza la validación en el envío o recepción canalización, de forma nativa y en las orquestaciones.</span><span class="sxs-lookup"><span data-stu-id="2cafb-104">Microsoft® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] natively performs validation in the send or receive pipeline, and in orchestrations.</span></span> <span data-ttu-id="2cafb-105">Si desea realizar una validación adicional, puede crear un adaptador de validación.</span><span class="sxs-lookup"><span data-stu-id="2cafb-105">If you want to perform additional validation, you can create a validation adapter.</span></span> <span data-ttu-id="2cafb-106">La validación adicional podría incluir la validación de campos cruzados o las reglas de validación específicas de la empresa que no se puede implementar con un XSD.</span><span class="sxs-lookup"><span data-stu-id="2cafb-106">The additional validation could include cross-field validation or business-specific validation rules that you cannot implement using an XSD.</span></span>  
  
 <span data-ttu-id="2cafb-107">Puede crear un adaptador de validación mediante la adición de [!INCLUDE[btsCSharp](../../includes/btscsharp-md.md)] código en el ejemplo ValidationAdapter, las interfaces de publicación y especificar el adaptador en las propiedades del acuerdo.</span><span class="sxs-lookup"><span data-stu-id="2cafb-107">You can create a validation adapter by adding [!INCLUDE[btsCSharp](../../includes/btscsharp-md.md)] code to the ValidationAdapter sample, publishing the interfaces, and entering the adapter into the agreement properties.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="2cafb-108"> a continuación, se llamará a la del adaptador de validación durante el procesamiento del mensaje.</span><span class="sxs-lookup"><span data-stu-id="2cafb-108"> will then call the validation adapter during message processing.</span></span>  
  
 <span data-ttu-id="2cafb-109">Puesto que se usa el ValidationAdapter por la orquestación de proceso público, se ejecuta bajo las mismas credenciales que el servicio de host de BizTalk que hospeda esa orquestación.</span><span class="sxs-lookup"><span data-stu-id="2cafb-109">Since the ValidationAdapter is used by the public process orchestration , it runs under the same credentials as the BizTalk host service hosting that orchestration.</span></span>  
  
 <span data-ttu-id="2cafb-110">El ejemplo ValidationAdapter se encuentra en \< *unidad*\>: \Program archivos\\Microsoft BizTalk \<versión\> Acelerador para RosettaNet\SDK\ ValidationAdapter.</span><span class="sxs-lookup"><span data-stu-id="2cafb-110">The ValidationAdapter sample is located in \<*drive*\>:\Program Files\\Microsoft  BizTalk \<version\> Accelerator for RosettaNet\SDK\ValidationAdapter.</span></span>  
  
## <a name="demonstrates"></a><span data-ttu-id="2cafb-111">Demostraciones</span><span class="sxs-lookup"><span data-stu-id="2cafb-111">Demonstrates</span></span>  
 <span data-ttu-id="2cafb-112">El ejemplo ValidationAdapter ilustra la validación de la dirección de correo electrónico en el contenido del servicio.</span><span class="sxs-lookup"><span data-stu-id="2cafb-112">The ValidationAdapter sample demonstrates validation of the e-mail address in the service content.</span></span> <span data-ttu-id="2cafb-113">El ejemplo implementa el `IValidateRNIFMessageParts` interfaz.</span><span class="sxs-lookup"><span data-stu-id="2cafb-113">The sample implements the `IValidateRNIFMessageParts` interface.</span></span> <span data-ttu-id="2cafb-114">Devuelve un `RNIFException` si la dirección de correo electrónico no está en el formato correcto.</span><span class="sxs-lookup"><span data-stu-id="2cafb-114">It returns an `RNIFException` if the e-mail address is not in the correct format.</span></span> <span data-ttu-id="2cafb-115">Los documentos XML **preambleToValidate**, **serviceHeaderToValidate**, **deliveryHeaderToValidate**, y **serviceContentToValidate**definir la validación.</span><span class="sxs-lookup"><span data-stu-id="2cafb-115">The XML documents **preambleToValidate**, **serviceHeaderToValidate**, **deliveryHeaderToValidate**, and **serviceContentToValidate** define the validation.</span></span>  
  
 <span data-ttu-id="2cafb-116">El ValidationAdapter, utiliza la propiedad RNIFerror.IsOkToSendException para determinar qué tipo de mensaje que se enviará si se produce un error.</span><span class="sxs-lookup"><span data-stu-id="2cafb-116">The ValidationAdapter uses the RNIFerror.IsOkToSendException property to determine what kind of message to send in the event of an error.</span></span> <span data-ttu-id="2cafb-117">Si no se realiza correctamente la validación, el ValidationAdapter RNIFerror.ErrorCode establece en un valor distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="2cafb-117">If validation does not succeed, the ValidationAdapter sets RNIFerror.ErrorCode to a non-zero value.</span></span> <span data-ttu-id="2cafb-118">Si la propiedad RNIFerror.IsOkToSendException es true, el proceso envía una confirmación negativa.</span><span class="sxs-lookup"><span data-stu-id="2cafb-118">If RNIFerror.IsOkToSendException property is true, the process sends a negative acknowledgment.</span></span> <span data-ttu-id="2cafb-119">Para RNIF 2.0, este es un mensaje de excepción.</span><span class="sxs-lookup"><span data-stu-id="2cafb-119">For RNIF 2.0, this is an exception message.</span></span> <span data-ttu-id="2cafb-120">Para RNIF 1.1, se trata de un mensaje de excepción de confirmación de recepción.</span><span class="sxs-lookup"><span data-stu-id="2cafb-120">For RNIF 1.1, this is a receipt acknowledgment exception message.</span></span> <span data-ttu-id="2cafb-121">Si la propiedad RNIFerror.IsOkToSendException es false y 0A1 está configurado, el proceso enviará un mensaje de 0A1.</span><span class="sxs-lookup"><span data-stu-id="2cafb-121">If RNIFerror.IsOkToSendException property is false and 0A1 is configured, the process will send a 0A1 message.</span></span> <span data-ttu-id="2cafb-122">Una vez que el proceso envía un mensaje de excepción, el mensaje de excepción de confirmación de recepción o el mensaje de 0A1, se cerrará.</span><span class="sxs-lookup"><span data-stu-id="2cafb-122">Once the process sends an exception message, receipt acknowledgment exception message, or 0A1 message, it will terminate.</span></span>  
  
 <span data-ttu-id="2cafb-123">Si la propiedad RNIFerror.IsOkToSendException es false y no está configurado 0A1, el proceso le enviará una excepción ni un 0A1.</span><span class="sxs-lookup"><span data-stu-id="2cafb-123">If RNIFerror.IsOkToSendException property is false and 0A1 is not configured, the process will send neither an exception nor a 0A1.</span></span> <span data-ttu-id="2cafb-124">Registrará el error y, a continuación, en Finalizar.</span><span class="sxs-lookup"><span data-stu-id="2cafb-124">It will log the error and then terminate.</span></span>  
  
 <span data-ttu-id="2cafb-125">Si la validación es correcta, el ValidationAdapter RNIFerror.ErrorCode establece en 0 y BTARN enruta el mensaje al proceso privado.</span><span class="sxs-lookup"><span data-stu-id="2cafb-125">If validation succeeds, the ValidationAdapter sets RNIFerror.ErrorCode to 0, and BTARN routes the message to the private process.</span></span> <span data-ttu-id="2cafb-126">Enruta el mensaje al proceso privado solo si la validación es correcta.</span><span class="sxs-lookup"><span data-stu-id="2cafb-126">It routes the message to the private process only if validation is successful.</span></span>  
  
## <a name="to-implement-this-sample"></a><span data-ttu-id="2cafb-127">Para implementar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="2cafb-127">To Implement this Sample</span></span>  
 <span data-ttu-id="2cafb-128">Para implementar el ejemplo ValidationAdapter, debe agregar el adaptador de validación al acuerdo.</span><span class="sxs-lookup"><span data-stu-id="2cafb-128">To implement the ValidationAdapter sample, you must add the validation adapter to the agreement.</span></span>  
  
#### <a name="to-add-the-validation-adapter-to-the-agreement"></a><span data-ttu-id="2cafb-129">Para agregar el adaptador de validación del acuerdo</span><span class="sxs-lookup"><span data-stu-id="2cafb-129">To add the validation adapter to the agreement</span></span>  
  
1. <span data-ttu-id="2cafb-130">Haga clic en **iniciar**, apunte a **todos los programas**, señale Microsoft [!INCLUDE[btaBTARNNoVersion](../../includes/btabtarnnoversion-md.md)]y, a continuación, haga clic en [!INCLUDE[btaBTARNNoVersionui](../../includes/btabtarnnoversionui-md.md)] **consola de administración**.</span><span class="sxs-lookup"><span data-stu-id="2cafb-130">Click **Start**, point to **All Programs**, point to Microsoft [!INCLUDE[btaBTARNNoVersion](../../includes/btabtarnnoversion-md.md)], and then click [!INCLUDE[btaBTARNNoVersionui](../../includes/btabtarnnoversionui-md.md)] **Management Console**.</span></span>  
  
2. <span data-ttu-id="2cafb-131">En el [!INCLUDE[btaBTARNNoVersion](../../includes/btabtarnnoversion-md.md)] Management Console, expanda [!INCLUDE[btaBTARNNoVersionui](../../includes/btabtarnnoversionui-md.md)]y, a continuación, haga clic en **acuerdos**.</span><span class="sxs-lookup"><span data-stu-id="2cafb-131">In the [!INCLUDE[btaBTARNNoVersion](../../includes/btabtarnnoversion-md.md)] Management Console, expand [!INCLUDE[btaBTARNNoVersionui](../../includes/btabtarnnoversionui-md.md)], and then click **Agreements**.</span></span>  
  
3. <span data-ttu-id="2cafb-132">Haga doble clic en el acuerdo al que desea agregar el adaptador de validación.</span><span class="sxs-lookup"><span data-stu-id="2cafb-132">Double-click the agreement to which you want to add the validation adapter.</span></span>  
  
4. <span data-ttu-id="2cafb-133">En el **adaptador de validación** diálogo cuadro, haga clic en el botón de puntos suspensivos (**...** ) situado a la derecha de **nombre del ensamblado**, desplazarse a la ubicación que contiene el ensamblado de adaptador de validación, seleccione el archivo .dll adecuado y, a continuación, haga clic en **abierto**.</span><span class="sxs-lookup"><span data-stu-id="2cafb-133">In the **Validation Adapter** dialog box, click the ellipsis button (**...**) button to the right of **Assembly name**, move to the location that contains the validation adapter assembly, select the appropriate .dll file, and then click **Open**.</span></span>  
  
5. <span data-ttu-id="2cafb-134">Haga clic en la flecha hacia abajo para **nombre de la clase**, seleccione la clase de adaptador de validación y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="2cafb-134">Click the down arrow for **Class Name**, select the validation adapter class, and then click **OK**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2cafb-135">Vea también</span><span class="sxs-lookup"><span data-stu-id="2cafb-135">See Also</span></span>  
 [<span data-ttu-id="2cafb-136">Ejemplos de adaptadores</span><span class="sxs-lookup"><span data-stu-id="2cafb-136">Adapter Samples</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/adapter-samples.md)