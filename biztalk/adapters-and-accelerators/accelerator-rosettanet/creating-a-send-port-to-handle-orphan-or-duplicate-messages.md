---
title: Creación de un puerto de envío para controlar mensajes huérfanos o duplicados | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- messages, duplicate messages
- messages, orphaned messages
- send ports, duplicate messages
- send ports, orphaned messages
- messages, send ports
ms.assetid: 61d51206-13e3-4d32-a184-866248db9b45
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fc4e6e8650f0da1446a48b5da8c8f7c2142af7bb
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36997901"
---
# <a name="creating-a-send-port-to-handle-orphan-or-duplicate-messages"></a><span data-ttu-id="07bfe-102">Creación de un puerto de envío para controlar mensajes huérfanos o duplicados</span><span class="sxs-lookup"><span data-stu-id="07bfe-102">Creating a Send Port to Handle Orphan or Duplicate Messages</span></span>
<span data-ttu-id="07bfe-103">Este tema describe cómo configurar un puerto de envío que puede usar para eliminar mensajes huérfanos o duplicados.</span><span class="sxs-lookup"><span data-stu-id="07bfe-103">This topic describes how to set up a send port that you can use to delete orphan or duplicate messages.</span></span>  
  
 <span data-ttu-id="07bfe-104">Mensajes huérfanos o duplicados pueden ser un problema si Microsoft® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] recibe copias adicionales de un mensaje después de la orquestación de proceso público ha completado el procesamiento de la primera copia del mensaje.</span><span class="sxs-lookup"><span data-stu-id="07bfe-104">Orphan or duplicate messages can be a problem if Microsoft® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] receives additional copies of a message after the public-process orchestration has completed processing the first copy of the message.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="07bfe-105"> marca los mensajes como duplicados y se suspenderá.</span><span class="sxs-lookup"><span data-stu-id="07bfe-105"> marks those messages as duplicates and suspends them.</span></span> <span data-ttu-id="07bfe-106">Puede ver estos mensajes en la consola de administración de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="07bfe-106">You can view these messages in the BizTalk Administration Console.</span></span> <span data-ttu-id="07bfe-107">Para obtener más información acerca de la consola de administración de BizTalk, consulte "Uso de la consola de administración de BizTalk" en la Ayuda de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="07bfe-107">For more information about BizTalk Administration Console, see "Using the BizTalk Administration Console" in the BizTalk Server Help.</span></span>  
  
 <span data-ttu-id="07bfe-108">Mensajes huérfanos o duplicados permanecen en la consola de administración de BizTalk hasta que se revise o eliminarlos.</span><span class="sxs-lookup"><span data-stu-id="07bfe-108">Orphan or duplicate messages remain in the BizTalk Administration Console until you review or delete them.</span></span> <span data-ttu-id="07bfe-109">La manera más eficaz de la eliminación de ellas es configurar un puerto de envío con los filtros configurados para mensajes huérfanos o duplicados.</span><span class="sxs-lookup"><span data-stu-id="07bfe-109">The most effective way of deleting them is to set up a send port with filters set for orphan or duplicate messages.</span></span> <span data-ttu-id="07bfe-110">Puede moverlos con ningún medio de transporte disponibles en BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="07bfe-110">You can move them using any transportation means available in BizTalk Server.</span></span> <span data-ttu-id="07bfe-111">Por ejemplo, puede mover con el transporte de archivo.</span><span class="sxs-lookup"><span data-stu-id="07bfe-111">For example, you can move them by using File transport.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="07bfe-112"> envía los mensajes huérfanos o duplicados como archivos en una ubicación de un disco duro.</span><span class="sxs-lookup"><span data-stu-id="07bfe-112"> sends the orphan or duplicate messages as files to a location on a hard disk.</span></span> <span data-ttu-id="07bfe-113">Esto le permite eliminar ellos fácilmente.</span><span class="sxs-lookup"><span data-stu-id="07bfe-113">This lets you to delete them easily.</span></span> <span data-ttu-id="07bfe-114">El puerto puede estar en el inscrito detenido estado y, en el que caso todos los mensajes se envían a la se mostrará como suspendido en ese puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="07bfe-114">The port can be in the enlisted and stopped state, in which case all messages sent to it will show as suspended under that send port.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="07bfe-115">En lugar de crear un puerto de envío para controlar los mensajes huérfanos o duplicados, puede crear un componente de canalización especial para eliminar estos mensajes de la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="07bfe-115">Instead of creating a send port to handle duplicate/orphan messages, you can create a special pipeline component to delete these messages from the MessageBox database.</span></span> <span data-ttu-id="07bfe-116">Puede usar el componente FixMsg en la [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] SDK como plantilla.</span><span class="sxs-lookup"><span data-stu-id="07bfe-116">You can use the FixMsg component in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] SDK as a template.</span></span> <span data-ttu-id="07bfe-117">Tiene que modificar el `IComponent.Execute` método devuelva null.</span><span class="sxs-lookup"><span data-stu-id="07bfe-117">You have to modify the `IComponent.Execute` method to return null.</span></span> <span data-ttu-id="07bfe-118">Esto hace que [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] para descartar los mensajes enviados a una canalización que contiene el componente.</span><span class="sxs-lookup"><span data-stu-id="07bfe-118">This causes [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] to discard any message sent to a pipeline that contains the component.</span></span> <span data-ttu-id="07bfe-119">Tendrá que compilar este componente de canalización y agregarlo a una canalización de envío y, a continuación, compilar, implementar y seleccione la canalización de envío para el puerto de receptor.</span><span class="sxs-lookup"><span data-stu-id="07bfe-119">You have to compile this pipeline component and add it to a send pipeline, and then compile, deploy, and select the send pipeline for the sink port.</span></span> <span data-ttu-id="07bfe-120">Para obtener más información, vea "CustomComponent ([!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] ejemplo)" en la Ayuda de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="07bfe-120">For more information, see "CustomComponent ([!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Sample)" in BizTalk Server Help.</span></span>  
  
### <a name="to-create-a-send-port-to-handle-orphan-or-duplicate-messages"></a><span data-ttu-id="07bfe-121">Para crear un puerto de envío para controlar mensajes huérfanos o duplicados</span><span class="sxs-lookup"><span data-stu-id="07bfe-121">To create a send port to handle orphan or duplicate messages</span></span>  
  
1. <span data-ttu-id="07bfe-122">En [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)], en el **vista** menú, haga clic en **el Explorador de BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-122">In [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)], on the **View** menu, click **BizTalk Explorer**.</span></span>  
  
2. <span data-ttu-id="07bfe-123">En el Explorador de BizTalk, expanda **base de datos de administración de BizTalk**y, a continuación, expanda **puertos de envío**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-123">In BizTalk Explorer, expand **BizTalk Management Database**, and then expand **Send Ports**.</span></span>  
  
3. <span data-ttu-id="07bfe-124">Haga clic con el botón secundario en **Puertos de envío**y seleccione **Agregar puerto de envío**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-124">Right-click **Send Ports**, and then click **Add Send Port**.</span></span>  
  
4. <span data-ttu-id="07bfe-125">En la ventana Crear nuevo puerto de envío, seleccione **Puerto unidireccional estático**y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-125">In the Create New Send Port window, select **Static One-Way Port**, and then click **OK**.</span></span>  
  
5. <span data-ttu-id="07bfe-126">En la ventana Propiedades de puerto de envío de unidireccional estático, en el **nombre** , escriba un nombre para el puerto de envío.</span><span class="sxs-lookup"><span data-stu-id="07bfe-126">In the Static One-Way Send Port Properties window, in the **Name** box, type a name for the send port.</span></span>  
  
6. <span data-ttu-id="07bfe-127">En el panel izquierdo, haga clic en **transporte**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-127">In the left pane, click **Transport**.</span></span> <span data-ttu-id="07bfe-128">En el panel derecho, haga clic en **tipo de transporte**y seleccione **archivo** para el tipo de transporte.</span><span class="sxs-lookup"><span data-stu-id="07bfe-128">In the right pane, click **Transport Type**, and select **FILE** for the transport type.</span></span> <span data-ttu-id="07bfe-129">Haga clic en el botón de puntos suspensivos (...) junto a **dirección (URI)**, escriba una ubicación en el disco duro y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-129">Click the ellipsis button (...) next to **Address (URI)**, type a location on your hard disk, and then click **OK**.</span></span>  
  
7. <span data-ttu-id="07bfe-130">En el panel izquierdo, haga clic en **enviar**, haga clic en **canalización de envío**y, a continuación, seleccione **Microsoft.BizTalk.DefaultPipelines.PassThruTransmit**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-130">In the left pane, click **Send**, click **Send Pipeline**, and then select **Microsoft.BizTalk.DefaultPipelines.PassThruTransmit**.</span></span>  
  
8. <span data-ttu-id="07bfe-131">En el panel izquierdo, haga clic en **filtra y asigna**y, a continuación, haga clic en **filtros**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-131">In the left pane, click **Filters and Maps**, and then click **Filters**.</span></span>  
  
9. <span data-ttu-id="07bfe-132">En la primera línea en el panel derecho, para **propiedad**, seleccione **Microsoft.Solutions.BTARN.GlobalSchemas.IsDuplicateMessage** en la lista desplegable, deje el **operador**como **==**, escriba **True** para **valor**y, a continuación, seleccione **o** en la lista desplegable para  **Grupo**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-132">On the first line in the right pane, for **Property**, select **Microsoft.Solutions.BTARN.GlobalSchemas.IsDuplicateMessage** from the drop-down list, leave the **Operator** as **==**, enter **True** for **Value**, and then select **Or** from the drop-down list for **Group**.</span></span>  
  
10. <span data-ttu-id="07bfe-133">En la segunda línea en el panel derecho, para **propiedad**, seleccione **Microsoft.Solutions.BTARN.GlobalSchemas.IsOrphanMessage** en la lista desplegable, deje el **operador**como **==** y, a continuación, escriba **True** para **valor**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-133">On the second line in the right pane, for **Property**, select **Microsoft.Solutions.BTARN.GlobalSchemas.IsOrphanMessage** from the drop-down list, leave the **Operator** as **==**, and then enter **True** for **Value**.</span></span>  
  
11. <span data-ttu-id="07bfe-134">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-134">Click **OK**.</span></span>  
  
12. <span data-ttu-id="07bfe-135">En el Explorador de BizTalk, haga clic en el nombre del puerto de envío, haga clic en **Enlist**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-135">In BizTalk Explorer, right-click the name of the send port, click **Enlist**.</span></span> <span data-ttu-id="07bfe-136">Después de que ha dado de alta el puerto de envío, haga clic en el puerto de envío y, a continuación, haga clic en **iniciar**.</span><span class="sxs-lookup"><span data-stu-id="07bfe-136">After the send port has been enlisted, right-click the send port, and then click **Start**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="07bfe-137">Vea también</span><span class="sxs-lookup"><span data-stu-id="07bfe-137">See Also</span></span>  
 [<span data-ttu-id="07bfe-138">Guía de programación</span><span class="sxs-lookup"><span data-stu-id="07bfe-138">Programming Guide</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/programming-guide2.md)