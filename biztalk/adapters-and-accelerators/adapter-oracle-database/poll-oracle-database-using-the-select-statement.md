---
title: "Sondeo de base de datos de Oracle mediante la instrucción SELECT | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- polling-based notifications, receiving from Oracle
- polling query, configuring a
ms.assetid: d2689eb9-6f17-498f-8a32-07f43a368833
caps.latest.revision: "19"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2987d58e17ea7ddbd0db5b0a4d242f9ff42afec5
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/28/2017
---
# <a name="poll-oracle-database-using-the-select-statement"></a><span data-ttu-id="a9a90-102">Sondeo de base de datos de Oracle mediante la instrucción SELECT</span><span class="sxs-lookup"><span data-stu-id="a9a90-102">Poll Oracle Database using the SELECT statement</span></span>
<span data-ttu-id="a9a90-103">Puede configurar el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] para recibir mensajes de cambio de datos periódicos utilizando una instrucción SELECT para sondear continuamente las tablas y vistas en la base de datos de Oracle de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-103">You can configure the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive periodic data-change messages by using a SELECT statement to continuously poll the tables and views in Oracle the Oracle database.</span></span> <span data-ttu-id="a9a90-104">Puede especificar una instrucción SELECT como una instrucción de sondeo que el adaptador se ejecuta periódicamente para sondear la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-104">You can specify a SELECT statement as a polling statement that the adapter executes periodically to poll the Oracle database.</span></span> <span data-ttu-id="a9a90-105">Si lo desea, también puede especificar un bloque de código de PL/SQL de sondeo posterior a la que el adaptador se ejecuta si se produce un cambio en los datos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-105">Optionally, you can also specify a post-poll PL/SQL code block that the adapter executes if there is a change in data.</span></span> <span data-ttu-id="a9a90-106">Este bloque se utiliza a menudo para actualizar un campo en los registros consultados en el destino o para mover los registros consultados a otra tabla o vista.</span><span class="sxs-lookup"><span data-stu-id="a9a90-106">This block is often used to update a field on the queried records in the target or to move the queried records to another table or view.</span></span>  
  
 <span data-ttu-id="a9a90-107">Para habilitar esta opción, debe especificar ciertas propiedades de enlace en el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a9a90-107">To enable this, you must specify certain binding properties on the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="a9a90-108">También puede modificar el espacio de nombres de destino para la operación POLLINGSTMT estableciendo la **PollingId** propiedad en el URI de conexión.</span><span class="sxs-lookup"><span data-stu-id="a9a90-108">You can also modify the target namespace for the POLLINGSTMT operation by setting the **PollingId** property in the connection URI.</span></span> <span data-ttu-id="a9a90-109">Para obtener más información, consulte [compatibilidad para mensajes de cambio de datos basados en la recepción de sondeo en base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/support-for-receiving-polling-based-data-changed-messages-in-oracle-database.md) y [recibir mensajes de cambio de datos basado en sondeo en el adaptador de la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-database-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-109">For more information, see [Support for Receiving Polling-based Data-changed Messages in Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/support-for-receiving-polling-based-data-changed-messages-in-oracle-database.md) and [Receive polling-based data-changed messages in Oracle Database adapter](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-database-adapter.md).</span></span> <span data-ttu-id="a9a90-110">Para obtener información acerca de la estructura del mensaje SOAP para las operaciones de sondeo, consulte [esquemas de mensaje para el sondeo Operations2](../../adapters-and-accelerators/adapter-oracle-database/message-schemas-for-the-polling-operations2.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-110">For information about the structure of the SOAP message for polling operations, see [Message Schemas for the Polling Operations2](../../adapters-and-accelerators/adapter-oracle-database/message-schemas-for-the-polling-operations2.md).</span></span>  
  
## <a name="configuring-a-polling-operation-with-oracle-database-adapter-binding-properties"></a><span data-ttu-id="a9a90-111">Configuración de una operación de sondeo con propiedades de enlace de adaptador de base de datos de Oracle</span><span class="sxs-lookup"><span data-stu-id="a9a90-111">Configuring a Polling Operation with Oracle Database Adapter Binding Properties</span></span>  
 <span data-ttu-id="a9a90-112">La siguiente tabla resume los [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] mensajes de cambio de propiedades de enlace que se utiliza para configurar el adaptador para recibir datos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-112">The following table summarizes the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] binding properties that you use to configure the adapter to receive data change messages.</span></span> <span data-ttu-id="a9a90-113">Debe especificar estas propiedades de enlace al configurar el puerto de recepción de [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="a9a90-113">You must specify these binding properties while configuring the receive port in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
|<span data-ttu-id="a9a90-114">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="a9a90-114">Binding Property</span></span>|<span data-ttu-id="a9a90-115">Description</span><span class="sxs-lookup"><span data-stu-id="a9a90-115">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="a9a90-116">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="a9a90-116">**InboundOperationType**</span></span>|<span data-ttu-id="a9a90-117">Especifica si desea realizar sondeo o notificación de entrada de la operación.</span><span class="sxs-lookup"><span data-stu-id="a9a90-117">Specifies whether you want to perform Polling or Notification inbound operation.</span></span> <span data-ttu-id="a9a90-118">Valor predeterminado es **sondeo**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-118">Default is **Polling**.</span></span>|  
|<span data-ttu-id="a9a90-119">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="a9a90-119">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="a9a90-120">Especifica la instrucción SQL que se ejecuta el adaptador para determinar si los datos están disponibles para el sondeo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-120">Specifies the SQL statement that the adapter executes to determine whether any data is available for polling.</span></span> <span data-ttu-id="a9a90-121">Sólo si hay un registro, la instrucción SELECT especifique para la **PollingStatement** se va a ejecutar la propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-121">Only if a record is available, the SELECT statement you specify for the **PollingStatement** binding property will be executed.</span></span> <span data-ttu-id="a9a90-122">El valor predeterminado es `SELECT 1 FROM DUAL`, lo cual implica que el adaptador debe continuar sondeo independientemente de si la tabla se sondean, tiene datos o no.</span><span class="sxs-lookup"><span data-stu-id="a9a90-122">The default is `SELECT 1 FROM DUAL`, which implies that the adapter must continue polling irrespective of whether the table being polled has data or not.</span></span>|  
|<span data-ttu-id="a9a90-123">**PollingInterval**</span><span class="sxs-lookup"><span data-stu-id="a9a90-123">**PollingInterval**</span></span>|<span data-ttu-id="a9a90-124">Especifica el intervalo, en segundos, en el que el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] se ejecuta la instrucción especificada para la **PolledDataAvailableStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-124">Specifies the interval, in seconds, at which the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] executes the statement specified for the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="a9a90-125">El valor predeterminado es 500 segundos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-125">The default is 500 seconds.</span></span> <span data-ttu-id="a9a90-126">El intervalo de sondeo determina el intervalo de tiempo entre sondeos sucesivos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-126">The polling interval determines the time interval between successive polls.</span></span> <span data-ttu-id="a9a90-127">Si la instrucción se ejecuta en el intervalo especificado, el adaptador se suspende durante el tiempo restante en el intervalo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-127">If the statement is executed within the specified interval, the adapter sleeps for the remaining time in the interval.</span></span>|  
|<span data-ttu-id="a9a90-128">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="a9a90-128">**PollingStatement**</span></span>|<span data-ttu-id="a9a90-129">Especifica la instrucción de sondeo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-129">Specifies the polling statement.</span></span> <span data-ttu-id="a9a90-130">Para sondear mediante una instrucción SELECT, debe especificar una instrucción SELECT para esta propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-130">To poll using a SELECT statement, you must specify a SELECT statement for this binding property.</span></span> <span data-ttu-id="a9a90-131">El valor predeterminado es null.</span><span class="sxs-lookup"><span data-stu-id="a9a90-131">The default is null.</span></span><br /><br /> <span data-ttu-id="a9a90-132">Debe especificar un valor para **PollingStatement** propiedad para habilitar el sondeo de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-132">You must specify a value for **PollingStatement** binding property to enable polling.</span></span> <span data-ttu-id="a9a90-133">Se ejecuta la instrucción de sondeo solo si hay datos disponibles para el sondeo, que viene determinado por la **PolledDataAvailableStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-133">The polling statement is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property.</span></span>|  
|<span data-ttu-id="a9a90-134">**PollingAction**</span><span class="sxs-lookup"><span data-stu-id="a9a90-134">**PollingAction**</span></span>|<span data-ttu-id="a9a90-135">Especifica la acción para la operación de sondeo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-135">Specifies the action for the polling operation.</span></span> <span data-ttu-id="a9a90-136">Puede determinar la acción de sondeo para una operación específica de los metadatos que se ha generado para la operación con el [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a9a90-136">You can determine the polling action for a specific operation from the metadata you generate for the operation using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>|  
|<span data-ttu-id="a9a90-137">**PostPollStatement**</span><span class="sxs-lookup"><span data-stu-id="a9a90-137">**PostPollStatement**</span></span>|<span data-ttu-id="a9a90-138">Especifica un bloque de instrucciones que se ejecuta después de la instrucción especificada por el **PollingStatement** propiedad de enlace se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="a9a90-138">Specifies a statement block that is executed after the statement specified by the **PollingStatement** binding property is executed.</span></span>|  
|<span data-ttu-id="a9a90-139">**PollWhileDataFound**</span><span class="sxs-lookup"><span data-stu-id="a9a90-139">**PollWhileDataFound**</span></span>|<span data-ttu-id="a9a90-140">Especifica si el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] pasa por alto el intervalo de sondeo y ejecuta continuamente la instrucción de sondeo, si los datos están disponibles en la tabla que se va a sondear.</span><span class="sxs-lookup"><span data-stu-id="a9a90-140">Specifies whether the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] ignores the polling interval and continuously executes the polling statement, if data is available in the table being polled.</span></span> <span data-ttu-id="a9a90-141">Si no hay datos disponibles en la tabla, el adaptador vuelve para ejecutar la instrucción de sondeo en el intervalo de sondeo especificado.</span><span class="sxs-lookup"><span data-stu-id="a9a90-141">If no data is available in the table, the adapter reverts to execute the polling statement at the specified polling interval.</span></span> <span data-ttu-id="a9a90-142">El valor predeterminado es False.</span><span class="sxs-lookup"><span data-stu-id="a9a90-142">Default is false.</span></span>|  
  
 <span data-ttu-id="a9a90-143">Para obtener una descripción más completa de estas propiedades, vea [leer acerca de las propiedades de enlace del adaptador de base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-143">For a more complete description of these properties, see [Read about the   Oracle Database adapter binding properties](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span></span> <span data-ttu-id="a9a90-144">Para obtener una descripción completa de cómo usar el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] para sondear la base de datos de Oracle, seguir leyendo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-144">For a complete description of how to use the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to poll the Oracle database, read further.</span></span>  
  
## <a name="how-this-topic-demonstrates-polling"></a><span data-ttu-id="a9a90-145">Cómo este tema muestra el sondeo</span><span class="sxs-lookup"><span data-stu-id="a9a90-145">How This Topic Demonstrates Polling</span></span>  
 <span data-ttu-id="a9a90-146">En este tema, para demostrar cómo [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] admite la recepción de datos cambiar mensajes mediante las instrucciones SELECT, crear un proyecto de BizTalk y genere el esquema para el **POLLINGSTMT** operación estableciendo el  **PollingStatement** propiedad de enlace a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="a9a90-146">In this topic, to demonstrate how the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] supports receiving data change messages using SELECT statements, create a BizTalk project and generate schema for the **POLLINGSTMT** operation by setting the **PollingStatement** binding property to the following:</span></span>  
  
```  
SELECT * FROM ACCOUNTACTIVITY FOR UPDATE  
```  
  
 <span data-ttu-id="a9a90-147">La tabla ACCOUNTACTIVITY se crea al ejecutar los scripts SQL que se proporciona con los ejemplos para crear estos objetos en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-147">The ACCOUNTACTIVITY table is created when you run the SQL scripts provided with the samples to create these objects in the database.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a9a90-148">La orquestación en este sondeos de tema la ACCOUNTACTIVITY de tabla, que es una tabla de base de datos creada mediante la ejecución de las secuencias de comandos que se proporciona con los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-148">The orchestration in this topic polls the ACCOUNTACTIVITY table, which is a base database table created by running the scripts provided with the samples.</span></span> <span data-ttu-id="a9a90-149">Debe realizar procesos similares, como se describe en este tema para sondear cualquier otra tabla.</span><span class="sxs-lookup"><span data-stu-id="a9a90-149">You must perform similar procedures as described in this topic to poll any other table.</span></span>  
  
 <span data-ttu-id="a9a90-150">Para mostrar una operación de sondeo, llevamos a cabo lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a9a90-150">To demonstrate a polling operation, we do the following:</span></span>  
  
-   <span data-ttu-id="a9a90-151">Especifique una instrucción SELECT para la **PolledDataAvailableStatement** propiedad para determinar donde la tabla se sondea, (ACCOUNTACTIVITY) de enlace tiene los datos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-151">Specify a SELECT statement for the **PolledDataAvailableStatement** binding property to determine where the table being polled (ACCOUNTACTIVITY) has any data.</span></span> <span data-ttu-id="a9a90-152">En este ejemplo, puede establecer esta propiedad de enlace como:</span><span class="sxs-lookup"><span data-stu-id="a9a90-152">In this example, you can set this binding property as:</span></span>  
  
    ```  
    SELECT COUNT (*) FROM ACCOUNTACTIVITY  
    ```  
  
     <span data-ttu-id="a9a90-153">Esto garantiza que el adaptador ejecuta la instrucción de sondeo solo cuando la tabla ACCOUNTACTIVITY tiene algunos registros.</span><span class="sxs-lookup"><span data-stu-id="a9a90-153">This ensures that the adapter executes the polling statement only when the ACCOUNTACTIVITY table has some records.</span></span>  
  
-   <span data-ttu-id="a9a90-154">Especifique la instrucción SELECT como se mencionó anteriormente para la **PollingStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-154">Specify the SELECT statement as stated earlier for the **PollingStatement** binding property.</span></span> <span data-ttu-id="a9a90-155">Esta instrucción recupera todas las filas de la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="a9a90-155">This statement retrieves all the rows in the ACCOUNTACTIVITY table.</span></span>  
  
-   <span data-ttu-id="a9a90-156">EJECUTAR un bloque de PL/SQL como parte de la **PostPollStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-156">EXECUTE a PL/SQL block as part of the **PostPollStatement** binding property.</span></span> <span data-ttu-id="a9a90-157">Esta instrucción moverá todos los datos de tabla ACCOUNTACTIVITY a otra tabla en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-157">This statement will move all data from ACCOUNTACTIVITY table to another table in the database.</span></span> <span data-ttu-id="a9a90-158">Una vez que esto ocurre, la próxima vez que la instrucción especificada para **PollingStatement** será ejecuta, no capturará los datos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-158">Once this happens, the next time the statement specified for **PollingStatement** will be executed, it will not fetch any data.</span></span>  
  
-   <span data-ttu-id="a9a90-159">Hasta que se agregan más datos a la tabla ACCOUNTACTIVITY, no obtendrá ningún mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-159">Until more data is added to the ACCOUNTACTIVITY table, you will not get any polling messages.</span></span> <span data-ttu-id="a9a90-160">Por lo tanto, debe volver a rellenar la tabla ACCOUNTACTIVITY con nuevos registros.</span><span class="sxs-lookup"><span data-stu-id="a9a90-160">So, you must repopulate the ACCOUNTACTIVITY table with new records.</span></span> <span data-ttu-id="a9a90-161">Puede hacerlo ejecutando el script more_activity_data.sql proporcionado con los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-161">You can do so by running the more_activity_data.sql script provided with the samples.</span></span> <span data-ttu-id="a9a90-162">Después de ejecutar este script, la siguiente operación de sondeo capturará los nuevos registros que se insertan en la tabla.</span><span class="sxs-lookup"><span data-stu-id="a9a90-162">After you run this script, the next polling operation will fetch the new records inserted into the table.</span></span>  
  
## <a name="how-to-receive-data-change-messages-from-oracle"></a><span data-ttu-id="a9a90-163">Cómo recibir mensajes de cambio de datos de Oracle</span><span class="sxs-lookup"><span data-stu-id="a9a90-163">How to Receive Data-change Messages from Oracle</span></span>  
 <span data-ttu-id="a9a90-164">Realizar una operación en la base de datos de Oracle mediante [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] con [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] implica las siguientes tareas de procedimientos descritas en [bloques de creación para desarrollar aplicaciones de BizTalk con la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/building-blocks-to-develop-biztalk-applications-with-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-164">Performing an operation on Oracle database using [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves the following procedural tasks described in [Building Blocks to develop BizTalk Applications with Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/building-blocks-to-develop-biztalk-applications-with-oracle-database.md).</span></span> <span data-ttu-id="a9a90-165">Para configurar el adaptador para sondear la base de datos de Oracle mediante una instrucción SELECT, estas tareas son:</span><span class="sxs-lookup"><span data-stu-id="a9a90-165">To configure the adapter to poll Oracle database using a SELECT statement, these tasks are:</span></span>  
  
1.  <span data-ttu-id="a9a90-166">Crear un proyecto de BizTalk y genere el esquema para el **POLLINGSTMT** operación para la tabla que quiere sondear.</span><span class="sxs-lookup"><span data-stu-id="a9a90-166">Create a BizTalk project, and generate schema for the **POLLINGSTMT** operation for the table you want to poll.</span></span>  
  
2.  <span data-ttu-id="a9a90-167">Cree un mensaje en el proyecto de BizTalk para recibir mensajes de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-167">Create a message in the BizTalk project for receiving messages from Oracle database.</span></span>  
  
3.  <span data-ttu-id="a9a90-168">Crear una orquestación para recibir mensajes de Oracle y guardarlos en una carpeta.</span><span class="sxs-lookup"><span data-stu-id="a9a90-168">Create an orchestration to receive messages from Oracle and save them to a folder.</span></span>  
  
4.  <span data-ttu-id="a9a90-169">Compilar e implementar el proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="a9a90-169">Build and deploy the BizTalk project.</span></span>  
  
5.  <span data-ttu-id="a9a90-170">Configurar la aplicación mediante la creación física de envío y puertos de recepción de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="a9a90-170">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="a9a90-171">Para escenarios de entrada de sondeo siempre debe configurar un puerto de recepción unidireccional.</span><span class="sxs-lookup"><span data-stu-id="a9a90-171">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="a9a90-172">Bidireccional de recepción no se admiten los puertos para las operaciones de entrada.</span><span class="sxs-lookup"><span data-stu-id="a9a90-172">Two-way receive ports are not supported for inbound operations.</span></span>  
  
6.  <span data-ttu-id="a9a90-173">Inicie la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="a9a90-173">Start the BizTalk application.</span></span>  
  
 <span data-ttu-id="a9a90-174">Este tema proporciona instrucciones para realizar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="a9a90-174">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="generating-schema"></a><span data-ttu-id="a9a90-175">Generar el esquema</span><span class="sxs-lookup"><span data-stu-id="a9a90-175">Generating Schema</span></span>  
 <span data-ttu-id="a9a90-176">Debe generar el esquema para el **POLLINGSTMT** operación.</span><span class="sxs-lookup"><span data-stu-id="a9a90-176">You must generate the schema for the **POLLINGSTMT** operation.</span></span> <span data-ttu-id="a9a90-177">Realizar las tareas siguientes al generar el esquema mediante el [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a9a90-177">Perform the following tasks while generating the schema using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
-   <span data-ttu-id="a9a90-178">Especifique un valor para **PollingStatement** propiedad de enlace al generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="a9a90-178">Specify a value for **PollingStatement** binding property while generating the schema.</span></span> <span data-ttu-id="a9a90-179">Para obtener más información acerca de esta propiedad de enlace, vea [leer acerca de las propiedades de enlace del adaptador de base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-179">For more information about this binding property, see [Read about the   Oracle Database adapter binding properties](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span></span> <span data-ttu-id="a9a90-180">Por ejemplo, especifique lo siguiente como una instrucción de sondeo:</span><span class="sxs-lookup"><span data-stu-id="a9a90-180">For example, specify the following as a polling statement:</span></span>  
  
    ```  
    SELECT * FROM ACCOUNTACTIVITY FOR UPDATE  
    ```  
  
-   <span data-ttu-id="a9a90-181">Seleccione el tipo de contrato **(operación de entrada) de servicio**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-181">Select the contract type as **Service (Inbound operation)**.</span></span>  
  
-   <span data-ttu-id="a9a90-182">Genere el esquema para el **POLLINGSTMT** operación.</span><span class="sxs-lookup"><span data-stu-id="a9a90-182">Generate schema for the **POLLINGSTMT** operation.</span></span>  
  
 <span data-ttu-id="a9a90-183">Para obtener más información sobre cómo generar el esquema, consulte [exploración, búsqueda y metadatos de get para las operaciones de base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/browse-search-and-get-metadata-for-oracle-database-operations.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-183">For more information about how to generate schema, see [Browse, search, and get metadata for Oracle Database operations](../../adapters-and-accelerators/adapter-oracle-database/browse-search-and-get-metadata-for-oracle-database-operations.md).</span></span>  
  
## <a name="defining-messages-and-message-types"></a><span data-ttu-id="a9a90-184">Definición de mensajes y tipos de mensaje</span><span class="sxs-lookup"><span data-stu-id="a9a90-184">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="a9a90-185">El esquema que ha generado anteriormente describe los "tipos" necesarios para los mensajes en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="a9a90-185">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="a9a90-186">Un mensaje suele ser una variable, el tipo para el que está definido por el esquema correspondiente.</span><span class="sxs-lookup"><span data-stu-id="a9a90-186">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="a9a90-187">Una vez que se genera el esquema, debe vincular a los mensajes desde la vista de orquestación de BizTalk del proyecto.</span><span class="sxs-lookup"><span data-stu-id="a9a90-187">Once the schema is generated, you must link it to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="a9a90-188">De este tema, debe crear un mensaje para recibir mensajes de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-188">For this topic, you must create one message to receive messages from Oracle.</span></span>  
  
 <span data-ttu-id="a9a90-189">Realice los pasos siguientes para crear mensajes y vincularlas a esquema.</span><span class="sxs-lookup"><span data-stu-id="a9a90-189">Perform the following steps to create messages and link them to schema.</span></span>  
  
#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="a9a90-190">Para crear mensajes y vincular al esquema</span><span class="sxs-lookup"><span data-stu-id="a9a90-190">To create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="a9a90-191">Agregar una orquestación al proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="a9a90-191">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="a9a90-192">En el Explorador de soluciones, haga clic en el nombre del proyecto de BizTalk, seleccione **agregar**y, a continuación, haga clic en **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-192">From the Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="a9a90-193">Escriba un nombre para la orquestación de BizTalk y, a continuación, haga clic en **agregar**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-193">Type a name for the BizTalk orchestration and then click **Add**.</span></span>  
  
2.  <span data-ttu-id="a9a90-194">Abra la ventana de vista de orquestación de BizTalk del proyecto, si no está ya abierto.</span><span class="sxs-lookup"><span data-stu-id="a9a90-194">Open the orchestration view window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="a9a90-195">Haga clic en **vista**, seleccione **otras ventanas**y, a continuación, haga clic en **Vista orquestación**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-195">Click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="a9a90-196">En el **Vista orquestación**, haga clic en **mensajes**y, a continuación, haga clic en **nuevo mensaje**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-196">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="a9a90-197">Haga clic en el mensaje recién creado y, a continuación, seleccione **ventana propiedades**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-197">Right-click the newly created message, and then select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="a9a90-198">En el **propiedades** panel para **Message_1**, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a9a90-198">In the **Properties** pane for **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="a9a90-199">Use</span><span class="sxs-lookup"><span data-stu-id="a9a90-199">Use this</span></span>|<span data-ttu-id="a9a90-200">Para</span><span class="sxs-lookup"><span data-stu-id="a9a90-200">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="a9a90-201">Identificador</span><span class="sxs-lookup"><span data-stu-id="a9a90-201">Identifier</span></span>|<span data-ttu-id="a9a90-202">Tipo de **recibir**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-202">Type **Receive**.</span></span>|  
    |<span data-ttu-id="a9a90-203">Tipo de mensaje</span><span class="sxs-lookup"><span data-stu-id="a9a90-203">Message Type</span></span>|<span data-ttu-id="a9a90-204">En la lista desplegable, expanda **esquemas**y seleccione *TablePolling.OracleDBBinding*, donde *TablePolling* es el nombre de su proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="a9a90-204">From the drop-down list, expand **Schemas**, and select *TablePolling.OracleDBBinding*, where *TablePolling* is the name of your BizTalk project.</span></span> <span data-ttu-id="a9a90-205">*OracleDBBindingSchema* es el esquema de respuesta generado para el **POLLINGSTMT** operación en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="a9a90-205">*OracleDBBindingSchema* is the response schema generated for the **POLLINGSTMT** operation on ACCOUNTACTIVITY table.</span></span><br /><br /> <span data-ttu-id="a9a90-206">**Importante** porque sondeo es una operación unidireccional, el esquema generado por el adaptador no contiene un nodo de respuesta y, por lo tanto, hay solo un nodo raíz en el esquema.</span><span class="sxs-lookup"><span data-stu-id="a9a90-206">**Important** Because polling is a one way operation, the schema generated by the adapter does not contain a response node, and hence there is only one root node in the schema.</span></span> <span data-ttu-id="a9a90-207">Si utiliza estos esquemas para un tipo de mensaje, debe identificar el esquema por el nombre de archivo del esquema generado.</span><span class="sxs-lookup"><span data-stu-id="a9a90-207">If you use such schemas for a message type, you must identify the schema by the filename of the generated schema.</span></span><br /><br /> <span data-ttu-id="a9a90-208">Por ejemplo, si crea el esquema para una operación bidireccional, los nodos en el esquema de archivo con un nombre `OracleDBBindingSchema` puede ser similar a "Solicitud" y "Respuesta".</span><span class="sxs-lookup"><span data-stu-id="a9a90-208">For example, if you create schema for a two-way operation, the nodes in the schema file with a name `OracleDBBindingSchema` may look like “Request” and “Response”.</span></span> <span data-ttu-id="a9a90-209">Si desea crear un mensaje en la orquestación que se asigna al esquema de solicitud, puede identificar el esquema en la lista, busque `OracleDBBindingSchema.Request`.</span><span class="sxs-lookup"><span data-stu-id="a9a90-209">If you want to create a message in the orchestration that maps to the request schema, you can identify the schema in the list by looking for `OracleDBBindingSchema.Request`.</span></span> <span data-ttu-id="a9a90-210">Sin embargo, en el caso de la operación de sondeo, dado que el único nodo es "POLLINGSTMT", no resulta sencillo identificar el esquema que desea asignar a porque esquemas con nodos únicos no se muestran como \<schemafilename\>.\< rootnodename\>.</span><span class="sxs-lookup"><span data-stu-id="a9a90-210">However, in the case of polling operation, because the only node is “POLLINGSTMT”, it is not easy to identify the schema you want to map to because schemas with single nodes are not listed as \<schemafilename\>.\<rootnodename\>.</span></span> <span data-ttu-id="a9a90-211">En su lugar, estos esquemas se enumeran por solo el nombre de archivo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-211">Instead, such schemas are listed by only the filename.</span></span> <span data-ttu-id="a9a90-212">En tal caso, la única manera de identificar el esquema es por el nombre de archivo de esquema, por ejemplo, OracleDBBindingSchema.</span><span class="sxs-lookup"><span data-stu-id="a9a90-212">In such a case, the only way to identify the schema is by the schema filename, for example, OracleDBBindingSchema.</span></span>|  
  
## <a name="setting-up-the-orchestration"></a><span data-ttu-id="a9a90-213">Configuración de la orquestación</span><span class="sxs-lookup"><span data-stu-id="a9a90-213">Setting up the Orchestration</span></span>  
 <span data-ttu-id="a9a90-214">Debe crear una orquestación de BizTalk para usar [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] para recibir mensajes de cambio de datos basado en sondeo de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-214">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving polling-based data-change messages from Oracle.</span></span> <span data-ttu-id="a9a90-215">En esta orquestación, el adaptador recibe la respuesta mediante la ejecución de la instrucción SELECT especificada para la **PollingStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-215">In this orchestration, the adapter receives the response by executing the SELECT statement specified for the **PollingStatement** binding property.</span></span> <span data-ttu-id="a9a90-216">El mensaje de respuesta para la instrucción SELECT se guarda en una ubicación de archivo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-216">The response message for the SELECT statement is saved to a FILE location.</span></span> <span data-ttu-id="a9a90-217">Contendría una orquestación típica para el sondeo de base de datos de Oracle:</span><span class="sxs-lookup"><span data-stu-id="a9a90-217">A typical orchestration for polling Oracle database would contain:</span></span>  
  
-   <span data-ttu-id="a9a90-218">Recepción y envío formas a fin de recibir mensajes de Oracle y enviar a un puerto de archivo, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="a9a90-218">Receive and Send shapes to receive messages from Oracle and send to a FILE port, respectively.</span></span>  
  
-   <span data-ttu-id="a9a90-219">Un unidireccional puerto de recepción para recibir mensajes de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-219">A one-way receive port to receive messages from Oracle database.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="a9a90-220">Para escenarios de entrada de sondeo siempre debe configurar un puerto de recepción unidireccional.</span><span class="sxs-lookup"><span data-stu-id="a9a90-220">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="a9a90-221">Bidireccional de recepción no se admiten los puertos para las operaciones de entrada.</span><span class="sxs-lookup"><span data-stu-id="a9a90-221">Two-way receive ports are not supported for inbound operations.</span></span>  
  
-   <span data-ttu-id="a9a90-222">Un puerto de envío unidireccional para enviar las respuestas de sondeo de base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-222">A one-way send port to send polling responses from Oracle database.</span></span>  
  
 <span data-ttu-id="a9a90-223">Una orquestación de ejemplo es similar al siguiente.</span><span class="sxs-lookup"><span data-stu-id="a9a90-223">A sample orchestration resembles the following.</span></span>  
  
 <span data-ttu-id="a9a90-224">![Orquestación para una consulta de sondeo para Oracle](../../adapters-and-accelerators/adapter-oracle-database/media/6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3.gif "6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3")</span><span class="sxs-lookup"><span data-stu-id="a9a90-224">![Orchestration for a polling query for Oracle](../../adapters-and-accelerators/adapter-oracle-database/media/6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3.gif "6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3")</span></span>  
  
### <a name="adding-message-shapes"></a><span data-ttu-id="a9a90-225">Agregar formas de mensaje</span><span class="sxs-lookup"><span data-stu-id="a9a90-225">Adding Message Shapes</span></span>  
 <span data-ttu-id="a9a90-226">Asegúrese de que especifique las siguientes propiedades para cada una de las formas de mensaje.</span><span class="sxs-lookup"><span data-stu-id="a9a90-226">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="a9a90-227">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación just-mencionado.</span><span class="sxs-lookup"><span data-stu-id="a9a90-227">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  
  
|<span data-ttu-id="a9a90-228">Forma</span><span class="sxs-lookup"><span data-stu-id="a9a90-228">Shape</span></span>|<span data-ttu-id="a9a90-229">Tipo de forma</span><span class="sxs-lookup"><span data-stu-id="a9a90-229">Shape Type</span></span>|<span data-ttu-id="a9a90-230">Propiedades</span><span class="sxs-lookup"><span data-stu-id="a9a90-230">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="a9a90-231">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="a9a90-231">ReceiveMessage</span></span>|<span data-ttu-id="a9a90-232">Receive</span><span class="sxs-lookup"><span data-stu-id="a9a90-232">Receive</span></span>|<span data-ttu-id="a9a90-233">-Establecer **nombre** a *ReceiveMessage*</span><span class="sxs-lookup"><span data-stu-id="a9a90-233">- Set **Name** to *ReceiveMessage*</span></span><br /><br /> <span data-ttu-id="a9a90-234">-Establecer **activar** a *es True*</span><span class="sxs-lookup"><span data-stu-id="a9a90-234">- Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="a9a90-235">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="a9a90-235">SaveMessage</span></span>|<span data-ttu-id="a9a90-236">Send</span><span class="sxs-lookup"><span data-stu-id="a9a90-236">Send</span></span>|<span data-ttu-id="a9a90-237">-Establecer **nombre** a *SaveMessage*</span><span class="sxs-lookup"><span data-stu-id="a9a90-237">- Set **Name** to *SaveMessage*</span></span>|  
  
### <a name="adding-ports"></a><span data-ttu-id="a9a90-238">Agregar puertos</span><span class="sxs-lookup"><span data-stu-id="a9a90-238">Adding Ports</span></span>  
 <span data-ttu-id="a9a90-239">Asegúrese de que especifique las siguientes propiedades para cada uno de los puertos lógicos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-239">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="a9a90-240">Los nombres que aparecen en la columna de puerto son los nombres de los puertos, como se muestra en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="a9a90-240">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="a9a90-241">Puerto</span><span class="sxs-lookup"><span data-stu-id="a9a90-241">Port</span></span>|<span data-ttu-id="a9a90-242">Propiedades</span><span class="sxs-lookup"><span data-stu-id="a9a90-242">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="a9a90-243">OracleReceivePort</span><span class="sxs-lookup"><span data-stu-id="a9a90-243">OracleReceivePort</span></span>|<span data-ttu-id="a9a90-244">-Establecer **identificador** a *OracleReceivePort*</span><span class="sxs-lookup"><span data-stu-id="a9a90-244">- Set **Identifier** to *OracleReceivePort*</span></span><br /><br /> <span data-ttu-id="a9a90-245">-Establecer **tipo** a *OracleReceivePortType*</span><span class="sxs-lookup"><span data-stu-id="a9a90-245">- Set **Type** to *OracleReceivePortType*</span></span><br /><br /> <span data-ttu-id="a9a90-246">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="a9a90-246">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="a9a90-247">-Establecer **dirección de comunicación** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="a9a90-247">- Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="a9a90-248">SaveMessagePort</span><span class="sxs-lookup"><span data-stu-id="a9a90-248">SaveMessagePort</span></span>|<span data-ttu-id="a9a90-249">-Establecer **identificador** a *SaveMessagePort*</span><span class="sxs-lookup"><span data-stu-id="a9a90-249">- Set **Identifier** to *SaveMessagePort*</span></span><br /><br /> <span data-ttu-id="a9a90-250">-Establecer **tipo** a *SaveMessagePortType*</span><span class="sxs-lookup"><span data-stu-id="a9a90-250">- Set **Type** to *SaveMessagePortType*</span></span><br /><br /> <span data-ttu-id="a9a90-251">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="a9a90-251">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="a9a90-252">-Establecer **dirección de comunicación** a *enviar*</span><span class="sxs-lookup"><span data-stu-id="a9a90-252">- Set **Communication Direction** to *Send*</span></span>|  
  
### <a name="specify-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="a9a90-253">Especificar mensajes de las formas Acción y conectar a los puertos</span><span class="sxs-lookup"><span data-stu-id="a9a90-253">Specify Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="a9a90-254">En la tabla siguiente especifica las propiedades y sus valores que se deben establecer para especificar los mensajes para las formas de acción y vincular los mensajes a los puertos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-254">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="a9a90-255">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación que se ha mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a9a90-255">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  
  
|<span data-ttu-id="a9a90-256">Forma</span><span class="sxs-lookup"><span data-stu-id="a9a90-256">Shape</span></span>|<span data-ttu-id="a9a90-257">Propiedades</span><span class="sxs-lookup"><span data-stu-id="a9a90-257">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="a9a90-258">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="a9a90-258">ReceiveMessage</span></span>|<span data-ttu-id="a9a90-259">-Establecer **mensaje** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="a9a90-259">- Set **Message** to *Receive*</span></span><br /><br /> <span data-ttu-id="a9a90-260">-Establecer **operación** a *OracleReceivePort.Polling.Request*</span><span class="sxs-lookup"><span data-stu-id="a9a90-260">- Set **Operation** to *OracleReceivePort.Polling.Request*</span></span>|  
|<span data-ttu-id="a9a90-261">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="a9a90-261">SaveMessage</span></span>|<span data-ttu-id="a9a90-262">-Establecer **mensaje** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="a9a90-262">- Set **Message** to *Receive*</span></span><br /><br /> <span data-ttu-id="a9a90-263">-Establecer **operación** a *SaveMessagePort.Polling.Request*</span><span class="sxs-lookup"><span data-stu-id="a9a90-263">- Set **Operation** to *SaveMessagePort.Polling.Request*</span></span>|  
  
 <span data-ttu-id="a9a90-264">Después de especificar estas propiedades, las formas de mensaje y los puertos que están conectados y la orquestación se completa.</span><span class="sxs-lookup"><span data-stu-id="a9a90-264">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  
  
 <span data-ttu-id="a9a90-265">Ahora debe compilar la solución de BizTalk e implementarlo en un [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a9a90-265">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="a9a90-266">Para obtener más información, consulte [compilar y ejecutar orquestaciones](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-266">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>  
  
## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="a9a90-267">Configuración de la aplicación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="a9a90-267">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="a9a90-268">Después de haber implementado el proyecto de BizTalk, aparece la orquestación que creó anteriormente en el **orquestaciones** panel de la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="a9a90-268">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="a9a90-269">Debe usar la consola de administración de BizTalk Server para configurar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a9a90-269">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="a9a90-270">Para obtener un tutorial, vea [Tutorial: implementar una aplicación básica de BizTalk](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-270">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>
  
 <span data-ttu-id="a9a90-271">Configuración de una aplicación implica:</span><span class="sxs-lookup"><span data-stu-id="a9a90-271">Configuring an application involves:</span></span>  
  
-   <span data-ttu-id="a9a90-272">Selección de un host de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a9a90-272">Selecting a host for the application.</span></span>  
  
-   <span data-ttu-id="a9a90-273">Asignación de los puertos que ha creado en la orquestación con puertos físicos en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="a9a90-273">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="a9a90-274">Para que esta orquestación debe:</span><span class="sxs-lookup"><span data-stu-id="a9a90-274">For this orchestration you must:</span></span>  
  
    -   <span data-ttu-id="a9a90-275">Definir una ubicación en el disco duro y un puerto de archivo correspondiente donde la orquestación de BizTalk colocará los mensajes de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-275">Define a location on the hard disk and a corresponding FILE port where the BizTalk orchestration will drop the messages from Oracle.</span></span> <span data-ttu-id="a9a90-276">Estos mensajes se encontrarán en respuesta a la instrucción de sondeo que especifique para el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="a9a90-276">These messages will be in response to the polling statement that you specify for the receive port.</span></span>  
  
    -   <span data-ttu-id="a9a90-277">Definir un WCF-Custom físico o puerto de recepción unidireccionales de WCF-OracleDB.</span><span class="sxs-lookup"><span data-stu-id="a9a90-277">Define a physical WCF-Custom or WCF-OracleDB one-way receive port.</span></span> <span data-ttu-id="a9a90-278">Este puerto sondea la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-278">This port polls the Oracle database.</span></span> <span data-ttu-id="a9a90-279">Para obtener información sobre cómo crear puertos de recepción, vea [configurar manualmente un enlace de puerto físico para el adaptador de la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/manually-configure-a-physical-port-binding-to-the-oracle-database-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-279">For information about how to create receive ports, see [Manually configure a physical port binding to the Oracle Database Adapter](../../adapters-and-accelerators/adapter-oracle-database/manually-configure-a-physical-port-binding-to-the-oracle-database-adapter.md).</span></span> <span data-ttu-id="a9a90-280">Asegúrese de que especificar las siguientes propiedades de enlace para el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="a9a90-280">Make sure you specify the following binding properties for the receive port.</span></span>  
  
        |<span data-ttu-id="a9a90-281">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="a9a90-281">Binding Property</span></span>|<span data-ttu-id="a9a90-282">Valor</span><span class="sxs-lookup"><span data-stu-id="a9a90-282">Value</span></span>|  
        |----------------------|-----------|  
        |<span data-ttu-id="a9a90-283">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="a9a90-283">**InboundOperationType**</span></span>|<span data-ttu-id="a9a90-284">Establezca esta propiedad en **sondeo**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-284">Set this to **Polling**.</span></span>|  
        |<span data-ttu-id="a9a90-285">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="a9a90-285">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="a9a90-286">En este ejemplo, establezca esta propiedad de enlace en:</span><span class="sxs-lookup"><span data-stu-id="a9a90-286">For this example, set this binding property to:</span></span><br /><br /> `SELECT COUNT (*) FROM ACCOUNTACTIVITY`<br /><br /> <span data-ttu-id="a9a90-287">Esto garantiza que el adaptador ejecuta la instrucción de sondeo solo cuando la tabla ACCOUNTACTIVITY tiene algunos registros.</span><span class="sxs-lookup"><span data-stu-id="a9a90-287">This ensures that the adapter executes the polling statement only when the ACCOUNTACTIVITY table has some records.</span></span>|  
        |<span data-ttu-id="a9a90-288">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="a9a90-288">**PollingStatement**</span></span>|<span data-ttu-id="a9a90-289">Para esta propiedad de enlace, especifique una instrucción SELECT para recuperar todos los registros de la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="a9a90-289">For this binding property, specify a SELECT statement to retrieve all records from ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="a9a90-290">En este ejemplo, establezca esta propiedad de enlace en:</span><span class="sxs-lookup"><span data-stu-id="a9a90-290">For this example, set this binding property to:</span></span><br /><br /> `SELECT * FROM ACCOUNTACTIVITY FOR UPDATE`|  
        |<span data-ttu-id="a9a90-291">**PostPollStatement**</span><span class="sxs-lookup"><span data-stu-id="a9a90-291">**PostPollStatement**</span></span>|<span data-ttu-id="a9a90-292">Especifique la instrucción posterior a la de sondeo para mover todos los datos de tabla ACCOUNTACTIVITY a otra tabla.</span><span class="sxs-lookup"><span data-stu-id="a9a90-292">Specify the post-poll statement to move all data from ACCOUNTACTIVITY table to another table.</span></span> <span data-ttu-id="a9a90-293">En este ejemplo, establezca esta propiedad de enlace en:</span><span class="sxs-lookup"><span data-stu-id="a9a90-293">For this example, set this binding property to:</span></span><br /><br /> `BEGIN ACCOUNT_PKG.PROCESS_ACTIVITY(); END;`|  
  
         <span data-ttu-id="a9a90-294">Para obtener más información acerca de las propiedades de enlace diferente, consulte [leer acerca de las propiedades de enlace del adaptador de base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-294">For more information about the different binding properties, see [Read about the Oracle Database adapter binding properties](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="a9a90-295">Se recomienda configurar el nivel de aislamiento de transacción y el tiempo de espera de transacciones al realizar operaciones de entrada mediante el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a9a90-295">We recommend configuring the transaction isolation level and the transaction timeout while performing inbound operations using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="a9a90-296">Puede hacerlo agregando el comportamiento del servicio al configurar el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="a9a90-296">You can do so by adding the service behavior while configuring the receive port.</span></span> <span data-ttu-id="a9a90-297">Para obtener instrucciones sobre cómo agregar el comportamiento del servicio, consulte [configurar el nivel de aislamiento de transacción y el tiempo de espera de transacción](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-297">For instruction on how to add the service behavior, see [Configure transaction isolation level and transaction timeout](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span></span>  
  
## <a name="starting-the-application"></a><span data-ttu-id="a9a90-298">A partir de la aplicación</span><span class="sxs-lookup"><span data-stu-id="a9a90-298">Starting the Application</span></span>  
 <span data-ttu-id="a9a90-299">Debe iniciar la aplicación de BizTalk para el sondeo de base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="a9a90-299">You must start the BizTalk application for polling Oracle database.</span></span> <span data-ttu-id="a9a90-300">Para obtener instrucciones acerca de cómo iniciar una aplicación de BizTalk, consulte [cómo iniciar una orquestación](../../core/how-to-start-an-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-300">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>  
  
 <span data-ttu-id="a9a90-301">En esta fase, asegúrese de que:</span><span class="sxs-lookup"><span data-stu-id="a9a90-301">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="a9a90-302">El WCF-Custom o WCF-OracleDB unidireccional puerto de recepción, que realiza un sondeo Oracle se realiza mediante la instrucción SELECT especificada para la **PollingStatement** enlaza la propiedad, se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="a9a90-302">The WCF-Custom or WCF-OracleDB one-way receive port, which polls Oracle using the SELECT statement specified for the **PollingStatement** binding property, is running.</span></span>  
  
-   <span data-ttu-id="a9a90-303">El puerto de envío de archivo que recibe los mensajes de base de datos de Oracle, se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="a9a90-303">The FILE send port, which receives messages from Oracle database, is running.</span></span>  
  
-   <span data-ttu-id="a9a90-304">La orquestación de BizTalk para la operación se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="a9a90-304">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="executing-the-operation"></a><span data-ttu-id="a9a90-305">Ejecutar la operación</span><span class="sxs-lookup"><span data-stu-id="a9a90-305">Executing the Operation</span></span>  
 <span data-ttu-id="a9a90-306">Después de ejecutar la aplicación, el siguiente conjunto de acciones tienen lugar, en la misma secuencia:</span><span class="sxs-lookup"><span data-stu-id="a9a90-306">After you run the application, the following set of actions take place, in the same sequence:</span></span>  
  
-   <span data-ttu-id="a9a90-307">El adaptador se ejecuta el **PolledDataAvailableStatement** que devuelve un valor positivo que indica el adaptador para ejecutar la instrucción especificada para **PollingStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="a9a90-307">The adapter executes the **PolledDataAvailableStatement** which returns a positive value indicating the adapter to execute the statement specified for **PollingStatement** binding property.</span></span>  
  
-   <span data-ttu-id="a9a90-308">El adaptador ejecuta la instrucción SELECT para la **PollingStatement** enlace de propiedad y devuelve todas las filas de la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="a9a90-308">The adapter executes the SELECT statement for the **PollingStatement** binding property and returns all the rows in the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="a9a90-309">La respuesta de base de datos de Oracle es similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="a9a90-309">The response from Oracle database resembles the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <POLLINGSTMT xmlns="http://Microsoft.LobServices.OracleDB/2007/03/POLLINGSTMT">  
      <POLLINGSTMTRECORD>  
        <POLLINGSTMTRECORD>  
          <TID>1</TID>   
          <ACCOUNT>100001</ACCOUNT>   
          <AMOUNT>500</AMOUNT>   
          <DESCRIPTION />   
          <TRANSDATE>2008-08-03T20:10:28</TRANSDATE>   
          <PROCESSED>n</PROCESSED>   
        <POLLINGSTMTRECORD>  
      <POLLINGSTMTRECORD>  
          ......  
          ......  
      </POLLINGSTMTRECORD>  
        ......  
        ......  
      </POLLINGSTMTRECORD>  
    </POLLINGSTMT>  
    ```  
  
-   <span data-ttu-id="a9a90-310">El adaptador ejecuta la instrucción posterior a la encuesta, que mueve todos los datos de tabla ACCOUNTACTIVITY a otra tabla.</span><span class="sxs-lookup"><span data-stu-id="a9a90-310">The adapter executes the post-poll statement, which moves all the data from ACCOUNTACTIVITY table to another table.</span></span>  
  
-   <span data-ttu-id="a9a90-311">Después del intervalo de sondeo, el adaptador ejecuta nuevo **PolledDataAvailableStatement**.</span><span class="sxs-lookup"><span data-stu-id="a9a90-311">After the polling interval, the adapter again executes **PolledDataAvailableStatement**.</span></span> <span data-ttu-id="a9a90-312">Porque la tabla ACCOUNTACTIVITY no tiene ningún registro ahora, **PolledDataAvailableStatement** no devuelve un valor positivo y, por tanto, el adaptador no ejecuta la instrucción especificada para la **PollingStatement**enlaza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="a9a90-312">Because ACCOUNTACTIVITY table has no records now, **PolledDataAvailableStatement** does not return a positive value and hence the adapter does not execute the statement specified for the **PollingStatement** binding property.</span></span> <span data-ttu-id="a9a90-313">Como resultado, el cliente de adaptador no obtiene cualquier mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-313">As a result, adapter client does not get any polling message.</span></span>  
  
-   <span data-ttu-id="a9a90-314">El cliente del adaptador no obtendrá ningún mensaje de sondeo más hasta que algunos registros se insertan explícitamente en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="a9a90-314">The adapter client will not get any more polling messages until some records are explicitly inserted into the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="a9a90-315">Para insertar más registros, puede ejecutar el script more_activity_data.sql proporcionado con los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="a9a90-315">To insert more records, you can run the more_activity_data.sql script provided with the samples.</span></span> <span data-ttu-id="a9a90-316">Después de ejecutar este script, la próxima vez que **PolledDataAvailableStatement** es ejecuta, devuelve un valor positivo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-316">After you run this script, the next time **PolledDataAvailableStatement** is executed, it returns a positive value.</span></span> <span data-ttu-id="a9a90-317">Como resultado, el adaptador ejecuta la instrucción de sondeo y los clientes de adaptador volverá a reciban un mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="a9a90-317">As a result, the adapter executes the polling statement and adapter clients again receive a polling message.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a9a90-318">El [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] continuarán sondea hasta que se deshabilite explícitamente el puerto de recepción desde el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="a9a90-318">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] will continue to poll until you explicitly disable the receive port from the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
## <a name="possible-exceptions"></a><span data-ttu-id="a9a90-319">Posibles excepciones</span><span class="sxs-lookup"><span data-stu-id="a9a90-319">Possible Exceptions</span></span>  
 <span data-ttu-id="a9a90-320">Para obtener información sobre las excepciones que puede surgir al ejecutar una consulta de sondeo en el Oracle base de datos mediante [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], consulte [excepciones y control de errores con el adaptador de la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/exceptions-and-error-handling-with-the-oracle-database-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-320">For information about the exceptions you might encounter while running a polling query on the Oracle database using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], see [Exceptions and error handling with the Oracle Database adapter](../../adapters-and-accelerators/adapter-oracle-database/exceptions-and-error-handling-with-the-oracle-database-adapter.md).</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="a9a90-321">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="a9a90-321">Best Practices</span></span>  
 <span data-ttu-id="a9a90-322">Una vez haya implementado y configurado el proyecto de BizTalk, puede exportar la configuración en un archivo XML denominado archivo de enlaces.</span><span class="sxs-lookup"><span data-stu-id="a9a90-322">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the bindings file.</span></span> <span data-ttu-id="a9a90-323">Una vez que se genera un archivo de enlaces, puede importar los valores de configuración desde el archivo para que no es necesario crear los puertos de envío y puertos de recepción para la misma orquestación.</span><span class="sxs-lookup"><span data-stu-id="a9a90-323">Once you generate a bindings file, you can import the configuration settings from the file so that you do not need to create the send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="a9a90-324">Para obtener más información acerca de los archivos de enlace, vea [enlaces del adaptador de base de datos de Oracle reutilizar](../../adapters-and-accelerators/adapter-oracle-database/reuse-oracle-database-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="a9a90-324">For more information about binding files, see [Reuse Oracle Database Adapter bindings](../../adapters-and-accelerators/adapter-oracle-database/reuse-oracle-database-adapter-bindings.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a9a90-325">Vea también</span><span class="sxs-lookup"><span data-stu-id="a9a90-325">See Also</span></span>  
 [<span data-ttu-id="a9a90-326">Sondeo de base de datos de Oracle mediante BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="a9a90-326">Poll Oracle Database using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-oracle-database/poll-oracle-database-using-biztalk-server.md)