---
title: Información general sobre el modelo de servicio WCF con el adaptador de base de datos de Oracle | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- WCF service model, overview
- invoking operations
- WCF service, creating and implementing
ms.assetid: 8ed765e5-b5e6-46bd-bcd6-282219caf75d
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: de5fff554249546244c59aed5c1dceff9a527411
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "37006069"
---
# <a name="overview-of-the-wcf-service-model-with-the-oracle-database-adapter"></a><span data-ttu-id="cdb17-102">Información general sobre el modelo de servicio WCF con el adaptador de base de datos de Oracle</span><span class="sxs-lookup"><span data-stu-id="cdb17-102">Overview of the WCF service model with the Oracle Database adapter</span></span>
<span data-ttu-id="cdb17-103">Cuando se consumen las operaciones que el [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] superficies, el código actúa como un cliente o un servicio para el adaptador.</span><span class="sxs-lookup"><span data-stu-id="cdb17-103">When you consume operations that the [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] surfaces, your code acts either as a client or a service to the adapter.</span></span> <span data-ttu-id="cdb17-104">Para casi todas las operaciones que el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] superficies, el código es el cliente.</span><span class="sxs-lookup"><span data-stu-id="cdb17-104">For almost all of the operations that the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] surfaces, your code is the client.</span></span> <span data-ttu-id="cdb17-105">Es decir, la aplicación invoca la operación en el adaptador; Por ejemplo insertar registros en una tabla de Oracle.</span><span class="sxs-lookup"><span data-stu-id="cdb17-105">That is, your application invokes the operation on the adapter; for example to insert records into an Oracle table.</span></span> <span data-ttu-id="cdb17-106">La única operación para el que el código actúa como un servicio en la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] es para la operación POLLINGSMT.</span><span class="sxs-lookup"><span data-stu-id="cdb17-106">The only operation for which your code acts as a service to the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] is for the POLLINGSMT operation.</span></span> <span data-ttu-id="cdb17-107">En este caso, el adaptador envía los resultados de la operación de consulta de sondeo a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="cdb17-107">In this case, the adapter sends the results of the polling query operation to your application.</span></span>  
  
 <span data-ttu-id="cdb17-108">En el [!INCLUDE[firstref_btsWinCommFoundation](../../includes/firstref-btswincommfoundation-md.md)] modelo de servicio, el contrato de servicio que existe entre un cliente y un servicio se representa como una interfaz de .NET y las operaciones se representan como métodos en esta interfaz.</span><span class="sxs-lookup"><span data-stu-id="cdb17-108">In the [!INCLUDE[firstref_btsWinCommFoundation](../../includes/firstref-btswincommfoundation-md.md)] service model, the service contract that exists between a client and a service is represented as a .NET interface, and operations are represented as methods on this interface.</span></span> <span data-ttu-id="cdb17-109">El [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] y WCF proporcionan herramientas que permiten generar esta interfaz para las operaciones de destino de los metadatos que expone el adaptador.</span><span class="sxs-lookup"><span data-stu-id="cdb17-109">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] and WCF provide tools that enable you to generate this interface for targeted operations from the metadata that the adapter exposes.</span></span> <span data-ttu-id="cdb17-110">Estas herramientas también crean una clase de cliente WCF que puede usarse para invocar las operaciones expuestas en la interfaz de servicio.</span><span class="sxs-lookup"><span data-stu-id="cdb17-110">These tools also create a WCF client class that can be used to invoke the operations exposed in the service interface.</span></span> <span data-ttu-id="cdb17-111">Una aplicación cliente puede llamar a los métodos de la clase de cliente WCF para invocar operaciones en el adaptador.</span><span class="sxs-lookup"><span data-stu-id="cdb17-111">A client application can call the methods of the WCF client class to invoke operations on the adapter.</span></span> <span data-ttu-id="cdb17-112">Para implementar un servicio para recibir la operación POLLINGSTMT desde el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], implemente la interfaz generada para la operación POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="cdb17-112">To implement a service to receive the POLLINGSTMT operation from the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], you implement the interface generated for the POLLINGSTMT operation.</span></span>  
  
 <span data-ttu-id="cdb17-113">Las siguientes secciones explican cómo usar el modelo de servicio WCF para crear código de cliente y servicio para el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cdb17-113">The following sections explain how to use the WCF service model to create client and service code for the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span>  
  
## <a name="creating-and-invoking-operations-on-a-wcf-client-by-using-the-oracle-database-adapter"></a><span data-ttu-id="cdb17-114">Crear e invocar operaciones en un cliente WCF mediante el adaptador de base de datos de Oracle</span><span class="sxs-lookup"><span data-stu-id="cdb17-114">Creating and Invoking Operations on a WCF Client by Using the Oracle Database Adapter</span></span>  
 <span data-ttu-id="cdb17-115">Para usar el modelo de servicio WCF para invocar operaciones en el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], primero debe generar una clase de cliente WCF para las operaciones de destino.</span><span class="sxs-lookup"><span data-stu-id="cdb17-115">To use the WCF service model to invoke operations on the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], you must first generate a WCF client class for the target operations.</span></span> <span data-ttu-id="cdb17-116">A continuación, puede crear una instancia de esta clase, un cliente de WCF y llamar a sus métodos para realizar operaciones en la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="cdb17-116">You can then create an instance of this class, a WCF client, and call its methods to perform operations on the Oracle database.</span></span>  
  
#### <a name="to-invoke-operations-on-the-oracle-database-adapter"></a><span data-ttu-id="cdb17-117">Para invocar operaciones en el adaptador de base de datos de Oracle</span><span class="sxs-lookup"><span data-stu-id="cdb17-117">To invoke operations on the Oracle Database adapter</span></span>  
  
1. <span data-ttu-id="cdb17-118">Generar un código de clase y la aplicación auxiliar de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="cdb17-118">Generate a WCF client class and helper code.</span></span> <span data-ttu-id="cdb17-119">Use el [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] o el ServiceModel Metadata Utility Tool (svcutil.exe) para generar una clase de cliente WCF dirigida a los artefactos de la base de datos de Oracle con el que desea trabajar.</span><span class="sxs-lookup"><span data-stu-id="cdb17-119">Use the [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] or the ServiceModel Metadata Utility Tool (svcutil.exe) to generate a WCF client class targeted at the Oracle database artifacts with which you want to work.</span></span> <span data-ttu-id="cdb17-120">Para obtener más información sobre cómo generar un cliente de WCF, vea [generando un contrato de servicio de WCF o un cliente de WCF para artefactos de base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span><span class="sxs-lookup"><span data-stu-id="cdb17-120">For more information about how to generate a WCF client, see [Generating a WCF Client or a WCF Service Contract for Oracle Database Artifacts](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span></span>  
  
2. <span data-ttu-id="cdb17-121">Cree una instancia de cliente WCF mediante la especificación de un enlace de cliente.</span><span class="sxs-lookup"><span data-stu-id="cdb17-121">Create a WCF client instance by specifying a client binding.</span></span> <span data-ttu-id="cdb17-122">Especificar un enlace de cliente implica especificar el enlace y dirección de punto de conexión que va a usar el cliente de WCF.</span><span class="sxs-lookup"><span data-stu-id="cdb17-122">Specifying a client binding involves specifying the binding and endpoint address that the WCF client will use.</span></span> <span data-ttu-id="cdb17-123">Puede hacerlo imperativamente en código o mediante declaración en configuración.</span><span class="sxs-lookup"><span data-stu-id="cdb17-123">You can do this either imperatively in code or declaratively in configuration.</span></span> <span data-ttu-id="cdb17-124">Para obtener más información sobre cómo especificar un enlace de cliente, consulte [configurar un cliente de enlace de la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/configure-a-client-binding-for-the-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="cdb17-124">For more information about how to specify a client binding, see [Configure a client binding for the Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-a-client-binding-for-the-oracle-database.md).</span></span> <span data-ttu-id="cdb17-125">El código siguiente crea a un cliente WCF que se puede usar para realizar operaciones de DML (lenguaje) de manipulación de datos en una tabla de base de datos de Oracle (/ SCOTT/ACCOUNTACTIVITY).</span><span class="sxs-lookup"><span data-stu-id="cdb17-125">The following code creates a WCF client that can be used to perform data manipulation language (DML) operations on an Oracle database table (/SCOTT/ACCOUNTACTIVITY).</span></span> <span data-ttu-id="cdb17-126">También establece las credenciales de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="cdb17-126">It also sets the credentials for the Oracle database.</span></span> <span data-ttu-id="cdb17-127">El cliente de WCF se inicializa a partir de la configuración.</span><span class="sxs-lookup"><span data-stu-id="cdb17-127">The WCF client is initialized from configuration.</span></span>  
  
   ```  
   SCOTTTableACCOUNTACTIVITYClient aaTableClient =   
       new SCOTTTableACCOUNTACTIVITYClient("OracleDBBinding_SCOTT.Table.ACCOUNTACTIVITY");  
  
   aaTableClient.ClientCredentials.UserName.UserName = "SCOTT";  
   aaTableClient.ClientCredentials.UserName.Password = "TIGER";  
   ```  
  
3. <span data-ttu-id="cdb17-128">Abra al cliente de WCF.</span><span class="sxs-lookup"><span data-stu-id="cdb17-128">Open the WCF client.</span></span>  
  
   ```  
   aaTableClient.Open();  
   ```  
  
4. <span data-ttu-id="cdb17-129">Invocar métodos en el cliente de WCF que creó en el paso 2 para realizar operaciones en la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="cdb17-129">Invoke methods on the WCF client created in step 2 to perform operations on the Oracle database.</span></span> <span data-ttu-id="cdb17-130">El código siguiente invoca el **seleccione** método del cliente WCF para realizar la siguiente consulta SQL SELECT en la tabla ACCOUNTACTIVITY: `SELECT * FROM ACCOUNTACTIVITY`.</span><span class="sxs-lookup"><span data-stu-id="cdb17-130">The following code invokes the **Select** method of the WCF client to perform the following SQL SELECT query on the ACCOUNTACTIVITY table: `SELECT * FROM ACCOUNTACTIVITY`.</span></span>  
  
   ```  
   // create a record set parameter to hold the SELECT query result set and invoke the Select operation;  
   microsoft.lobservices.oracledb._2007._03.SCOTT.Table.ACCOUNTACTIVITY.ACCOUNTACTIVITYRECORDSELECT[] selectRecords;  
   selectRecords = aaTableClient.Select("*", null);  
   ```  
  
5. <span data-ttu-id="cdb17-131">Cierre al cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="cdb17-131">Close the WCF client.</span></span>  
  
   ```  
   aaTableClient.Close();  
   ```  
  
   <span data-ttu-id="cdb17-132">Para obtener más información sobre cómo realizar operaciones de DML en tablas y vistas, incluida la operación de selección usada anteriormente, consulte [realizar insertar básica, Update, Delete y seleccione las operaciones mediante el modelo de servicio WCF](../../adapters-and-accelerators/adapter-oracle-database/insert-update-delete-select-operations-in-oracle-db-using-a-wcf-service.md).</span><span class="sxs-lookup"><span data-stu-id="cdb17-132">For more information about performing DML operations on tables and views, including the Select operation used above, see [Performing Basic Insert, Update, Delete, and Select Operations by Using the WCF Service Model](../../adapters-and-accelerators/adapter-oracle-database/insert-update-delete-select-operations-in-oracle-db-using-a-wcf-service.md).</span></span>  
  
## <a name="creating-and-implementing-a-wcf-service-by-using-the-oracle-database-adapter"></a><span data-ttu-id="cdb17-133">Creación e implementación de un servicio WCF mediante el adaptador de base de datos de Oracle</span><span class="sxs-lookup"><span data-stu-id="cdb17-133">Creating and Implementing a WCF Service by Using the Oracle Database Adapter</span></span>  
 <span data-ttu-id="cdb17-134">El [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] puede realizar el sondeo en una tabla de base de datos de Oracle o la vista.</span><span class="sxs-lookup"><span data-stu-id="cdb17-134">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] can perform polling on an Oracle database table or view.</span></span> <span data-ttu-id="cdb17-135">Esta funcionalidad le permite especificar una consulta SELECT de SQL que el adaptador se debe ejecutar periódicamente en la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="cdb17-135">This functionality lets you specify a SQL SELECT query that the adapter should execute periodically against the Oracle database.</span></span> <span data-ttu-id="cdb17-136">Los resultados de esta consulta se devuelven a la aplicación a través de una operación especial, la operación POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="cdb17-136">The results of this query are returned to your application through a special operation, the POLLINGSTMT operation.</span></span> <span data-ttu-id="cdb17-137">Para recibir los resultados de la consulta de sondeo, la aplicación debe implementar el servicio de contrato que el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] expone para la operación POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="cdb17-137">To receive the results of the polling query, your application must implement the service contract that the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] exposes for the POLLINGSTMT operation.</span></span>  
  
 <span data-ttu-id="cdb17-138">Para implementar un servicio para recibir la operación POLLINGSTMT, primero debe generar la interfaz de .NET (también denominada el contrato de servicio WCF) que representa el contrato de servicio expuesto por la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] para la operación POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="cdb17-138">To implement a service to receive the POLLINGSTMT operation, you must first generate the .NET interface (also called the WCF service contract) that represents the service contract exposed by the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] for the POLLINGSTMT operation.</span></span> <span data-ttu-id="cdb17-139">Para obtener más información acerca de cómo hacerlo, consulte [generando un contrato de servicio de WCF o un cliente de WCF para artefactos de base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span><span class="sxs-lookup"><span data-stu-id="cdb17-139">For more information about how to do this, see [Generating a WCF Client or a WCF Service Contract for Oracle Database Artifacts](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span></span>  
  
 <span data-ttu-id="cdb17-140">A continuación, implementar un servicio WCF mediante la implementación de la interfaz generada.</span><span class="sxs-lookup"><span data-stu-id="cdb17-140">Then you implement a WCF service by implementing the generated interface.</span></span> <span data-ttu-id="cdb17-141">Esta clase contiene la lógica de negocios para procesar el mensaje POLLINGSTMT y devolver una respuesta al adaptador.</span><span class="sxs-lookup"><span data-stu-id="cdb17-141">This class contains the business logic to process the POLLINGSTMT message and return a response to the adapter.</span></span> <span data-ttu-id="cdb17-142">A continuación, usar un host de servicio (**System.ServiceModel.ServiceHost**) para hospedar una instancia de este servicio.</span><span class="sxs-lookup"><span data-stu-id="cdb17-142">Then you use a service host (**System.ServiceModel.ServiceHost**) to host an instance of this service.</span></span> <span data-ttu-id="cdb17-143">Para obtener más información, consulte [mensajes de cambio de datos basados en la recepción de sondeo mediante el modelo de servicio WCF](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-db-using-a-wcf-service.md).</span><span class="sxs-lookup"><span data-stu-id="cdb17-143">For more detailed information, see [Receiving Polling-based Data-changed Messages by Using the WCF Service Model](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-db-using-a-wcf-service.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cdb17-144">Vea también</span><span class="sxs-lookup"><span data-stu-id="cdb17-144">See Also</span></span>  
 [<span data-ttu-id="cdb17-145">Desarrollar aplicaciones de base de datos de Oracle mediante el modelo de servicio WCF</span><span class="sxs-lookup"><span data-stu-id="cdb17-145">Develop Oracle Database Applications by Using the WCF Service Model</span></span>](../../adapters-and-accelerators/adapter-oracle-database/develop-oracle-database-applications-using-the-wcf-service-model.md)