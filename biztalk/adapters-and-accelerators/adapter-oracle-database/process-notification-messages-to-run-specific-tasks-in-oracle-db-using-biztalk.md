---
title: "Procesar mensajes de notificación para completar tareas específicas en la base de datos de Oracle mediante BizTalk Server | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 376055a7-98a6-4055-b6cd-2f5971349a6a
caps.latest.revision: "9"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 379ef13914d7c6136d39e4a394a9299c709785fc
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/28/2017
---
# <a name="process-notification-messages-to-complete-specific-tasks-in-oracle-database-using-biztalk-server"></a><span data-ttu-id="17e9a-102">Procesar los mensajes de notificación para completar tareas específicas en la base de datos de Oracle mediante BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="17e9a-102">Process notification messages to complete specific tasks in Oracle Database using BizTalk Server</span></span>
<span data-ttu-id="17e9a-103">Puede usar el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] para recibir notificaciones de cambios en las tablas de base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-103">You can use the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive notifications for changes to the Oracle database tables.</span></span> <span data-ttu-id="17e9a-104">Sin embargo, el adaptador sólo envía una notificación de que algunos registros se insertarlos, actualizarlos o eliminan en una tabla de base de datos determinada.</span><span class="sxs-lookup"><span data-stu-id="17e9a-104">However, the adapter only sends you a notification that some records were inserted, updated, or deleted in a certain database table.</span></span> <span data-ttu-id="17e9a-105">Cualquier procesamiento posterior en esos registros debe controlarse las propias aplicaciones de cliente.</span><span class="sxs-lookup"><span data-stu-id="17e9a-105">Any post-processing on those records must be handled by the client applications themselves.</span></span> <span data-ttu-id="17e9a-106">En este tema se presenta una descripción basada en escenario sobre cómo procesar los registros de la tabla en función del tipo de notificación recibida de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-106">This topic presents a scenario-based description on how to process the records in the table based on the kind of notification received from the Oracle database.</span></span>  
  
## <a name="scenarios-for-performing-subsequent-actions-after-receiving-notification"></a><span data-ttu-id="17e9a-107">Escenarios para llevar a cabo las acciones posteriores tras recibir la notificación</span><span class="sxs-lookup"><span data-stu-id="17e9a-107">Scenarios for Performing Subsequent Actions After Receiving Notification</span></span>  
 <span data-ttu-id="17e9a-108">Los siguientes son un par de escenarios en los que los clientes de adaptador deben realizar ciertas tareas posteriores a la notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-108">Following are a couple of scenarios in which the adapter clients must perform certain post-notification tasks.</span></span>  
  
-   <span data-ttu-id="17e9a-109">**Escenario 1.**</span><span class="sxs-lookup"><span data-stu-id="17e9a-109">**Scenario 1.**</span></span> <span data-ttu-id="17e9a-110">Considere un escenario donde el cliente de adaptador debe realizar determinadas tareas en función del tipo de notificación que se recibe de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-110">Consider a scenario where the adapter client must perform certain tasks based on the kind of notification you receive from the Oracle database.</span></span> <span data-ttu-id="17e9a-111">Por ejemplo, la aplicación cliente debe actualizar los registros en la tabla "A" si se insertan registros en la tabla "B".</span><span class="sxs-lookup"><span data-stu-id="17e9a-111">For example, the client application must update the records in table “A” if records are inserted in table “B”.</span></span> <span data-ttu-id="17e9a-112">De forma similar, la aplicación cliente debe eliminar los registros de la tabla "A" si se eliminan registros de la tabla "B".</span><span class="sxs-lookup"><span data-stu-id="17e9a-112">Similarly, the client application must delete records from table “A” if records are deleted from table “B”.</span></span>  
  
     <span data-ttu-id="17e9a-113">En este escenario, desde el mensaje de notificación recibido, los clientes de adaptador deben extraer el tipo de notificación para decidir si la notificación era durante una operación de inserción o una operación de eliminación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-113">In this scenario, from the notification message received, the adapter clients must extract the type of notification to decide whether the notification was for an insert operation or a delete operation.</span></span> <span data-ttu-id="17e9a-114">Una vez que se determina el tipo de notificación, los clientes de adaptador deben realizar las acciones posteriores para insertar o actualizar las tablas pertinentes.</span><span class="sxs-lookup"><span data-stu-id="17e9a-114">Once the notification type is ascertained, the adapter clients must perform subsequent actions to insert or update the relevant tables.</span></span>  
  
-   <span data-ttu-id="17e9a-115">**Escenario 2.**</span><span class="sxs-lookup"><span data-stu-id="17e9a-115">**Scenario 2.**</span></span> <span data-ttu-id="17e9a-116">Considere un escenario donde la ubicación de recepción que recibe los mensajes de notificación de cambios en una tabla deja de funcionar.</span><span class="sxs-lookup"><span data-stu-id="17e9a-116">Consider a scenario where the receive location that receives notification messages for changes to a table goes down.</span></span> <span data-ttu-id="17e9a-117">Aunque la ubicación de recepción está inactivo, algunos registros se agregan a la tabla.</span><span class="sxs-lookup"><span data-stu-id="17e9a-117">While the receive location is down, some records are added to the table.</span></span> <span data-ttu-id="17e9a-118">Sin embargo, para estos registros de cliente de adaptador no recibirá ninguna notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-118">However, for these records the adapter client does not receive any notification.</span></span> <span data-ttu-id="17e9a-119">Cuando la ubicación de recepción es realizar copias de seguridad, el adaptador notifica al cliente mediante el envío de un mensaje concreto y, a continuación, la aplicación cliente debe buscar todos los registros que se insertaron en la tabla de base de datos mientras la ubicación de recepción no estaba disponible.</span><span class="sxs-lookup"><span data-stu-id="17e9a-119">When the receive location is back up, the adapter notifies the client by sending a specific message, and then the client application must look for all the records that were inserted in the database table while the receive location was down.</span></span>  
  
     <span data-ttu-id="17e9a-120">En este escenario, desde el mensaje de notificación recibido, los clientes de adaptador deben extraer la información sobre si la notificación es para un cambio en una tabla de base de datos o para el inicio de la ubicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="17e9a-120">In this scenario, from the notification message received, the adapter clients must extract the information regarding whether the notification is for a change to a database table or for the receive location starting.</span></span> <span data-ttu-id="17e9a-121">Si la notificación es para el inicio de la ubicación de recepción, los clientes de adaptador deben implementar la lógica para procesar los registros que se han insertado, actualizados o eliminar mientras la ubicación de recepción no estaba disponible.</span><span class="sxs-lookup"><span data-stu-id="17e9a-121">If the notification is for the receive location starting, the adapter clients must implement the logic to process the records that might have been inserted, updated, or deleted while the receive location was down.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="17e9a-122">Estos son solo algunos escenarios de ejemplo que se muestran para una mejor comprensión de cómo usar la característica de notificación en el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="17e9a-122">These are just some example scenarios that are listed for a better understanding of how to use the notification feature in the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="17e9a-123">Sin embargo, el conjunto básico de las tareas necesarias para extraer el tipo de notificación recibida será similar para todos los escenarios.</span><span class="sxs-lookup"><span data-stu-id="17e9a-123">However, the basic set of tasks required to extract the type of notification received will be similar for all scenarios.</span></span> <span data-ttu-id="17e9a-124">Este tema proporciona instrucciones sobre cómo extraer el tipo de notificación de un mensaje de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-124">This topic provides instructions on how to extract the type of notification from a notification message.</span></span>  
  
## <a name="how-this-topic-demonstrates-receiving-notification-messages"></a><span data-ttu-id="17e9a-125">Cómo en este tema se muestra cómo recibir mensajes de notificación</span><span class="sxs-lookup"><span data-stu-id="17e9a-125">How This Topic Demonstrates Receiving Notification Messages</span></span>  
 <span data-ttu-id="17e9a-126">En este tema, para demostrar cómo procesar mensajes de notificación para realizar las tareas siguientes, se considere un escenario básico donde un cliente de adaptador utiliza la aplicación de BizTalk para recibir mensajes de notificación de cambios en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="17e9a-126">In this topic, to demonstrate how to process notification messages to perform subsequent tasks, we consider a basic scenario where an adapter client uses BizTalk application to receive notification messages for changes to the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="17e9a-127">Tras recibe la notificación, el cliente filtra el tipo de notificación recibida y lleva a cabo la acción posterior.</span><span class="sxs-lookup"><span data-stu-id="17e9a-127">After the notification is received, the client filters the type of notification received and performs subsequent action.</span></span> <span data-ttu-id="17e9a-128">Para mostrar un escenario muy básico, consideremos que el cliente de adaptador copia los mensajes de notificación en carpetas diferentes en función del tipo de notificación recibida.</span><span class="sxs-lookup"><span data-stu-id="17e9a-128">To demonstrate a very basic scenario, let us consider that the adapter client copies the notification messages to different folders based on the kind of notification received.</span></span> <span data-ttu-id="17e9a-129">Por lo tanto:</span><span class="sxs-lookup"><span data-stu-id="17e9a-129">Therefore:</span></span>  
  
-   <span data-ttu-id="17e9a-130">Si el mensaje de notificación es para una operación Insert o Update, el cliente de adaptador copia el mensaje en la carpeta C:\TestLocation\UpsertNotification.</span><span class="sxs-lookup"><span data-stu-id="17e9a-130">If the notification message is for an Insert or Update operation, the adapter client copies the message to C:\TestLocation\UpsertNotification folder.</span></span>  
  
-   <span data-ttu-id="17e9a-131">Si el mensaje de notificación es para cualquier otra operación, como eliminar, el cliente de adaptador copia el mensaje en la carpeta C:\TestLocation\OtherNotificaiton.</span><span class="sxs-lookup"><span data-stu-id="17e9a-131">If the notification message is for any other operation, for example Delete, the adapter client copies the message to C:\TestLocation\OtherNotificaiton folder.</span></span>  
  
 <span data-ttu-id="17e9a-132">Para lograr esto como parte de una aplicación de BizTalk, la orquestación debe contener lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-132">To achieve this as part of a BizTalk application, the orchestration must contain the following:</span></span>  
  
-   <span data-ttu-id="17e9a-133">Un unidireccional puerto de recepción para recibir mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-133">A one-way receive port to receive notification messages.</span></span>  
  
-   <span data-ttu-id="17e9a-134">Una forma de expresión que contiene una consulta de xpath para extraer la información sobre el tipo de mensaje de notificación recibido.</span><span class="sxs-lookup"><span data-stu-id="17e9a-134">An Expression shape that contains an xpath query to extract the information about the kind of notification message received.</span></span>  
  
-   <span data-ttu-id="17e9a-135">Una forma decidir debe incluir un bloque de decisión en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-135">A Decide shape to include a decision block in the orchestration.</span></span> <span data-ttu-id="17e9a-136">En este bloque de decisión, la aplicación decide qué debe realizar las operaciones subsiguientes según el mensaje de notificación recibido.</span><span class="sxs-lookup"><span data-stu-id="17e9a-136">In this decision block, the application decides on what subsequent operations to perform based on the notification message received.</span></span>  
  
-   <span data-ttu-id="17e9a-137">Unidireccional dos puertos de envío que finalmente reciban los mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-137">Two one-way send ports that finally receive the notification messages.</span></span>  
  
## <a name="configuring-notifications-with-the-oracle-database-binding-properties"></a><span data-ttu-id="17e9a-138">Configuración de notificaciones con la base de datos de Oracle propiedades de enlace</span><span class="sxs-lookup"><span data-stu-id="17e9a-138">Configuring Notifications with the Oracle Database Binding Properties</span></span>  
 <span data-ttu-id="17e9a-139">La siguiente tabla resume el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] propiedades de enlace que se utiliza para configurar la recepción de notificaciones de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-139">The following table summarizes the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] binding properties that you use to configure receiving notifications from the Oracle database.</span></span> <span data-ttu-id="17e9a-140">Debe especificar estas propiedades de enlace al configurar el puerto de recepción en el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="17e9a-140">You must specify these binding properties while configuring the receive port in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="17e9a-141">Puede especificar estas propiedades de enlace al generar el esquema para el **notificación** operación, aunque no es obligatorio.</span><span class="sxs-lookup"><span data-stu-id="17e9a-141">You may choose to specify these binding properties when generating the schema for the **Notification** operation, even though it is not mandatory.</span></span> <span data-ttu-id="17e9a-142">Si lo hace, el enlace de puerto de archivos que el [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] genera como parte de la generación de metadatos también contiene los valores especificados para las propiedades de enlace.</span><span class="sxs-lookup"><span data-stu-id="17e9a-142">If you do so, the port binding file that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates as part of the metadata generation also contains the values you specify for the binding properties.</span></span> <span data-ttu-id="17e9a-143">Más adelante puede importar este archivo de enlace en el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] puerto de recepción de la consola de administración para crear el WCF-custom o WCF-OracleDB con el enlace de propiedades ya establecidas.</span><span class="sxs-lookup"><span data-stu-id="17e9a-143">You can later import this binding file in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to create the WCF-custom or WCF-OracleDB receive port with the binding properties already set.</span></span> <span data-ttu-id="17e9a-144">Para obtener más información acerca de cómo crear un puerto de WCF-custom o WCF-OracleDB mediante el archivo de enlace, vea [configurar un enlace de puerto físico mediante un archivo de enlace de puerto a la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/configure-a-physical-port-binding-using-a-port-binding-file-to-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-144">For more information about creating a WCF-custom or WCF-OracleDB port using the binding file, see [Configure a physical port binding using a port Binding file to Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-a-physical-port-binding-using-a-port-binding-file-to-oracle-database.md).</span></span>  
  
|<span data-ttu-id="17e9a-145">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="17e9a-145">Binding Property</span></span>|<span data-ttu-id="17e9a-146">Description</span><span class="sxs-lookup"><span data-stu-id="17e9a-146">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="17e9a-147">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="17e9a-147">**InboundOperationType**</span></span>|<span data-ttu-id="17e9a-148">Especifica la operación de entrada que se desea realizar.</span><span class="sxs-lookup"><span data-stu-id="17e9a-148">Specifies the inbound operation that you want to perform.</span></span> <span data-ttu-id="17e9a-149">Para recibir mensajes de notificación, establezca esta propiedad en **notificación**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-149">To receive notification messages, set this to **Notification**.</span></span>|  
|<span data-ttu-id="17e9a-150">**NotificationPort**</span><span class="sxs-lookup"><span data-stu-id="17e9a-150">**NotificationPort**</span></span>|<span data-ttu-id="17e9a-151">Especifica el número de puerto que debe abrir ODP.NET para realizar escuchas de notificación de cambio de base de datos de base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-151">Specifies the port number that ODP.NET must open to listen for database change notification from Oracle database.</span></span>|  
|<span data-ttu-id="17e9a-152">**NotificationStatement**</span><span class="sxs-lookup"><span data-stu-id="17e9a-152">**NotificationStatement**</span></span>|<span data-ttu-id="17e9a-153">Especifica la instrucción SELECT que se usa para registrar las notificaciones de consulta.</span><span class="sxs-lookup"><span data-stu-id="17e9a-153">Specifies the SELECT statement used to register for query notifications.</span></span> <span data-ttu-id="17e9a-154">El adaptador obtiene un mensaje de notificación solo cuando el conjunto de resultados para que los cambios de la instrucción SELECT especificada.</span><span class="sxs-lookup"><span data-stu-id="17e9a-154">The adapter gets a notification message only when the result set for the specified SELECT statement changes.</span></span>|  
|<span data-ttu-id="17e9a-155">**NotifyOnListenerStart**</span><span class="sxs-lookup"><span data-stu-id="17e9a-155">**NotifyOnListenerStart**</span></span>|<span data-ttu-id="17e9a-156">Especifica si el adaptador envía una notificación a los clientes de adaptador cuando se inicia el agente de escucha.</span><span class="sxs-lookup"><span data-stu-id="17e9a-156">Specifies whether the adapter sends a notification to the adapter clients when the listener is started.</span></span>|  
  
 <span data-ttu-id="17e9a-157">Para obtener una descripción más completa de estas propiedades, vea [trabajar con propiedades de enlace](https://msdn.microsoft.com/library/dd788467.aspx).</span><span class="sxs-lookup"><span data-stu-id="17e9a-157">For a more complete description of these properties, see [Working with binding properties](https://msdn.microsoft.com/library/dd788467.aspx).</span></span> <span data-ttu-id="17e9a-158">Para obtener una descripción completa de cómo usar el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] para recibir notificaciones de la base de datos de Oracle, seguir leyendo.</span><span class="sxs-lookup"><span data-stu-id="17e9a-158">For a complete description of how to use the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive notifications from the Oracle database, read further.</span></span>  
  
## <a name="how-to-receive-notification-messages-from-oracle-database"></a><span data-ttu-id="17e9a-159">Cómo recibir mensajes de notificación de base de datos de Oracle</span><span class="sxs-lookup"><span data-stu-id="17e9a-159">How to Receive Notification Messages from Oracle Database</span></span>  
 <span data-ttu-id="17e9a-160">Realizar una operación en la base de datos de Oracle mediante [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] con [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] conlleva las tareas de procedimientos descritas en [bloques de creación para desarrollar aplicaciones de BizTalk con la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/building-blocks-to-develop-biztalk-applications-with-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-160">Performing an operation on the Oracle database using [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves the procedural tasks described in [Building blocks to develop BizTalk Applications with Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/building-blocks-to-develop-biztalk-applications-with-oracle-database.md).</span></span> <span data-ttu-id="17e9a-161">Para configurar el adaptador para recibir mensajes de notificación, estas tareas son:</span><span class="sxs-lookup"><span data-stu-id="17e9a-161">To configure the adapter to receive notification messages, these tasks are:</span></span>  
  
1.  <span data-ttu-id="17e9a-162">Crear un proyecto de BizTalk y, a continuación, genere el esquema para el **notificación** operación entrante.</span><span class="sxs-lookup"><span data-stu-id="17e9a-162">Create a BizTalk project, and then generate schema for the **Notification** inbound operation.</span></span> <span data-ttu-id="17e9a-163">Si lo desea, puede especificar valores para la **InboundOperationType**, **NotificationPort**, y **NotificationStatement** propiedades de enlace.</span><span class="sxs-lookup"><span data-stu-id="17e9a-163">Optionally, you can specify values for the **InboundOperationType**, **NotificationPort**, and **NotificationStatement** binding properties.</span></span>  
  
2.  <span data-ttu-id="17e9a-164">Cree un mensaje en el proyecto de BizTalk para recibir notificaciones de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-164">Create a message in the BizTalk project for receiving notification from the Oracle database.</span></span>  
  
3.  <span data-ttu-id="17e9a-165">Crear una orquestación como se describe en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="17e9a-165">Create an orchestration as described in the preceding section.</span></span>  
  
4.  <span data-ttu-id="17e9a-166">Compilar e implementar el proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="17e9a-166">Build and deploy the BizTalk project.</span></span>  
  
5.  <span data-ttu-id="17e9a-167">Configurar la aplicación mediante la creación física de envío y puertos de recepción de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="17e9a-167">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="17e9a-168">Para las operaciones de entrada, como recibir mensajes de notificación, solo se debe configurar un unidireccional WCF-Custom o WCF-OracleDB puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="17e9a-168">For inbound operations, like receiving notification messages, you must only configure a one-way WCF-Custom or WCF-OracleDB receive port.</span></span> <span data-ttu-id="17e9a-169">Bidireccional de recepción no se admiten los puertos para las operaciones de entrada.</span><span class="sxs-lookup"><span data-stu-id="17e9a-169">Two-way receive ports are not supported for inbound operations.</span></span>  
  
6.  <span data-ttu-id="17e9a-170">Inicie la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="17e9a-170">Start the BizTalk application.</span></span>  
  
 <span data-ttu-id="17e9a-171">Este tema proporciona instrucciones para realizar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="17e9a-171">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="generating-schema"></a><span data-ttu-id="17e9a-172">Generar el esquema</span><span class="sxs-lookup"><span data-stu-id="17e9a-172">Generating Schema</span></span>  
 <span data-ttu-id="17e9a-173">Debe generar el esquema para el **notificación** operación entrante.</span><span class="sxs-lookup"><span data-stu-id="17e9a-173">You must generate the schema for the **Notification** inbound operation.</span></span> <span data-ttu-id="17e9a-174">Vea [recuperar metadatos para operaciones de base de datos de Oracle en Visual Studio](../../adapters-and-accelerators/adapter-oracle-database/get-metadata-for-oracle-database-operations-in-visual-studio.md) para obtener más información acerca de cómo generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="17e9a-174">See [Retrieve metadata for Oracle Database operations in Visual Studio](../../adapters-and-accelerators/adapter-oracle-database/get-metadata-for-oracle-database-operations-in-visual-studio.md) for more information about how to generate the schema.</span></span> <span data-ttu-id="17e9a-175">Realice las tareas siguientes al generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="17e9a-175">Perform the following tasks when generating the schema.</span></span> <span data-ttu-id="17e9a-176">Omitir el primer paso si no desea especificar las propiedades de enlace en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="17e9a-176">Skip the first step if you do not want to specify the binding properties at design-time.</span></span>  
  
1.  <span data-ttu-id="17e9a-177">Especifique un valor para **InboundOperationType**, **NotificationPort**, y **NotificationStatement** propiedades de enlace al generar el esquema.</span><span class="sxs-lookup"><span data-stu-id="17e9a-177">Specify a value for **InboundOperationType**, **NotificationPort**, and **NotificationStatement** binding properties while generating the schema.</span></span> <span data-ttu-id="17e9a-178">Para obtener más información acerca de esta propiedad de enlace, vea [trabajar con propiedades de enlace](https://msdn.microsoft.com/library/dd788467.aspx).</span><span class="sxs-lookup"><span data-stu-id="17e9a-178">For more information about this binding property, see [Working with binding properties](https://msdn.microsoft.com/library/dd788467.aspx).</span></span> <span data-ttu-id="17e9a-179">Para obtener instrucciones sobre cómo especificar las propiedades de enlace, consulte [configurar las propiedades de enlace de base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/configure-the-binding-properties-for-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-179">For instructions on how to specify binding properties, see [Configure the binding properties for Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-the-binding-properties-for-oracle-database.md).</span></span>  
  
2.  <span data-ttu-id="17e9a-180">Seleccione el tipo de contrato **(operaciones de entrada) de servicio**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-180">Select the contract type as **Service (Inbound operations)**.</span></span>  
  
3.  <span data-ttu-id="17e9a-181">Genere el esquema para el **notificación** operación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-181">Generate schema for the **Notification** operation.</span></span>  
  
## <a name="defining-messages-and-message-types"></a><span data-ttu-id="17e9a-182">Definición de mensajes y tipos de mensaje</span><span class="sxs-lookup"><span data-stu-id="17e9a-182">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="17e9a-183">El esquema que ha generado anteriormente describe los "tipos" necesarios para los mensajes en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-183">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="17e9a-184">Un mensaje suele ser una variable, el tipo para el que está definido por el esquema correspondiente.</span><span class="sxs-lookup"><span data-stu-id="17e9a-184">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="17e9a-185">Una vez que se genera el esquema, debe vincular a los mensajes desde la vista de orquestación de BizTalk del proyecto.</span><span class="sxs-lookup"><span data-stu-id="17e9a-185">Once the schema is generated, you must link it to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="17e9a-186">De este tema, debe crear un mensaje para recibir notificaciones de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-186">For this topic, you must create one message to receive notifications from the Oracle database.</span></span>  
  
 <span data-ttu-id="17e9a-187">Realice los pasos siguientes para crear mensajes y vincularlas a esquema.</span><span class="sxs-lookup"><span data-stu-id="17e9a-187">Perform the following steps to create messages and link them to schema.</span></span>  
  
#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="17e9a-188">Para crear mensajes y vincular al esquema</span><span class="sxs-lookup"><span data-stu-id="17e9a-188">To create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="17e9a-189">Agregar una orquestación al proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="17e9a-189">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="17e9a-190">En el Explorador de soluciones, haga clic en el nombre del proyecto de BizTalk, seleccione **agregar**y, a continuación, haga clic en **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-190">From the Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="17e9a-191">Escriba un nombre para la orquestación de BizTalk y, a continuación, haga clic en **agregar**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-191">Type a name for the BizTalk orchestration and then click **Add**.</span></span>  
  
2.  <span data-ttu-id="17e9a-192">Abra la ventana de vista de orquestación de BizTalk del proyecto, si no está ya abierto.</span><span class="sxs-lookup"><span data-stu-id="17e9a-192">Open the orchestration view window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="17e9a-193">Haga clic en **vista**, seleccione **otras ventanas**y, a continuación, haga clic en **Vista orquestación**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-193">Click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="17e9a-194">En el **Vista orquestación**, haga clic en **mensajes**y, a continuación, haga clic en **nuevo mensaje**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-194">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="17e9a-195">Haga clic en el mensaje recién creado y, a continuación, seleccione **ventana propiedades**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-195">Right-click the newly created message, and then select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="17e9a-196">En el **propiedades** panel para **Message_1**, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-196">In the **Properties** pane for **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="17e9a-197">Use</span><span class="sxs-lookup"><span data-stu-id="17e9a-197">Use this</span></span>|<span data-ttu-id="17e9a-198">Para</span><span class="sxs-lookup"><span data-stu-id="17e9a-198">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="17e9a-199">Identificador</span><span class="sxs-lookup"><span data-stu-id="17e9a-199">Identifier</span></span>|<span data-ttu-id="17e9a-200">Type `NotifyReceive`.</span><span class="sxs-lookup"><span data-stu-id="17e9a-200">Type `NotifyReceive`.</span></span>|  
    |<span data-ttu-id="17e9a-201">Tipo de mensaje</span><span class="sxs-lookup"><span data-stu-id="17e9a-201">Message Type</span></span>|<span data-ttu-id="17e9a-202">En la lista desplegable, expanda **esquemas**y seleccione *Process_Notification.OracleDBBinding.Notification*, donde *Process_Notification* es el nombre de su Proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="17e9a-202">From the drop-down list, expand **Schemas**, and select *Process_Notification.OracleDBBinding.Notification*, where *Process_Notification* is the name of your BizTalk project.</span></span> <span data-ttu-id="17e9a-203">*OracleDBBinding* es el esquema generado para el **notificación** operación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-203">*OracleDBBinding* is the schema generated for the **Notification** operation.</span></span>|  
  
## <a name="setting-up-the-orchestration"></a><span data-ttu-id="17e9a-204">Configuración de la orquestación</span><span class="sxs-lookup"><span data-stu-id="17e9a-204">Setting up the Orchestration</span></span>  
 <span data-ttu-id="17e9a-205">Debe crear una orquestación de BizTalk para usar [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] para recibir mensajes de notificación de la base de datos de Oracle y, a continuación, realizar tareas según el tipo de notificación recibida.</span><span class="sxs-lookup"><span data-stu-id="17e9a-205">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving notification messages from the Oracle database and then performing tasks based on the type of notification received.</span></span> <span data-ttu-id="17e9a-206">En esta orquestación, el adaptador recibe el mensaje de notificación basado en la instrucción SELECT especificada para la **NotificationStatement** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="17e9a-206">In this orchestration, the adapter receives the notification message based on the SELECT statement specified for the **NotificationStatement** binding property.</span></span> <span data-ttu-id="17e9a-207">La consulta xpath especificada dentro de la forma de expresión extrae el tipo de notificación en una variable, digamos **NotificationType**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-207">The xpath query specified within the Expression shape extracts the type of notification into a variable, say **NotificationType**.</span></span> <span data-ttu-id="17e9a-208">La forma decidir utiliza el valor de esta variable para decidir cuál es el tipo de notificación recibida y toma el "path" adecuado para realizar las operaciones posteriores.</span><span class="sxs-lookup"><span data-stu-id="17e9a-208">The Decide shape uses the value in this variable to decide on the kind of notification received and takes the appropriate “path” to perform subsequent operations.</span></span> <span data-ttu-id="17e9a-209">Como se mencionó en la sección anterior, la orquestación llevará a cabo las siguientes operaciones según el tipo de mensaje de notificación recibido.</span><span class="sxs-lookup"><span data-stu-id="17e9a-209">As mentioned in the preceding section, the orchestration will perform the following operations based on the kind of notification message received.</span></span>  
  
-   <span data-ttu-id="17e9a-210">Si el mensaje de notificación es para una operación Insert o Update, el cliente de adaptador copia el mensaje en la carpeta C:\TestLocation\UpsertNotification.</span><span class="sxs-lookup"><span data-stu-id="17e9a-210">If the notification message is for an Insert or Update operation, the adapter client copies the message to C:\TestLocation\UpsertNotification folder.</span></span>  
  
-   <span data-ttu-id="17e9a-211">Si el mensaje de notificación es para cualquier otra operación, como eliminar, el cliente de adaptador copia el mensaje en la carpeta C:\TestLocation\OtherNotificaiton.</span><span class="sxs-lookup"><span data-stu-id="17e9a-211">If the notification message is for any other operation, for example Delete, the adapter client copies the message to C:\TestLocation\OtherNotificaiton folder.</span></span>  
  
 <span data-ttu-id="17e9a-212">Por lo tanto, la orquestación debe contener lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-212">So, your orchestration must contain the following:</span></span>  
  
-   <span data-ttu-id="17e9a-213">Un unidireccional puerto de recepción para recibir mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-213">A one-way receive port to receive notification messages.</span></span>  
  
-   <span data-ttu-id="17e9a-214">Una forma de expresión que contiene una consulta de xpath para extraer el tipo de notificación recibida.</span><span class="sxs-lookup"><span data-stu-id="17e9a-214">An Expression shape that contains an xpath query to extract the kind of notification received.</span></span>  
  
-   <span data-ttu-id="17e9a-215">Una forma decidir debe incluir un bloque de decisión en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-215">A Decide shape to include a decision block in the orchestration.</span></span> <span data-ttu-id="17e9a-216">En este bloque de decisión, la aplicación decide qué debe realizar las operaciones subsiguientes según el mensaje de notificación recibido.</span><span class="sxs-lookup"><span data-stu-id="17e9a-216">In this decision block, the application decides on what subsequent operations to perform based on the notification message received.</span></span>  
  
-   <span data-ttu-id="17e9a-217">Unidireccional dos puertos de envío que finalmente reciban los mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-217">Two one-way send ports that finally receive the notification messages.</span></span>  
  
-   <span data-ttu-id="17e9a-218">Forma recepción.</span><span class="sxs-lookup"><span data-stu-id="17e9a-218">Receive shape.</span></span>  
  
 <span data-ttu-id="17e9a-219">Una orquestación de ejemplo es similar al siguiente.</span><span class="sxs-lookup"><span data-stu-id="17e9a-219">A sample orchestration resembles the following.</span></span>  
  
 <span data-ttu-id="17e9a-220">![Orquestación para realizar post &#45; la tarea de notificación](../../adapters-and-accelerators/adapter-oracle-database/media/40c637ea-dbec-47a8-b53b-58d6820093b4.gif "40c637ea-dbec-47a8-b53b-58d6820093b4")</span><span class="sxs-lookup"><span data-stu-id="17e9a-220">![Orchestration to perform post&#45;notification task](../../adapters-and-accelerators/adapter-oracle-database/media/40c637ea-dbec-47a8-b53b-58d6820093b4.gif "40c637ea-dbec-47a8-b53b-58d6820093b4")</span></span>  
  
### <a name="adding-message-shapes"></a><span data-ttu-id="17e9a-221">Agregar formas de mensaje</span><span class="sxs-lookup"><span data-stu-id="17e9a-221">Adding Message Shapes</span></span>  
 <span data-ttu-id="17e9a-222">Asegúrese de que especifique las siguientes propiedades para cada una de las formas de mensaje.</span><span class="sxs-lookup"><span data-stu-id="17e9a-222">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="17e9a-223">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación just-mencionado.</span><span class="sxs-lookup"><span data-stu-id="17e9a-223">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  
  
|<span data-ttu-id="17e9a-224">Forma</span><span class="sxs-lookup"><span data-stu-id="17e9a-224">Shape</span></span>|<span data-ttu-id="17e9a-225">Tipo de forma</span><span class="sxs-lookup"><span data-stu-id="17e9a-225">Shape Type</span></span>|<span data-ttu-id="17e9a-226">Propiedades</span><span class="sxs-lookup"><span data-stu-id="17e9a-226">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="17e9a-227">ReceiveNotification</span><span class="sxs-lookup"><span data-stu-id="17e9a-227">ReceiveNotification</span></span>|<span data-ttu-id="17e9a-228">Receive</span><span class="sxs-lookup"><span data-stu-id="17e9a-228">Receive</span></span>|<span data-ttu-id="17e9a-229">-Establecer **nombre** a *ReceiveNotification*</span><span class="sxs-lookup"><span data-stu-id="17e9a-229">- Set **Name** to *ReceiveNotification*</span></span><br /><br /> <span data-ttu-id="17e9a-230">-Establecer **activar** a *es True*</span><span class="sxs-lookup"><span data-stu-id="17e9a-230">- Set **Activate** to *True*</span></span>|  
  
### <a name="adding-an-expression-shape"></a><span data-ttu-id="17e9a-231">Agregar una forma expresión</span><span class="sxs-lookup"><span data-stu-id="17e9a-231">Adding an Expression Shape</span></span>  
 <span data-ttu-id="17e9a-232">El propósito de inclusión de una forma expresión en la orquestación es que una consulta de xpath para extraer el tipo de mensaje de notificación recibido.</span><span class="sxs-lookup"><span data-stu-id="17e9a-232">The purpose of including an Expression shape in the orchestration is to have an xpath query to extract the kind of notification message received.</span></span> <span data-ttu-id="17e9a-233">Antes de crear una consulta xpath, echemos un vistazo en el formato de un mensaje de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-233">Before creating an xpath query, let us look at the format of a notification message.</span></span> <span data-ttu-id="17e9a-234">Un mensaje de notificación típico es similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-234">A typical notification message resembles the following:</span></span>  
  
```  
<?xml version="1.0" encoding="utf-8" ?>   
<Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
  <Details>  
    <NotificationDetails>  
      <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
      <Info>1</Info>   
      <QueryId>0</QueryId>   
    </NotificationDetails>  
  </Details>  
  <Info>Insert</Info>   
  <ResourceNames>  
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
  </ResourceNames>  
  <Source>Data</Source>   
  <Type>Change</Type>   
</Notification>  
```  
  
 <span data-ttu-id="17e9a-235">Como verá, la información sobre el tipo de la notificación está disponible dentro de la `<info>` etiqueta dentro del elemento primario `<Notification>` etiqueta.</span><span class="sxs-lookup"><span data-stu-id="17e9a-235">As you see, the information about the type of the notification is available within the `<info>` tag, within the parent `<Notification>` tag.</span></span> <span data-ttu-id="17e9a-236">Por lo tanto, como parte de esta forma de expresión debe:</span><span class="sxs-lookup"><span data-stu-id="17e9a-236">So, as part of this expression shape you must:</span></span>  
  
-   <span data-ttu-id="17e9a-237">Cree una variable que contiene el valor dentro de la `<Info>` etiqueta y establezca su tipo en el objeto System.String.</span><span class="sxs-lookup"><span data-stu-id="17e9a-237">Create a variable that contains the value within the `<Info>` tag and set its type to System.String.</span></span> <span data-ttu-id="17e9a-238">Para obtener más información acerca de cómo crear variables, consulte [usar Variables en orquestaciones](../../core/using-variables-in-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-238">For more information about creating variables, see [Using Variables in Orchestrations](../../core/using-variables-in-orchestrations.md).</span></span>  
  
     <span data-ttu-id="17e9a-239">Para este tema, nombre de la variable como **NotificationType**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-239">For this topic, name the variable as **NotificationType**.</span></span>  
  
-   <span data-ttu-id="17e9a-240">Crear una consulta de xpath para extraer el valor de la \<información\> etiqueta.</span><span class="sxs-lookup"><span data-stu-id="17e9a-240">Create an xpath query to extract the value from the \<Info\> tag.</span></span> <span data-ttu-id="17e9a-241">La consulta xpath asemejará a lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-241">The xpath query will resemble the following:</span></span>  
  
    ```  
    NotificationType = xpath(NotifyReceive,"string(/*[local-name()='Notification']/*[local-name()='Info']/text())");  
    ```  
  
     <span data-ttu-id="17e9a-242">En esta consulta xpath, **NotifyReceive** es el mensaje que se ha creado para recibir mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-242">In this xpath query, **NotifyReceive** is the message you created for receiving notification messages.</span></span> <span data-ttu-id="17e9a-243">El extracto de la `string` función indica que la consulta debe extraer el valor dentro de la `<Info>` etiqueta, que a su vez está dentro de la `<Notification>` etiqueta.</span><span class="sxs-lookup"><span data-stu-id="17e9a-243">The excerpt within the `string` function indicates that the query must extract the value within the `<Info>` tag, which in turn is within the `<Notification>` tag.</span></span> <span data-ttu-id="17e9a-244">Por último, el valor extraído por la consulta se asigna a la **NotificaitonType** variable.</span><span class="sxs-lookup"><span data-stu-id="17e9a-244">Finally, the value extracted by the query is assigned to the **NotificaitonType** variable.</span></span>  
  
### <a name="adding-a-decide-shape"></a><span data-ttu-id="17e9a-245">Agregar una forma decidir</span><span class="sxs-lookup"><span data-stu-id="17e9a-245">Adding a Decide Shape</span></span>  
 <span data-ttu-id="17e9a-246">Es el propósito de agregar una forma decidir debe incluir un bloque de decisión en la orquestación para decidir qué debe realizar las operaciones siguientes en función del tipo de mensaje de notificación recibido.</span><span class="sxs-lookup"><span data-stu-id="17e9a-246">The purpose of adding a Decide shape is to include a decision block in the orchestration to decide what subsequent operations to perform based on the kind of notification message received.</span></span> <span data-ttu-id="17e9a-247">La Decisión se toma en función del valor de la **NotificationType** variable.</span><span class="sxs-lookup"><span data-stu-id="17e9a-247">The decision is made on the basis of the value of the **NotificationType** variable.</span></span> <span data-ttu-id="17e9a-248">En este tema, la orquestación toma una decisión en función del tipo de mensaje de notificación recibido.</span><span class="sxs-lookup"><span data-stu-id="17e9a-248">In this topic, the orchestration makes a decision based on the kind of notification message received.</span></span> <span data-ttu-id="17e9a-249">Por lo tanto, la condición en la forma de regla se especifica como sigue:</span><span class="sxs-lookup"><span data-stu-id="17e9a-249">So, the condition in the Rule shape is specified as follows:</span></span>  
  
```  
NotificationType.Equals("Insert") | NotificationType.Equals("Update")  
```  
  
 <span data-ttu-id="17e9a-250">Esta condición sugiere que if el valor de **NotificaitonType** variable es Insert o Update, la orquestación llevará a cabo un conjunto de tareas.</span><span class="sxs-lookup"><span data-stu-id="17e9a-250">This condition suggests that if the value for **NotificaitonType** variable is Insert or Update, the orchestration will perform one set of tasks.</span></span> <span data-ttu-id="17e9a-251">Si el valor de **NotificationType** variable es algo más, la orquestación llevará a cabo otro conjunto de tareas.</span><span class="sxs-lookup"><span data-stu-id="17e9a-251">If the value of **NotificationType** variable is anything else, the orchestration will perform other set of tasks.</span></span>  
  
 <span data-ttu-id="17e9a-252">Como se mencionó en las secciones anteriores, para mostrar de un método sencillo, la orquestación copiará mensajes en carpetas diferentes en función del tipo de mensaje de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-252">As mentioned in the preceding sections, to demonstrate a simple approach, the orchestration will copy messages to different folders based on the notification message type.</span></span> <span data-ttu-id="17e9a-253">Por lo tanto, dentro de la regla y bloques de Else, debe agregar formas de envío para enviar los mensajes a distintos puertos.</span><span class="sxs-lookup"><span data-stu-id="17e9a-253">So, within the Rule and Else blocks, you must add Send shapes to send the messages to different ports.</span></span> <span data-ttu-id="17e9a-254">Para este tema, nombre de la forma de envío en el bloque de regla que **SendUpsertNotification** y la forma de envío en el bloque Else como **SendOtherNotification**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-254">For this topic, name the Send shape in the Rule block as **SendUpsertNotification** and the Send shape in the Else block as **SendOtherNotification**.</span></span>  
  
### <a name="adding-ports"></a><span data-ttu-id="17e9a-255">Agregar puertos</span><span class="sxs-lookup"><span data-stu-id="17e9a-255">Adding Ports</span></span>  
 <span data-ttu-id="17e9a-256">Ahora debe agregar los siguientes puertos lógicos a la orquestación:</span><span class="sxs-lookup"><span data-stu-id="17e9a-256">You must now add the following logical ports to the orchestration:</span></span>  
  
-   <span data-ttu-id="17e9a-257">Unidireccional puerto de recepción para recibir mensajes de notificación de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-257">One-way receive port to receive notification messages from the Oracle database.</span></span>  
  
-   <span data-ttu-id="17e9a-258">Puerto de envío unidireccional para enviar mensajes de notificación para las operaciones Insert y Update a una carpeta específica.</span><span class="sxs-lookup"><span data-stu-id="17e9a-258">One-way send port to send notification messages for Insert and Update operations to a specific folder.</span></span>  
  
-   <span data-ttu-id="17e9a-259">Puerto de envío unidireccional para enviar mensajes de notificación para todas las demás operaciones en una carpeta específica.</span><span class="sxs-lookup"><span data-stu-id="17e9a-259">One-way send port to send notification messages for any other operations to a specific folder.</span></span>  
  
 <span data-ttu-id="17e9a-260">Asegúrese de que especifique las siguientes propiedades para cada uno de los puertos lógicos.</span><span class="sxs-lookup"><span data-stu-id="17e9a-260">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="17e9a-261">Los nombres que aparecen en la columna de puerto son los nombres de los puertos, como se muestra en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-261">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="17e9a-262">Puerto</span><span class="sxs-lookup"><span data-stu-id="17e9a-262">Port</span></span>|<span data-ttu-id="17e9a-263">Propiedades</span><span class="sxs-lookup"><span data-stu-id="17e9a-263">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="17e9a-264">OracleNotifyPort</span><span class="sxs-lookup"><span data-stu-id="17e9a-264">OracleNotifyPort</span></span>|<span data-ttu-id="17e9a-265">-Establecer **identificador** a *OracleNotifyPort*</span><span class="sxs-lookup"><span data-stu-id="17e9a-265">- Set **Identifier** to *OracleNotifyPort*</span></span><br /><br /> <span data-ttu-id="17e9a-266">-Establecer **tipo** a *OracleNotifyPortType*</span><span class="sxs-lookup"><span data-stu-id="17e9a-266">- Set **Type** to *OracleNotifyPortType*</span></span><br /><br /> <span data-ttu-id="17e9a-267">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="17e9a-267">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="17e9a-268">-Establecer **dirección de comunicación** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="17e9a-268">- Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="17e9a-269">NotificationUpsertPort</span><span class="sxs-lookup"><span data-stu-id="17e9a-269">NotificationUpsertPort</span></span>|<span data-ttu-id="17e9a-270">-Establecer **identificador** a *NotificationUpsertPort*</span><span class="sxs-lookup"><span data-stu-id="17e9a-270">- Set **Identifier** to *NotificationUpsertPort*</span></span><br /><br /> <span data-ttu-id="17e9a-271">-Establecer **tipo** a *NotificationUpsertPortType*</span><span class="sxs-lookup"><span data-stu-id="17e9a-271">- Set **Type** to *NotificationUpsertPortType*</span></span><br /><br /> <span data-ttu-id="17e9a-272">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="17e9a-272">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="17e9a-273">-Establecer **dirección de comunicación** a *enviar*</span><span class="sxs-lookup"><span data-stu-id="17e9a-273">- Set **Communication Direction** to *Send*</span></span>|  
|<span data-ttu-id="17e9a-274">OtherNotificationPort</span><span class="sxs-lookup"><span data-stu-id="17e9a-274">OtherNotificationPort</span></span>|<span data-ttu-id="17e9a-275">-Establecer **identificador** a *OtherNotificationPort*</span><span class="sxs-lookup"><span data-stu-id="17e9a-275">- Set **Identifier** to *OtherNotificationPort*</span></span><br /><br /> <span data-ttu-id="17e9a-276">-Establecer **tipo** a *OtherNotificationPortType*</span><span class="sxs-lookup"><span data-stu-id="17e9a-276">- Set **Type** to *OtherNotificationPortType*</span></span><br /><br /> <span data-ttu-id="17e9a-277">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="17e9a-277">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="17e9a-278">-Establecer **dirección de comunicación** a *enviar*</span><span class="sxs-lookup"><span data-stu-id="17e9a-278">- Set **Communication Direction** to *Send*</span></span>|  
  
### <a name="specify-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="17e9a-279">Especificar mensajes de las formas Acción y conectar a los puertos</span><span class="sxs-lookup"><span data-stu-id="17e9a-279">Specify Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="17e9a-280">En la tabla siguiente especifica las propiedades y sus valores que se deben establecer para especificar los mensajes para las formas de acción y vincular los mensajes a los puertos.</span><span class="sxs-lookup"><span data-stu-id="17e9a-280">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="17e9a-281">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación que se ha mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="17e9a-281">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  
  
|<span data-ttu-id="17e9a-282">Forma</span><span class="sxs-lookup"><span data-stu-id="17e9a-282">Shape</span></span>|<span data-ttu-id="17e9a-283">Propiedades</span><span class="sxs-lookup"><span data-stu-id="17e9a-283">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="17e9a-284">ReceiveNotification</span><span class="sxs-lookup"><span data-stu-id="17e9a-284">ReceiveNotification</span></span>|<span data-ttu-id="17e9a-285">-Establecer **mensaje** a *NotifyReceive*</span><span class="sxs-lookup"><span data-stu-id="17e9a-285">- Set **Message** to *NotifyReceive*</span></span><br /><br /> <span data-ttu-id="17e9a-286">-Establecer **operación** a *OracleNotifyPort.Notify.Request*</span><span class="sxs-lookup"><span data-stu-id="17e9a-286">- Set **Operation** to *OracleNotifyPort.Notify.Request*</span></span>|  
|<span data-ttu-id="17e9a-287">SendUpsertNotification</span><span class="sxs-lookup"><span data-stu-id="17e9a-287">SendUpsertNotification</span></span>|<span data-ttu-id="17e9a-288">-Establecer **mensaje** a *NotifyReceive*</span><span class="sxs-lookup"><span data-stu-id="17e9a-288">- Set **Message** to *NotifyReceive*</span></span><br /><br /> <span data-ttu-id="17e9a-289">-Establecer **operación** a *NotificationUpsertPort.Upsert.Request*</span><span class="sxs-lookup"><span data-stu-id="17e9a-289">- Set **Operation** to *NotificationUpsertPort.Upsert.Request*</span></span>|  
|<span data-ttu-id="17e9a-290">SendOtherNotification</span><span class="sxs-lookup"><span data-stu-id="17e9a-290">SendOtherNotification</span></span>|<span data-ttu-id="17e9a-291">-Establecer **mensaje** a *seleccionar*</span><span class="sxs-lookup"><span data-stu-id="17e9a-291">- Set **Message** to *Select*</span></span><br /><br /> <span data-ttu-id="17e9a-292">-Establecer **operación** a *OtherNotificationPort.Other.Request*</span><span class="sxs-lookup"><span data-stu-id="17e9a-292">- Set **Operation** to *OtherNotificationPort.Other.Request*</span></span>|  
  
 <span data-ttu-id="17e9a-293">Después de especificar estas propiedades, las formas de mensaje y los puertos que están conectados y la orquestación se completa.</span><span class="sxs-lookup"><span data-stu-id="17e9a-293">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  
  
 <span data-ttu-id="17e9a-294">Ahora debe compilar la solución de BizTalk e implementarlo en un [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="17e9a-294">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="17e9a-295">Para obtener más información, consulte [compilar y ejecutar orquestaciones](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-295">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>  
  
## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="17e9a-296">Configuración de la aplicación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="17e9a-296">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="17e9a-297">Después de haber implementado el proyecto de BizTalk, aparece la orquestación que creó anteriormente en el **orquestaciones** panel en el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="17e9a-297">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="17e9a-298">Debe utilizar el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración para configurar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-298">You must use the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to configure the application.</span></span> <span data-ttu-id="17e9a-299">Para obtener un tutorial, vea [Tutorial: implementar una aplicación básica de BizTalk](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-299">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>
  
 <span data-ttu-id="17e9a-300">Configuración de una aplicación implica:</span><span class="sxs-lookup"><span data-stu-id="17e9a-300">Configuring an application involves:</span></span>  
  
-   <span data-ttu-id="17e9a-301">Selección de un host de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-301">Selecting a host for the application.</span></span>  
  
-   <span data-ttu-id="17e9a-302">Asignación de los puertos que ha creado en la orquestación con puertos físicos en la [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="17e9a-302">Mapping the ports that you created in your orchestration to physical ports in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="17e9a-303">Para que esta orquestación debe:</span><span class="sxs-lookup"><span data-stu-id="17e9a-303">For this orchestration you must:</span></span>  
  
    -   <span data-ttu-id="17e9a-304">Definir un WCF-Custom físico o puerto de recepción unidireccionales de WCF-OracleDB.</span><span class="sxs-lookup"><span data-stu-id="17e9a-304">Define a physical WCF-Custom or WCF-OracleDB one-way receive port.</span></span> <span data-ttu-id="17e9a-305">Este puerto de escucha notificaciones procedentes de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-305">This port listens for notifications coming from the Oracle database.</span></span> <span data-ttu-id="17e9a-306">Para obtener información sobre cómo crear puertos de recepción, vea [configurar manualmente un enlace de puerto físico para el adaptador de la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/manually-configure-a-physical-port-binding-to-the-oracle-database-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-306">For information about how to create receive ports, see [Manually configure a physical port binding to the Oracle Database Adapter](../../adapters-and-accelerators/adapter-oracle-database/manually-configure-a-physical-port-binding-to-the-oracle-database-adapter.md).</span></span> <span data-ttu-id="17e9a-307">Asegúrese de que especificar las siguientes propiedades de enlace para el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="17e9a-307">Make sure you specify the following binding properties for the receive port.</span></span>  
  
        > [!IMPORTANT]
        >  <span data-ttu-id="17e9a-308">No es necesario realizar este paso si especifica las propiedades de enlace en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="17e9a-308">You do not need to perform this step if you specified the binding properties at design-time.</span></span> <span data-ttu-id="17e9a-309">En tal caso, puede crear un WCF-custom o WCF-OracleDB puerto de recepción, en el conjunto de propiedades de enlace necesaria, importando el archivo de enlace creado por la [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="17e9a-309">In such a case, you can create a WCF-custom or WCF-OracleDB receive port, with the required binding properties set, by importing the binding file created by the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="17e9a-310">Para obtener más información, consulte Configurar un físico puerto de enlace con un archivo de enlace de puerto.</span><span class="sxs-lookup"><span data-stu-id="17e9a-310">For more information, see Configuring a Physical Port Binding Using a Port Binding File.</span></span>  
  
        |<span data-ttu-id="17e9a-311">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="17e9a-311">Binding Property</span></span>|<span data-ttu-id="17e9a-312">Valor</span><span class="sxs-lookup"><span data-stu-id="17e9a-312">Value</span></span>|  
        |----------------------|-----------|  
        |<span data-ttu-id="17e9a-313">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="17e9a-313">**InboundOperationType**</span></span>|<span data-ttu-id="17e9a-314">Establezca esta propiedad en **notificación**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-314">Set this to **Notification**.</span></span>|  
        |<span data-ttu-id="17e9a-315">**NotificationPort**</span><span class="sxs-lookup"><span data-stu-id="17e9a-315">**NotificationPort**</span></span>|<span data-ttu-id="17e9a-316">Especifica el número de puerto que debe abrir ODP.NET para realizar escuchas de notificación de cambio de base de datos de base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-316">Specifies the port number that ODP.NET must open to listen for database change notification from Oracle database.</span></span> <span data-ttu-id="17e9a-317">Establecer esto en el mismo número de puerto que debe haber agregado a la lista de excepciones de Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="17e9a-317">Set this to the same port number that you must have added to the Windows Firewall exceptions list.</span></span> <span data-ttu-id="17e9a-318">Para obtener instrucciones sobre cómo agregar puertos a la lista de excepciones de Firewall de Windows, vea [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959).</span><span class="sxs-lookup"><span data-stu-id="17e9a-318">For instructions on how to add ports to Windows Firewall exceptions list, see [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959).</span></span><br /><br /> <span data-ttu-id="17e9a-319">**Importante:** si se establece en el valor predeterminado de -1, tendrá que deshabilitar completamente el Firewall de Windows para recibir mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-319">**Important:** If you set this to the default value of -1, you will have to completely disable Windows Firewall to receive notification messages.</span></span>|  
        |<span data-ttu-id="17e9a-320">**NotificationStatement**</span><span class="sxs-lookup"><span data-stu-id="17e9a-320">**NotificationStatement**</span></span>|<span data-ttu-id="17e9a-321">Establezca esta propiedad en:</span><span class="sxs-lookup"><span data-stu-id="17e9a-321">Set this to:</span></span><br /><br /> `SELECT TID,ACCOUNT,PROCESSED FROM SCOTT.ACCOUNTACTIVITY WHERE PROCESSED = ‘n’`<br /><br /> <span data-ttu-id="17e9a-322">**Nota:** debe especificar el nombre de la tabla junto con el nombre del esquema.</span><span class="sxs-lookup"><span data-stu-id="17e9a-322">**Note:** You must specify the table name along with the schema name.</span></span> <span data-ttu-id="17e9a-323">Por ejemplo, `SCOTT.ACCOUNTACTIVITY`.</span><span class="sxs-lookup"><span data-stu-id="17e9a-323">For example, `SCOTT.ACCOUNTACTIVITY`.</span></span>|  
        |<span data-ttu-id="17e9a-324">**NotifyOnListenerStart**</span><span class="sxs-lookup"><span data-stu-id="17e9a-324">**NotifyOnListenerStart**</span></span>|<span data-ttu-id="17e9a-325">Establezca esta propiedad en **True**.</span><span class="sxs-lookup"><span data-stu-id="17e9a-325">Set this to **True**.</span></span>|  
  
         <span data-ttu-id="17e9a-326">Para obtener más información acerca de las propiedades de enlace diferente, consulte [trabajar con propiedades de enlace](https://msdn.microsoft.com/library/dd788467.aspx).</span><span class="sxs-lookup"><span data-stu-id="17e9a-326">For more information about the different binding properties, see [Working with binding properties](https://msdn.microsoft.com/library/dd788467.aspx).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="17e9a-327">Se recomienda configurar el nivel de aislamiento de transacción y el tiempo de espera de transacciones al realizar operaciones de entrada mediante el [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="17e9a-327">We recommend configuring the transaction isolation level and the transaction timeout while performing inbound operations using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="17e9a-328">Puede hacerlo agregando el servicio de comportamiento al configurar el WCF-Custom o WCF-OracleDB puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="17e9a-328">You can do so by adding the service behavior while configuring the WCF-Custom or WCF-OracleDB receive port.</span></span> <span data-ttu-id="17e9a-329">Para obtener instrucciones sobre cómo agregar el comportamiento del servicio, consulte [configurar el nivel de aislamiento de transacción y el tiempo de espera de transacción con la base de datos de Oracle](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-329">For instruction on how to add the service behavior, see [Configure Transaction Isolation Level and Transaction Timeout with Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span></span>  
  
    -   <span data-ttu-id="17e9a-330">Definir una ubicación en el disco duro y un puerto de archivo correspondiente donde la orquestación de BizTalk colocará los mensajes de notificación de la base de datos de Oracle para operaciones Insert y Update.</span><span class="sxs-lookup"><span data-stu-id="17e9a-330">Define a location on the hard disk and a corresponding file port where the BizTalk orchestration will drop the notification messages from the Oracle database for Insert and Update operations.</span></span> <span data-ttu-id="17e9a-331">Configurar este puerto para colocar mensajes de notificación a la carpeta C:\TestLocation\UpsertNotification.</span><span class="sxs-lookup"><span data-stu-id="17e9a-331">Configure this port to drop notification messages to the folder C:\TestLocation\UpsertNotification.</span></span>  
  
    -   <span data-ttu-id="17e9a-332">Definir una ubicación en el disco duro y un puerto de archivo correspondiente donde la orquestación de BizTalk colocará los mensajes de notificación de la base de datos de Oracle para todas las demás operaciones.</span><span class="sxs-lookup"><span data-stu-id="17e9a-332">Define a location on the hard disk and a corresponding file port where the BizTalk orchestration will drop the notification messages from the Oracle database for all other operations.</span></span> <span data-ttu-id="17e9a-333">Configurar este puerto para colocar mensajes de notificación a la carpeta C:\TestLocation\OtherNotification.</span><span class="sxs-lookup"><span data-stu-id="17e9a-333">Configure this port to drop notification messages to the folder C:\TestLocation\OtherNotification.</span></span>  
  
## <a name="starting-the-application"></a><span data-ttu-id="17e9a-334">A partir de la aplicación</span><span class="sxs-lookup"><span data-stu-id="17e9a-334">Starting the Application</span></span>  
 <span data-ttu-id="17e9a-335">Debe iniciar la aplicación de BizTalk para recibir mensajes de notificación de la base de datos de Oracle y para llevar a cabo las operaciones subsiguientes de Select y Update.</span><span class="sxs-lookup"><span data-stu-id="17e9a-335">You must start the BizTalk application for receiving notification messages from the Oracle database and for performing the subsequent Select and Update operations.</span></span> <span data-ttu-id="17e9a-336">Para obtener instrucciones acerca de cómo iniciar una aplicación de BizTalk, consulte [cómo iniciar una orquestación](../../core/how-to-start-an-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-336">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>  
  
 <span data-ttu-id="17e9a-337">En esta fase, asegúrese de que:</span><span class="sxs-lookup"><span data-stu-id="17e9a-337">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="17e9a-338">El WCF-Custom o WCF-OracleDB unidireccional puerto de recepción, que recibe los mensajes de notificación de la base de datos se ejecuta de Oracle.</span><span class="sxs-lookup"><span data-stu-id="17e9a-338">The WCF-Custom or WCF-OracleDB one-way receive port, which receives the notification messages from the Oracle database is running.</span></span>  
  
-   <span data-ttu-id="17e9a-339">Los dos puertos de envío de archivo, que reciben mensajes de base de datos de Oracle, se están ejecutando.</span><span class="sxs-lookup"><span data-stu-id="17e9a-339">The two FILE send ports, which receive messages from Oracle database, are running.</span></span>  
  
-   <span data-ttu-id="17e9a-340">La orquestación de BizTalk para la operación se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="17e9a-340">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="executing-the-operation"></a><span data-ttu-id="17e9a-341">Ejecutar la operación</span><span class="sxs-lookup"><span data-stu-id="17e9a-341">Executing the Operation</span></span>  
 <span data-ttu-id="17e9a-342">Después de iniciar la orquestación de BizTalk, el siguiente conjunto de acciones tienen lugar:</span><span class="sxs-lookup"><span data-stu-id="17e9a-342">After you start the BizTalk orchestration, the following set of actions take place:</span></span>  
  
-   <span data-ttu-id="17e9a-343">Dado que la **NotifyOnListenerStart** enlaza la propiedad se establece en **True**, recibirá el mensaje siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-343">Because the **NotifyOnListenerStart** binding property is set to **True**, you receive the following message:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Info>ListenerStarted</Info>   
      <Source>OracleDBBinding</Source>   
      <Type>Startup</Type>   
    </Notification>  
    ```  
  
     <span data-ttu-id="17e9a-344">Tenga en cuenta que el valor de la `<Info>` etiqueta es "ListnerStarted".</span><span class="sxs-lookup"><span data-stu-id="17e9a-344">Note that the value in the `<Info>` tag is “ListnerStarted”.</span></span> <span data-ttu-id="17e9a-345">Por lo tanto, se recibe este mensaje en la carpeta C:\TestLocation\OtherNotification.</span><span class="sxs-lookup"><span data-stu-id="17e9a-345">Hence, this message is received in C:\TestLocation\OtherNotification folder.</span></span>  
  
-   <span data-ttu-id="17e9a-346">Insertar un registro en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="17e9a-346">Insert a record in the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="17e9a-347">Recibirá un mensaje de notificación similar a lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-347">You will receive a notification message resembling the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Details>  
        <NotificationDetails>  
          <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
          <Info>1</Info>   
          <QueryId>0</QueryId>   
        </NotificationDetails>  
      </Details>  
      <Info>Insert</Info>   
      <ResourceNames>  
        <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
      </ResourceNames>  
      <Source>Data</Source>   
      <Type>Change</Type>   
    </Notification>  
    ```  
  
     <span data-ttu-id="17e9a-348">Tenga en cuenta que el valor de la `<Info>` etiqueta es "Insertar".</span><span class="sxs-lookup"><span data-stu-id="17e9a-348">Note that the value in the `<Info>` tag is “Insert”.</span></span> <span data-ttu-id="17e9a-349">Por lo tanto, se recibe este mensaje en la carpeta C:\TestLocation\UpsertNotification.</span><span class="sxs-lookup"><span data-stu-id="17e9a-349">Hence, this message is received in C:\TestLocation\UpsertNotification folder.</span></span>  
  
-   <span data-ttu-id="17e9a-350">Actualizar un registro en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="17e9a-350">Update a record in the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="17e9a-351">Recibirá un mensaje de notificación similar a lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-351">You will receive a notification message resembling the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Details>  
        <NotificationDetails>  
          <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
          <Info>32</Info>   
          <QueryId>0</QueryId>   
        </NotificationDetails>  
      </Details>  
      <Info>Update</Info>   
      <ResourceNames>  
        <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
      </ResourceNames>  
      <Source>Data</Source>   
      <Type>Change</Type>   
    </Notification>  
    ```  
  
     <span data-ttu-id="17e9a-352">Tenga en cuenta que el valor de la `<Info>` etiqueta es "Actualización".</span><span class="sxs-lookup"><span data-stu-id="17e9a-352">Note that the value in the `<Info>` tag is “Update”.</span></span> <span data-ttu-id="17e9a-353">Por lo tanto, se recibe este mensaje en la carpeta C:\TestLocation\UpsertNotification.</span><span class="sxs-lookup"><span data-stu-id="17e9a-353">Hence, this message is received in C:\TestLocation\UpsertNotification folder.</span></span>  
  
-   <span data-ttu-id="17e9a-354">Eliminar un registro de la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="17e9a-354">Delete a record from the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="17e9a-355">Recibirá un mensaje de notificación similar a lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="17e9a-355">You will receive a notification message resembling the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Details>  
        <NotificationDetails>  
          <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
          <Info>16</Info>   
          <QueryId>0</QueryId>   
        </NotificationDetails>  
      </Details>  
      <Info>Delete</Info>   
      <ResourceNames>  
        <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
      </ResourceNames>  
      <Source>Data</Source>   
      <Type>Change</Type>   
    </Notification>  
    ```  
  
     <span data-ttu-id="17e9a-356">Tenga en cuenta que el valor de la `<Info>` etiqueta es "Eliminar".</span><span class="sxs-lookup"><span data-stu-id="17e9a-356">Note that the value in the `<Info>` tag is “Delete”.</span></span> <span data-ttu-id="17e9a-357">Por lo tanto, se recibe este mensaje en la carpeta C:\TestLocation\OtherNotification.</span><span class="sxs-lookup"><span data-stu-id="17e9a-357">Hence, this message is received in C:\TestLocation\OtherNotification folder.</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="17e9a-358">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="17e9a-358">Best Practices</span></span>  
 <span data-ttu-id="17e9a-359">Una vez haya implementado y configurado el proyecto de BizTalk, puede exportar la configuración en un archivo XML denominado archivo de enlace.</span><span class="sxs-lookup"><span data-stu-id="17e9a-359">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the binding file.</span></span> <span data-ttu-id="17e9a-360">Una vez que se genera un archivo de enlace, puede importar los valores de configuración desde el archivo, por lo que no es necesario crear los puertos de envío y puertos de recepción para la misma orquestación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-360">Once you generate a binding file, you can import the configuration settings from the file, so that you do not need to create the send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="17e9a-361">Para obtener más información acerca de los archivos de enlace, vea [enlaces del adaptador de base de datos de Oracle reutilizar](../../adapters-and-accelerators/adapter-oracle-database/reuse-oracle-database-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="17e9a-361">For more information about binding files, see [Reuse Oracle Database Adapter bindings](../../adapters-and-accelerators/adapter-oracle-database/reuse-oracle-database-adapter-bindings.md).</span></span>  
  
## <a name="performing-complex-operations-after-receiving-notification-messages"></a><span data-ttu-id="17e9a-362">Realizar operaciones complejas después de recibir mensajes de notificación</span><span class="sxs-lookup"><span data-stu-id="17e9a-362">Performing Complex Operations After Receiving Notification Messages</span></span>  
 <span data-ttu-id="17e9a-363">Para mayor simplicidad y una mejor comprensión, la orquestación en este tema copia mensajes en carpetas diferentes en función del tipo de notificación.</span><span class="sxs-lookup"><span data-stu-id="17e9a-363">For simplicity and better understanding, the orchestration in this topic copies messages to different folders based on the notification type.</span></span> <span data-ttu-id="17e9a-364">Sin embargo, en situaciones del mundo real puede realizar operaciones más complejas.</span><span class="sxs-lookup"><span data-stu-id="17e9a-364">However, in real-world scenarios you might want to perform more complex operations.</span></span> <span data-ttu-id="17e9a-365">Puede realizar procesos similares como se indica en este tema y la compilación en ellos para realizar las operaciones que desee.</span><span class="sxs-lookup"><span data-stu-id="17e9a-365">You can perform similar procedures as provided in this topic and build on them to perform the operations you wish.</span></span> <span data-ttu-id="17e9a-366">Por ejemplo, puede cambiar la orquestación para insertar registros en otra tabla si recibe un mensaje de notificación para una operación de inserción en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="17e9a-366">For example, you can change the orchestration to insert records in another table if you get a notification message for an Insert operation on the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="17e9a-367">En tal caso, puede hacer los cambios correspondientes dentro de la forma decidir.</span><span class="sxs-lookup"><span data-stu-id="17e9a-367">In such a case, you can make appropriate changes within the Decide shape.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="17e9a-368">Vea también</span><span class="sxs-lookup"><span data-stu-id="17e9a-368">See Also</span></span>  
 [<span data-ttu-id="17e9a-369">Recibir notificaciones de cambio de base de datos de Oracle mediante BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="17e9a-369">Receiving Oracle Database Change Notifications Using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-using-biztalk-server.md)