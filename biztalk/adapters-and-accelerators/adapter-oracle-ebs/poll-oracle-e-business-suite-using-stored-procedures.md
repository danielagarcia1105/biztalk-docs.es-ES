---
title: Sondear Oracle E-Business Suite mediante procedimientos almacenados | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e9e89dfe-f33a-436b-94c6-be78e84d5efd
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b0301a571fba8e768052fa9caaf1465abd8aa162
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36990917"
---
# <a name="poll-oracle-e-business-suite-using-stored-procedures"></a><span data-ttu-id="73133-102">Sondear Oracle E-Business Suite mediante procedimientos almacenados</span><span class="sxs-lookup"><span data-stu-id="73133-102">Poll Oracle E-Business Suite using stored procedures</span></span>
<span data-ttu-id="73133-103">Puede configurar el [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] para recibir mensajes de cambio de datos periódica mediante procedimientos almacenados que para sondear continuamente la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-103">You can configure the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] to receive periodic data-change messages by using stored procedures to continuously poll the Oracle database.</span></span> <span data-ttu-id="73133-104">Puede especificar un procedimiento almacenado como una instrucción de sondeo que el adaptador se ejecuta periódicamente para sondear la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-104">You can specify a stored procedure as a polling statement that the adapter executes periodically to poll the Oracle database.</span></span>  

 <span data-ttu-id="73133-105">Para habilitar el sondeo, debe especificar que ciertas propiedades de enlace en el WCF-Custom o WCF-OracleEBS de puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="73133-105">To enable polling, you must specify certain binding properties on the WCF-Custom or WCF-OracleEBS receive port.</span></span>  <span data-ttu-id="73133-106">Para obtener más información acerca de cómo el adaptador admite el sondeo, consulte [compatibilidad con entrada de sondeo utilizando llamadas](../../adapters-and-accelerators/adapter-oracle-ebs/support-for-inbound-calls-using-polling.md).</span><span class="sxs-lookup"><span data-stu-id="73133-106">For more information about how the adapter supports polling, see [Support for Inbound Calls Using Polling](../../adapters-and-accelerators/adapter-oracle-ebs/support-for-inbound-calls-using-polling.md).</span></span> <span data-ttu-id="73133-107">Para obtener información acerca de la estructura del mensaje SOAP para las operaciones de sondeo, consulte [esquemas de mensaje para las operaciones de sondeo](../../adapters-and-accelerators/adapter-oracle-ebs/message-schemas-for-the-polling-operations1.md).</span><span class="sxs-lookup"><span data-stu-id="73133-107">For information about the structure of the SOAP message for polling operations, see [Message Schemas for the Polling Operations](../../adapters-and-accelerators/adapter-oracle-ebs/message-schemas-for-the-polling-operations1.md).</span></span>  

## <a name="configuring-a-polling-operation-with-oracle-e-business-adapter-binding-properties"></a><span data-ttu-id="73133-108">Configuración de una operación de sondeo con el adaptador de Oracle E-Business propiedades de enlace</span><span class="sxs-lookup"><span data-stu-id="73133-108">Configuring a Polling Operation with Oracle E-Business Adapter Binding Properties</span></span>  
 <span data-ttu-id="73133-109">La siguiente tabla resume el [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] propiedades que usan para configurar el adaptador para recibir mensajes de cambio de datos de enlace.</span><span class="sxs-lookup"><span data-stu-id="73133-109">The following table summarizes the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] binding properties that you use to configure the adapter to receive data-change messages.</span></span> <span data-ttu-id="73133-110">Debe especificar el puerto de recepción de estas propiedades de enlace al configurar el WCF-Custom o WCF-OracleEBS la [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="73133-110">You must specify these binding properties while configuring the WCF-Custom or WCF-OracleEBS receive port in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  


|         <span data-ttu-id="73133-111">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="73133-111">Binding Property</span></span>         |                                                                                                                                                                                                                                                                       <span data-ttu-id="73133-112">Descripción</span><span class="sxs-lookup"><span data-stu-id="73133-112">Description</span></span>                                                                                                                                                                                                                                                                       |
|----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     <span data-ttu-id="73133-113">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="73133-113">**InboundOperationType**</span></span>     |                                                                                                                                                                                                                   <span data-ttu-id="73133-114">Especifica si desea realizar un **sondeo** o **notificación** operación entrante.</span><span class="sxs-lookup"><span data-stu-id="73133-114">Specifies whether you want to perform a **Polling** or **Notification** inbound operation.</span></span> <span data-ttu-id="73133-115">El valor predeterminado es **sondeo**.</span><span class="sxs-lookup"><span data-stu-id="73133-115">Default is **Polling**.</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="73133-116">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="73133-116">**PolledDataAvailableStatement**</span></span> |                                                                                                                                                       <span data-ttu-id="73133-117">Especifica la instrucción SQL que ejecuta el adaptador para determinar si los datos están disponibles para el sondeo.</span><span class="sxs-lookup"><span data-stu-id="73133-117">Specifies the SQL statement that the adapter executes to determine whether any data is available for polling.</span></span> <span data-ttu-id="73133-118">Solo si hay un registro, el procedimiento almacenado que especificó para el **PollingInput** se ejecutará el enlace de propiedad.</span><span class="sxs-lookup"><span data-stu-id="73133-118">Only if a record is available, the stored procedure you specified for the **PollingInput** binding property will be executed.</span></span>                                                                                                                                                       |
|       <span data-ttu-id="73133-119">**PollingInterval**</span><span class="sxs-lookup"><span data-stu-id="73133-119">**PollingInterval**</span></span>        |                                           <span data-ttu-id="73133-120">Especifica el intervalo, en segundos, en el que el [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] ejecuta la instrucción especificada para el **PolledDataAvailableStatement** enlaza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="73133-120">Specifies the interval, in seconds, at which the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] executes the statement specified for the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="73133-121">El valor predeterminado es 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="73133-121">The default is 30 seconds.</span></span> <span data-ttu-id="73133-122">El intervalo de sondeo determina el intervalo de tiempo entre sondeos sucesivos.</span><span class="sxs-lookup"><span data-stu-id="73133-122">The polling interval determines the time interval between successive polls.</span></span> <span data-ttu-id="73133-123">Si la instrucción se ejecuta en el intervalo especificado, el adaptador se suspende durante el tiempo restante en el intervalo.</span><span class="sxs-lookup"><span data-stu-id="73133-123">If the statement is executed within the specified interval, the adapter sleeps for the remaining time in the interval.</span></span>                                            |
|         <span data-ttu-id="73133-124">**PollingInput**</span><span class="sxs-lookup"><span data-stu-id="73133-124">**PollingInput**</span></span>         | <span data-ttu-id="73133-125">Especifica la instrucción de sondeo.</span><span class="sxs-lookup"><span data-stu-id="73133-125">Specifies the polling statement.</span></span> <span data-ttu-id="73133-126">Para sondear con un procedimiento almacenado, debe especificar el mensaje de solicitud completo para esta propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="73133-126">To poll using a stored procedure, you must specify the entire request message for this binding property.</span></span> <span data-ttu-id="73133-127">El mensaje de solicitud debe ser el mismo que enviar al adaptador para invocar el procedimiento almacenado como una operación de salida.</span><span class="sxs-lookup"><span data-stu-id="73133-127">The request message must be the same that you send to the adapter for invoking the stored procedure as an outbound operation.</span></span> <span data-ttu-id="73133-128">El valor predeterminado es null.</span><span class="sxs-lookup"><span data-stu-id="73133-128">The default is null.</span></span><br /><br /> <span data-ttu-id="73133-129">Debe especificar un valor para **PollingInput** enlace de propiedad para habilitar el sondeo.</span><span class="sxs-lookup"><span data-stu-id="73133-129">You must specify a value for **PollingInput** binding property to enable polling.</span></span> <span data-ttu-id="73133-130">Se ejecuta la instrucción de sondeo solo si hay datos disponibles para el sondeo, que viene determinado por la **PolledDataAvailableStatement** enlaza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="73133-130">The polling statement is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property.</span></span> |
|        <span data-ttu-id="73133-131">**PollingAction**</span><span class="sxs-lookup"><span data-stu-id="73133-131">**PollingAction**</span></span>         |                                                                                                                                               <span data-ttu-id="73133-132">Especifica la acción para la operación de sondeo.</span><span class="sxs-lookup"><span data-stu-id="73133-132">Specifies the action for the polling operation.</span></span> <span data-ttu-id="73133-133">Puede determinar la acción de sondeo para una operación específica de los metadatos que se genera para la operación mediante la [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="73133-133">You can determine the polling action for a specific operation from the metadata you generate for the operation using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>                                                                                                                                               |
|      <span data-ttu-id="73133-134">**PostPollStatement**</span><span class="sxs-lookup"><span data-stu-id="73133-134">**PostPollStatement**</span></span>       |                                                                                                                                                                                                            <span data-ttu-id="73133-135">Especifica un bloque de instrucciones que se ejecuta después de la instrucción especificada por el **PollingInput** propiedad de enlace se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="73133-135">Specifies a statement block that is executed after the statement specified by the **PollingInput** binding property is executed.</span></span>                                                                                                                                                                                                             |
|      <span data-ttu-id="73133-136">**PollWhileDataFound**</span><span class="sxs-lookup"><span data-stu-id="73133-136">**PollWhileDataFound**</span></span>      |                                                                               <span data-ttu-id="73133-137">Especifica si el [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] pasa por alto el intervalo de sondeo y la instrucción de sondeo, se ejecuta continuamente si hay datos disponibles en la tabla que se sondea.</span><span class="sxs-lookup"><span data-stu-id="73133-137">Specifies whether the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] ignores the polling interval and continuously executes the polling statement, if data is available in the table being polled.</span></span> <span data-ttu-id="73133-138">Si no hay datos disponibles en la tabla, el adaptador vuelve para ejecutar la instrucción de sondeo en el intervalo de sondeo especificado.</span><span class="sxs-lookup"><span data-stu-id="73133-138">If no data is available in the table, the adapter reverts to execute the polling statement at the specified polling interval.</span></span> <span data-ttu-id="73133-139">El valor predeterminado es False.</span><span class="sxs-lookup"><span data-stu-id="73133-139">Default is false.</span></span>                                                                               |

 <span data-ttu-id="73133-140">Para obtener una descripción más completa de estas propiedades, vea [Obtenga información sobre el adaptador de BizTalk para propiedades de enlace de Oracle E-Business Suite](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="73133-140">For a more complete description of these properties, see [Read about the BizTalk Adapter for Oracle E-Business Suite Binding Properties](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span></span> <span data-ttu-id="73133-141">Para obtener una descripción completa de cómo usar el [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] para sondear la base de datos de Oracle, lea las secciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="73133-141">For a complete description of how to use the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] to poll the Oracle database, read the following sections.</span></span>  

## <a name="how-this-topic-demonstrates-polling"></a><span data-ttu-id="73133-142">Cómo este tema muestra el sondeo</span><span class="sxs-lookup"><span data-stu-id="73133-142">How This Topic Demonstrates Polling</span></span>  
 <span data-ttu-id="73133-143">En este tema, para demostrar cómo el [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] admite la recepción de datos cambiar mensajes mediante procedimientos almacenados, crear un proyecto de BizTalk y genere el esquema para el procedimiento almacenado que desea utilizar para sondear la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-143">In this topic, to demonstrate how the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] supports receiving data change messages using stored procedures, create a BizTalk project and generate schema for the stored procedure you want to use to poll the Oracle database.</span></span> <span data-ttu-id="73133-144">En este tema, se usa el procedimiento almacenado de GET_ACTIVITYS para sondear la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="73133-144">In this topic, we use the GET_ACTIVITYS stored procedure to poll the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="73133-145">Este procedimiento almacenado está disponible con el paquete ACCOUNT_PKG.</span><span class="sxs-lookup"><span data-stu-id="73133-145">This stored procedure is available with the ACCOUNT_PKG package.</span></span> <span data-ttu-id="73133-146">Puede ejecutar los scripts SQL que se proporciona con los ejemplos para crear estos objetos en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="73133-146">You can run the SQL scripts provided with the samples to create these objects in the database.</span></span>  

> [!NOTE]
>  <span data-ttu-id="73133-147">La orquestación en este sondeos tema el ACCOUNTACTIVITY de tabla, que es una tabla de base de datos creada mediante la ejecución de los scripts proporcionados con los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="73133-147">The orchestration in this topic polls the ACCOUNTACTIVITY table, which is a base database table created by running the scripts provided with the samples.</span></span> <span data-ttu-id="73133-148">Debe realizar procedimientos similares, como se describe en este tema para sondear en cualquier otra tabla, incluidas las tablas de interfaz.</span><span class="sxs-lookup"><span data-stu-id="73133-148">You must perform similar procedures as described in this topic to poll any other table, including interface tables.</span></span>  

 <span data-ttu-id="73133-149">Para demostrar una operación de sondeo, llevamos a cabo lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="73133-149">To demonstrate a polling operation, we do the following:</span></span>  

-   <span data-ttu-id="73133-150">Especifique una instrucción SELECT para la **PolledDataAvailableStatement** enlaza la propiedad para determinar donde la tabla sondea (ACCOUNTACTIVITY) tiene los datos.</span><span class="sxs-lookup"><span data-stu-id="73133-150">Specify a SELECT statement for the **PolledDataAvailableStatement** binding property to determine where the table being polled (ACCOUNTACTIVITY) has any data.</span></span> <span data-ttu-id="73133-151">En este ejemplo, puede establecer esta propiedad de enlace como:</span><span class="sxs-lookup"><span data-stu-id="73133-151">In this example, you can set this binding property as:</span></span>  

    ```  
    SELECT COUNT (*) FROM ACCOUNTACTIVITY  
    ```  

     <span data-ttu-id="73133-152">Esto garantiza que el adaptador ejecuta la instrucción de sondeo solo cuando la tabla ACCOUNTACTIVITY tiene algunos registros.</span><span class="sxs-lookup"><span data-stu-id="73133-152">This ensures that the adapter executes the polling statement only when the ACCOUNTACTIVITY table has some records.</span></span>  

-   <span data-ttu-id="73133-153">Ejecutar un procedimiento almacenado, GET_ACTIVITYS, proporcionando el mensaje de solicitud como parte de la **PollingInput** enlaza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="73133-153">Execute a stored procedure, GET_ACTIVITYS, by providing the request message as part of the **PollingInput** binding property.</span></span> <span data-ttu-id="73133-154">Este procedimiento almacenado recuperará todas las filas de la tabla ACCOUNTACTIVITY y obtendrá un mensaje de respuesta desde el adaptador.</span><span class="sxs-lookup"><span data-stu-id="73133-154">This stored procedure will retrieve all the rows in the ACCOUNTACTIVITY table and you will get a response message from the adapter.</span></span>  

-   <span data-ttu-id="73133-155">EJECUTAR un bloque de PL/SQL como parte de la **PostPollStatement** enlaza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="73133-155">EXECUTE a PL/SQL block as part of the **PostPollStatement** binding property.</span></span> <span data-ttu-id="73133-156">Esta instrucción moverá todos los datos de tabla ACCOUNTACTIVITY a otra tabla en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="73133-156">This statement will move all data from ACCOUNTACTIVITY table to another table in the database.</span></span> <span data-ttu-id="73133-157">Una vez que esto ocurre, la próxima vez **PollingInput** será ejecuta, no capturará todos los datos y, por tanto, el procedimiento almacenado de GET_ACTIVITYS devolverá un mensaje de respuesta vacío.</span><span class="sxs-lookup"><span data-stu-id="73133-157">Once this happens, the next time **PollingInput** will be executed, it will not fetch any data and hence the GET_ACTIVITYS stored procedure will return an empty response message.</span></span>  

-   <span data-ttu-id="73133-158">Hasta que se agregan más datos a la tabla ACCOUNTACTIVITY, se seguirá pudiendo obtener mensajes de respuesta vacío.</span><span class="sxs-lookup"><span data-stu-id="73133-158">Until more data is added to the ACCOUNTACTIVITY table, you will continue to get empty response messages.</span></span> <span data-ttu-id="73133-159">Por lo tanto, debe volver a llenar la tabla ACCOUNTACTIVITY con nuevos registros.</span><span class="sxs-lookup"><span data-stu-id="73133-159">So, you must repopulate the ACCOUNTACTIVITY table with new records.</span></span> <span data-ttu-id="73133-160">Puede hacerlo ejecutando el script more_activity_data.sql proporcionado con los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="73133-160">You can do so by running the more_activity_data.sql script provided with the samples.</span></span> <span data-ttu-id="73133-161">Después de ejecutar este script, la siguiente operación de sondeo capturará los nuevos registros que se insertan en la tabla.</span><span class="sxs-lookup"><span data-stu-id="73133-161">After you run this script, the next polling operation will fetch the new records inserted into the table.</span></span>  

## <a name="how-to-receive-data-change-messages-from-oracle"></a><span data-ttu-id="73133-162">Cómo recibir mensajes de cambio de datos de Oracle</span><span class="sxs-lookup"><span data-stu-id="73133-162">How to Receive Data-change Messages from Oracle</span></span>  
 <span data-ttu-id="73133-163">Realizar una operación en la base de datos de Oracle mediante [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] con [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] implica las siguientes tareas de procedimientos se describe en [bloques de creación para crear aplicaciones de Oracle E-Business Suite](../../adapters-and-accelerators/adapter-oracle-ebs/building-blocks-to-create-oracle-e-business-suite-applications.md).</span><span class="sxs-lookup"><span data-stu-id="73133-163">Performing an operation on Oracle database using [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves the following procedural tasks described in [Building blocks to create Oracle E-Business Suite aplications](../../adapters-and-accelerators/adapter-oracle-ebs/building-blocks-to-create-oracle-e-business-suite-applications.md).</span></span> <span data-ttu-id="73133-164">Para configurar el adaptador para sondear la base de datos de Oracle mediante un procedimiento almacenado, estas tareas son:</span><span class="sxs-lookup"><span data-stu-id="73133-164">To configure the adapter to poll Oracle database using a stored procedure, these tasks are:</span></span>  

1. <span data-ttu-id="73133-165">Cree un proyecto de BizTalk y genere el esquema para el procedimiento almacenado que desea usar para el sondeo.</span><span class="sxs-lookup"><span data-stu-id="73133-165">Create a BizTalk project, and generate schema for the stored procedure you want to use for polling.</span></span>  

2. <span data-ttu-id="73133-166">Cree un mensaje en el proyecto de BizTalk para recibir mensajes de la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-166">Create a message in the BizTalk project for receiving messages from Oracle database.</span></span>  

3. <span data-ttu-id="73133-167">Crear una orquestación para recibir mensajes de la base de datos de Oracle y guardarlos en una carpeta.</span><span class="sxs-lookup"><span data-stu-id="73133-167">Create an orchestration to receive messages from Oracle database and save them to a folder.</span></span>  

4. <span data-ttu-id="73133-168">Compile e implemente el proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="73133-168">Build and deploy the BizTalk project.</span></span>  

5. <span data-ttu-id="73133-169">Configurar la aplicación mediante la creación física de envío y puertos de recepción de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="73133-169">Configure the BizTalk application by creating physical send and receive ports.</span></span>  

   > [!IMPORTANT]
   >  <span data-ttu-id="73133-170">Para escenarios de sondeo de entrada siempre debe configurar un puerto de recepción unidireccional.</span><span class="sxs-lookup"><span data-stu-id="73133-170">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="73133-171">Bidireccional recibir los puertos no se admiten operaciones de entrada.</span><span class="sxs-lookup"><span data-stu-id="73133-171">Two-way receive ports are not supported for inbound operations.</span></span>  

6. <span data-ttu-id="73133-172">Inicie la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="73133-172">Start the BizTalk application.</span></span>  

   <span data-ttu-id="73133-173">Este tema proporciona instrucciones para realizar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="73133-173">This topic provides instructions to perform these tasks.</span></span>  

## <a name="sample-based-on-this-topic"></a><span data-ttu-id="73133-174">Ejemplo basado en este tema.</span><span class="sxs-lookup"><span data-stu-id="73133-174">Sample Based On This Topic</span></span>  
 <span data-ttu-id="73133-175">Un ejemplo, PollingUsingStoredProc, basado en este tema también se proporciona con BizTalk Adapter Pack.</span><span class="sxs-lookup"><span data-stu-id="73133-175">A sample, PollingUsingStoredProc, based on this topic is also provided with the BizTalk Adapter Pack.</span></span> <span data-ttu-id="73133-176">Para obtener más información, consulte [ejemplos](../../adapters-and-accelerators/adapter-oracle-ebs/samples-for-the-oracle-ebs-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="73133-176">For more information, see [Samples](../../adapters-and-accelerators/adapter-oracle-ebs/samples-for-the-oracle-ebs-adapter.md).</span></span>  

## <a name="generating-schema"></a><span data-ttu-id="73133-177">Generar el esquema</span><span class="sxs-lookup"><span data-stu-id="73133-177">Generating Schema</span></span>  
 <span data-ttu-id="73133-178">Debe generar el esquema para la operación GET_ACTIVITYS.</span><span class="sxs-lookup"><span data-stu-id="73133-178">You must generate the schema for the GET_ACTIVITYS operation.</span></span> <span data-ttu-id="73133-179">Realizar las tareas siguientes al generar el esquema mediante el [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="73133-179">Perform the following tasks while generating the schema using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  

- <span data-ttu-id="73133-180">Seleccione el tipo de contrato **(operación de entrada) de servicio**.</span><span class="sxs-lookup"><span data-stu-id="73133-180">Select the contract type as **Service (Inbound operation)**.</span></span>  

- <span data-ttu-id="73133-181">Genere el esquema para el **GET_ACTIVITYS** procedimiento.</span><span class="sxs-lookup"><span data-stu-id="73133-181">Generate schema for the **GET_ACTIVITYS** procedure.</span></span>  

  <span data-ttu-id="73133-182">Para obtener más información acerca de cómo generar un esquema, vea [examinar, buscar y obtener metadatos para operaciones de Oracle E-Business](../../adapters-and-accelerators/adapter-oracle-ebs/browse-search-and-get-metadata-for-oracle-e-business-suite-operations.md).</span><span class="sxs-lookup"><span data-stu-id="73133-182">For more information about how to generate schema, see [Browse, Search, and get Metadata for Oracle E-Business Operations](../../adapters-and-accelerators/adapter-oracle-ebs/browse-search-and-get-metadata-for-oracle-e-business-suite-operations.md).</span></span>  

## <a name="defining-messages-and-message-types"></a><span data-ttu-id="73133-183">Definición de los mensajes y tipos de mensaje</span><span class="sxs-lookup"><span data-stu-id="73133-183">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="73133-184">El esquema que ha generado anteriormente describe los "tipos" necesarios para los mensajes en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="73133-184">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="73133-185">Un mensaje suele ser una variable, el tipo para el que está definido por el esquema correspondiente.</span><span class="sxs-lookup"><span data-stu-id="73133-185">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="73133-186">Una vez que se genera el esquema, debe vincularlo a los mensajes desde la vista de orquestación de BizTalk del proyecto.</span><span class="sxs-lookup"><span data-stu-id="73133-186">Once the schema is generated, you must link it to the messages from the Orchestration view of the BizTalk project.</span></span>  

 <span data-ttu-id="73133-187">Este tema, debe crear un mensaje para recibir mensajes de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-187">For this topic, you must create one message to receive messages from Oracle.</span></span>  

 <span data-ttu-id="73133-188">Realice los pasos siguientes para crear mensajes y vincularlos a esquema.</span><span class="sxs-lookup"><span data-stu-id="73133-188">Perform the following steps to create messages and link them to schema.</span></span>  

#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="73133-189">Para crear mensajes y vínculo a esquema</span><span class="sxs-lookup"><span data-stu-id="73133-189">To create messages and link to schema</span></span>  

1. <span data-ttu-id="73133-190">Agregar una orquestación al proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="73133-190">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="73133-191">En el Explorador de soluciones, haga clic en el nombre del proyecto de BizTalk, seleccione **agregar**y, a continuación, haga clic en **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="73133-191">From the Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="73133-192">Escriba un nombre para la orquestación de BizTalk y, a continuación, haga clic en **agregar**.</span><span class="sxs-lookup"><span data-stu-id="73133-192">Type a name for the BizTalk orchestration and then click **Add**.</span></span>  

2. <span data-ttu-id="73133-193">Abra la ventana Vista orquestación del proyecto de BizTalk, si aún no está abierto.</span><span class="sxs-lookup"><span data-stu-id="73133-193">Open the orchestration view window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="73133-194">Haga clic en **vista**, apunte a **Other Windows**y, a continuación, haga clic en **Vista orquestación**.</span><span class="sxs-lookup"><span data-stu-id="73133-194">Click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  

3. <span data-ttu-id="73133-195">En el **Vista orquestación**, haga clic en **mensajes**y, a continuación, haga clic en **nuevo mensaje**.</span><span class="sxs-lookup"><span data-stu-id="73133-195">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  

4. <span data-ttu-id="73133-196">Haga clic en el mensaje recién creado y, a continuación, seleccione **ventana propiedades**.</span><span class="sxs-lookup"><span data-stu-id="73133-196">Right-click the newly created message, and then select **Properties Window**.</span></span>  

5. <span data-ttu-id="73133-197">En el **propiedades** panel **Message_1**, realice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="73133-197">In the **Properties** pane for **Message_1**, do the following:</span></span>  

   |<span data-ttu-id="73133-198">Use</span><span class="sxs-lookup"><span data-stu-id="73133-198">Use this</span></span>|<span data-ttu-id="73133-199">Para</span><span class="sxs-lookup"><span data-stu-id="73133-199">To do this</span></span>|  
   |--------------|----------------|  
   |<span data-ttu-id="73133-200">Identificador</span><span class="sxs-lookup"><span data-stu-id="73133-200">Identifier</span></span>|<span data-ttu-id="73133-201">Tipo **recibir**.</span><span class="sxs-lookup"><span data-stu-id="73133-201">Type **Receive**.</span></span>|  
   |<span data-ttu-id="73133-202">Tipo de mensaje</span><span class="sxs-lookup"><span data-stu-id="73133-202">Message Type</span></span>|<span data-ttu-id="73133-203">En la lista desplegable, expanda **esquemas**y seleccione *Polling.OracleEBSBindingSchema*, donde *sondeo* es el nombre de su proyecto de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="73133-203">From the drop-down list, expand **Schemas**, and select *Polling.OracleEBSBindingSchema*, where *Polling* is the name of your BizTalk project.</span></span> <span data-ttu-id="73133-204">*OracleEBSBindingSchema* es el esquema de respuesta generado para el **GET_ACTIVITYS** procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="73133-204">*OracleEBSBindingSchema* is the response schema generated for the **GET_ACTIVITYS** stored procedure.</span></span><br /><br /> <span data-ttu-id="73133-205">**Importante:** porque el sondeo es una operación unidireccional, el esquema generado por el adaptador no tiene un nodo de respuesta y, por tanto, hay solo un nodo raíz en el esquema.</span><span class="sxs-lookup"><span data-stu-id="73133-205">**Important:** Because polling is a one way operation, the schema generated by the adapter does not contain a response node, and hence there is only one root node in the schema.</span></span> <span data-ttu-id="73133-206">Si utiliza estos esquemas para un tipo de mensaje, debe identificar el esquema mediante el nombre del esquema generado.</span><span class="sxs-lookup"><span data-stu-id="73133-206">If you use such schemas for a message type, you must identify the schema by the filename of the generated schema.</span></span><br /><br /> <span data-ttu-id="73133-207">Por ejemplo, si crea un esquema para una operación bidireccional, los nodos en el esquema de archivo con un nombre `OracleEBSBindingSchema` puede ser similar a "Solicitud" y "Respuesta".</span><span class="sxs-lookup"><span data-stu-id="73133-207">For example, if you create schema for a two-way operation, the nodes in the schema file with a name `OracleEBSBindingSchema` may look like “Request” and “Response”.</span></span> <span data-ttu-id="73133-208">Si desea crear un mensaje en la orquestación que se asigna al esquema de la solicitud, puede identificar el esquema en la lista, busque `OracleEBSBindingSchema.Request`.</span><span class="sxs-lookup"><span data-stu-id="73133-208">If you want to create a message in the orchestration that maps to the request schema, you can identify the schema in the list by looking for `OracleEBSBindingSchema.Request`.</span></span> <span data-ttu-id="73133-209">Sin embargo, en el caso de la operación de sondeo, dado que el único nodo es "Sondeo", no es fácil identificar el esquema que desee realizar la asignación porque no se muestran los esquemas con nodos únicos como \<schemafilename\>.\< rootnodename\>.</span><span class="sxs-lookup"><span data-stu-id="73133-209">However, in the case of polling operation, because the only node is “Poll”, it is not easy to identify the schema you want to map to because schemas with single nodes are not listed as \<schemafilename\>.\<rootnodename\>.</span></span> <span data-ttu-id="73133-210">En su lugar, estos esquemas se enumeran por sólo el nombre de archivo.</span><span class="sxs-lookup"><span data-stu-id="73133-210">Instead, such schemas are listed by only the filename.</span></span> <span data-ttu-id="73133-211">En tal caso, la única manera de identificar el esquema es por el nombre de archivo de esquema, por ejemplo, OracleEBSBindingSchema.</span><span class="sxs-lookup"><span data-stu-id="73133-211">In such a case, the only way to identify the schema is by the schema filename, for example, OracleEBSBindingSchema.</span></span>|  

    <span data-ttu-id="73133-212">El [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] genera un esquema para las operaciones entrantes y salientes para el GET_ACTIVITYS de procedimiento almacenan.</span><span class="sxs-lookup"><span data-stu-id="73133-212">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates schema for both inbound and outbound operations for the GET_ACTIVITYS stored procedure.</span></span> <span data-ttu-id="73133-213">Debe usar el esquema para que la operación de entrada:</span><span class="sxs-lookup"><span data-stu-id="73133-213">You must use the schema for inbound operation to:</span></span>  

   - <span data-ttu-id="73133-214">Asignar el mensaje creado como parte de la orquestación.</span><span class="sxs-lookup"><span data-stu-id="73133-214">Map the message created as part of the orchestration.</span></span>  

   - <span data-ttu-id="73133-215">Para recuperar la acción que se debe especificar para el **PollingAction** propiedad de enlace en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="73133-215">To retrieve the action you must specify for the **PollingAction** binding property at run-time.</span></span>  

     <span data-ttu-id="73133-216">Debe usar el esquema para la operación de salida para obtener el mensaje de solicitud debe especificar como parte de la **PollingInput** enlaza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="73133-216">You must use the schema for the outbound operation to get the request message you must specify as part of the **PollingInput** binding property.</span></span>  

## <a name="setting-up-the-orchestration"></a><span data-ttu-id="73133-217">Configuración de la orquestación</span><span class="sxs-lookup"><span data-stu-id="73133-217">Setting up the Orchestration</span></span>  
 <span data-ttu-id="73133-218">Debe crear una orquestación de BizTalk para utilizar [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] para recibir mensajes de cambio de datos basados en sondeos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-218">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving polling-based data-change messages from Oracle.</span></span> <span data-ttu-id="73133-219">En esta orquestación, el adaptador recibe la respuesta al ejecutar el procedimiento almacenado para el que especifica el mensaje de solicitud como parte de la **PollingInput** enlaza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="73133-219">In this orchestration, the adapter receives the response by executing the stored procedure for which you specified the request message as part of the **PollingInput** binding property.</span></span> <span data-ttu-id="73133-220">El mensaje de respuesta para el procedimiento almacenado se guarda en una ubicación de archivo.</span><span class="sxs-lookup"><span data-stu-id="73133-220">The response message for the stored procedure is saved to a FILE location.</span></span> <span data-ttu-id="73133-221">Contendría una orquestación típica para el sondeo de base de datos de Oracle:</span><span class="sxs-lookup"><span data-stu-id="73133-221">A typical orchestration for polling Oracle database would contain:</span></span>  

- <span data-ttu-id="73133-222">Recepción y envío formas para recibir mensajes de Oracle y enviar a un puerto de archivo, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="73133-222">Receive and Send shapes to receive messages from Oracle and send to a FILE port, respectively.</span></span>  

- <span data-ttu-id="73133-223">Puerto para recibir mensajes de la base de datos de Oracle de recepción unidireccional.</span><span class="sxs-lookup"><span data-stu-id="73133-223">A one-way receive port to receive messages from Oracle database.</span></span>  

  > [!IMPORTANT]
  >  <span data-ttu-id="73133-224">Para escenarios de sondeo de entrada siempre debe configurar un puerto de recepción unidireccional.</span><span class="sxs-lookup"><span data-stu-id="73133-224">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="73133-225">Bidireccional recibir los puertos no se admiten operaciones de entrada.</span><span class="sxs-lookup"><span data-stu-id="73133-225">Two-way receive ports are not supported for inbound operations.</span></span>  

- <span data-ttu-id="73133-226">Un puerto de envío unidireccional para enviar respuestas de sondeo de base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-226">A one-way send port to send polling responses from Oracle database.</span></span>  

  <span data-ttu-id="73133-227">Una orquestación de ejemplo es similar al siguiente.</span><span class="sxs-lookup"><span data-stu-id="73133-227">A sample orchestration resembles the following.</span></span>  

  <span data-ttu-id="73133-228">![Orquestación para una consulta de sondeo para Oracle](../../adapters-and-accelerators/adapter-oracle-database/media/6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3.gif "6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3")</span><span class="sxs-lookup"><span data-stu-id="73133-228">![Orchestration for a polling query for Oracle](../../adapters-and-accelerators/adapter-oracle-database/media/6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3.gif "6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3")</span></span>  

### <a name="adding-message-shapes"></a><span data-ttu-id="73133-229">Agregar formas de mensaje</span><span class="sxs-lookup"><span data-stu-id="73133-229">Adding Message Shapes</span></span>  
 <span data-ttu-id="73133-230">Asegúrese de que especificar las siguientes propiedades para cada una de las formas de mensaje.</span><span class="sxs-lookup"><span data-stu-id="73133-230">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="73133-231">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación simplemente mencionadas.</span><span class="sxs-lookup"><span data-stu-id="73133-231">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  

|<span data-ttu-id="73133-232">Forma</span><span class="sxs-lookup"><span data-stu-id="73133-232">Shape</span></span>|<span data-ttu-id="73133-233">Tipo de forma</span><span class="sxs-lookup"><span data-stu-id="73133-233">Shape Type</span></span>|<span data-ttu-id="73133-234">Propiedades</span><span class="sxs-lookup"><span data-stu-id="73133-234">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="73133-235">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="73133-235">ReceiveMessage</span></span>|<span data-ttu-id="73133-236">Receive</span><span class="sxs-lookup"><span data-stu-id="73133-236">Receive</span></span>|<span data-ttu-id="73133-237">-Establecer **nombre** a *ReceiveMessage*</span><span class="sxs-lookup"><span data-stu-id="73133-237">- Set **Name** to *ReceiveMessage*</span></span><br /><br /> <span data-ttu-id="73133-238">-Establecer **activar** a *True*</span><span class="sxs-lookup"><span data-stu-id="73133-238">- Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="73133-239">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="73133-239">SaveMessage</span></span>|<span data-ttu-id="73133-240">Send</span><span class="sxs-lookup"><span data-stu-id="73133-240">Send</span></span>|<span data-ttu-id="73133-241">-Establecer **nombre** a *SaveMessage*</span><span class="sxs-lookup"><span data-stu-id="73133-241">- Set **Name** to *SaveMessage*</span></span>|  

### <a name="adding-ports"></a><span data-ttu-id="73133-242">Agregar puertos</span><span class="sxs-lookup"><span data-stu-id="73133-242">Adding Ports</span></span>  
 <span data-ttu-id="73133-243">Asegúrese de que especificar las siguientes propiedades para cada uno de los puertos lógicos.</span><span class="sxs-lookup"><span data-stu-id="73133-243">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="73133-244">Los nombres que aparecen en la columna puerto son los nombres de los puertos tal como se muestra en la orquestación.</span><span class="sxs-lookup"><span data-stu-id="73133-244">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  

|<span data-ttu-id="73133-245">Puerto</span><span class="sxs-lookup"><span data-stu-id="73133-245">Port</span></span>|<span data-ttu-id="73133-246">Propiedades</span><span class="sxs-lookup"><span data-stu-id="73133-246">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="73133-247">OracleReceivePort</span><span class="sxs-lookup"><span data-stu-id="73133-247">OracleReceivePort</span></span>|<span data-ttu-id="73133-248">-Establecer **identificador** a *OracleReceivePort*</span><span class="sxs-lookup"><span data-stu-id="73133-248">- Set **Identifier** to *OracleReceivePort*</span></span><br /><br /> <span data-ttu-id="73133-249">-Establecer **tipo** a *OracleReceivePortType*</span><span class="sxs-lookup"><span data-stu-id="73133-249">- Set **Type** to *OracleReceivePortType*</span></span><br /><br /> <span data-ttu-id="73133-250">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="73133-250">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="73133-251">-Establecer **dirección de comunicación** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="73133-251">- Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="73133-252">SaveMessagePort</span><span class="sxs-lookup"><span data-stu-id="73133-252">SaveMessagePort</span></span>|<span data-ttu-id="73133-253">-Establecer **identificador** a *SaveMessagePort*</span><span class="sxs-lookup"><span data-stu-id="73133-253">- Set **Identifier** to *SaveMessagePort*</span></span><br /><br /> <span data-ttu-id="73133-254">-Establecer **tipo** a *SaveMessagePortType*</span><span class="sxs-lookup"><span data-stu-id="73133-254">- Set **Type** to *SaveMessagePortType*</span></span><br /><br /> <span data-ttu-id="73133-255">-Establecer **patrón de comunicación** a *unidireccional*</span><span class="sxs-lookup"><span data-stu-id="73133-255">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="73133-256">-Establecer **dirección de comunicación** a *enviar*</span><span class="sxs-lookup"><span data-stu-id="73133-256">- Set **Communication Direction** to *Send*</span></span>|  

### <a name="specify-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="73133-257">Especifique los mensajes para las formas Acción y conectar a los puertos</span><span class="sxs-lookup"><span data-stu-id="73133-257">Specify Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="73133-258">En la tabla siguiente especifica las propiedades y sus valores que se deben establecer para especificar los mensajes para las formas Acción y vincular los mensajes a los puertos.</span><span class="sxs-lookup"><span data-stu-id="73133-258">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="73133-259">Los nombres que aparecen en la columna de forma son los nombres de las formas de mensaje como se muestra en la orquestación que se ha mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="73133-259">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  

|<span data-ttu-id="73133-260">Forma</span><span class="sxs-lookup"><span data-stu-id="73133-260">Shape</span></span>|<span data-ttu-id="73133-261">Propiedades</span><span class="sxs-lookup"><span data-stu-id="73133-261">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="73133-262">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="73133-262">ReceiveMessage</span></span>|<span data-ttu-id="73133-263">-Establecer **mensaje** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="73133-263">- Set **Message** to *Receive*</span></span><br /><br /> <span data-ttu-id="73133-264">-Establecer **operación** a *OracleReceivePort.Polling.Request*</span><span class="sxs-lookup"><span data-stu-id="73133-264">- Set **Operation** to *OracleReceivePort.Polling.Request*</span></span>|  
|<span data-ttu-id="73133-265">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="73133-265">SaveMessage</span></span>|<span data-ttu-id="73133-266">-Establecer **mensaje** a *de recepción*</span><span class="sxs-lookup"><span data-stu-id="73133-266">- Set **Message** to *Receive*</span></span><br /><br /> <span data-ttu-id="73133-267">-Establecer **operación** a *SaveMessagePort.Polling.Request*</span><span class="sxs-lookup"><span data-stu-id="73133-267">- Set **Operation** to *SaveMessagePort.Polling.Request*</span></span>|  

 <span data-ttu-id="73133-268">Después de especificar estas propiedades, están conectados a los puertos y formas de mensaje y se completa la orquestación.</span><span class="sxs-lookup"><span data-stu-id="73133-268">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  

 <span data-ttu-id="73133-269">Ahora debe compilar la solución de BizTalk e implementarla en un [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="73133-269">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="73133-270">Para obtener más información, consulte [compilar y ejecutar orquestaciones](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="73133-270">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>

## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="73133-271">Configuración de la aplicación de BizTalk</span><span class="sxs-lookup"><span data-stu-id="73133-271">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="73133-272">Después de haber implementado el proyecto de BizTalk, aparece la orquestación que creó anteriormente en el **orquestaciones** panel en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="73133-272">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="73133-273">Debe usar la consola de administración de BizTalk Server para configurar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="73133-273">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="73133-274">Para ver un tutorial, vea [Tutorial: implementar una aplicación básica de BizTalk](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span><span class="sxs-lookup"><span data-stu-id="73133-274">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>

 <span data-ttu-id="73133-275">Configuración de una aplicación implica:</span><span class="sxs-lookup"><span data-stu-id="73133-275">Configuring an application involves:</span></span>  

- <span data-ttu-id="73133-276">Selección de un host de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="73133-276">Selecting a host for the application.</span></span>  

- <span data-ttu-id="73133-277">Asignación de los puertos que ha creado en la orquestación con puertos físicos en la consola de administración de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="73133-277">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="73133-278">Para esta orquestación, debe:</span><span class="sxs-lookup"><span data-stu-id="73133-278">For this orchestration you must:</span></span>  

  - <span data-ttu-id="73133-279">Definir una ubicación en el disco duro y un puerto de archivo correspondiente donde la orquestación de BizTalk quitará los mensajes de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-279">Define a location on the hard disk and a corresponding FILE port where the BizTalk orchestration will drop the messages from Oracle.</span></span> <span data-ttu-id="73133-280">Estos mensajes serán en respuesta a la instrucción de sondeo que especifique para el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="73133-280">These messages will be in response to the polling statement that you specify for the receive port.</span></span>  

  - <span data-ttu-id="73133-281">Definir un WCF-Custom físico o puerto de recepción WCF-OracleEBS unidireccionales.</span><span class="sxs-lookup"><span data-stu-id="73133-281">Define a physical WCF-Custom or WCF-OracleEBS one-way receive port.</span></span> <span data-ttu-id="73133-282">Este puerto sondea la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-282">This port polls the Oracle database.</span></span> <span data-ttu-id="73133-283">Para obtener información sobre cómo crear puertos de recepción, vea [configurar manualmente un enlace de puerto físico al adaptador de Oracle E-Business](../../adapters-and-accelerators/adapter-oracle-ebs/manually-configure-a-physical-port-binding-to-the-oracle-e-business-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="73133-283">For information about how to create receive ports, see [Manually Configure a Physical Port Binding to the Oracle E-Business Adapter](../../adapters-and-accelerators/adapter-oracle-ebs/manually-configure-a-physical-port-binding-to-the-oracle-e-business-adapter.md).</span></span> <span data-ttu-id="73133-284">Asegúrese de que especificar las siguientes propiedades de enlace para el puerto de recepción.</span><span class="sxs-lookup"><span data-stu-id="73133-284">Make sure you specify the following binding properties for the receive port.</span></span>  


    |         <span data-ttu-id="73133-285">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="73133-285">Binding Property</span></span>         |                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="73133-286">Valor</span><span class="sxs-lookup"><span data-stu-id="73133-286">Value</span></span>                                                                                                                                                                                                                                                                                                                                                   |
    |----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    |     <span data-ttu-id="73133-287">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="73133-287">**InboundOperationType**</span></span>     |                                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="73133-288">Establezca esta opción en **sondeo**.</span><span class="sxs-lookup"><span data-stu-id="73133-288">Set this to **Polling**.</span></span>                                                                                                                                                                                                                                                                                                                                         |
    | <span data-ttu-id="73133-289">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="73133-289">**PolledDataAvailableStatement**</span></span> |                                                                                                                                                                                                                                    <span data-ttu-id="73133-290">En este ejemplo, establezca esta propiedad de enlace en:</span><span class="sxs-lookup"><span data-stu-id="73133-290">For this example, set this binding property to:</span></span><br /><br /> `SELECT COUNT (*) FROM ACCOUNTACTIVITY`<br /><br /> <span data-ttu-id="73133-291">Esto garantiza que el adaptador ejecuta la instrucción de sondeo solo cuando la tabla ACCOUNTACTIVITY tiene algunos registros.</span><span class="sxs-lookup"><span data-stu-id="73133-291">This ensures that the adapter executes the polling statement only when the ACCOUNTACTIVITY table has some records.</span></span>                                                                                                                                                                                                                                    |
    |        <span data-ttu-id="73133-292">**PollingAction**</span><span class="sxs-lookup"><span data-stu-id="73133-292">**PollingAction**</span></span>         |                                                                                                                                                                                                                                           <span data-ttu-id="73133-293">Recuperar la acción de sondeo desde el esquema generado para el mensaje entrante para el procedimiento GET_ACTIVITYS.</span><span class="sxs-lookup"><span data-stu-id="73133-293">Retrieve the polling action from the schema generated for the inbound message for the GET_ACTIVITYS procedure.</span></span> <span data-ttu-id="73133-294">En este ejemplo, establezca esta propiedad de enlace en **PollingPackageApis/aplicaciones/ACCOUNT_PKG/GET_ACTIVITYS**.</span><span class="sxs-lookup"><span data-stu-id="73133-294">For this example, set this binding property to **PollingPackageApis/APPS/ACCOUNT_PKG/GET_ACTIVITYS**.</span></span>                                                                                                                                                                                                                                           |
    |         <span data-ttu-id="73133-295">**PollingInput**</span><span class="sxs-lookup"><span data-stu-id="73133-295">**PollingInput**</span></span>         | <span data-ttu-id="73133-296">Para esta propiedad de enlace, especifique el mensaje de solicitud para invocar el GET_ACTIVITYS procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="73133-296">For this binding property, specify the request message to invoke the GET_ACTIVITYS stored procedure.</span></span> <span data-ttu-id="73133-297">Puede obtener el mensaje de solicitud del esquema para la operación de salida generado por el [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="73133-297">You can get the request message from the schema for the outbound operation generated by the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="73133-298">Debe proporcionar todo el mensaje XML como entrada para esta propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="73133-298">You must provide the entire XML message as an input for this binding property.</span></span> <span data-ttu-id="73133-299">En este ejemplo, establezca esta propiedad de enlace en:</span><span class="sxs-lookup"><span data-stu-id="73133-299">For this example, set this binding property to:</span></span><br /><br /> `<GET_ACTIVITYS xmlns="http://schemas.microsoft.com/OracleEBS/2008/05/PackageApis/APPS/ACCOUNT_PKG">   <INRECS>OPEN ? FOR SELECT * FROM ACCOUNTACTIVITY</INRECS> </GET_ACTIVITYS>`<br /><br /> <span data-ttu-id="73133-300">El GET_ACTIVITYS procedimiento almacenado toma una entrada de REF CURSOR como parámetro.</span><span class="sxs-lookup"><span data-stu-id="73133-300">The GET_ACTIVITYS stored procedure takes an input REF CURSOR as parameter.</span></span> |
    |      <span data-ttu-id="73133-301">**PostPollStatement**</span><span class="sxs-lookup"><span data-stu-id="73133-301">**PostPollStatement**</span></span>       |                                                                                                                                                                                                                                                  <span data-ttu-id="73133-302">Especifique la instrucción posterior a la encuesta para mover todos los datos de tabla ACCOUNTACTIVITY a otra tabla.</span><span class="sxs-lookup"><span data-stu-id="73133-302">Specify the post-poll statement to move all data from ACCOUNTACTIVITY table to another table.</span></span> <span data-ttu-id="73133-303">En este ejemplo, establezca esta propiedad de enlace en:</span><span class="sxs-lookup"><span data-stu-id="73133-303">For this example, set this binding property to:</span></span><br /><br /> `BEGIN ACCOUNT_PKG.PROCESS_ACTIVITY(); END;`                                                                                                                                                                                                                                                  |

     <span data-ttu-id="73133-304">Para obtener más información acerca de las propiedades de enlace diferente, consulte [Obtenga información sobre el adaptador de BizTalk para propiedades de enlace de Oracle E-Business Suite](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="73133-304">For more information about the different binding properties, see [Read about the BizTalk Adapter for Oracle E-Business Suite Binding Properties](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span></span>  

    > [!IMPORTANT]
    >  <span data-ttu-id="73133-305">Si se sondear una tabla de interfaz, debe establecer el contexto de la aplicación mediante la especificación de las propiedades de enlace necesaria.</span><span class="sxs-lookup"><span data-stu-id="73133-305">If you are polling an interface table, you must set the application context by specifying the requisite binding properties.</span></span> <span data-ttu-id="73133-306">Para obtener más información acerca de cómo establecer el contexto de la aplicación vea [establecer contexto de la aplicación](../../adapters-and-accelerators/adapter-oracle-ebs/set-application-context.md).</span><span class="sxs-lookup"><span data-stu-id="73133-306">For more information about setting the application context see [Set Application Context](../../adapters-and-accelerators/adapter-oracle-ebs/set-application-context.md).</span></span>  
    > 
    > [!NOTE]
    >  <span data-ttu-id="73133-307">Se recomienda configurar el nivel de aislamiento de transacción y el tiempo de espera de transacción al realizar operaciones de entrada mediante el [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="73133-307">We recommend configuring the transaction isolation level and the transaction timeout while performing inbound operations using the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span> <span data-ttu-id="73133-308">Puede hacerlo agregando el comportamiento del servicio durante la configuración personalizada de WCF o puerto de recepción WCF-OracleEBS.</span><span class="sxs-lookup"><span data-stu-id="73133-308">You can do so by adding the service behavior while configuring the WCF-Custom or WCF-OracleEBS receive port.</span></span> <span data-ttu-id="73133-309">Para obtener instrucciones sobre cómo agregar el comportamiento del servicio, consulte [configurar el nivel de aislamiento de transacción y el tiempo de espera de transacción con Oracle E-Business Suite](../../adapters-and-accelerators/adapter-oracle-ebs/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-ebs.md).</span><span class="sxs-lookup"><span data-stu-id="73133-309">For instruction on how to add the service behavior, see [Configure Transaction Isolation Level and Transaction Timeout with Oracle E-Business Suite](../../adapters-and-accelerators/adapter-oracle-ebs/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-ebs.md).</span></span>  

## <a name="starting-the-application"></a><span data-ttu-id="73133-310">Iniciar la aplicación</span><span class="sxs-lookup"><span data-stu-id="73133-310">Starting the Application</span></span>  
 <span data-ttu-id="73133-311">Debe iniciar la aplicación de BizTalk para el sondeo de base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="73133-311">You must start the BizTalk application for polling Oracle database.</span></span> <span data-ttu-id="73133-312">Para obtener instrucciones acerca de cómo iniciar una aplicación de BizTalk, consulte [cómo iniciar una orquestación](../../core/how-to-start-an-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="73133-312">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>

 <span data-ttu-id="73133-313">En esta etapa, asegúrese de que:</span><span class="sxs-lookup"><span data-stu-id="73133-313">At this stage, make sure:</span></span>  

-   <span data-ttu-id="73133-314">El WCF-Custom o WCF-OracleEBS unidireccional puerto de recepción, que realiza un sondeo Oracle mediante el procedimiento almacenado especificado para el **PollingInput** enlaza la propiedad, se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="73133-314">The WCF-Custom or WCF-OracleEBS one-way receive port, which polls Oracle using the stored procedure specified for the **PollingInput** binding property, is running.</span></span>  

-   <span data-ttu-id="73133-315">El puerto de envío de archivo que recibe los mensajes de base de datos de Oracle, se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="73133-315">The FILE send port, which receives messages from Oracle database, is running.</span></span>  

-   <span data-ttu-id="73133-316">La orquestación de BizTalk para la operación se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="73133-316">The BizTalk orchestration for the operation is running.</span></span>  

## <a name="executing-the-operation"></a><span data-ttu-id="73133-317">Ejecutar la operación</span><span class="sxs-lookup"><span data-stu-id="73133-317">Executing the Operation</span></span>  
 <span data-ttu-id="73133-318">Después de ejecutar la aplicación, el siguiente conjunto de acciones tienen lugar, en la misma secuencia:</span><span class="sxs-lookup"><span data-stu-id="73133-318">After you run the application, the following set of actions take place, in the same sequence:</span></span>  

-   <span data-ttu-id="73133-319">El adaptador se ejecuta el **PolledDataAvailableStatement** que devuelve un valor positivo que indica el adaptador para ejecutar la instrucción especificada para **PollingInput** enlaza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="73133-319">The adapter executes the **PolledDataAvailableStatement** which returns a positive value indicating the adapter to execute the statement specified for **PollingInput** binding property.</span></span>  

-   <span data-ttu-id="73133-320">El adaptador ejecuta el procedimiento almacenado de GET_ACTIVITYS especificado para el **PollingInput** enlace de propiedad y devuelve todas las filas en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="73133-320">The adapter executes the GET_ACTIVITYS stored procedure specified for the **PollingInput** binding property and returns all the rows in the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="73133-321">La respuesta de la base de datos de Oracle es similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="73133-321">The response from Oracle database resembles the following:</span></span>  

    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <GET_ACTIVITYS xmlns="http://schemas.microsoft.com/OracleEBS/2008/05/PollingPackageApis/APPS/ACCOUNT_PKG">  
      <OUTRECS>  
        <OUTRECSRecord xmlns="http://schemas.microsoft.com/OracleEBS/2008/05/ReferencedRecordTypes/APPS/ACCOUNT_PKG/GET_ACTIVITYS/APPS/GET_ACTIVITYS">  
          <TID>1</TID>   
          <ACCOUNT>100001</ACCOUNT>   
          <AMOUNT>500</AMOUNT>   
          <DESCRIPTION />   
          <TRANSDATE>2008-06-21T15:52:19</TRANSDATE>   
          <PROCESSED>n</PROCESSED>   
        </OUTRECSRecord>  
        <OUTRECSRecord xmlns="http://schemas.microsoft.com/OracleEBS/2008/05/ReferencedRecordTypes/APPS/ACCOUNT_PKG/GET_ACTIVITYS/APPS/GET_ACTIVITYS">  
          ......  
          ......   
        </OUTRECSRecord>  
        ......  
        ......  
      </OUTRECS>  
    </GET_ACTIVITYS>  
    ```  

-   <span data-ttu-id="73133-322">El adaptador ejecuta la instrucción posterior a la encuesta, que mueve todos los datos de tabla ACCOUNTACTIVITY a otra tabla.</span><span class="sxs-lookup"><span data-stu-id="73133-322">The adapter executes the post-poll statement, which moves all the data from ACCOUNTACTIVITY table to another table.</span></span>  

-   <span data-ttu-id="73133-323">Después del intervalo de sondeo, el adaptador ejecuta nuevo **PolledDataAvailableStatement**.</span><span class="sxs-lookup"><span data-stu-id="73133-323">After the polling interval, the adapter again executes **PolledDataAvailableStatement**.</span></span> <span data-ttu-id="73133-324">Porque la tabla ACCOUNTACTIVITY no tiene ningún registro ahora, **PolledDataAvailableStatement** no devuelve un valor positivo y, por tanto, el adaptador no ejecuta la instrucción especificada para el **PollingInput** propiedad de enlace.</span><span class="sxs-lookup"><span data-stu-id="73133-324">Because ACCOUNTACTIVITY table has no records now, **PolledDataAvailableStatement** does not return a positive value and hence the adapter does not execute the statement specified for the **PollingInput** binding property.</span></span> <span data-ttu-id="73133-325">Como resultado, el cliente del adaptador no obtener cualquier mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="73133-325">As a result, adapter client does not get any polling message.</span></span>  

-   <span data-ttu-id="73133-326">El cliente de adaptador no reciba más mensajes de sondeo hasta que explícitamente se insertan algunos registros en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="73133-326">The adapter client will not get any more polling messages until some records are explicitly inserted into the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="73133-327">Para insertar más registros, puede ejecutar el script de more_activity_data.sql proporcionado con los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="73133-327">To insert more records, you can run the more_activity_data.sql script provided with the samples.</span></span> <span data-ttu-id="73133-328">Después de ejecutar este script, la próxima vez **PolledDataAvailableStatement** es ejecuta, devuelve un valor positivo.</span><span class="sxs-lookup"><span data-stu-id="73133-328">After you run this script, the next time **PolledDataAvailableStatement** is executed, it returns a positive value.</span></span> <span data-ttu-id="73133-329">Como resultado, el adaptador ejecuta la instrucción de sondeo y los clientes del adaptador volverá a reciben un mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="73133-329">As a result, the adapter executes the polling statement and adapter clients again receive a polling message.</span></span>  

> [!NOTE]
>  <span data-ttu-id="73133-330">El [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] seguirá sondeando hasta que deshabilite explícitamente el puerto de recepción desde el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración.</span><span class="sxs-lookup"><span data-stu-id="73133-330">The [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] will continue to poll until you explicitly disable the receive port from the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  

## <a name="best-practices"></a><span data-ttu-id="73133-331">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="73133-331">Best Practices</span></span>  
 <span data-ttu-id="73133-332">Una vez que haya implementado y configurado el proyecto de BizTalk, puede exportar opciones de configuración a un archivo XML llamado el archivo de enlaces.</span><span class="sxs-lookup"><span data-stu-id="73133-332">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the bindings file.</span></span> <span data-ttu-id="73133-333">Cuando genere un archivo de enlaces, puede importar los valores de configuración desde el archivo, por lo que no es necesario crear los puertos de envío y recepción para la misma orquestación.</span><span class="sxs-lookup"><span data-stu-id="73133-333">Once you generate a bindings file, you can import the configuration settings from the file so that you do not need to create the send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="73133-334">Para obtener más información acerca de los archivos de enlace, consulte [reutilizar enlaces del adaptador SQL](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="73133-334">For more information about binding files, see [Reuse SQL Adapter Bindings](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span></span>  

## <a name="see-also"></a><span data-ttu-id="73133-335">Vea también</span><span class="sxs-lookup"><span data-stu-id="73133-335">See Also</span></span>  
 [<span data-ttu-id="73133-336">Sondear Oracle E-Business Suite con BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="73133-336">Poll Oracle E-Business Suite Using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-oracle-ebs/poll-oracle-e-business-suite-using-biztalk-server.md)