---
title: Cambio de base de datos de Oracle E-Business Suite de recibir notificaciones en varias ubicaciones de recepción | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d25faa52-e0a4-4593-8449-3ec93d5887e9
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 78e72333fa88a23b95d05eb75df8d132c4d0d77a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36975437"
---
# <a name="receive-oracle-e-business-suite-database-change-notifications-on-multiple-receive-locations"></a><span data-ttu-id="e9e53-102">Cambio de base de datos de Oracle E-Business Suite de recibir notificaciones en varias ubicaciones de recepción</span><span class="sxs-lookup"><span data-stu-id="e9e53-102">Receive Oracle E-Business Suite database change notifications on multiple receive locations</span></span>
<span data-ttu-id="e9e53-103">Considere un escenario donde tiene varios creadas como parte de las aplicaciones de BizTalk diferentes configurados para recibir notificaciones de consulta para la misma tabla (por ejemplo, ACCOUNTACTIVITY) de las ubicaciones de recepción en la misma base de datos.</span><span class="sxs-lookup"><span data-stu-id="e9e53-103">Consider a scenario where you have multiple receive locations created as part of different BizTalk applications configured to receive query notifications for the same table (e.g. ACCOUNTACTIVITY) in the same database.</span></span> <span data-ttu-id="e9e53-104">Si se insertan registros de un centenar en la misma tabla, todas las ubicaciones de recepción obtendrá el mensaje de notificación.</span><span class="sxs-lookup"><span data-stu-id="e9e53-104">If a hundred records are inserted into the same table, all the receive locations will get the notification message.</span></span> <span data-ttu-id="e9e53-105">Para recibir notificaciones a través de forma eficaz varias ubicaciones de recepción, puede llamar a operaciones de la aplicación de BizTalk de tal manera que si se recibe una notificación por una ubicación de recepción, la otra ubicación de recepción no obtener la misma notificación.</span><span class="sxs-lookup"><span data-stu-id="e9e53-105">To effectively receive notifications across multiple receive locations, you can call operations from your BizTalk application in such a way that if a notification is received by one receive location, the other receive location does not get the same notification.</span></span> <span data-ttu-id="e9e53-106">Por lo tanto, puede eficazmente las notificaciones de equilibrio de carga que recibe en varias ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="e9e53-106">So, you can effectively load-balance notifications received on multiple locations.</span></span>  

 <span data-ttu-id="e9e53-107">Las tareas necesarias para configurar una orquestación para recibir notificaciones de equilibrio de carga son los mismas que para [recibir Oracle E-Business Suite cambio las notificaciones de forma incremental mediante BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="e9e53-107">The tasks required to set up an orchestration to load-balance receiving notifications are same as that for [Receive Oracle E-Business Suite Change Notifications Incrementally Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md).</span></span> <span data-ttu-id="e9e53-108">Este tema enumeran la única diferencia entre los dos enfoques.</span><span class="sxs-lookup"><span data-stu-id="e9e53-108">This topic lists the only the difference between the two approaches.</span></span>  

## <a name="load-balancing-query-notifications-across-multiple-receive-locations"></a><span data-ttu-id="e9e53-109">Notificaciones de consulta de equilibrio de carga entre varias ubicaciones de recepción</span><span class="sxs-lookup"><span data-stu-id="e9e53-109">Load-Balancing Query Notifications Across Multiple Receive Locations</span></span>  
 <span data-ttu-id="e9e53-110">Al igual que en el tema [recibir Oracle E-Business Suite cambio las notificaciones de forma incremental mediante BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md), configurar notificaciones incrementales mediante la ejecución de un procedimiento PROCESS_RECORDS.</span><span class="sxs-lookup"><span data-stu-id="e9e53-110">Like in the topic [Receive Oracle E-Business Suite Change Notifications Incrementally Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md), you configured incremental notifications by executing a PROCESS_RECORDS procedure.</span></span> <span data-ttu-id="e9e53-111">Para configurar el equilibrio de carga, podría ejecutar un procedimiento almacenado que elimina los registros que se ha notificado para.</span><span class="sxs-lookup"><span data-stu-id="e9e53-111">To configure load-balancing, you could execute a stored procedure that deletes the records that have been notified for.</span></span> <span data-ttu-id="e9e53-112">Por ejemplo, considere la posibilidad de un procedimiento almacenado NOTIFY_LOAD_BALANCE con la siguiente definición:</span><span class="sxs-lookup"><span data-stu-id="e9e53-112">For example, consider a stored procedure NOTIFY_LOAD_BALANCE with the following definition:</span></span>  

```  
PROCEDURE NOTIFY_LOAD_BALANCE (TABLE_DATA OUT SYS_REFCURSOR) IS  
  var int;  
BEGIN  
  SELECT TID INTO var FROM ACCOUNTACTIVITY WHERE ROWNUM = 1 FOR UPDATE;  
  OPEN TABLE_DATA FOR SELECT * FROM ACCOUNTACTIVITY WHERE TID = var;  
  DELETE FROM ACCOUNTACTIVITY WHERE TID = var;  
END NOTIFY_LOAD_BALANCE;  
```  

 <span data-ttu-id="e9e53-113">Al ejecutar este procedimiento almacenado como parte de la aplicación de BizTalk, se elimina el registro para el que ya se recibe la notificación.</span><span class="sxs-lookup"><span data-stu-id="e9e53-113">When you execute this stored procedure as part of the BizTalk application, the record for which notification is already received gets deleted.</span></span> <span data-ttu-id="e9e53-114">Por lo tanto, el otro recibirlas ubicación Obtiene el siguiente registro.</span><span class="sxs-lookup"><span data-stu-id="e9e53-114">So, the other receive location gets notification for the next record.</span></span>  

 <span data-ttu-id="e9e53-115">Estos son los pasos de alto nivel que debe realizar para configurar el equilibrio de carga para recibir notificaciones.</span><span class="sxs-lookup"><span data-stu-id="e9e53-115">Here are the high-level steps you must perform to configure load-balancing for receiving notifications.</span></span>  

1. <span data-ttu-id="e9e53-116">Crear el esquema para **notificación** (operación de entrada) y **NOTIFY_LOAD_BALANCE** procedimiento (operación saliente).</span><span class="sxs-lookup"><span data-stu-id="e9e53-116">Create schema for **Notification** (inbound operation) and **NOTIFY_LOAD_BALANCE** procedure (outbound operation).</span></span>  

2. <span data-ttu-id="e9e53-117">Agregue una orquestación y tres mensajes para recibir una notificación, ejecutando el procedimiento y obtener la respuesta para el procedimiento.</span><span class="sxs-lookup"><span data-stu-id="e9e53-117">Add an orchestration and add three messages for receiving notification, executing the procedure, and getting response for the procedure.</span></span>  

3. <span data-ttu-id="e9e53-118">Crear una orquestación mediante la adición de las formas envío y recepción, forma construir mensaje y puertos.</span><span class="sxs-lookup"><span data-stu-id="e9e53-118">Create an orchestration by adding Send and Receive shapes, Construct Message shape, and ports.</span></span> <span data-ttu-id="e9e53-119">Puede usar el mismo código de ejemplo para construir un mensaje para invocar el procedimiento almacenado de NOTIFY_LOAD_BALANCE.</span><span class="sxs-lookup"><span data-stu-id="e9e53-119">You can use the same sample code for constructing a message to invoke the NOTIFY_LOAD_BALANCE stored procedure.</span></span> <span data-ttu-id="e9e53-120">Tenga en cuenta que al realizar la operación en [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración, debe tener el mensaje de solicitud para el procedimiento NOTIFY_LOAD_BALANCE en la ubicación C:\TestLocation\MessageIn.</span><span class="sxs-lookup"><span data-stu-id="e9e53-120">Note that while performing the operation in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console, you must have the request message for the NOTIFY_LOAD_BALANCE procedure in the location C:\TestLocation\MessageIn.</span></span> <span data-ttu-id="e9e53-121">Hacerlo porque el fragmento de código se invoca como parte de la orquestación creada en [recibir Oracle E-Business Suite cambio las notificaciones de forma incremental mediante BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md) crea un mensaje de solicitud en función de la solicitud XML está presente en C:\TestLocation\MessageIn.</span><span class="sxs-lookup"><span data-stu-id="e9e53-121">You do so because the code snippet you invoke as part of the orchestration created in [Receive Oracle E-Business Suite Change Notifications Incrementally Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md) creates a request message based on the request XML present in C:\TestLocation\MessageIn.</span></span>  

4. <span data-ttu-id="e9e53-122">Compile e implemente la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e9e53-122">Build and deploy the application.</span></span> <span data-ttu-id="e9e53-123">Para demostrar el equilibrio de carga, debe implementar esta orquestación al menos en dos equipos diferentes que tienen [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] y [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] instalado.</span><span class="sxs-lookup"><span data-stu-id="e9e53-123">To demonstrate load-balancing, you must deploy this orchestration at least on two different computers that have [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] installed.</span></span>  

5. <span data-ttu-id="e9e53-124">En el [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] consola de administración en los equipos, especifique las siguientes propiedades de enlace para el WCF-Custom o WCF-OracleEBS de ubicación de recepción:</span><span class="sxs-lookup"><span data-stu-id="e9e53-124">In the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console on both the computers, specify the following binding properties for the WCF-Custom or WCF-OracleEBS receive location:</span></span>  


   |     <span data-ttu-id="e9e53-125">Propiedad de enlace</span><span class="sxs-lookup"><span data-stu-id="e9e53-125">Binding Property</span></span>      |                                                                                                                                                                                                                                                                         <span data-ttu-id="e9e53-126">Valor</span><span class="sxs-lookup"><span data-stu-id="e9e53-126">Value</span></span>                                                                                                                                                                                                                                                                         |
   |---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="e9e53-127">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="e9e53-127">**InboundOperationType**</span></span>  |                                                                                                                                                                                                                                                             <span data-ttu-id="e9e53-128">Establezca esta opción en **notificación**.</span><span class="sxs-lookup"><span data-stu-id="e9e53-128">Set this to **Notification**.</span></span>                                                                                                                                                                                                                                                             |
   |   <span data-ttu-id="e9e53-129">**NotificationPort**</span><span class="sxs-lookup"><span data-stu-id="e9e53-129">**NotificationPort**</span></span>    | <span data-ttu-id="e9e53-130">Especifica el número de puerto que debe abrir ODP.NET para realizar escuchas para la notificación de cambio de base de datos de base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="e9e53-130">Specifies the port number that ODP.NET must open to listen for database change notification from Oracle database.</span></span> <span data-ttu-id="e9e53-131">Establezca esta opción en el mismo número de puerto que debe haber agregado a la lista de excepciones de Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="e9e53-131">Set this to the same port number that you must have added to the Windows Firewall exceptions list.</span></span> <span data-ttu-id="e9e53-132">Para obtener instrucciones sobre cómo agregar puertos a la lista de excepciones de Firewall de Windows, consulte [ http://go.microsoft.com/fwlink/?LinkID=196959 ](http://go.microsoft.com/fwlink/?LinkID=196959).</span><span class="sxs-lookup"><span data-stu-id="e9e53-132">For instructions on how to add ports to Windows Firewall exceptions list, see [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959).</span></span> <span data-ttu-id="e9e53-133">**Importante:** si se establece en el valor predeterminado de -1, tendrá que deshabilitar completamente el Firewall de Windows para recibir mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="e9e53-133">**Important:**  If you set this to the default value of -1, you will have to completely disable Windows Firewall to receive notification messages.</span></span> |
   | <span data-ttu-id="e9e53-134">**NotificationStatement**</span><span class="sxs-lookup"><span data-stu-id="e9e53-134">**NotificationStatement**</span></span> |                                                                                                                                                                 <span data-ttu-id="e9e53-135">Establezca esta opción en:</span><span class="sxs-lookup"><span data-stu-id="e9e53-135">Set this to:</span></span><br /><br /> <span data-ttu-id="e9e53-136">`SELECT TID,ACCOUNT,PROCESSED FROM SCOTT.ACCOUNTACTIVITY WHERE PROCESSED = ‘n’` **Nota:** debe especificar el nombre de tabla, junto con el nombre del esquema.</span><span class="sxs-lookup"><span data-stu-id="e9e53-136">`SELECT TID,ACCOUNT,PROCESSED FROM SCOTT.ACCOUNTACTIVITY WHERE PROCESSED = ‘n’` **Note:**  You must specify the table name along with the schema name.</span></span> <span data-ttu-id="e9e53-137">Por ejemplo, `SCOTT.ACCOUNTACTIVITY`.</span><span class="sxs-lookup"><span data-stu-id="e9e53-137">For example, `SCOTT.ACCOUNTACTIVITY`.</span></span>                                                                                                                                                                 |
   | <span data-ttu-id="e9e53-138">**NotifyOnListenerStart**</span><span class="sxs-lookup"><span data-stu-id="e9e53-138">**NotifyOnListenerStart**</span></span> |                                                                                                                                                                                                                                                                 <span data-ttu-id="e9e53-139">Establezca esta opción en **True**.</span><span class="sxs-lookup"><span data-stu-id="e9e53-139">Set this to **True**.</span></span>                                                                                                                                                                                                                                                                 |


6. <span data-ttu-id="e9e53-140">Inicie la aplicación de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="e9e53-140">Start the BizTalk application.</span></span>  

7. <span data-ttu-id="e9e53-141">Para empezar a recibir notificaciones, insertar cien registros en la tabla ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="e9e53-141">To start receiving notifications, insert a hundred records into the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="e9e53-142">Mientras lo hace, asegúrese de que la solicitud XML para invocar el procedimiento NOTIFY_LOAD_BALANCE está disponible en C:\TestLocation\MessageIn.</span><span class="sxs-lookup"><span data-stu-id="e9e53-142">While doing so, make sure the request XML for invoking the NOTIFY_LOAD_BALANCE procedure is available in C:\TestLocation\MessageIn.</span></span>  

8. <span data-ttu-id="e9e53-143">Supervisar la ubicación (en los equipos), donde la aplicación de BizTalk quitando los mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="e9e53-143">Monitor the location (on both the computers) where the BizTalk application will be dropping the notification messages.</span></span> <span data-ttu-id="e9e53-144">Observará que los registros cientos insertado, una ubicación obtiene notificaciones para algunos registros mientras la otra ubicación recibe una notificación para los registros restantes.</span><span class="sxs-lookup"><span data-stu-id="e9e53-144">You will notice that of the hundred records inserted, one location gets notifications for some records while the other location gets notification for the remaining records.</span></span> <span data-ttu-id="e9e53-145">Juntas, las ubicaciones recibirá notificación de todos los cientos registros.</span><span class="sxs-lookup"><span data-stu-id="e9e53-145">Together, both the locations will get notification for all the hundred records.</span></span>  

## <a name="see-also"></a><span data-ttu-id="e9e53-146">Vea también</span><span class="sxs-lookup"><span data-stu-id="e9e53-146">See Also</span></span>  
 [<span data-ttu-id="e9e53-147">Recibir notificaciones de cambio de base de datos Oracle E-Business Suite con BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="e9e53-147">Receive Oracle E-Business Suite Database Change Notifications Using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-database-change-notifications-using-biztalk-server.md)