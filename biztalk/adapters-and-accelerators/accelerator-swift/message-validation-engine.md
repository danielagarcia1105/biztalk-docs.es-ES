---
title: "Motor de validación de mensajes | Documentos de Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- message validation engine
- errors, validating
- XML validation
- parsing validation
- BRE policies, validating
- errors, messages
- messages, errors
- validating, messages
- validating, BRE policies
- validating, XML
- messages, validating
- validating, errors
- validating, parsing
ms.assetid: 4ba0b75e-665b-4771-b04f-5bc3e90d83f0
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: dbdcb375c04e4c9684b2a805c7a7a7315f46f83d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/20/2017
---
# <a name="message-validation-engine"></a><span data-ttu-id="d6f90-102">Motor de validación de mensajes</span><span class="sxs-lookup"><span data-stu-id="d6f90-102">Message Validation Engine</span></span>
<span data-ttu-id="d6f90-103">Una de las características más importantes proporcionadas por [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] es la capacidad para validar totalmente SWIFT mensajes recibidos de los sistemas back-end destinados a la red SWIFT o recibidos desde la red SWIFT (enviada por los socios comerciales).</span><span class="sxs-lookup"><span data-stu-id="d6f90-103">One of the most important features provided by [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] is the ability to fully validate SWIFT messages received from back-end systems destined for the SWIFT network, or received from the SWIFT network (sent by trading partners).</span></span> <span data-ttu-id="d6f90-104">Validar los mensajes salientes de SWIFT garantiza que los mensajes se ajustan a los estándares SWIFT y que la red SWIFT no rechazará los mensajes.</span><span class="sxs-lookup"><span data-stu-id="d6f90-104">Validating outbound SWIFT messages guarantees that the messages conform to SWIFT standards and that the SWIFT network will not reject the messages.</span></span>  
  
 <span data-ttu-id="d6f90-105">Validar los mensajes entrantes de SWIFT se asegura de que mensajes procedentes de otras entidades financieras siguen determinados contratos (reglas de negocios) específicos de la relación.</span><span class="sxs-lookup"><span data-stu-id="d6f90-105">Validating inbound SWIFT messages ensures that messages received from other financial institutions obey particular agreements (business rules) specific to the relationship.</span></span> <span data-ttu-id="d6f90-106">En ambos escenarios, la capacidad de validar y capturar errores antes de confirmar un mensaje ayuda a reducir los costes de transacción y el coste total de propiedad (TCO).</span><span class="sxs-lookup"><span data-stu-id="d6f90-106">In both scenarios, the ability to validate and trap errors before committing a message helps to reduce transaction costs and total cost of ownership (TCO).</span></span>  
  
 <span data-ttu-id="d6f90-107">En la lista siguiente se describe las cuatro partes que componen el motor de validación de A4SWIFT:</span><span class="sxs-lookup"><span data-stu-id="d6f90-107">The following list describes the four parts that make up the A4SWIFT validation engine:</span></span>  
  
-   <span data-ttu-id="d6f90-108">Validación estructural realizada por el analizador de archivos planos</span><span class="sxs-lookup"><span data-stu-id="d6f90-108">Structural validation performed by the flat file parser</span></span>  
  
-   <span data-ttu-id="d6f90-109">Validación de datos realizada por el lector de validación de XML</span><span class="sxs-lookup"><span data-stu-id="d6f90-109">Data validation performed by the XML validating reader</span></span>  
  
-   <span data-ttu-id="d6f90-110">SWIFT validación de regla de red y el uso realizado por el motor de reglas de negocios (BRE)</span><span class="sxs-lookup"><span data-stu-id="d6f90-110">SWIFT network and usage rule validation performed by the Business Rule Engine (BRE)</span></span>  
  
-   <span data-ttu-id="d6f90-111">Marcador de mensaje y "mejor esfuerzo" error al recopilar</span><span class="sxs-lookup"><span data-stu-id="d6f90-111">Message marking and "best effort" error collecting</span></span>  
  
## <a name="structural-validation-parsing"></a><span data-ttu-id="d6f90-112">Validación estructural (Analizar)</span><span class="sxs-lookup"><span data-stu-id="d6f90-112">Structural Validation (Parsing)</span></span>  
 <span data-ttu-id="d6f90-113">A4SWIFT analiza los mensajes de archivo sin formato SWIFT con esquemas XSD definidos para cada tipo de mensaje SWIFT según el estándar de SWIFT.</span><span class="sxs-lookup"><span data-stu-id="d6f90-113">A4SWIFT parses SWIFT flat file messages against XSD schemas defined for each SWIFT message type in accordance with the SWIFT standard.</span></span> <span data-ttu-id="d6f90-114">Análisis de un archivo sin formato en XML garantiza que el archivo sin formato es estructuralmente correcto.</span><span class="sxs-lookup"><span data-stu-id="d6f90-114">Parsing a flat file into XML guarantees that the flat file is structurally correct.</span></span> <span data-ttu-id="d6f90-115">Analizar también produce un XML que es más fácil de leer, manipular o transformar en otros formatos o tipos de mensaje.</span><span class="sxs-lookup"><span data-stu-id="d6f90-115">Parsing also produces XML that is easier to read, manipulate, or transform into other formats or message types.</span></span> <span data-ttu-id="d6f90-116">También puede validar el código XML con el esquema para la validez de los datos y usar el motor de reglas de negocios (BRE) para las evaluaciones más complejas.</span><span class="sxs-lookup"><span data-stu-id="d6f90-116">You can also validate the XML against schema for data validity and use the Business Rule Engine (BRE) for more complex evaluations.</span></span>  
  
 <span data-ttu-id="d6f90-117">El Desensamblador SWIFT, invoca el analizador de archivos sin formato de BizTalk para analizar los mensajes de archivo sin formato SWIFT invocados por el Desensamblador SWIFT.</span><span class="sxs-lookup"><span data-stu-id="d6f90-117">The SWIFT disassembler invokes the BizTalk flat file parser to parse SWIFT flat file messages invoked by the SWIFT disassembler.</span></span> <span data-ttu-id="d6f90-118">El Desensamblador SWIFT registra en una colección de errores de los detalles de los errores detectados durante el análisis y siempre intenta continuar con el análisis de los datos en un esfuerzo para recopilar errores estructurales tantos como sea posible en el primer paso.</span><span class="sxs-lookup"><span data-stu-id="d6f90-118">The SWIFT disassembler records in an error collection the details of any errors encountered during parsing, and always attempts to continue parsing the data in an effort to collect as many structural errors as possible on the first pass.</span></span> <span data-ttu-id="d6f90-119">Sin embargo, la mayoría de los errores de análisis son irrecuperables y detener el procesamiento de mensajes en el primer error.</span><span class="sxs-lookup"><span data-stu-id="d6f90-119">However, most parse errors are fatal and halt message processing at the first error.</span></span>  
  
 <span data-ttu-id="d6f90-120">Para obtener más información acerca de la validación estructural, consulte [trabajar con esquemas](../../adapters-and-accelerators/accelerator-swift/working-with-schemas.md).</span><span class="sxs-lookup"><span data-stu-id="d6f90-120">For more information about structural validation, see [Working with Schemas](../../adapters-and-accelerators/accelerator-swift/working-with-schemas.md).</span></span>  
  
## <a name="data-validation-xml-validation"></a><span data-ttu-id="d6f90-121">Validación de datos (validación de XML)</span><span class="sxs-lookup"><span data-stu-id="d6f90-121">Data Validation (XML Validation)</span></span>  
 <span data-ttu-id="d6f90-122">Se pueden definir mensajes SWIFT que superan la validación estructural como XML correcto que cumple las especificaciones que defina los esquemas XSD.</span><span class="sxs-lookup"><span data-stu-id="d6f90-122">You can define SWIFT messages that pass structural validation as well-formed XML conforming to defined XSD schemas.</span></span> <span data-ttu-id="d6f90-123">A4SWIFT produce un XML para los mensajes de SWIFT estructuralmente válidos durante la fase de análisis.</span><span class="sxs-lookup"><span data-stu-id="d6f90-123">A4SWIFT produces XML for structurally valid SWIFT messages during the parsing stage.</span></span> <span data-ttu-id="d6f90-124">A4SWIFT, a continuación, puede validar este XML es correcto de datos en función de las restricciones definidas en el esquema XSD correspondiente.</span><span class="sxs-lookup"><span data-stu-id="d6f90-124">A4SWIFT can then validate this XML for data correctness against constraints defined in the corresponding XSD schema.</span></span>  
  
 <span data-ttu-id="d6f90-125">Estas restricciones incluyen tipos de datos, la longitud y los intervalos de valores definidos de acuerdo con el estándar de SWIFT.</span><span class="sxs-lookup"><span data-stu-id="d6f90-125">These constraints include data typing, length, and value ranges defined in accordance with the SWIFT standard.</span></span> <span data-ttu-id="d6f90-126">El Desensamblador SWIFT, invoca el lector para llevar a cabo la validación de datos de validación de XML.</span><span class="sxs-lookup"><span data-stu-id="d6f90-126">The SWIFT disassembler invokes the XML validating reader to perform data validation.</span></span>  
  
 <span data-ttu-id="d6f90-127">El Desensamblador SWIFT registra en una colección de errores de los detalles de los errores encontrados durante la validación de XML y continúa la validación de los datos restantes para recopilar errores de validación XML tantos como sea posible en el primer paso.</span><span class="sxs-lookup"><span data-stu-id="d6f90-127">The SWIFT disassembler records in an error collection the details of any errors encountered during XML validation, and continues validating the remaining data to collect as many XML validation errors as possible on the first pass.</span></span> <span data-ttu-id="d6f90-128">(A diferencia de los análisis, se garantiza la continuación de la validación XML).</span><span class="sxs-lookup"><span data-stu-id="d6f90-128">(Unlike parsing, continuation of XML validation is guaranteed.)</span></span>  
  
 <span data-ttu-id="d6f90-129">Para obtener más información acerca de la validación de datos, vea [trabajar con esquemas](../../adapters-and-accelerators/accelerator-swift/working-with-schemas.md).</span><span class="sxs-lookup"><span data-stu-id="d6f90-129">For more information about data validation, see [Working with Schemas](../../adapters-and-accelerators/accelerator-swift/working-with-schemas.md).</span></span>  
  
## <a name="swift-network-and-usage-rule-validation-bre-validation"></a><span data-ttu-id="d6f90-130">Red sencilla y validación de la regla de uso (validación de BRE)</span><span class="sxs-lookup"><span data-stu-id="d6f90-130">SWIFT Network and Usage Rule Validation (BRE Validation)</span></span>  
 <span data-ttu-id="d6f90-131">A4SWIFT valida XML para los mensajes de SWIFT estructuralmente válidos para la exactitud de nivel de negocio con las directivas del motor de reglas de negocios (BRE).</span><span class="sxs-lookup"><span data-stu-id="d6f90-131">A4SWIFT validates XML for structurally valid SWIFT messages for business-level correctness against Business Rule Engine (BRE) policies.</span></span> <span data-ttu-id="d6f90-132">Estas directivas incluyen el cumplimiento de las reglas de red y el uso SWIFT y otras reglas complejas de campos cruzados definidos de acuerdo con el estándar de SWIFT.</span><span class="sxs-lookup"><span data-stu-id="d6f90-132">These policies include enforcement of SWIFT network and usage rules and other complex cross-field rules defined in accordance with the SWIFT standard.</span></span> <span data-ttu-id="d6f90-133">El Desensamblador SWIFT, invoca el BRE para realizar la validación de nivel de negocio.</span><span class="sxs-lookup"><span data-stu-id="d6f90-133">The SWIFT disassembler invokes the BRE to perform business-level validation.</span></span>  
  
 <span data-ttu-id="d6f90-134">El Desensamblador SWIFT registra en una colección de errores de los detalles de los errores encontrados durante la validación de BRE y continúa la validación de los datos restantes para recopilar errores de validación de BRE tantos como sea posible en el primer paso.</span><span class="sxs-lookup"><span data-stu-id="d6f90-134">The SWIFT disassembler records in an error collection the details of any errors encountered during BRE validation, and continues validating the remaining data to collect as many BRE validation errors as possible on the first pass.</span></span> <span data-ttu-id="d6f90-135">(Como la validación de XML, se garantiza la continuación de la validación de BRE).</span><span class="sxs-lookup"><span data-stu-id="d6f90-135">(Like XML validation, continuation of BRE validation is guaranteed.)</span></span>  
  
 <span data-ttu-id="d6f90-136">Para obtener más información acerca de la validación de regla de red y el uso SWIFT, consulte [trabajar con las directivas del BRE](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md).</span><span class="sxs-lookup"><span data-stu-id="d6f90-136">For more information about SWIFT network and usage rule validation, see [Working with BRE Policies](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md).</span></span>  
  
## <a name="validation-failures-and-message-marking"></a><span data-ttu-id="d6f90-137">Errores de validación y el marcado de mensaje</span><span class="sxs-lookup"><span data-stu-id="d6f90-137">Validation Failures and Message Marking</span></span>  
 <span data-ttu-id="d6f90-138">A4SWIFT recopila los errores de validación y detalles a través de cada fase de validación del mensaje: análisis estructural, la validación de XML y la validación de BRE.</span><span class="sxs-lookup"><span data-stu-id="d6f90-138">A4SWIFT collects validation errors and details through each stage of message validation: structural parsing, XML validation, and BRE validation.</span></span> <span data-ttu-id="d6f90-139">A4SWIFT recopila estos errores con una heurística "mejor esfuerzo" para recopilar tanta información de error acerca de un mensaje como sea posible.</span><span class="sxs-lookup"><span data-stu-id="d6f90-139">A4SWIFT collects these errors using a "best effort" heuristic to gather as much error information about a message as possible.</span></span> <span data-ttu-id="d6f90-140">Esta funcionalidad permite que un mensaje de error para que todos los errores capturados e informó de una sola vez, en lugar de tener varias iteraciones de envío, validar, producirá un error, corregir, volver a enviar.</span><span class="sxs-lookup"><span data-stu-id="d6f90-140">This functionality allows a failing message to have all errors caught and reported in one pass rather than having multiple iterations of submit, validate, fail, fix, resubmit.</span></span>  
  
 <span data-ttu-id="d6f90-141">Los mensajes que tienen al menos un error detectado durante cualquier fase de validación en la colección de errores se consideran no válidos y no se pudieron.</span><span class="sxs-lookup"><span data-stu-id="d6f90-141">Messages that have at least one error encountered during any validation stage in the error collection are considered invalid and are failed.</span></span> <span data-ttu-id="d6f90-142">A4SWIFT publica estos mensajes en la base de datos de cuadro de mensajes, pero se marcan con propiedades promocionadas para indicar que el mensaje de error al validar y recuentos de errores de informe para cada fase de validación.</span><span class="sxs-lookup"><span data-stu-id="d6f90-142">A4SWIFT publishes these messages to the MessageBox database, but they are marked with promoted properties to indicate that the message has failed validation and to report error counts for each validation stage.</span></span>  
  
 <span data-ttu-id="d6f90-143">Además de las propiedades promocionadas, A4SWIFT serializa la colección de errores en XML y asocia la colección como una "parte de error" del mensaje de varias partes.</span><span class="sxs-lookup"><span data-stu-id="d6f90-143">In addition to the promoted properties, A4SWIFT serializes the error collection into XML and attaches the collection as an "error part" of the multipart message.</span></span> <span data-ttu-id="d6f90-144">El mensaje final está formada por el mensajes con errores en la parte del cuerpo y XML de la colección de errores en la parte de error y se ha mejorado con A4SWIFT promocionadas propiedades que indican un estado de error.</span><span class="sxs-lookup"><span data-stu-id="d6f90-144">The final message consists of the failed message in the body part and error-collection XML in the error part, and is enhanced with A4SWIFT promoted properties that indicate a failure state.</span></span> <span data-ttu-id="d6f90-145">El Desensamblador SWIFT publica este mensaje de varias partes en la base de datos de cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d6f90-145">The SWIFT disassembler publishes this multipart message to the MessageBox database.</span></span>  
  
 <span data-ttu-id="d6f90-146">BizTalk puertos de envío u orquestaciones pueden recuperar mensajes con errores de la base de datos de cuadro de mensajes si se suscribe a las propiedades promocionadas de A4SWIFT especiales.</span><span class="sxs-lookup"><span data-stu-id="d6f90-146">BizTalk send ports or orchestrations can retrieve failed messages from the MessageBox database by subscribing to the special A4SWIFT promoted properties.</span></span> <span data-ttu-id="d6f90-147">Puede hacer que las suscripciones para recuperar todos los mensajes con errores o solo los mensajes con un determinado número de errores de fases de validación concretas.</span><span class="sxs-lookup"><span data-stu-id="d6f90-147">You can make subscriptions to retrieve all failed messages or only messages with a particular number of errors from specific validation stages.</span></span>  
  
 <span data-ttu-id="d6f90-148">Después de recupera un mensaje de error, puede enviarlo a una aplicación de informes, una aplicación de reparación o proceso o un repositorio de error o se puede descartar los cambios.</span><span class="sxs-lookup"><span data-stu-id="d6f90-148">After a failed message is retrieved, you can send it to a reporting application, a repair application or process, or a failure repository, or you can discard it.</span></span>  
  
 <span data-ttu-id="d6f90-149">Esta capacidad de suscribirse a los mensajes con errores (y diferenciar entre tipos de errores en la suscripción), junto con la recopilación de errores con datos completos de información XML asociado a cada mensaje con errores, constituye un marco de trabajo eficaces para el desarrollo sencillo de errores informes de aplicaciones, como proporcionadas por la reparación de mensajes y la nueva característica de envío que se instala el programa de instalación de A4SWIFT.</span><span class="sxs-lookup"><span data-stu-id="d6f90-149">This ability to subscribe to failed messages (and to differentiate between types of failures in the subscription), coupled with information-rich error collection XML attached to each failed message, forms a powerful framework for developing simple error reporting applications, such as provided by the message repair and new submission feature installed by A4SWIFT setup.</span></span>  
  
 <span data-ttu-id="d6f90-150">Para obtener más información acerca de errores de validación y el marcado de mensaje, consulte [trabajar con suscripciones de mensajes de error](../../adapters-and-accelerators/accelerator-swift/working-with-failed-message-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="d6f90-150">For more information about validation failures and message marking, see [Working with Failed Message Subscriptions](../../adapters-and-accelerators/accelerator-swift/working-with-failed-message-subscriptions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d6f90-151">Vea también</span><span class="sxs-lookup"><span data-stu-id="d6f90-151">See Also</span></span>  
 [<span data-ttu-id="d6f90-152">Acelerador de BizTalk para SWIFT en tiempo de ejecución</span><span class="sxs-lookup"><span data-stu-id="d6f90-152">BizTalk Accelerator for SWIFT Runtime</span></span>](../../adapters-and-accelerators/accelerator-swift/biztalk-accelerator-for-swift-runtime.md)