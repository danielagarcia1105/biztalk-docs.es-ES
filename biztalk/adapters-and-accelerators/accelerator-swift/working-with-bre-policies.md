---
title: Trabajar con las directivas BRE | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- BRE policies, about BRE policies
- BRE policies
ms.assetid: 4470f2b3-6891-46d7-9ba1-848f90d0767d
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bdb05d6f11d0d4d4f4ef5fd990d05c51b5e0df64
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36968957"
---
# <a name="working-with-bre-policies"></a><span data-ttu-id="d0482-102">Trabajar con las directivas BRE</span><span class="sxs-lookup"><span data-stu-id="d0482-102">Working with BRE Policies</span></span>
<span data-ttu-id="d0482-103">Microsoft [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] valida SWIFT directivas mensajes mediante el motor de reglas de negocios (BRE), como se describe en el *Guía de referencia de SWIFT*.</span><span class="sxs-lookup"><span data-stu-id="d0482-103">Microsoft [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] validates SWIFT messages by using Business Rule Engine (BRE) polices, as described in the *SWIFT Reference Guide*.</span></span> <span data-ttu-id="d0482-104">Estas directivas incluyen lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d0482-104">These policies include the following:</span></span>  

- <span data-ttu-id="d0482-105">Formato</span><span class="sxs-lookup"><span data-stu-id="d0482-105">Formatting</span></span>  

- <span data-ttu-id="d0482-106">Intervalo de valores</span><span class="sxs-lookup"><span data-stu-id="d0482-106">Value range</span></span>  

- <span data-ttu-id="d0482-107">Entradas de la lista válida</span><span class="sxs-lookup"><span data-stu-id="d0482-107">Valid list entries</span></span>  

- <span data-ttu-id="d0482-108">Reglas de red con los códigos de error correspondiente</span><span class="sxs-lookup"><span data-stu-id="d0482-108">Network rules with corresponding error codes</span></span>  

- <span data-ttu-id="d0482-109">Reglas de uso que se pueden validar en el contenido del mensaje</span><span class="sxs-lookup"><span data-stu-id="d0482-109">Usage rules that can be validated from the message content</span></span>  

  <span data-ttu-id="d0482-110">Estas directivas no incluyen prácticas generales que no son dependientes en el contenido del mensaje o las validaciones entre mensajes.</span><span class="sxs-lookup"><span data-stu-id="d0482-110">These policies do not include general practices that are not dependent on the message content, or any cross-message validations.</span></span>  

  <span data-ttu-id="d0482-111">El esquema XSD para el mensaje (y encabezado y finalizador) implementa opcionalidad básicas del campo y la cardinalidad, mientras que el esquema de mensaje que implementa el esquema de SWIFT Base Types.xsd de referencias de formato.</span><span class="sxs-lookup"><span data-stu-id="d0482-111">The XSD schema for the message (and header and trailer) implements basic field optionality and cardinality, while the message schema that implements formatting references the SWIFT Base Types.xsd schema.</span></span> <span data-ttu-id="d0482-112">Dos directivas específicas para cada tipo de mensaje definen las reglas asociadas con cada mensaje:</span><span class="sxs-lookup"><span data-stu-id="d0482-112">Two specific policies for each message type define the rules associated with each message:</span></span>  

- <span data-ttu-id="d0482-113">Directiva maestra (MT*xxx*_Master_Policy.xml)</span><span class="sxs-lookup"><span data-stu-id="d0482-113">Master policy (MT*xxx*_Master_Policy.xml)</span></span>  

- <span data-ttu-id="d0482-114">Directiva de validación (MT*xxx*_Validation_Policy.xml)</span><span class="sxs-lookup"><span data-stu-id="d0482-114">Validation policy (MT*xxx*_Validation_Policy.xml)</span></span>  

  <span data-ttu-id="d0482-115">La directiva principal para cada tipo de mensaje invoca las directivas específicas que se aplican a ese tipo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="d0482-115">The master policy for each message type invokes the specific policies that apply to that message type.</span></span> <span data-ttu-id="d0482-116">Estas directivas específicas incluyen especial campo comprueba las funciones comunes implementan reglas de red y reglas de uso.</span><span class="sxs-lookup"><span data-stu-id="d0482-116">These specific policies include special field checks that common functions implement, network rules, and usage rules.</span></span> <span data-ttu-id="d0482-117">La directiva principal para el mensaje es la primera directiva de ejecución para ese mensaje.</span><span class="sxs-lookup"><span data-stu-id="d0482-117">The master policy for the message is the first policy run for that message.</span></span> <span data-ttu-id="d0482-118">La lista de directivas incluye la directiva de validación para el tipo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="d0482-118">The list of policies includes the validation policy for the message type.</span></span> <span data-ttu-id="d0482-119">Cada directiva maestra tiene la construcción "si escribe este mensaje, a continuación, ejecutar la lista de directivas".</span><span class="sxs-lookup"><span data-stu-id="d0482-119">Each master policy has the construct "if this message type, then run the list of policies".</span></span>  

  <span data-ttu-id="d0482-120">La directiva de validación para cada tipo de mensaje enumera las comprobaciones de campo único que implementan otras reglas externos, como los códigos de campo, o usa un vocabulario específico para el campo.</span><span class="sxs-lookup"><span data-stu-id="d0482-120">The validation policy for each message type lists the single-field checks that other external rules implement, such as field codes, or uses a specific vocabulary for the field.</span></span> <span data-ttu-id="d0482-121">Estas reglas individuales son generalmente más comunes en dos o más mensajes, porque son específicos de los campos.</span><span class="sxs-lookup"><span data-stu-id="d0482-121">These individual rules are generally common across two or more messages, because they are field-specific.</span></span> <span data-ttu-id="d0482-122">El A4SWIFT_Codelists en el vocabulario BRE, código, de la programación no proporcionan los valores de permitido para el campo.</span><span class="sxs-lookup"><span data-stu-id="d0482-122">The A4SWIFT_Codelists in the BRE vocabulary, not programming code, provide the allowed field values.</span></span>  

  <span data-ttu-id="d0482-123">El *Guía de referencia de SWIFT* implementa cada una de las reglas de red de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="d0482-123">The *SWIFT Reference Guide* implements each of the network rules independently.</span></span> <span data-ttu-id="d0482-124">Cada regla de red trata el conjunto de tipos de mensaje que el *Guía de referencia de SWIFT* define.</span><span class="sxs-lookup"><span data-stu-id="d0482-124">Each network rule addresses the set of message types that the *SWIFT Reference Guide* defines.</span></span>  

  <span data-ttu-id="d0482-125">Instalación de A4SWIFT no instala las reglas cuando instala A4SWIFT.</span><span class="sxs-lookup"><span data-stu-id="d0482-125">A4SWIFT Setup does not install rules when it installs A4SWIFT.</span></span> <span data-ttu-id="d0482-126">Después de seleccionar los esquemas y generar e implementar un ensamblado, puede usar la utilidad de implementación de BRE para seleccionar e implementar las reglas adecuadas para el conjunto de esquemas.</span><span class="sxs-lookup"><span data-stu-id="d0482-126">After you select the schemas, and build and deploy an assembly, you can use the BRE Deployment Utility to select and deploy the appropriate rules for the schema set.</span></span> <span data-ttu-id="d0482-127">Para implementar las reglas para los mensajes seleccionados, ejecute la utilidad y seleccione los ensamblados correspondientes.</span><span class="sxs-lookup"><span data-stu-id="d0482-127">To deploy the rules for the selected messages, run the utility and select the relevant assemblies.</span></span> <span data-ttu-id="d0482-128">La herramienta selecciona las correspondientes directivas maestras, las directivas de validación y cualquier red que se hace referencia u otras reglas.</span><span class="sxs-lookup"><span data-stu-id="d0482-128">The tool selects the corresponding master policies, validation policies, and any referenced network or other rules.</span></span>  

  <span data-ttu-id="d0482-129">A4SWIFT asocia los dos tipos de vocabularios con reglas de A4SWIFT.</span><span class="sxs-lookup"><span data-stu-id="d0482-129">A4SWIFT associates two types of vocabularies with A4SWIFT rules.</span></span> <span data-ttu-id="d0482-130">El primer vocabulario es A4SWIFT_Codelist, que contiene los distintos valores de la lista de código.</span><span class="sxs-lookup"><span data-stu-id="d0482-130">The first vocabulary is A4SWIFT_Codelist, which contains the various code-list values.</span></span> <span data-ttu-id="d0482-131">El segundo vocabulario es A4SWIFT_Functions.</span><span class="sxs-lookup"><span data-stu-id="d0482-131">The second vocabulary is A4SWIFT_Functions.</span></span> <span data-ttu-id="d0482-132">Estos los vocabularios son [!INCLUDE[btsDotNet](../../includes/btsdotnet-md.md)] clases para las validaciones de lógica y los cálculos.</span><span class="sxs-lookup"><span data-stu-id="d0482-132">These vocabularies are [!INCLUDE[btsDotNet](../../includes/btsdotnet-md.md)] classes for logic validations and calculations.</span></span>  

  <span data-ttu-id="d0482-133">Puede invocar las reglas en una canalización de recepción, el Desensamblador de A4SWIFT estableciendo el parámetro de configuración de validación del BRE en true.</span><span class="sxs-lookup"><span data-stu-id="d0482-133">You can invoke the rules by the A4SWIFT disassembler in a receive pipeline, by setting the BRE validation configuration parameter to true.</span></span> <span data-ttu-id="d0482-134">También puede invocar las reglas de una orquestación.</span><span class="sxs-lookup"><span data-stu-id="d0482-134">You can also invoke the rules from an orchestration.</span></span> <span data-ttu-id="d0482-135">No se puede invocar las reglas por el ensamblador de A4SWIFT (ASM).</span><span class="sxs-lookup"><span data-stu-id="d0482-135">You cannot invoke the rules by the A4SWIFT assembler (ASM).</span></span> <span data-ttu-id="d0482-136">Debe utilizar una orquestación o canalización de recepción para validar la instancia con respecto al esquema e invocar las reglas.</span><span class="sxs-lookup"><span data-stu-id="d0482-136">You must use an orchestration or receive pipeline to validate the instance against the schema and invoke the rules.</span></span>  

  <span data-ttu-id="d0482-137">Si se produce un error en un mensaje de validación del esquema o una regla de negocios, A4SWIFT prepara una colección de errores que contiene una descripción de los errores detectados y una indicación de que el campo de error o la posición en el mensaje donde se produjo el error.</span><span class="sxs-lookup"><span data-stu-id="d0482-137">If a message fails either schema validation or a business rule, A4SWIFT prepares an error collection that contains a description of the errors found and an indication of the field in error or the position in the message where the error occurred.</span></span> <span data-ttu-id="d0482-138">Para obtener más información, consulte [trabajar con suscripciones de mensajes de error](../../adapters-and-accelerators/accelerator-swift/working-with-failed-message-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="d0482-138">For more information, see [Working with Failed Message Subscriptions](../../adapters-and-accelerators/accelerator-swift/working-with-failed-message-subscriptions.md).</span></span>  

  <span data-ttu-id="d0482-139">Puede agregar reglas adicionales para el conjunto de A4SWIFT.</span><span class="sxs-lookup"><span data-stu-id="d0482-139">You can add additional rules to the set that A4SWIFT provides.</span></span> <span data-ttu-id="d0482-140">Por ejemplo, si adopta una regla de grupo de prácticas de mercado que afecta a un nuevo conjunto de mensajes, puede implementar una nueva versión de la directiva principal que incluye uno o más validaciones nuevo, según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="d0482-140">For example, if you adopt a market practice group rule that affects a new set of messages, you can implement a new version of the master policy that includes one or more new validations, as required.</span></span> <span data-ttu-id="d0482-141">De forma similar, si se imponen comprobaciones adicionales de campo único, puede agregar estas comprobaciones a una nueva versión de la directiva de validación de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d0482-141">Similarly, if you impose additional single-field checks, you can add these checks to a new version of the message validation policy.</span></span> <span data-ttu-id="d0482-142">Puede implementar la validación nuevo como una nueva regla o como una función de vocabulario.</span><span class="sxs-lookup"><span data-stu-id="d0482-142">You can implement the new validation as a new rule or as a vocabulary function.</span></span>  

  <span data-ttu-id="d0482-143">Esta sección contiene:</span><span class="sxs-lookup"><span data-stu-id="d0482-143">This section contains:</span></span>  

- [<span data-ttu-id="d0482-144">Habilitación de la validación de códigos de identificación bancaria</span><span class="sxs-lookup"><span data-stu-id="d0482-144">Enabling Validation of Bank Identifier Codes</span></span>](../../adapters-and-accelerators/accelerator-swift/enabling-validation-of-bank-identifier-codes.md)  

- [<span data-ttu-id="d0482-145">Administración de la tabla Bicplus en la base de datos de A4SWIFT</span><span class="sxs-lookup"><span data-stu-id="d0482-145">Managing the Bicplus Table in the A4SWIFT Database</span></span>](../../adapters-and-accelerators/accelerator-swift/managing-the-bicplus-table-in-the-a4swift-database.md)  

- [<span data-ttu-id="d0482-146">Admitir ceros a la izquierda en validaciones de campos de cantidad</span><span class="sxs-lookup"><span data-stu-id="d0482-146">Supporting Leading Zeros in Amount Field Validations</span></span>](../../adapters-and-accelerators/accelerator-swift/supporting-leading-zeros-in-amount-field-validations.md)  

- [<span data-ttu-id="d0482-147">Configuración de desplazamientos para la validación de cantidades</span><span class="sxs-lookup"><span data-stu-id="d0482-147">Setting Offsets for Amount Validation</span></span>](../../adapters-and-accelerators/accelerator-swift/setting-offsets-for-amount-validation.md)  

- [<span data-ttu-id="d0482-148">Eliminación de la validación de reglas de uso</span><span class="sxs-lookup"><span data-stu-id="d0482-148">Removing Usage Rule Validation</span></span>](../../adapters-and-accelerators/accelerator-swift/removing-usage-rule-validation.md)
