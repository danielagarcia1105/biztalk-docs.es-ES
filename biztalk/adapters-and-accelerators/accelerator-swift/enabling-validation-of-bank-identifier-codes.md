---
title: Habilitar la validación de códigos de identificación bancarios | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Bank Identifier Code (BIC), enabling
ms.assetid: d268a892-f304-44cb-b590-28ef359c8d99
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4fe33576bb23ff40fd80f85281c38a6f5a0ec930
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2018
ms.locfileid: "36974173"
---
# <a name="enabling-validation-of-bank-identifier-codes"></a><span data-ttu-id="30c82-102">Habilitar la validación de códigos de identificación bancaria</span><span class="sxs-lookup"><span data-stu-id="30c82-102">Enabling Validation of Bank Identifier Codes</span></span>
<span data-ttu-id="30c82-103">Microsoft [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] esquemas asegurarse de que los códigos de identificación bancaria (BICs) especificado en el documento de intercambio SWIFT se ajustan al formato de datos definido por el SWIFT BIC.</span><span class="sxs-lookup"><span data-stu-id="30c82-103">Microsoft [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] schemas ensure that the Bank Identifier Codes (BICs) specified in the SWIFT interchange document conform to the SWIFT-defined BIC data format.</span></span> <span data-ttu-id="30c82-104">A4SWIFT también admite la validación de la BICs frente a una lista BIC especificado por el cliente en una base de datos.</span><span class="sxs-lookup"><span data-stu-id="30c82-104">A4SWIFT also supports validating the BICs against a customer-specified BIC list in a database.</span></span>  

 <span data-ttu-id="30c82-105">Puede realizar esta validación si se ha habilitado la validación del BRE y, a continuación, habilitó la validación de BIC.</span><span class="sxs-lookup"><span data-stu-id="30c82-105">You can perform this validation if you have enabled BRE validation and then enabled BIC validation.</span></span>  

 <span data-ttu-id="30c82-106">De forma predeterminada, el programa de instalación de A4SWIFT deshabilita la validación de BRE.</span><span class="sxs-lookup"><span data-stu-id="30c82-106">By default, A4SWIFT Setup disables BRE validation.</span></span> <span data-ttu-id="30c82-107">Para habilitarla, debe establecer el parámetro de configuración de validación del BRE en true para una canalización de recepción que usa el Desensamblador de A4SWIFT.</span><span class="sxs-lookup"><span data-stu-id="30c82-107">To enable it, you must set the BRE validation configuration parameter to true for a receive pipeline that uses the A4SWIFT disassembler.</span></span> <span data-ttu-id="30c82-108">También debe ejecutar la utilidad de implementación de BRE para implementar la directiva principal y la directiva de validación específica en el mensaje que se va a validar (MT*xxx*_Master_policy.xml y MT*xxx*_Validation_Policy.xml).</span><span class="sxs-lookup"><span data-stu-id="30c82-108">You must also run the BRE Deployment Utility to deploy the master policy and validation policy specific to the message to be validated (MT*xxx*_Master_policy.xml and MT*xxx*_Validation_Policy.xml).</span></span> <span data-ttu-id="30c82-109">Para obtener más información, consulte [trabajar con las directivas del BRE](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md) y [implementar reglas de BRE](../../adapters-and-accelerators/accelerator-swift/deploying-bre-rules.md).</span><span class="sxs-lookup"><span data-stu-id="30c82-109">For more information, see [Working with BRE Policies](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md) and [Deploying BRE Rules](../../adapters-and-accelerators/accelerator-swift/deploying-bre-rules.md).</span></span>  

 <span data-ttu-id="30c82-110">Después de haber habilitado la validación del BRE, debe usar publicar e implementar ambas directivas de validación de BIC (BIC_Master_Policy.xml y BIC_Validation_Policy.xml) mediante el Asistente para la implementación del motor de reglas.</span><span class="sxs-lookup"><span data-stu-id="30c82-110">After you have enabled BRE validation, you must use publish and deploy both BIC validation policies (BIC_Master_Policy.xml and BIC_Validation_Policy.xml) using the Rules Engine Deployment Wizard.</span></span> <span data-ttu-id="30c82-111">Antes de hacerlo, debe hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="30c82-111">Before doing so, you must do the following:</span></span>  

- <span data-ttu-id="30c82-112">Rellenar la base de datos con valores BIC de SWIFT.</span><span class="sxs-lookup"><span data-stu-id="30c82-112">Populate the database with BIC values from SWIFT.</span></span> <span data-ttu-id="30c82-113">Puede usar la tabla Bicplus en la base de datos de A4SWIFT, que se instala el programa de instalación de A4SWIFT, o puede usar su propia base de datos personalizada.</span><span class="sxs-lookup"><span data-stu-id="30c82-113">You can use the Bicplus table in the A4SWIFT database, which is installed by A4SWIFT Setup, or you can use your own custom database.</span></span> <span data-ttu-id="30c82-114">Para obtener más información, consulte [administración de la tabla Bicplus en la base de datos de A4SWIFT](../../adapters-and-accelerators/accelerator-swift/managing-the-bicplus-table-in-the-a4swift-database.md).</span><span class="sxs-lookup"><span data-stu-id="30c82-114">For more information, see [Managing the Bicplus Table in the A4SWIFT Database](../../adapters-and-accelerators/accelerator-swift/managing-the-bicplus-table-in-the-a4swift-database.md).</span></span>  

- <span data-ttu-id="30c82-115">Establezca la base de datos BIC y habilitar la validación de BIC mediante la personalización de la directiva de BIC Master.</span><span class="sxs-lookup"><span data-stu-id="30c82-115">Set the BIC database and enable BIC validation by customizing the BIC Master Policy.</span></span> <span data-ttu-id="30c82-116">Vea el siguiente procedimiento.</span><span class="sxs-lookup"><span data-stu-id="30c82-116">See the procedure below.</span></span>  

  <span data-ttu-id="30c82-117">Para mejorar el rendimiento, no debería implementar las directivas de validación de BIC si no se requiere validación de BIC.</span><span class="sxs-lookup"><span data-stu-id="30c82-117">For better performance, you should not deploy the BIC validation policies if BIC validation is not required.</span></span>  

> [!NOTE]
>  <span data-ttu-id="30c82-118">Puede publicar e implementar la directiva de validación de BIC solo si ha publicado los vocabularios A4SWIFT_Codelist y A4SWIFT_Functions.</span><span class="sxs-lookup"><span data-stu-id="30c82-118">You can publish and deploy the BIC validation policy only if you have published the A4SWIFT_Codelist and A4SWIFT_Functions vocabularies.</span></span> <span data-ttu-id="30c82-119">Publicar estos vocabularios mediante la ejecución de la utilidad de implementación de BRE en el ensamblado SWIFTSchemas.</span><span class="sxs-lookup"><span data-stu-id="30c82-119">Publish these vocabularies by running the BRE Deployment Utility on the SWIFTSchemas assembly.</span></span> <span data-ttu-id="30c82-120">Para obtener más información, consulte [lección 1: implementación de las reglas de negocios relacionados](../../adapters-and-accelerators/accelerator-swift/lesson-1-deploying-the-related-business-rules.md).</span><span class="sxs-lookup"><span data-stu-id="30c82-120">For more information, see [Lesson 1: Deploying the Related Business Rules](../../adapters-and-accelerators/accelerator-swift/lesson-1-deploying-the-related-business-rules.md).</span></span>  

### <a name="to-customize-the-bic-master-policy"></a><span data-ttu-id="30c82-121">Para personalizar la directiva de BIC Master</span><span class="sxs-lookup"><span data-stu-id="30c82-121">To customize the BIC Master Policy</span></span>  

1. <span data-ttu-id="30c82-122">Abra un editor XML (como el Bloc de notas) y vaya a  **< *unidad*programa de programa\ Microsoft BizTalk Accelerator para SWIFT \<versión\> mensajes de mensaje Pack\SWIFT detención\ A4SWIFT SRG\<versión\>\Base directivas**.</span><span class="sxs-lookup"><span data-stu-id="30c82-122">Open an XML editor (such as Notepad), and browse to **<*drive*Program Files\ Microsoft BizTalk Accelerator for SWIFT \<version\> Message Pack\SWIFT Messages\A4SWIFT-SRG\<version\>\Base Policies**.</span></span>  

2. <span data-ttu-id="30c82-123">Abra **BIC_Master_Policy.xml**.</span><span class="sxs-lookup"><span data-stu-id="30c82-123">Open **BIC_Master_Policy.xml**.</span></span> <span data-ttu-id="30c82-124">Reemplace las siguientes cadenas existentes con nuevos valores.</span><span class="sxs-lookup"><span data-stu-id="30c82-124">Replace the following existing strings with new values.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="30c82-125">Debe especificar valores para la tabla Bicplus en la base de datos de A4SWIFT o su propia base de datos personalizada.</span><span class="sxs-lookup"><span data-stu-id="30c82-125">You must enter values for either the Bicplus table in the A4SWIFT database or your own custom database.</span></span> <span data-ttu-id="30c82-126">La base de datos de A4SWIFT no es el valor predeterminado en BIC_Master_Policy.xml.</span><span class="sxs-lookup"><span data-stu-id="30c82-126">The A4SWIFT database is not the default in BIC_Master_Policy.xml.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="30c82-127">Las siguientes cadenas no deben incluirse entre comillas dobles.</span><span class="sxs-lookup"><span data-stu-id="30c82-127">The following strings must not be contained within double quotes.</span></span>  

   |            <span data-ttu-id="30c82-128">Cadena existente</span><span class="sxs-lookup"><span data-stu-id="30c82-128">Existing string</span></span>            |                                                              <span data-ttu-id="30c82-129">Reemplazar con</span><span class="sxs-lookup"><span data-stu-id="30c82-129">Replace with</span></span>                                                              |
   |---------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|
   |      <span data-ttu-id="30c82-130">**ESPECIFIQUE EL NOMBRE DE SQL SERVER**</span><span class="sxs-lookup"><span data-stu-id="30c82-130">**SPECIFY SQL SERVER NAME**</span></span>      | <span data-ttu-id="30c82-131">El nombre de la [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] que contiene la base de datos que contiene el código BIC.</span><span class="sxs-lookup"><span data-stu-id="30c82-131">The name of the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] containing the database holding the BIC.</span></span> |
   |     <span data-ttu-id="30c82-132">**ESPECIFIQUE EL NOMBRE DE LA BASE DE DATOS DE BIC**</span><span class="sxs-lookup"><span data-stu-id="30c82-132">**SPECIFY BIC DATABASE NAME**</span></span>     |                                         <span data-ttu-id="30c82-133">El nombre de la base de datos que contiene la tabla BIC.</span><span class="sxs-lookup"><span data-stu-id="30c82-133">The name of the database that contains the BIC table.</span></span>                                          |
   | <span data-ttu-id="30c82-134">**ESPECIFIQUE EL VALOR DE LA SEGURIDAD INTEGRADA**</span><span class="sxs-lookup"><span data-stu-id="30c82-134">**SPECIFY INTEGRATED SECURITY VALUE**</span></span> |                                                                <span data-ttu-id="30c82-135">**SSPI**</span><span class="sxs-lookup"><span data-stu-id="30c82-135">**SSPI**</span></span>                                                                |


3. <span data-ttu-id="30c82-136">Guarde la Directiva maestra modificada.</span><span class="sxs-lookup"><span data-stu-id="30c82-136">Save the modified Master Policy.</span></span>  

4. <span data-ttu-id="30c82-137">Haga clic en **iniciar**, apunte a **todos los programas**, apunte a **Microsoft**[!INCLUDE[btsBizTalkServer2006r3ui](../../includes/btsbiztalkserver2006r3ui-md.md)]y, a continuación, haga clic en **Asistente de implementación de motor de Business reglas**.</span><span class="sxs-lookup"><span data-stu-id="30c82-137">Click **Start**, point to **All Programs**, point to **Microsoft**[!INCLUDE[btsBizTalkServer2006r3ui](../../includes/btsbiztalkserver2006r3ui-md.md)], and then click **Business Rules Engine Deployment Wizard**.</span></span>  

5. <span data-ttu-id="30c82-138">En la página de bienvenida, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-138">On the Welcome page, click **Next**.</span></span>  

6. <span data-ttu-id="30c82-139">En la página de la tarea de implementación, haga clic en **importar y publicar la directiva o vocabulario a la base de datos desde un archivo**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-139">On the Deployment Task page, click **Import and publish Policy/Vocabulary to database from file**, and then click **Next**.</span></span>  

7. <span data-ttu-id="30c82-140">En la página Directiva Store, en **nombre de SQL Server**, seleccione el [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] que contiene las bases de datos de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="30c82-140">On the Policy Store page, in **SQL Server Name**, select the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] that contains your BizTalk databases.</span></span> <span data-ttu-id="30c82-141">En **base de datos de configuración en el servidor seleccionado**, seleccione **BizTalkRuleEngineDb**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-141">In **Configuration Database on selected server**, select **BizTalkRuleEngineDb**, and then click **Next**.</span></span>  

8. <span data-ttu-id="30c82-142">En la página de archivo de directiva o vocabulario del motor de reglas importación, vaya a  **< *unidad*\Program Files\ Acelerador de Microsoft BizTalk para SWIFT \<versión\> Pack\SWIFT de mensaje Messages\A4SWIFT SRG\<versión\>\Base directivas**, haga clic en **BIC_Master_Policy.xml**, haga clic en **abierto**y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-142">In the Import Rules Engine Policy/Vocabulary file page, browse to **<*drive*\Program Files\ Microsoft BizTalk Accelerator for SWIFT \<version\> Message Pack\SWIFT Messages\A4SWIFT-SRG\<version\>\Base Policies**, click **BIC_Master_Policy.xml**, click **Open**, and then click **Next**.</span></span>  

9. <span data-ttu-id="30c82-143">En la página Listo, compruebe los datos y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-143">On the Ready page, verify the data, and then click **Next**.</span></span>  

10. <span data-ttu-id="30c82-144">En la página Importando directiva o vocabulario, compruebe que el comando se realizó correctamente y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-144">On the Importing Policy/Vocabulary page, verify that the command succeeded, and then click **Next**.</span></span>  

11. <span data-ttu-id="30c82-145">En la página Finalización la página del Asistente para la implementación de motor de reglas, haga clic en **vuelva a ejecutar este asistente**y, a continuación, haga clic en **finalizar**.</span><span class="sxs-lookup"><span data-stu-id="30c82-145">On the Completing the Rules Engine Deployment Wizard page, click **Run this wizard again**, and then click **Finish**.</span></span>  

12. <span data-ttu-id="30c82-146">En la página de bienvenida, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-146">On the Welcome page, click **Next**.</span></span>  

13. <span data-ttu-id="30c82-147">En la página de la tarea de implementación, haga clic en **implementar Directiva**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-147">On the Deployment Task page, click **Deploy Policy**, and then click **Next**.</span></span>  

14. <span data-ttu-id="30c82-148">En el **directiva Store** página **nombre de SQL Server**, seleccione el [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] que contiene las bases de datos de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="30c82-148">On the **Policy Store** page, in **SQL Server Name**, select the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] that contains your BizTalk databases.</span></span> <span data-ttu-id="30c82-149">En **base de datos de configuración en el servidor seleccionado**, seleccione **BizTalkRuleEngineDb**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-149">In **Configuration Database on selected server**, select **BizTalkRuleEngineDb**, and then click **Next**.</span></span>  

15. <span data-ttu-id="30c82-150">En el **implementar Directiva** página, seleccione **BIC_Master_Policy.1.0**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-150">On the **Deploy Policy** page, select **BIC_Master_Policy.1.0**, and then click **Next**.</span></span>  

16. <span data-ttu-id="30c82-151">En el **listo** página, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-151">On the **Ready** page, click **Next**.</span></span>  

17. <span data-ttu-id="30c82-152">En la página implementar la directiva, si la implementación se realizó correctamente, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="30c82-152">On the Deploying Policy page, if the deployment has succeeded, click **Next**.</span></span> <span data-ttu-id="30c82-153">Haga clic en **vuelva a ejecutar este asistente**y, a continuación, haga clic en **finalizar**.</span><span class="sxs-lookup"><span data-stu-id="30c82-153">Click **Run this wizard again**, and then click **Finish**.</span></span>  

18. <span data-ttu-id="30c82-154">Repita los pasos 5-17 para **BIC_Validation_Policy.xml**, escribiendo **BIC_Validation_Policy** en lugar de **BIC_Master_Policy**.</span><span class="sxs-lookup"><span data-stu-id="30c82-154">Repeat steps 5 through 17 for **BIC_Validation_Policy.xml**, entering **BIC_Validation_Policy** instead of **BIC_Master_Policy**.</span></span>  

19. <span data-ttu-id="30c82-155">El Asistente para la implementación del motor de reglas de salida.</span><span class="sxs-lookup"><span data-stu-id="30c82-155">Exit the Rules Engine Deployment Wizard.</span></span>  

20. <span data-ttu-id="30c82-156">Haga clic en **iniciar**, apunte a **todos los programas**, apunte a **Microsoft**[!INCLUDE[btsBizTalkServer2006r3ui](../../includes/btsbiztalkserver2006r3ui-md.md)]y, a continuación, haga clic en **compositor**.</span><span class="sxs-lookup"><span data-stu-id="30c82-156">Click **Start**, point to **All Programs**, point to **Microsoft**[!INCLUDE[btsBizTalkServer2006r3ui](../../includes/btsbiztalkserver2006r3ui-md.md)], and then click **Business Rule Composer**.</span></span> <span data-ttu-id="30c82-157">Compruebe que la **directivas** lista incluye **BIC_Master_Policy** y **BIC_Validation_Policy** en **directivas**.</span><span class="sxs-lookup"><span data-stu-id="30c82-157">Verify that the **Policies** list includes **BIC_Master_Policy** and **BIC_Validation_Policy** under **Policies**.</span></span>  

21. <span data-ttu-id="30c82-158">Expanda **versión 1.0 - implementada** en **BIC_Master_Policy**y, a continuación, haga clic en **BIC_Master_Rule**.</span><span class="sxs-lookup"><span data-stu-id="30c82-158">Expand **Version 1.0 - Deployed** under **BIC_Master_Policy**, and then click **BIC_Master_Rule**.</span></span>  

22. <span data-ttu-id="30c82-159">En el panel entonces, compruebe que las propiedades de conexión de SQL que aparecen son correctas.</span><span class="sxs-lookup"><span data-stu-id="30c82-159">In the THEN pane, verify that the SQL Connection properties listed are correct.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="30c82-160">A4SWIFT no recoge los cambios realizados en la directiva de validación de BIC principal hasta que reinicie el servicio de BizTalk que aloja la canalización de recepción que actualmente está configurada para usar el Desensamblador de SWIFT.</span><span class="sxs-lookup"><span data-stu-id="30c82-160">A4SWIFT does not pick up changes made to the master BIC validation policy until you restart the BizTalk service that hosts the receive pipeline that is currently configured to use the SWIFT disassembler.</span></span> <span data-ttu-id="30c82-161">A4SWIFT valida todos los documentos que pasan a través de esta canalización para los valores BIC que figuran en la columna BIC especificada en la directiva principal BIC.</span><span class="sxs-lookup"><span data-stu-id="30c82-161">A4SWIFT validates all documents that pass through this pipeline for the BIC values that are contained in the BIC column specified in the BIC master policy.</span></span> <span data-ttu-id="30c82-162">La cuenta de usuario utilizada para iniciar este servicio de BizTalk (BTSNTSvc.exe) debe tener acceso a la tabla y la base de datos BIC.</span><span class="sxs-lookup"><span data-stu-id="30c82-162">The user account used to start this BizTalk service (BTSNTSvc.exe) must have access to the BIC database and table.</span></span> <span data-ttu-id="30c82-163">Para mayor seguridad, se recomienda que conceda acceso de solo lectura a la tabla y la base de datos BIC.</span><span class="sxs-lookup"><span data-stu-id="30c82-163">For better security, it is recommended that you grant read-only access to the BIC database and table.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="30c82-164">Si usa reparación de mensajes y nuevo envío, debe reiniciarse el servicio de publicación World Wide Web (mediante la ejecución iisreset.exe) para que la validación de BIC funcione desde InfoPath.</span><span class="sxs-lookup"><span data-stu-id="30c82-164">If you are using Message Repair and New Submission, the World Wide Web Publishing service must be restarted (by running iisreset.exe) for BIC validation to work from InfoPath.</span></span>  

## <a name="see-also"></a><span data-ttu-id="30c82-165">Vea también</span><span class="sxs-lookup"><span data-stu-id="30c82-165">See Also</span></span>  
 <span data-ttu-id="30c82-166">[Trabajar con las directivas BRE](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md) </span><span class="sxs-lookup"><span data-stu-id="30c82-166">[Working with BRE Policies](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md) </span></span>  
 [<span data-ttu-id="30c82-167">Administración de la tabla Bicplus en la base de datos de A4SWIFT</span><span class="sxs-lookup"><span data-stu-id="30c82-167">Managing the Bicplus Table in the A4SWIFT Database</span></span>](../../adapters-and-accelerators/accelerator-swift/managing-the-bicplus-table-in-the-a4swift-database.md)